/**
 * React v0.9.0
 */

!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.React=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule AutoFocusMixin
 * @typechecks static-only
 */

"use strict";

var AutoFocusMixin = {
  componentDidMount: function() {
    if (this.props.autoFocus) {
      this.getDOMNode().focus();
    }
  }
};

module.exports = AutoFocusMixin;

},{}],2:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule CSSProperty
 */

"use strict";

/**
 * CSS properties which accept numbers but are not in units of "px".
 */
var isUnitlessNumber = {
  columnCount: true,
  fillOpacity: true,
  flex: true,
  flexGrow: true,
  flexShrink: true,
  fontWeight: true,
  lineClamp: true,
  lineHeight: true,
  opacity: true,
  order: true,
  orphans: true,
  widows: true,
  zIndex: true,
  zoom: true
};

/**
 * @param {string} prefix vendor-specific prefix, eg: Webkit
 * @param {string} key style name, eg: transitionDuration
 * @return {string} style name prefixed with `prefix`, properly camelCased, eg:
 * WebkitTransitionDuration
 */
function prefixKey(prefix, key) {
  return prefix + key.charAt(0).toUpperCase() + key.substring(1);
}

/**
 * Support style names that may come passed in prefixed by adding permutations
 * of vendor prefixes.
 */
var prefixes = ['Webkit', 'ms', 'Moz', 'O'];

// Using Object.keys here, or else the vanilla for-in loop makes IE8 go into an
// infinite loop, because it iterates over the newly added props too.
Object.keys(isUnitlessNumber).forEach(function(prop) {
  prefixes.forEach(function(prefix) {
    isUnitlessNumber[prefixKey(prefix, prop)] = isUnitlessNumber[prop];
  });
});

/**
 * Most style properties can be unset by doing .style[prop] = '' but IE8
 * doesn't like doing that with shorthand properties so for the properties that
 * IE8 breaks on, which are listed here, we instead unset each of the
 * individual properties. See http://bugs.jquery.com/ticket/12385.
 * The 4-value 'clock' properties like margin, padding, border-width seem to
 * behave without any problems. Curiously, list-style works too without any
 * special prodding.
 */
var shorthandPropertyExpansions = {
  background: {
    backgroundImage: true,
    backgroundPosition: true,
    backgroundRepeat: true,
    backgroundColor: true
  },
  border: {
    borderWidth: true,
    borderStyle: true,
    borderColor: true
  },
  borderBottom: {
    borderBottomWidth: true,
    borderBottomStyle: true,
    borderBottomColor: true
  },
  borderLeft: {
    borderLeftWidth: true,
    borderLeftStyle: true,
    borderLeftColor: true
  },
  borderRight: {
    borderRightWidth: true,
    borderRightStyle: true,
    borderRightColor: true
  },
  borderTop: {
    borderTopWidth: true,
    borderTopStyle: true,
    borderTopColor: true
  },
  font: {
    fontStyle: true,
    fontVariant: true,
    fontWeight: true,
    fontSize: true,
    lineHeight: true,
    fontFamily: true
  }
};

var CSSProperty = {
  isUnitlessNumber: isUnitlessNumber,
  shorthandPropertyExpansions: shorthandPropertyExpansions
};

module.exports = CSSProperty;

},{}],3:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule CSSPropertyOperations
 * @typechecks static-only
 */

"use strict";

var CSSProperty = require("./CSSProperty");

var dangerousStyleValue = require("./dangerousStyleValue");
var escapeTextForBrowser = require("./escapeTextForBrowser");
var hyphenate = require("./hyphenate");
var memoizeStringOnly = require("./memoizeStringOnly");

var processStyleName = memoizeStringOnly(function(styleName) {
  return escapeTextForBrowser(hyphenate(styleName));
});

/**
 * Operations for dealing with CSS properties.
 */
var CSSPropertyOperations = {

  /**
   * Serializes a mapping of style properties for use as inline styles:
   *
   *   > createMarkupForStyles({width: '200px', height: 0})
   *   "width:200px;height:0;"
   *
   * Undefined values are ignored so that declarative programming is easier.
   *
   * @param {object} styles
   * @return {?string}
   */
  createMarkupForStyles: function(styles) {
    var serialized = '';
    for (var styleName in styles) {
      if (!styles.hasOwnProperty(styleName)) {
        continue;
      }
      var styleValue = styles[styleName];
      if (styleValue != null) {
        serialized += processStyleName(styleName) + ':';
        serialized += dangerousStyleValue(styleName, styleValue) + ';';
      }
    }
    return serialized || null;
  },

  /**
   * Sets the value for multiple styles on a node.  If a value is specified as
   * '' (empty string), the corresponding style property will be unset.
   *
   * @param {DOMElement} node
   * @param {object} styles
   */
  setValueForStyles: function(node, styles) {
    var style = node.style;
    for (var styleName in styles) {
      if (!styles.hasOwnProperty(styleName)) {
        continue;
      }
      var styleValue = dangerousStyleValue(styleName, styles[styleName]);
      if (styleValue) {
        style[styleName] = styleValue;
      } else {
        var expansion = CSSProperty.shorthandPropertyExpansions[styleName];
        if (expansion) {
          // Shorthand property that IE8 won't like unsetting, so unset each
          // component to placate it
          for (var individualStyleName in expansion) {
            style[individualStyleName] = '';
          }
        } else {
          style[styleName] = '';
        }
      }
    }
  }

};

module.exports = CSSPropertyOperations;

},{"./CSSProperty":2,"./dangerousStyleValue":94,"./escapeTextForBrowser":96,"./hyphenate":107,"./memoizeStringOnly":116}],4:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ChangeEventPlugin
 */

"use strict";

var EventConstants = require("./EventConstants");
var EventPluginHub = require("./EventPluginHub");
var EventPropagators = require("./EventPropagators");
var ExecutionEnvironment = require("./ExecutionEnvironment");
var ReactUpdates = require("./ReactUpdates");
var SyntheticEvent = require("./SyntheticEvent");

var isEventSupported = require("./isEventSupported");
var isTextInputElement = require("./isTextInputElement");
var keyOf = require("./keyOf");

var topLevelTypes = EventConstants.topLevelTypes;

var eventTypes = {
  change: {
    phasedRegistrationNames: {
      bubbled: keyOf({onChange: null}),
      captured: keyOf({onChangeCapture: null})
    },
    dependencies: [
      topLevelTypes.topBlur,
      topLevelTypes.topChange,
      topLevelTypes.topClick,
      topLevelTypes.topFocus,
      topLevelTypes.topInput,
      topLevelTypes.topKeyDown,
      topLevelTypes.topKeyUp,
      topLevelTypes.topSelectionChange
    ]
  }
};

/**
 * For IE shims
 */
var activeElement = null;
var activeElementID = null;
var activeElementValue = null;
var activeElementValueProp = null;

/**
 * SECTION: handle `change` event
 */
function shouldUseChangeEvent(elem) {
  return (
    elem.nodeName === 'SELECT' ||
    (elem.nodeName === 'INPUT' && elem.type === 'file')
  );
}

var doesChangeEventBubble = false;
if (ExecutionEnvironment.canUseDOM) {
  // See `handleChange` comment below
  doesChangeEventBubble = isEventSupported('change') && (
    !('documentMode' in document) || document.documentMode > 8
  );
}

function manualDispatchChangeEvent(nativeEvent) {
  var event = SyntheticEvent.getPooled(
    eventTypes.change,
    activeElementID,
    nativeEvent
  );
  EventPropagators.accumulateTwoPhaseDispatches(event);

  // If change and propertychange bubbled, we'd just bind to it like all the
  // other events and have it go through ReactEventTopLevelCallback. Since it
  // doesn't, we manually listen for the events and so we have to enqueue and
  // process the abstract event manually.
  //
  // Batching is necessary here in order to ensure that all event handlers run
  // before the next rerender (including event handlers attached to ancestor
  // elements instead of directly on the input). Without this, controlled
  // components don't work properly in conjunction with event bubbling because
  // the component is rerendered and the value reverted before all the event
  // handlers can run. See https://github.com/facebook/react/issues/708.
  ReactUpdates.batchedUpdates(runEventInBatch, event);
}

function runEventInBatch(event) {
  EventPluginHub.enqueueEvents(event);
  EventPluginHub.processEventQueue();
}

function startWatchingForChangeEventIE8(target, targetID) {
  activeElement = target;
  activeElementID = targetID;
  activeElement.attachEvent('onchange', manualDispatchChangeEvent);
}

function stopWatchingForChangeEventIE8() {
  if (!activeElement) {
    return;
  }
  activeElement.detachEvent('onchange', manualDispatchChangeEvent);
  activeElement = null;
  activeElementID = null;
}

function getTargetIDForChangeEvent(
    topLevelType,
    topLevelTarget,
    topLevelTargetID) {
  if (topLevelType === topLevelTypes.topChange) {
    return topLevelTargetID;
  }
}
function handleEventsForChangeEventIE8(
    topLevelType,
    topLevelTarget,
    topLevelTargetID) {
  if (topLevelType === topLevelTypes.topFocus) {
    // stopWatching() should be a noop here but we call it just in case we
    // missed a blur event somehow.
    stopWatchingForChangeEventIE8();
    startWatchingForChangeEventIE8(topLevelTarget, topLevelTargetID);
  } else if (topLevelType === topLevelTypes.topBlur) {
    stopWatchingForChangeEventIE8();
  }
}


/**
 * SECTION: handle `input` event
 */
var isInputEventSupported = false;
if (ExecutionEnvironment.canUseDOM) {
  // IE9 claims to support the input event but fails to trigger it when
  // deleting text, so we ignore its input events
  isInputEventSupported = isEventSupported('input') && (
    !('documentMode' in document) || document.documentMode > 9
  );
}

/**
 * (For old IE.) Replacement getter/setter for the `value` property that gets
 * set on the active element.
 */
var newValueProp =  {
  get: function() {
    return activeElementValueProp.get.call(this);
  },
  set: function(val) {
    // Cast to a string so we can do equality checks.
    activeElementValue = '' + val;
    activeElementValueProp.set.call(this, val);
  }
};

/**
 * (For old IE.) Starts tracking propertychange events on the passed-in element
 * and override the value property so that we can distinguish user events from
 * value changes in JS.
 */
function startWatchingForValueChange(target, targetID) {
  activeElement = target;
  activeElementID = targetID;
  activeElementValue = target.value;
  activeElementValueProp = Object.getOwnPropertyDescriptor(
    target.constructor.prototype,
    'value'
  );

  Object.defineProperty(activeElement, 'value', newValueProp);
  activeElement.attachEvent('onpropertychange', handlePropertyChange);
}

/**
 * (For old IE.) Removes the event listeners from the currently-tracked element,
 * if any exists.
 */
function stopWatchingForValueChange() {
  if (!activeElement) {
    return;
  }

  // delete restores the original property definition
  delete activeElement.value;
  activeElement.detachEvent('onpropertychange', handlePropertyChange);

  activeElement = null;
  activeElementID = null;
  activeElementValue = null;
  activeElementValueProp = null;
}

/**
 * (For old IE.) Handles a propertychange event, sending a `change` event if
 * the value of the active element has changed.
 */
function handlePropertyChange(nativeEvent) {
  if (nativeEvent.propertyName !== 'value') {
    return;
  }
  var value = nativeEvent.srcElement.value;
  if (value === activeElementValue) {
    return;
  }
  activeElementValue = value;

  manualDispatchChangeEvent(nativeEvent);
}

/**
 * If a `change` event should be fired, returns the target's ID.
 */
function getTargetIDForInputEvent(
    topLevelType,
    topLevelTarget,
    topLevelTargetID) {
  if (topLevelType === topLevelTypes.topInput) {
    // In modern browsers (i.e., not IE8 or IE9), the input event is exactly
    // what we want so fall through here and trigger an abstract event
    return topLevelTargetID;
  }
}

// For IE8 and IE9.
function handleEventsForInputEventIE(
    topLevelType,
    topLevelTarget,
    topLevelTargetID) {
  if (topLevelType === topLevelTypes.topFocus) {
    // In IE8, we can capture almost all .value changes by adding a
    // propertychange handler and looking for events with propertyName
    // equal to 'value'
    // In IE9, propertychange fires for most input events but is buggy and
    // doesn't fire when text is deleted, but conveniently, selectionchange
    // appears to fire in all of the remaining cases so we catch those and
    // forward the event if the value has changed
    // In either case, we don't want to call the event handler if the value
    // is changed from JS so we redefine a setter for `.value` that updates
    // our activeElementValue variable, allowing us to ignore those changes
    //
    // stopWatching() should be a noop here but we call it just in case we
    // missed a blur event somehow.
    stopWatchingForValueChange();
    startWatchingForValueChange(topLevelTarget, topLevelTargetID);
  } else if (topLevelType === topLevelTypes.topBlur) {
    stopWatchingForValueChange();
  }
}

// For IE8 and IE9.
function getTargetIDForInputEventIE(
    topLevelType,
    topLevelTarget,
    topLevelTargetID) {
  if (topLevelType === topLevelTypes.topSelectionChange ||
      topLevelType === topLevelTypes.topKeyUp ||
      topLevelType === topLevelTypes.topKeyDown) {
    // On the selectionchange event, the target is just document which isn't
    // helpful for us so just check activeElement instead.
    //
    // 99% of the time, keydown and keyup aren't necessary. IE8 fails to fire
    // propertychange on the first input event after setting `value` from a
    // script and fires only keydown, keypress, keyup. Catching keyup usually
    // gets it and catching keydown lets us fire an event for the first
    // keystroke if user does a key repeat (it'll be a little delayed: right
    // before the second keystroke). Other input methods (e.g., paste) seem to
    // fire selectionchange normally.
    if (activeElement && activeElement.value !== activeElementValue) {
      activeElementValue = activeElement.value;
      return activeElementID;
    }
  }
}


/**
 * SECTION: handle `click` event
 */
function shouldUseClickEvent(elem) {
  // Use the `click` event to detect changes to checkbox and radio inputs.
  // This approach works across all browsers, whereas `change` does not fire
  // until `blur` in IE8.
  return (
    elem.nodeName === 'INPUT' &&
    (elem.type === 'checkbox' || elem.type === 'radio')
  );
}

function getTargetIDForClickEvent(
    topLevelType,
    topLevelTarget,
    topLevelTargetID) {
  if (topLevelType === topLevelTypes.topClick) {
    return topLevelTargetID;
  }
}

/**
 * This plugin creates an `onChange` event that normalizes change events
 * across form elements. This event fires at a time when it's possible to
 * change the element's value without seeing a flicker.
 *
 * Supported elements are:
 * - input (see `isTextInputElement`)
 * - textarea
 * - select
 */
var ChangeEventPlugin = {

  eventTypes: eventTypes,

  /**
   * @param {string} topLevelType Record from `EventConstants`.
   * @param {DOMEventTarget} topLevelTarget The listening component root node.
   * @param {string} topLevelTargetID ID of `topLevelTarget`.
   * @param {object} nativeEvent Native browser event.
   * @return {*} An accumulation of synthetic events.
   * @see {EventPluginHub.extractEvents}
   */
  extractEvents: function(
      topLevelType,
      topLevelTarget,
      topLevelTargetID,
      nativeEvent) {

    var getTargetIDFunc, handleEventFunc;
    if (shouldUseChangeEvent(topLevelTarget)) {
      if (doesChangeEventBubble) {
        getTargetIDFunc = getTargetIDForChangeEvent;
      } else {
        handleEventFunc = handleEventsForChangeEventIE8;
      }
    } else if (isTextInputElement(topLevelTarget)) {
      if (isInputEventSupported) {
        getTargetIDFunc = getTargetIDForInputEvent;
      } else {
        getTargetIDFunc = getTargetIDForInputEventIE;
        handleEventFunc = handleEventsForInputEventIE;
      }
    } else if (shouldUseClickEvent(topLevelTarget)) {
      getTargetIDFunc = getTargetIDForClickEvent;
    }

    if (getTargetIDFunc) {
      var targetID = getTargetIDFunc(
        topLevelType,
        topLevelTarget,
        topLevelTargetID
      );
      if (targetID) {
        var event = SyntheticEvent.getPooled(
          eventTypes.change,
          targetID,
          nativeEvent
        );
        EventPropagators.accumulateTwoPhaseDispatches(event);
        return event;
      }
    }

    if (handleEventFunc) {
      handleEventFunc(
        topLevelType,
        topLevelTarget,
        topLevelTargetID
      );
    }
  }

};

module.exports = ChangeEventPlugin;

},{"./EventConstants":14,"./EventPluginHub":16,"./EventPropagators":19,"./ExecutionEnvironment":20,"./ReactUpdates":70,"./SyntheticEvent":77,"./isEventSupported":109,"./isTextInputElement":111,"./keyOf":115}],5:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ClientReactRootIndex
 * @typechecks
 */

"use strict";

var nextReactRootIndex = 0;

var ClientReactRootIndex = {
  createReactRootIndex: function() {
    return nextReactRootIndex++;
  }
};

module.exports = ClientReactRootIndex;

},{}],6:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule CompositionEventPlugin
 * @typechecks static-only
 */

"use strict";

var EventConstants = require("./EventConstants");
var EventPropagators = require("./EventPropagators");
var ExecutionEnvironment = require("./ExecutionEnvironment");
var ReactInputSelection = require("./ReactInputSelection");
var SyntheticCompositionEvent = require("./SyntheticCompositionEvent");

var getTextContentAccessor = require("./getTextContentAccessor");
var keyOf = require("./keyOf");

var END_KEYCODES = [9, 13, 27, 32]; // Tab, Return, Esc, Space
var START_KEYCODE = 229;

var useCompositionEvent = (
  ExecutionEnvironment.canUseDOM &&
  'CompositionEvent' in window
);

// In IE9+, we have access to composition events, but the data supplied
// by the native compositionend event may be incorrect. In Korean, for example,
// the compositionend event contains only one character regardless of
// how many characters have been composed since compositionstart.
// We therefore use the fallback data while still using the native
// events as triggers.
var useFallbackData = (
  !useCompositionEvent ||
  'documentMode' in document && document.documentMode > 8
);

var topLevelTypes = EventConstants.topLevelTypes;
var currentComposition = null;

// Events and their corresponding property names.
var eventTypes = {
  compositionEnd: {
    phasedRegistrationNames: {
      bubbled: keyOf({onCompositionEnd: null}),
      captured: keyOf({onCompositionEndCapture: null})
    },
    dependencies: [
      topLevelTypes.topBlur,
      topLevelTypes.topCompositionEnd,
      topLevelTypes.topKeyDown,
      topLevelTypes.topKeyPress,
      topLevelTypes.topKeyUp,
      topLevelTypes.topMouseDown
    ]
  },
  compositionStart: {
    phasedRegistrationNames: {
      bubbled: keyOf({onCompositionStart: null}),
      captured: keyOf({onCompositionStartCapture: null})
    },
    dependencies: [
      topLevelTypes.topBlur,
      topLevelTypes.topCompositionStart,
      topLevelTypes.topKeyDown,
      topLevelTypes.topKeyPress,
      topLevelTypes.topKeyUp,
      topLevelTypes.topMouseDown
    ]
  },
  compositionUpdate: {
    phasedRegistrationNames: {
      bubbled: keyOf({onCompositionUpdate: null}),
      captured: keyOf({onCompositionUpdateCapture: null})
    },
    dependencies: [
      topLevelTypes.topBlur,
      topLevelTypes.topCompositionUpdate,
      topLevelTypes.topKeyDown,
      topLevelTypes.topKeyPress,
      topLevelTypes.topKeyUp,
      topLevelTypes.topMouseDown
    ]
  }
};

/**
 * Translate native top level events into event types.
 *
 * @param {string} topLevelType
 * @return {object}
 */
function getCompositionEventType(topLevelType) {
  switch (topLevelType) {
    case topLevelTypes.topCompositionStart:
      return eventTypes.compositionStart;
    case topLevelTypes.topCompositionEnd:
      return eventTypes.compositionEnd;
    case topLevelTypes.topCompositionUpdate:
      return eventTypes.compositionUpdate;
  }
}

/**
 * Does our fallback best-guess model think this event signifies that
 * composition has begun?
 *
 * @param {string} topLevelType
 * @param {object} nativeEvent
 * @return {boolean}
 */
function isFallbackStart(topLevelType, nativeEvent) {
  return (
    topLevelType === topLevelTypes.topKeyDown &&
    nativeEvent.keyCode === START_KEYCODE
  );
}

/**
 * Does our fallback mode think that this event is the end of composition?
 *
 * @param {string} topLevelType
 * @param {object} nativeEvent
 * @return {boolean}
 */
function isFallbackEnd(topLevelType, nativeEvent) {
  switch (topLevelType) {
    case topLevelTypes.topKeyUp:
      // Command keys insert or clear IME input.
      return (END_KEYCODES.indexOf(nativeEvent.keyCode) !== -1);
    case topLevelTypes.topKeyDown:
      // Expect IME keyCode on each keydown. If we get any other
      // code we must have exited earlier.
      return (nativeEvent.keyCode !== START_KEYCODE);
    case topLevelTypes.topKeyPress:
    case topLevelTypes.topMouseDown:
    case topLevelTypes.topBlur:
      // Events are not possible without cancelling IME.
      return true;
    default:
      return false;
  }
}

/**
 * Helper class stores information about selection and document state
 * so we can figure out what changed at a later date.
 *
 * @param {DOMEventTarget} root
 */
function FallbackCompositionState(root) {
  this.root = root;
  this.startSelection = ReactInputSelection.getSelection(root);
  this.startValue = this.getText();
}

/**
 * Get current text of input.
 *
 * @return {string}
 */
FallbackCompositionState.prototype.getText = function() {
  return this.root.value || this.root[getTextContentAccessor()];
};

/**
 * Text that has changed since the start of composition.
 *
 * @return {string}
 */
FallbackCompositionState.prototype.getData = function() {
  var endValue = this.getText();
  var prefixLength = this.startSelection.start;
  var suffixLength = this.startValue.length - this.startSelection.end;

  return endValue.substr(
    prefixLength,
    endValue.length - suffixLength - prefixLength
  );
};

/**
 * This plugin creates `onCompositionStart`, `onCompositionUpdate` and
 * `onCompositionEnd` events on inputs, textareas and contentEditable
 * nodes.
 */
var CompositionEventPlugin = {

  eventTypes: eventTypes,

  /**
   * @param {string} topLevelType Record from `EventConstants`.
   * @param {DOMEventTarget} topLevelTarget The listening component root node.
   * @param {string} topLevelTargetID ID of `topLevelTarget`.
   * @param {object} nativeEvent Native browser event.
   * @return {*} An accumulation of synthetic events.
   * @see {EventPluginHub.extractEvents}
   */
  extractEvents: function(
      topLevelType,
      topLevelTarget,
      topLevelTargetID,
      nativeEvent) {

    var eventType;
    var data;

    if (useCompositionEvent) {
      eventType = getCompositionEventType(topLevelType);
    } else if (!currentComposition) {
      if (isFallbackStart(topLevelType, nativeEvent)) {
        eventType = eventTypes.compositionStart;
      }
    } else if (isFallbackEnd(topLevelType, nativeEvent)) {
      eventType = eventTypes.compositionEnd;
    }

    if (useFallbackData) {
      // The current composition is stored statically and must not be
      // overwritten while composition continues.
      if (!currentComposition && eventType === eventTypes.compositionStart) {
        currentComposition = new FallbackCompositionState(topLevelTarget);
      } else if (eventType === eventTypes.compositionEnd) {
        if (currentComposition) {
          data = currentComposition.getData();
          currentComposition = null;
        }
      }
    }

    if (eventType) {
      var event = SyntheticCompositionEvent.getPooled(
        eventType,
        topLevelTargetID,
        nativeEvent
      );
      if (data) {
        // Inject data generated from fallback path into the synthetic event.
        // This matches the property of native CompositionEventInterface.
        event.data = data;
      }
      EventPropagators.accumulateTwoPhaseDispatches(event);
      return event;
    }
  }
};

module.exports = CompositionEventPlugin;

},{"./EventConstants":14,"./EventPropagators":19,"./ExecutionEnvironment":20,"./ReactInputSelection":52,"./SyntheticCompositionEvent":75,"./getTextContentAccessor":105,"./keyOf":115}],7:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule DOMChildrenOperations
 * @typechecks static-only
 */

"use strict";

var Danger = require("./Danger");
var ReactMultiChildUpdateTypes = require("./ReactMultiChildUpdateTypes");

var getTextContentAccessor = require("./getTextContentAccessor");

/**
 * The DOM property to use when setting text content.
 *
 * @type {string}
 * @private
 */
var textContentAccessor = getTextContentAccessor();

/**
 * Inserts `childNode` as a child of `parentNode` at the `index`.
 *
 * @param {DOMElement} parentNode Parent node in which to insert.
 * @param {DOMElement} childNode Child node to insert.
 * @param {number} index Index at which to insert the child.
 * @internal
 */
function insertChildAt(parentNode, childNode, index) {
  var childNodes = parentNode.childNodes;
  if (childNodes[index] === childNode) {
    return;
  }
  // If `childNode` is already a child of `parentNode`, remove it so that
  // computing `childNodes[index]` takes into account the removal.
  if (childNode.parentNode === parentNode) {
    parentNode.removeChild(childNode);
  }
  if (index >= childNodes.length) {
    parentNode.appendChild(childNode);
  } else {
    parentNode.insertBefore(childNode, childNodes[index]);
  }
}

/**
 * Sets the text content of `node` to `text`.
 *
 * @param {DOMElement} node Node to change
 * @param {string} text New text content
 */
var updateTextContent;
if (textContentAccessor === 'textContent') {
  updateTextContent = function(node, text) {
    node.textContent = text;
  };
} else {
  updateTextContent = function(node, text) {
    // In order to preserve newlines correctly, we can't use .innerText to set
    // the contents (see #1080), so we empty the element then append a text node
    while (node.firstChild) {
      node.removeChild(node.firstChild);
    }
    if (text) {
      var doc = node.ownerDocument || document;
      node.appendChild(doc.createTextNode(text));
    }
  };
}

/**
 * Operations for updating with DOM children.
 */
var DOMChildrenOperations = {

  dangerouslyReplaceNodeWithMarkup: Danger.dangerouslyReplaceNodeWithMarkup,

  updateTextContent: updateTextContent,

  /**
   * Updates a component's children by processing a series of updates. The
   * update configurations are each expected to have a `parentNode` property.
   *
   * @param {array<object>} updates List of update configurations.
   * @param {array<string>} markupList List of markup strings.
   * @internal
   */
  processUpdates: function(updates, markupList) {
    var update;
    // Mapping from parent IDs to initial child orderings.
    var initialChildren = null;
    // List of children that will be moved or removed.
    var updatedChildren = null;

    for (var i = 0; update = updates[i]; i++) {
      if (update.type === ReactMultiChildUpdateTypes.MOVE_EXISTING ||
          update.type === ReactMultiChildUpdateTypes.REMOVE_NODE) {
        var updatedIndex = update.fromIndex;
        var updatedChild = update.parentNode.childNodes[updatedIndex];
        var parentID = update.parentID;

        initialChildren = initialChildren || {};
        initialChildren[parentID] = initialChildren[parentID] || [];
        initialChildren[parentID][updatedIndex] = updatedChild;

        updatedChildren = updatedChildren || [];
        updatedChildren.push(updatedChild);
      }
    }

    var renderedMarkup = Danger.dangerouslyRenderMarkup(markupList);

    // Remove updated children first so that `toIndex` is consistent.
    if (updatedChildren) {
      for (var j = 0; j < updatedChildren.length; j++) {
        updatedChildren[j].parentNode.removeChild(updatedChildren[j]);
      }
    }

    for (var k = 0; update = updates[k]; k++) {
      switch (update.type) {
        case ReactMultiChildUpdateTypes.INSERT_MARKUP:
          insertChildAt(
            update.parentNode,
            renderedMarkup[update.markupIndex],
            update.toIndex
          );
          break;
        case ReactMultiChildUpdateTypes.MOVE_EXISTING:
          insertChildAt(
            update.parentNode,
            initialChildren[update.parentID][update.fromIndex],
            update.toIndex
          );
          break;
        case ReactMultiChildUpdateTypes.TEXT_CONTENT:
          updateTextContent(
            update.parentNode,
            update.textContent
          );
          break;
        case ReactMultiChildUpdateTypes.REMOVE_NODE:
          // Already removed by the for-loop above.
          break;
      }
    }
  }

};

module.exports = DOMChildrenOperations;

},{"./Danger":10,"./ReactMultiChildUpdateTypes":58,"./getTextContentAccessor":105}],8:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule DOMProperty
 * @typechecks static-only
 */

/*jslint bitwise: true */

"use strict";

var invariant = require("./invariant");

var DOMPropertyInjection = {
  /**
   * Mapping from normalized, camelcased property names to a configuration that
   * specifies how the associated DOM property should be accessed or rendered.
   */
  MUST_USE_ATTRIBUTE: 0x1,
  MUST_USE_PROPERTY: 0x2,
  HAS_SIDE_EFFECTS: 0x4,
  HAS_BOOLEAN_VALUE: 0x8,
  HAS_POSITIVE_NUMERIC_VALUE: 0x10,

  /**
   * Inject some specialized knowledge about the DOM. This takes a config object
   * with the following properties:
   *
   * isCustomAttribute: function that given an attribute name will return true
   * if it can be inserted into the DOM verbatim. Useful for data-* or aria-*
   * attributes where it's impossible to enumerate all of the possible
   * attribute names,
   *
   * Properties: object mapping DOM property name to one of the
   * DOMPropertyInjection constants or null. If your attribute isn't in here,
   * it won't get written to the DOM.
   *
   * DOMAttributeNames: object mapping React attribute name to the DOM
   * attribute name. Attribute names not specified use the **lowercase**
   * normalized name.
   *
   * DOMPropertyNames: similar to DOMAttributeNames but for DOM properties.
   * Property names not specified use the normalized name.
   *
   * DOMMutationMethods: Properties that require special mutation methods. If
   * `value` is undefined, the mutation method should unset the property.
   *
   * @param {object} domPropertyConfig the config as described above.
   */
  injectDOMPropertyConfig: function(domPropertyConfig) {
    var Properties = domPropertyConfig.Properties || {};
    var DOMAttributeNames = domPropertyConfig.DOMAttributeNames || {};
    var DOMPropertyNames = domPropertyConfig.DOMPropertyNames || {};
    var DOMMutationMethods = domPropertyConfig.DOMMutationMethods || {};

    if (domPropertyConfig.isCustomAttribute) {
      DOMProperty._isCustomAttributeFunctions.push(
        domPropertyConfig.isCustomAttribute
      );
    }

    for (var propName in Properties) {
      ("production" !== "development" ? invariant(
        !DOMProperty.isStandardName[propName],
        'injectDOMPropertyConfig(...): You\'re trying to inject DOM property ' +
        '\'%s\' which has already been injected. You may be accidentally ' +
        'injecting the same DOM property config twice, or you may be ' +
        'injecting two configs that have conflicting property names.',
        propName
      ) : invariant(!DOMProperty.isStandardName[propName]));

      DOMProperty.isStandardName[propName] = true;

      var lowerCased = propName.toLowerCase();
      DOMProperty.getPossibleStandardName[lowerCased] = propName;

      var attributeName = DOMAttributeNames[propName];
      if (attributeName) {
        DOMProperty.getPossibleStandardName[attributeName] = propName;
      }

      DOMProperty.getAttributeName[propName] = attributeName || lowerCased;

      DOMProperty.getPropertyName[propName] =
        DOMPropertyNames[propName] || propName;

      var mutationMethod = DOMMutationMethods[propName];
      if (mutationMethod) {
        DOMProperty.getMutationMethod[propName] = mutationMethod;
      }

      var propConfig = Properties[propName];
      DOMProperty.mustUseAttribute[propName] =
        propConfig & DOMPropertyInjection.MUST_USE_ATTRIBUTE;
      DOMProperty.mustUseProperty[propName] =
        propConfig & DOMPropertyInjection.MUST_USE_PROPERTY;
      DOMProperty.hasSideEffects[propName] =
        propConfig & DOMPropertyInjection.HAS_SIDE_EFFECTS;
      DOMProperty.hasBooleanValue[propName] =
        propConfig & DOMPropertyInjection.HAS_BOOLEAN_VALUE;
      DOMProperty.hasPositiveNumericValue[propName] =
        propConfig & DOMPropertyInjection.HAS_POSITIVE_NUMERIC_VALUE;

      ("production" !== "development" ? invariant(
        !DOMProperty.mustUseAttribute[propName] ||
          !DOMProperty.mustUseProperty[propName],
        'DOMProperty: Cannot require using both attribute and property: %s',
        propName
      ) : invariant(!DOMProperty.mustUseAttribute[propName] ||
        !DOMProperty.mustUseProperty[propName]));
      ("production" !== "development" ? invariant(
        DOMProperty.mustUseProperty[propName] ||
          !DOMProperty.hasSideEffects[propName],
        'DOMProperty: Properties that have side effects must use property: %s',
        propName
      ) : invariant(DOMProperty.mustUseProperty[propName] ||
        !DOMProperty.hasSideEffects[propName]));
      ("production" !== "development" ? invariant(
        !DOMProperty.hasBooleanValue[propName] ||
          !DOMProperty.hasPositiveNumericValue[propName],
        'DOMProperty: Cannot have both boolean and positive numeric value: %s',
        propName
      ) : invariant(!DOMProperty.hasBooleanValue[propName] ||
        !DOMProperty.hasPositiveNumericValue[propName]));
    }
  }
};
var defaultValueCache = {};

/**
 * DOMProperty exports lookup objects that can be used like functions:
 *
 *   > DOMProperty.isValid['id']
 *   true
 *   > DOMProperty.isValid['foobar']
 *   undefined
 *
 * Although this may be confusing, it performs better in general.
 *
 * @see http://jsperf.com/key-exists
 * @see http://jsperf.com/key-missing
 */
var DOMProperty = {

  ID_ATTRIBUTE_NAME: 'data-reactid',

  /**
   * Checks whether a property name is a standard property.
   * @type {Object}
   */
  isStandardName: {},

  /**
   * Mapping from lowercase property names to the properly cased version, used
   * to warn in the case of missing properties.
   * @type {Object}
   */
  getPossibleStandardName: {},

  /**
   * Mapping from normalized names to attribute names that differ. Attribute
   * names are used when rendering markup or with `*Attribute()`.
   * @type {Object}
   */
  getAttributeName: {},

  /**
   * Mapping from normalized names to properties on DOM node instances.
   * (This includes properties that mutate due to external factors.)
   * @type {Object}
   */
  getPropertyName: {},

  /**
   * Mapping from normalized names to mutation methods. This will only exist if
   * mutation cannot be set simply by the property or `setAttribute()`.
   * @type {Object}
   */
  getMutationMethod: {},

  /**
   * Whether the property must be accessed and mutated as an object property.
   * @type {Object}
   */
  mustUseAttribute: {},

  /**
   * Whether the property must be accessed and mutated using `*Attribute()`.
   * (This includes anything that fails `<propName> in <element>`.)
   * @type {Object}
   */
  mustUseProperty: {},

  /**
   * Whether or not setting a value causes side effects such as triggering
   * resources to be loaded or text selection changes. We must ensure that
   * the value is only set if it has changed.
   * @type {Object}
   */
  hasSideEffects: {},

  /**
   * Whether the property should be removed when set to a falsey value.
   * @type {Object}
   */
  hasBooleanValue: {},

  /**
   * Whether the property must be positive numeric or parse as a positive
   * numeric and should be removed when set to a falsey value.
   * @type {Object}
   */
  hasPositiveNumericValue: {},

  /**
   * All of the isCustomAttribute() functions that have been injected.
   */
  _isCustomAttributeFunctions: [],

  /**
   * Checks whether a property name is a custom attribute.
   * @method
   */
  isCustomAttribute: function(attributeName) {
    return DOMProperty._isCustomAttributeFunctions.some(
      function(isCustomAttributeFn) {
        return isCustomAttributeFn.call(null, attributeName);
      }
    );
  },

  /**
   * Returns the default property value for a DOM property (i.e., not an
   * attribute). Most default values are '' or false, but not all. Worse yet,
   * some (in particular, `type`) vary depending on the type of element.
   *
   * TODO: Is it better to grab all the possible properties when creating an
   * element to avoid having to create the same element twice?
   */
  getDefaultValueForProperty: function(nodeName, prop) {
    var nodeDefaults = defaultValueCache[nodeName];
    var testElement;
    if (!nodeDefaults) {
      defaultValueCache[nodeName] = nodeDefaults = {};
    }
    if (!(prop in nodeDefaults)) {
      testElement = document.createElement(nodeName);
      nodeDefaults[prop] = testElement[prop];
    }
    return nodeDefaults[prop];
  },

  injection: DOMPropertyInjection
};

module.exports = DOMProperty;

},{"./invariant":108}],9:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule DOMPropertyOperations
 * @typechecks static-only
 */

"use strict";

var DOMProperty = require("./DOMProperty");

var escapeTextForBrowser = require("./escapeTextForBrowser");
var memoizeStringOnly = require("./memoizeStringOnly");

function shouldIgnoreValue(name, value) {
  return value == null ||
    DOMProperty.hasBooleanValue[name] && !value ||
    DOMProperty.hasPositiveNumericValue[name] && (isNaN(value) || value < 1);
}

var processAttributeNameAndPrefix = memoizeStringOnly(function(name) {
  return escapeTextForBrowser(name) + '="';
});

if ("production" !== "development") {
  var reactProps = {
    children: true,
    dangerouslySetInnerHTML: true,
    key: true,
    ref: true
  };
  var warnedProperties = {};

  var warnUnknownProperty = function(name) {
    if (reactProps[name] || warnedProperties[name]) {
      return;
    }

    warnedProperties[name] = true;
    var lowerCasedName = name.toLowerCase();

    // data-* attributes should be lowercase; suggest the lowercase version
    var standardName = DOMProperty.isCustomAttribute(lowerCasedName) ?
      lowerCasedName : DOMProperty.getPossibleStandardName[lowerCasedName];

    // For now, only warn when we have a suggested correction. This prevents
    // logging too much when using transferPropsTo.
    if (standardName != null) {
      console.warn(
        'Unknown DOM property ' + name + '. Did you mean ' + standardName + '?'
      );
    }

  };
}

/**
 * Operations for dealing with DOM properties.
 */
var DOMPropertyOperations = {

  /**
   * Creates markup for the ID property.
   *
   * @param {string} id Unescaped ID.
   * @return {string} Markup string.
   */
  createMarkupForID: function(id) {
    return processAttributeNameAndPrefix(DOMProperty.ID_ATTRIBUTE_NAME) +
      escapeTextForBrowser(id) + '"';
  },

  /**
   * Creates markup for a property.
   *
   * @param {string} name
   * @param {*} value
   * @return {?string} Markup string, or null if the property was invalid.
   */
  createMarkupForProperty: function(name, value) {
    if (DOMProperty.isStandardName[name]) {
      if (shouldIgnoreValue(name, value)) {
        return '';
      }
      var attributeName = DOMProperty.getAttributeName[name];
      if (DOMProperty.hasBooleanValue[name]) {
        return escapeTextForBrowser(attributeName);
      }
      return processAttributeNameAndPrefix(attributeName) +
        escapeTextForBrowser(value) + '"';
    } else if (DOMProperty.isCustomAttribute(name)) {
      if (value == null) {
        return '';
      }
      return processAttributeNameAndPrefix(name) +
        escapeTextForBrowser(value) + '"';
    } else if ("production" !== "development") {
      warnUnknownProperty(name);
    }
    return null;
  },

  /**
   * Sets the value for a property on a node.
   *
   * @param {DOMElement} node
   * @param {string} name
   * @param {*} value
   */
  setValueForProperty: function(node, name, value) {
    if (DOMProperty.isStandardName[name]) {
      var mutationMethod = DOMProperty.getMutationMethod[name];
      if (mutationMethod) {
        mutationMethod(node, value);
      } else if (shouldIgnoreValue(name, value)) {
        this.deleteValueForProperty(node, name);
      } else if (DOMProperty.mustUseAttribute[name]) {
        node.setAttribute(DOMProperty.getAttributeName[name], '' + value);
      } else {
        var propName = DOMProperty.getPropertyName[name];
        if (!DOMProperty.hasSideEffects[name] || node[propName] !== value) {
          node[propName] = value;
        }
      }
    } else if (DOMProperty.isCustomAttribute(name)) {
      if (value == null) {
        node.removeAttribute(DOMProperty.getAttributeName[name]);
      } else {
        node.setAttribute(name, '' + value);
      }
    } else if ("production" !== "development") {
      warnUnknownProperty(name);
    }
  },

  /**
   * Deletes the value for a property on a node.
   *
   * @param {DOMElement} node
   * @param {string} name
   */
  deleteValueForProperty: function(node, name) {
    if (DOMProperty.isStandardName[name]) {
      var mutationMethod = DOMProperty.getMutationMethod[name];
      if (mutationMethod) {
        mutationMethod(node, undefined);
      } else if (DOMProperty.mustUseAttribute[name]) {
        node.removeAttribute(DOMProperty.getAttributeName[name]);
      } else {
        var propName = DOMProperty.getPropertyName[name];
        var defaultValue = DOMProperty.getDefaultValueForProperty(
          node.nodeName,
          name
        );
        if (!DOMProperty.hasSideEffects[name] ||
            node[propName] !== defaultValue) {
          node[propName] = defaultValue;
        }
      }
    } else if (DOMProperty.isCustomAttribute(name)) {
      node.removeAttribute(name);
    } else if ("production" !== "development") {
      warnUnknownProperty(name);
    }
  }

};

module.exports = DOMPropertyOperations;

},{"./DOMProperty":8,"./escapeTextForBrowser":96,"./memoizeStringOnly":116}],10:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule Danger
 * @typechecks static-only
 */

/*jslint evil: true, sub: true */

"use strict";

var ExecutionEnvironment = require("./ExecutionEnvironment");

var createNodesFromMarkup = require("./createNodesFromMarkup");
var emptyFunction = require("./emptyFunction");
var getMarkupWrap = require("./getMarkupWrap");
var invariant = require("./invariant");

var OPEN_TAG_NAME_EXP = /^(<[^ \/>]+)/;
var RESULT_INDEX_ATTR = 'data-danger-index';

/**
 * Extracts the `nodeName` from a string of markup.
 *
 * NOTE: Extracting the `nodeName` does not require a regular expression match
 * because we make assumptions about React-generated markup (i.e. there are no
 * spaces surrounding the opening tag and there is at least one attribute).
 *
 * @param {string} markup String of markup.
 * @return {string} Node name of the supplied markup.
 * @see http://jsperf.com/extract-nodename
 */
function getNodeName(markup) {
  return markup.substring(1, markup.indexOf(' '));
}

var Danger = {

  /**
   * Renders markup into an array of nodes. The markup is expected to render
   * into a list of root nodes. Also, the length of `resultList` and
   * `markupList` should be the same.
   *
   * @param {array<string>} markupList List of markup strings to render.
   * @return {array<DOMElement>} List of rendered nodes.
   * @internal
   */
  dangerouslyRenderMarkup: function(markupList) {
    ("production" !== "development" ? invariant(
      ExecutionEnvironment.canUseDOM,
      'dangerouslyRenderMarkup(...): Cannot render markup in a Worker ' +
      'thread. This is likely a bug in the framework. Please report ' +
      'immediately.'
    ) : invariant(ExecutionEnvironment.canUseDOM));
    var nodeName;
    var markupByNodeName = {};
    // Group markup by `nodeName` if a wrap is necessary, else by '*'.
    for (var i = 0; i < markupList.length; i++) {
      ("production" !== "development" ? invariant(
        markupList[i],
        'dangerouslyRenderMarkup(...): Missing markup.'
      ) : invariant(markupList[i]));
      nodeName = getNodeName(markupList[i]);
      nodeName = getMarkupWrap(nodeName) ? nodeName : '*';
      markupByNodeName[nodeName] = markupByNodeName[nodeName] || [];
      markupByNodeName[nodeName][i] = markupList[i];
    }
    var resultList = [];
    var resultListAssignmentCount = 0;
    for (nodeName in markupByNodeName) {
      if (!markupByNodeName.hasOwnProperty(nodeName)) {
        continue;
      }
      var markupListByNodeName = markupByNodeName[nodeName];

      // This for-in loop skips the holes of the sparse array. The order of
      // iteration should follow the order of assignment, which happens to match
      // numerical index order, but we don't rely on that.
      for (var resultIndex in markupListByNodeName) {
        if (markupListByNodeName.hasOwnProperty(resultIndex)) {
          var markup = markupListByNodeName[resultIndex];

          // Push the requested markup with an additional RESULT_INDEX_ATTR
          // attribute.  If the markup does not start with a < character, it
          // will be discarded below (with an appropriate console.error).
          markupListByNodeName[resultIndex] = markup.replace(
            OPEN_TAG_NAME_EXP,
            // This index will be parsed back out below.
            '$1 ' + RESULT_INDEX_ATTR + '="' + resultIndex + '" '
          );
        }
      }

      // Render each group of markup with similar wrapping `nodeName`.
      var renderNodes = createNodesFromMarkup(
        markupListByNodeName.join(''),
        emptyFunction // Do nothing special with <script> tags.
      );

      for (i = 0; i < renderNodes.length; ++i) {
        var renderNode = renderNodes[i];
        if (renderNode.hasAttribute &&
            renderNode.hasAttribute(RESULT_INDEX_ATTR)) {

          resultIndex = +renderNode.getAttribute(RESULT_INDEX_ATTR);
          renderNode.removeAttribute(RESULT_INDEX_ATTR);

          ("production" !== "development" ? invariant(
            !resultList.hasOwnProperty(resultIndex),
            'Danger: Assigning to an already-occupied result index.'
          ) : invariant(!resultList.hasOwnProperty(resultIndex)));

          resultList[resultIndex] = renderNode;

          // This should match resultList.length and markupList.length when
          // we're done.
          resultListAssignmentCount += 1;

        } else if ("production" !== "development") {
          console.error(
            "Danger: Discarding unexpected node:",
            renderNode
          );
        }
      }
    }

    // Although resultList was populated out of order, it should now be a dense
    // array.
    ("production" !== "development" ? invariant(
      resultListAssignmentCount === resultList.length,
      'Danger: Did not assign to every index of resultList.'
    ) : invariant(resultListAssignmentCount === resultList.length));

    ("production" !== "development" ? invariant(
      resultList.length === markupList.length,
      'Danger: Expected markup to render %s nodes, but rendered %s.',
      markupList.length,
      resultList.length
    ) : invariant(resultList.length === markupList.length));

    return resultList;
  },

  /**
   * Replaces a node with a string of markup at its current position within its
   * parent. The markup must render into a single root node.
   *
   * @param {DOMElement} oldChild Child node to replace.
   * @param {string} markup Markup to render in place of the child node.
   * @internal
   */
  dangerouslyReplaceNodeWithMarkup: function(oldChild, markup) {
    ("production" !== "development" ? invariant(
      ExecutionEnvironment.canUseDOM,
      'dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a ' +
      'worker thread. This is likely a bug in the framework. Please report ' +
      'immediately.'
    ) : invariant(ExecutionEnvironment.canUseDOM));
    ("production" !== "development" ? invariant(markup, 'dangerouslyReplaceNodeWithMarkup(...): Missing markup.') : invariant(markup));
    ("production" !== "development" ? invariant(
      oldChild.tagName.toLowerCase() !== 'html',
      'dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the ' +
      '<html> node. This is because browser quirks make this unreliable ' +
      'and/or slow. If you want to render to the root you must use ' +
      'server rendering. See renderComponentToString().'
    ) : invariant(oldChild.tagName.toLowerCase() !== 'html'));

    var newChild = createNodesFromMarkup(markup, emptyFunction)[0];
    oldChild.parentNode.replaceChild(newChild, oldChild);
  }

};

module.exports = Danger;

},{"./ExecutionEnvironment":20,"./createNodesFromMarkup":92,"./emptyFunction":95,"./getMarkupWrap":102,"./invariant":108}],11:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule DefaultDOMPropertyConfig
 */

/*jslint bitwise: true*/

"use strict";

var DOMProperty = require("./DOMProperty");

var MUST_USE_ATTRIBUTE = DOMProperty.injection.MUST_USE_ATTRIBUTE;
var MUST_USE_PROPERTY = DOMProperty.injection.MUST_USE_PROPERTY;
var HAS_BOOLEAN_VALUE = DOMProperty.injection.HAS_BOOLEAN_VALUE;
var HAS_SIDE_EFFECTS = DOMProperty.injection.HAS_SIDE_EFFECTS;
var HAS_POSITIVE_NUMERIC_VALUE =
  DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE;

var DefaultDOMPropertyConfig = {
  isCustomAttribute: RegExp.prototype.test.bind(
    /^(data|aria)-[a-z_][a-z\d_.\-]*$/
  ),
  Properties: {
    /**
     * Standard Properties
     */
    accept: null,
    accessKey: null,
    action: null,
    allowFullScreen: MUST_USE_ATTRIBUTE | HAS_BOOLEAN_VALUE,
    allowTransparency: MUST_USE_ATTRIBUTE,
    alt: null,
    async: HAS_BOOLEAN_VALUE,
    autoComplete: null,
    // autoFocus is polyfilled/normalized by AutoFocusMixin
    // autoFocus: HAS_BOOLEAN_VALUE,
    autoPlay: HAS_BOOLEAN_VALUE,
    cellPadding: null,
    cellSpacing: null,
    charSet: MUST_USE_ATTRIBUTE,
    checked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,
    className: MUST_USE_PROPERTY,
    cols: MUST_USE_ATTRIBUTE | HAS_POSITIVE_NUMERIC_VALUE,
    colSpan: null,
    content: null,
    contentEditable: null,
    contextMenu: MUST_USE_ATTRIBUTE,
    controls: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,
    crossOrigin: null,
    data: null, // For `<object />` acts as `src`.
    dateTime: MUST_USE_ATTRIBUTE,
    defer: HAS_BOOLEAN_VALUE,
    dir: null,
    disabled: MUST_USE_ATTRIBUTE | HAS_BOOLEAN_VALUE,
    download: null,
    draggable: null,
    encType: null,
    form: MUST_USE_ATTRIBUTE,
    formNoValidate: HAS_BOOLEAN_VALUE,
    frameBorder: MUST_USE_ATTRIBUTE,
    height: MUST_USE_ATTRIBUTE,
    hidden: MUST_USE_ATTRIBUTE | HAS_BOOLEAN_VALUE,
    href: null,
    hrefLang: null,
    htmlFor: null,
    httpEquiv: null,
    icon: null,
    id: MUST_USE_PROPERTY,
    label: null,
    lang: null,
    list: null,
    loop: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,
    max: null,
    maxLength: MUST_USE_ATTRIBUTE,
    mediaGroup: null,
    method: null,
    min: null,
    multiple: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,
    muted: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,
    name: null,
    noValidate: HAS_BOOLEAN_VALUE,
    pattern: null,
    placeholder: null,
    poster: null,
    preload: null,
    radioGroup: null,
    readOnly: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,
    rel: null,
    required: HAS_BOOLEAN_VALUE,
    role: MUST_USE_ATTRIBUTE,
    rows: MUST_USE_ATTRIBUTE | HAS_POSITIVE_NUMERIC_VALUE,
    rowSpan: null,
    sandbox: null,
    scope: null,
    scrollLeft: MUST_USE_PROPERTY,
    scrollTop: MUST_USE_PROPERTY,
    seamless: MUST_USE_ATTRIBUTE | HAS_BOOLEAN_VALUE,
    selected: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,
    size: MUST_USE_ATTRIBUTE | HAS_POSITIVE_NUMERIC_VALUE,
    span: HAS_POSITIVE_NUMERIC_VALUE,
    spellCheck: null,
    src: null,
    srcDoc: MUST_USE_PROPERTY,
    step: null,
    style: null,
    tabIndex: null,
    target: null,
    title: null,
    type: null,
    value: MUST_USE_PROPERTY | HAS_SIDE_EFFECTS,
    width: MUST_USE_ATTRIBUTE,
    wmode: MUST_USE_ATTRIBUTE,

    /**
     * Non-standard Properties
     */
    autoCapitalize: null, // Supported in Mobile Safari for keyboard hints
    autoCorrect: null, // Supported in Mobile Safari for keyboard hints
    property: null, // Supports OG in meta tags

    /**
     * SVG Properties
     */
    cx: MUST_USE_ATTRIBUTE,
    cy: MUST_USE_ATTRIBUTE,
    d: MUST_USE_ATTRIBUTE,
    fill: MUST_USE_ATTRIBUTE,
    fx: MUST_USE_ATTRIBUTE,
    fy: MUST_USE_ATTRIBUTE,
    gradientTransform: MUST_USE_ATTRIBUTE,
    gradientUnits: MUST_USE_ATTRIBUTE,
    offset: MUST_USE_ATTRIBUTE,
    points: MUST_USE_ATTRIBUTE,
    r: MUST_USE_ATTRIBUTE,
    rx: MUST_USE_ATTRIBUTE,
    ry: MUST_USE_ATTRIBUTE,
    spreadMethod: MUST_USE_ATTRIBUTE,
    stopColor: MUST_USE_ATTRIBUTE,
    stopOpacity: MUST_USE_ATTRIBUTE,
    stroke: MUST_USE_ATTRIBUTE,
    strokeLinecap: MUST_USE_ATTRIBUTE,
    strokeWidth: MUST_USE_ATTRIBUTE,
    transform: MUST_USE_ATTRIBUTE,
    version: MUST_USE_ATTRIBUTE,
    viewBox: MUST_USE_ATTRIBUTE,
    x1: MUST_USE_ATTRIBUTE,
    x2: MUST_USE_ATTRIBUTE,
    x: MUST_USE_ATTRIBUTE,
    y1: MUST_USE_ATTRIBUTE,
    y2: MUST_USE_ATTRIBUTE,
    y: MUST_USE_ATTRIBUTE
  },
  DOMAttributeNames: {
    className: 'class',
    gradientTransform: 'gradientTransform',
    gradientUnits: 'gradientUnits',
    htmlFor: 'for',
    spreadMethod: 'spreadMethod',
    stopColor: 'stop-color',
    stopOpacity: 'stop-opacity',
    strokeLinecap: 'stroke-linecap',
    strokeWidth: 'stroke-width',
    viewBox: 'viewBox'
  },
  DOMPropertyNames: {
    autoCapitalize: 'autocapitalize',
    autoComplete: 'autocomplete',
    autoCorrect: 'autocorrect',
    autoFocus: 'autofocus',
    autoPlay: 'autoplay',
    encType: 'enctype',
    hrefLang: 'hreflang',
    radioGroup: 'radiogroup',
    spellCheck: 'spellcheck',
    srcDoc: 'srcdoc'
  },
  DOMMutationMethods: {
    /**
     * Setting `className` to null may cause it to be set to the string "null".
     *
     * @param {DOMElement} node
     * @param {*} value
     */
    className: function(node, value) {
      node.className = value || '';
    }
  }
};

module.exports = DefaultDOMPropertyConfig;

},{"./DOMProperty":8}],12:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule DefaultEventPluginOrder
 */

"use strict";

 var keyOf = require("./keyOf");

/**
 * Module that is injectable into `EventPluginHub`, that specifies a
 * deterministic ordering of `EventPlugin`s. A convenient way to reason about
 * plugins, without having to package every one of them. This is better than
 * having plugins be ordered in the same order that they are injected because
 * that ordering would be influenced by the packaging order.
 * `ResponderEventPlugin` must occur before `SimpleEventPlugin` so that
 * preventing default on events is convenient in `SimpleEventPlugin` handlers.
 */
var DefaultEventPluginOrder = [
  keyOf({ResponderEventPlugin: null}),
  keyOf({SimpleEventPlugin: null}),
  keyOf({TapEventPlugin: null}),
  keyOf({EnterLeaveEventPlugin: null}),
  keyOf({ChangeEventPlugin: null}),
  keyOf({SelectEventPlugin: null}),
  keyOf({CompositionEventPlugin: null}),
  keyOf({AnalyticsEventPlugin: null}),
  keyOf({MobileSafariClickEventPlugin: null})
];

module.exports = DefaultEventPluginOrder;

},{"./keyOf":115}],13:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule EnterLeaveEventPlugin
 * @typechecks static-only
 */

"use strict";

var EventConstants = require("./EventConstants");
var EventPropagators = require("./EventPropagators");
var SyntheticMouseEvent = require("./SyntheticMouseEvent");

var ReactMount = require("./ReactMount");
var keyOf = require("./keyOf");

var topLevelTypes = EventConstants.topLevelTypes;
var getFirstReactDOM = ReactMount.getFirstReactDOM;

var eventTypes = {
  mouseEnter: {
    registrationName: keyOf({onMouseEnter: null}),
    dependencies: [
      topLevelTypes.topMouseOut,
      topLevelTypes.topMouseOver
    ]
  },
  mouseLeave: {
    registrationName: keyOf({onMouseLeave: null}),
    dependencies: [
      topLevelTypes.topMouseOut,
      topLevelTypes.topMouseOver
    ]
  }
};

var extractedEvents = [null, null];

var EnterLeaveEventPlugin = {

  eventTypes: eventTypes,

  /**
   * For almost every interaction we care about, there will be both a top-level
   * `mouseover` and `mouseout` event that occurs. Only use `mouseout` so that
   * we do not extract duplicate events. However, moving the mouse into the
   * browser from outside will not fire a `mouseout` event. In this case, we use
   * the `mouseover` top-level event.
   *
   * @param {string} topLevelType Record from `EventConstants`.
   * @param {DOMEventTarget} topLevelTarget The listening component root node.
   * @param {string} topLevelTargetID ID of `topLevelTarget`.
   * @param {object} nativeEvent Native browser event.
   * @return {*} An accumulation of synthetic events.
   * @see {EventPluginHub.extractEvents}
   */
  extractEvents: function(
      topLevelType,
      topLevelTarget,
      topLevelTargetID,
      nativeEvent) {
    if (topLevelType === topLevelTypes.topMouseOver &&
        (nativeEvent.relatedTarget || nativeEvent.fromElement)) {
      return null;
    }
    if (topLevelType !== topLevelTypes.topMouseOut &&
        topLevelType !== topLevelTypes.topMouseOver) {
      // Must not be a mouse in or mouse out - ignoring.
      return null;
    }

    var win;
    if (topLevelTarget.window === topLevelTarget) {
      // `topLevelTarget` is probably a window object.
      win = topLevelTarget;
    } else {
      // TODO: Figure out why `ownerDocument` is sometimes undefined in IE8.
      var doc = topLevelTarget.ownerDocument;
      if (doc) {
        win = doc.defaultView || doc.parentWindow;
      } else {
        win = window;
      }
    }

    var from, to;
    if (topLevelType === topLevelTypes.topMouseOut) {
      from = topLevelTarget;
      to =
        getFirstReactDOM(nativeEvent.relatedTarget || nativeEvent.toElement) ||
        win;
    } else {
      from = win;
      to = topLevelTarget;
    }

    if (from === to) {
      // Nothing pertains to our managed components.
      return null;
    }

    var fromID = from ? ReactMount.getID(from) : '';
    var toID = to ? ReactMount.getID(to) : '';

    var leave = SyntheticMouseEvent.getPooled(
      eventTypes.mouseLeave,
      fromID,
      nativeEvent
    );
    leave.type = 'mouseleave';
    leave.target = from;
    leave.relatedTarget = to;

    var enter = SyntheticMouseEvent.getPooled(
      eventTypes.mouseEnter,
      toID,
      nativeEvent
    );
    enter.type = 'mouseenter';
    enter.target = to;
    enter.relatedTarget = from;

    EventPropagators.accumulateEnterLeaveDispatches(leave, enter, fromID, toID);

    extractedEvents[0] = leave;
    extractedEvents[1] = enter;

    return extractedEvents;
  }

};

module.exports = EnterLeaveEventPlugin;

},{"./EventConstants":14,"./EventPropagators":19,"./ReactMount":55,"./SyntheticMouseEvent":80,"./keyOf":115}],14:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule EventConstants
 */

"use strict";

var keyMirror = require("./keyMirror");

var PropagationPhases = keyMirror({bubbled: null, captured: null});

/**
 * Types of raw signals from the browser caught at the top level.
 */
var topLevelTypes = keyMirror({
  topBlur: null,
  topChange: null,
  topClick: null,
  topCompositionEnd: null,
  topCompositionStart: null,
  topCompositionUpdate: null,
  topContextMenu: null,
  topCopy: null,
  topCut: null,
  topDoubleClick: null,
  topDrag: null,
  topDragEnd: null,
  topDragEnter: null,
  topDragExit: null,
  topDragLeave: null,
  topDragOver: null,
  topDragStart: null,
  topDrop: null,
  topError: null,
  topFocus: null,
  topInput: null,
  topKeyDown: null,
  topKeyPress: null,
  topKeyUp: null,
  topLoad: null,
  topMouseDown: null,
  topMouseMove: null,
  topMouseOut: null,
  topMouseOver: null,
  topMouseUp: null,
  topPaste: null,
  topReset: null,
  topScroll: null,
  topSelectionChange: null,
  topSubmit: null,
  topTouchCancel: null,
  topTouchEnd: null,
  topTouchMove: null,
  topTouchStart: null,
  topWheel: null
});

var EventConstants = {
  topLevelTypes: topLevelTypes,
  PropagationPhases: PropagationPhases
};

module.exports = EventConstants;

},{"./keyMirror":114}],15:[function(require,module,exports){
/**
 * @providesModule EventListener
 */

var emptyFunction = require("./emptyFunction");

/**
 * Upstream version of event listener. Does not take into account specific
 * nature of platform.
 */
var EventListener = {
  /**
   * Listen to DOM events during the bubble phase.
   *
   * @param {DOMEventTarget} target DOM element to register listener on.
   * @param {string} eventType Event type, e.g. 'click' or 'mouseover'.
   * @param {function} callback Callback function.
   * @return {object} Object with a `remove` method.
   */
  listen: function(target, eventType, callback) {
    if (target.addEventListener) {
      target.addEventListener(eventType, callback, false);
      return {
        remove: function() {
          target.removeEventListener(eventType, callback, false);
        }
      };
    } else if (target.attachEvent) {
      target.attachEvent('on' + eventType, callback);
      return {
        remove: function() {
          target.detachEvent(eventType, callback);
        }
      };
    }
  },

  /**
   * Listen to DOM events during the capture phase.
   *
   * @param {DOMEventTarget} target DOM element to register listener on.
   * @param {string} eventType Event type, e.g. 'click' or 'mouseover'.
   * @param {function} callback Callback function.
   * @return {object} Object with a `remove` method.
   */
  capture: function(target, eventType, callback) {
    if (!target.addEventListener) {
      if ("production" !== "development") {
        console.error(
          'Attempted to listen to events during the capture phase on a ' +
          'browser that does not support the capture phase. Your application ' +
          'will not receive some events.'
        );
      }
      return {
        remove: emptyFunction
      };
    } else {
      target.addEventListener(eventType, callback, true);
      return {
        remove: function() {
          target.removeEventListener(eventType, callback, true);
        }
      };
    }
  }
};

module.exports = EventListener;

},{"./emptyFunction":95}],16:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule EventPluginHub
 */

"use strict";

var EventPluginRegistry = require("./EventPluginRegistry");
var EventPluginUtils = require("./EventPluginUtils");
var ExecutionEnvironment = require("./ExecutionEnvironment");

var accumulate = require("./accumulate");
var forEachAccumulated = require("./forEachAccumulated");
var invariant = require("./invariant");
var isEventSupported = require("./isEventSupported");

/**
 * Internal store for event listeners
 */
var listenerBank = {};

/**
 * Internal queue of events that have accumulated their dispatches and are
 * waiting to have their dispatches executed.
 */
var eventQueue = null;

/**
 * Dispatches an event and releases it back into the pool, unless persistent.
 *
 * @param {?object} event Synthetic event to be dispatched.
 * @private
 */
var executeDispatchesAndRelease = function(event) {
  if (event) {
    var executeDispatch = EventPluginUtils.executeDispatch;
    // Plugins can provide custom behavior when dispatching events.
    var PluginModule = EventPluginRegistry.getPluginModuleForEvent(event);
    if (PluginModule && PluginModule.executeDispatch) {
      executeDispatch = PluginModule.executeDispatch;
    }
    EventPluginUtils.executeDispatchesInOrder(event, executeDispatch);

    if (!event.isPersistent()) {
      event.constructor.release(event);
    }
  }
};

/**
 * - `InstanceHandle`: [required] Module that performs logical traversals of DOM
 *   hierarchy given ids of the logical DOM elements involved.
 */
var InstanceHandle = null;

function validateInstanceHandle() {
  var invalid = !InstanceHandle||
    !InstanceHandle.traverseTwoPhase ||
    !InstanceHandle.traverseEnterLeave;
  if (invalid) {
    throw new Error('InstanceHandle not injected before use!');
  }
}

/**
 * This is a unified interface for event plugins to be installed and configured.
 *
 * Event plugins can implement the following properties:
 *
 *   `extractEvents` {function(string, DOMEventTarget, string, object): *}
 *     Required. When a top-level event is fired, this method is expected to
 *     extract synthetic events that will in turn be queued and dispatched.
 *
 *   `eventTypes` {object}
 *     Optional, plugins that fire events must publish a mapping of registration
 *     names that are used to register listeners. Values of this mapping must
 *     be objects that contain `registrationName` or `phasedRegistrationNames`.
 *
 *   `executeDispatch` {function(object, function, string)}
 *     Optional, allows plugins to override how an event gets dispatched. By
 *     default, the listener is simply invoked.
 *
 * Each plugin that is injected into `EventsPluginHub` is immediately operable.
 *
 * @public
 */
var EventPluginHub = {

  /**
   * Methods for injecting dependencies.
   */
  injection: {

    /**
     * @param {object} InjectedMount
     * @public
     */
    injectMount: EventPluginUtils.injection.injectMount,

    /**
     * @param {object} InjectedInstanceHandle
     * @public
     */
    injectInstanceHandle: function(InjectedInstanceHandle) {
      InstanceHandle = InjectedInstanceHandle;
      if ("production" !== "development") {
        validateInstanceHandle();
      }
    },

    getInstanceHandle: function() {
      if ("production" !== "development") {
        validateInstanceHandle();
      }
      return InstanceHandle;
    },

    /**
     * @param {array} InjectedEventPluginOrder
     * @public
     */
    injectEventPluginOrder: EventPluginRegistry.injectEventPluginOrder,

    /**
     * @param {object} injectedNamesToPlugins Map from names to plugin modules.
     */
    injectEventPluginsByName: EventPluginRegistry.injectEventPluginsByName

  },

  eventNameDispatchConfigs: EventPluginRegistry.eventNameDispatchConfigs,

  registrationNameModules: EventPluginRegistry.registrationNameModules,

  /**
   * Stores `listener` at `listenerBank[registrationName][id]`. Is idempotent.
   *
   * @param {string} id ID of the DOM element.
   * @param {string} registrationName Name of listener (e.g. `onClick`).
   * @param {?function} listener The callback to store.
   */
  putListener: function(id, registrationName, listener) {
    ("production" !== "development" ? invariant(
      ExecutionEnvironment.canUseDOM,
      'Cannot call putListener() in a non-DOM environment.'
    ) : invariant(ExecutionEnvironment.canUseDOM));
    ("production" !== "development" ? invariant(
      !listener || typeof listener === 'function',
      'Expected %s listener to be a function, instead got type %s',
      registrationName, typeof listener
    ) : invariant(!listener || typeof listener === 'function'));

    if ("production" !== "development") {
      // IE8 has no API for event capturing and the `onScroll` event doesn't
      // bubble.
      if (registrationName === 'onScroll' &&
          !isEventSupported('scroll', true)) {
        console.warn('This browser doesn\'t support the `onScroll` event');
      }
    }
    var bankForRegistrationName =
      listenerBank[registrationName] || (listenerBank[registrationName] = {});
    bankForRegistrationName[id] = listener;
  },

  /**
   * @param {string} id ID of the DOM element.
   * @param {string} registrationName Name of listener (e.g. `onClick`).
   * @return {?function} The stored callback.
   */
  getListener: function(id, registrationName) {
    var bankForRegistrationName = listenerBank[registrationName];
    return bankForRegistrationName && bankForRegistrationName[id];
  },

  /**
   * Deletes a listener from the registration bank.
   *
   * @param {string} id ID of the DOM element.
   * @param {string} registrationName Name of listener (e.g. `onClick`).
   */
  deleteListener: function(id, registrationName) {
    var bankForRegistrationName = listenerBank[registrationName];
    if (bankForRegistrationName) {
      delete bankForRegistrationName[id];
    }
  },

  /**
   * Deletes all listeners for the DOM element with the supplied ID.
   *
   * @param {string} id ID of the DOM element.
   */
  deleteAllListeners: function(id) {
    for (var registrationName in listenerBank) {
      delete listenerBank[registrationName][id];
    }
  },

  /**
   * Allows registered plugins an opportunity to extract events from top-level
   * native browser events.
   *
   * @param {string} topLevelType Record from `EventConstants`.
   * @param {DOMEventTarget} topLevelTarget The listening component root node.
   * @param {string} topLevelTargetID ID of `topLevelTarget`.
   * @param {object} nativeEvent Native browser event.
   * @return {*} An accumulation of synthetic events.
   * @internal
   */
  extractEvents: function(
      topLevelType,
      topLevelTarget,
      topLevelTargetID,
      nativeEvent) {
    var events;
    var plugins = EventPluginRegistry.plugins;
    for (var i = 0, l = plugins.length; i < l; i++) {
      // Not every plugin in the ordering may be loaded at runtime.
      var possiblePlugin = plugins[i];
      if (possiblePlugin) {
        var extractedEvents = possiblePlugin.extractEvents(
          topLevelType,
          topLevelTarget,
          topLevelTargetID,
          nativeEvent
        );
        if (extractedEvents) {
          events = accumulate(events, extractedEvents);
        }
      }
    }
    return events;
  },

  /**
   * Enqueues a synthetic event that should be dispatched when
   * `processEventQueue` is invoked.
   *
   * @param {*} events An accumulation of synthetic events.
   * @internal
   */
  enqueueEvents: function(events) {
    if (events) {
      eventQueue = accumulate(eventQueue, events);
    }
  },

  /**
   * Dispatches all synthetic events on the event queue.
   *
   * @internal
   */
  processEventQueue: function() {
    // Set `eventQueue` to null before processing it so that we can tell if more
    // events get enqueued while processing.
    var processingEventQueue = eventQueue;
    eventQueue = null;
    forEachAccumulated(processingEventQueue, executeDispatchesAndRelease);
    ("production" !== "development" ? invariant(
      !eventQueue,
      'processEventQueue(): Additional events were enqueued while processing ' +
      'an event queue. Support for this has not yet been implemented.'
    ) : invariant(!eventQueue));
  },

  /**
   * These are needed for tests only. Do not use!
   */
  __purge: function() {
    listenerBank = {};
  },

  __getListenerBank: function() {
    return listenerBank;
  }

};

module.exports = EventPluginHub;

},{"./EventPluginRegistry":17,"./EventPluginUtils":18,"./ExecutionEnvironment":20,"./accumulate":86,"./forEachAccumulated":98,"./invariant":108,"./isEventSupported":109}],17:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule EventPluginRegistry
 * @typechecks static-only
 */

"use strict";

var invariant = require("./invariant");

/**
 * Injectable ordering of event plugins.
 */
var EventPluginOrder = null;

/**
 * Injectable mapping from names to event plugin modules.
 */
var namesToPlugins = {};

/**
 * Recomputes the plugin list using the injected plugins and plugin ordering.
 *
 * @private
 */
function recomputePluginOrdering() {
  if (!EventPluginOrder) {
    // Wait until an `EventPluginOrder` is injected.
    return;
  }
  for (var pluginName in namesToPlugins) {
    var PluginModule = namesToPlugins[pluginName];
    var pluginIndex = EventPluginOrder.indexOf(pluginName);
    ("production" !== "development" ? invariant(
      pluginIndex > -1,
      'EventPluginRegistry: Cannot inject event plugins that do not exist in ' +
      'the plugin ordering, `%s`.',
      pluginName
    ) : invariant(pluginIndex > -1));
    if (EventPluginRegistry.plugins[pluginIndex]) {
      continue;
    }
    ("production" !== "development" ? invariant(
      PluginModule.extractEvents,
      'EventPluginRegistry: Event plugins must implement an `extractEvents` ' +
      'method, but `%s` does not.',
      pluginName
    ) : invariant(PluginModule.extractEvents));
    EventPluginRegistry.plugins[pluginIndex] = PluginModule;
    var publishedEvents = PluginModule.eventTypes;
    for (var eventName in publishedEvents) {
      ("production" !== "development" ? invariant(
        publishEventForPlugin(
          publishedEvents[eventName],
          PluginModule,
          eventName
        ),
        'EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.',
        eventName,
        pluginName
      ) : invariant(publishEventForPlugin(
        publishedEvents[eventName],
        PluginModule,
        eventName
      )));
    }
  }
}

/**
 * Publishes an event so that it can be dispatched by the supplied plugin.
 *
 * @param {object} dispatchConfig Dispatch configuration for the event.
 * @param {object} PluginModule Plugin publishing the event.
 * @return {boolean} True if the event was successfully published.
 * @private
 */
function publishEventForPlugin(dispatchConfig, PluginModule, eventName) {
  ("production" !== "development" ? invariant(
    !EventPluginRegistry.eventNameDispatchConfigs[eventName],
    'EventPluginHub: More than one plugin attempted to publish the same ' +
    'event name, `%s`.',
    eventName
  ) : invariant(!EventPluginRegistry.eventNameDispatchConfigs[eventName]));
  EventPluginRegistry.eventNameDispatchConfigs[eventName] = dispatchConfig;

  var phasedRegistrationNames = dispatchConfig.phasedRegistrationNames;
  if (phasedRegistrationNames) {
    for (var phaseName in phasedRegistrationNames) {
      if (phasedRegistrationNames.hasOwnProperty(phaseName)) {
        var phasedRegistrationName = phasedRegistrationNames[phaseName];
        publishRegistrationName(
          phasedRegistrationName,
          PluginModule,
          eventName
        );
      }
    }
    return true;
  } else if (dispatchConfig.registrationName) {
    publishRegistrationName(
      dispatchConfig.registrationName,
      PluginModule,
      eventName
    );
    return true;
  }
  return false;
}

/**
 * Publishes a registration name that is used to identify dispatched events and
 * can be used with `EventPluginHub.putListener` to register listeners.
 *
 * @param {string} registrationName Registration name to add.
 * @param {object} PluginModule Plugin publishing the event.
 * @private
 */
function publishRegistrationName(registrationName, PluginModule, eventName) {
  ("production" !== "development" ? invariant(
    !EventPluginRegistry.registrationNameModules[registrationName],
    'EventPluginHub: More than one plugin attempted to publish the same ' +
    'registration name, `%s`.',
    registrationName
  ) : invariant(!EventPluginRegistry.registrationNameModules[registrationName]));
  EventPluginRegistry.registrationNameModules[registrationName] = PluginModule;
  EventPluginRegistry.registrationNameDependencies[registrationName] =
    PluginModule.eventTypes[eventName].dependencies;
}

/**
 * Registers plugins so that they can extract and dispatch events.
 *
 * @see {EventPluginHub}
 */
var EventPluginRegistry = {

  /**
   * Ordered list of injected plugins.
   */
  plugins: [],

  /**
   * Mapping from event name to dispatch config
   */
  eventNameDispatchConfigs: {},

  /**
   * Mapping from registration name to plugin module
   */
  registrationNameModules: {},

  /**
   * Mapping from registration name to event name
   */
  registrationNameDependencies: {},

  /**
   * Injects an ordering of plugins (by plugin name). This allows the ordering
   * to be decoupled from injection of the actual plugins so that ordering is
   * always deterministic regardless of packaging, on-the-fly injection, etc.
   *
   * @param {array} InjectedEventPluginOrder
   * @internal
   * @see {EventPluginHub.injection.injectEventPluginOrder}
   */
  injectEventPluginOrder: function(InjectedEventPluginOrder) {
    ("production" !== "development" ? invariant(
      !EventPluginOrder,
      'EventPluginRegistry: Cannot inject event plugin ordering more than once.'
    ) : invariant(!EventPluginOrder));
    // Clone the ordering so it cannot be dynamically mutated.
    EventPluginOrder = Array.prototype.slice.call(InjectedEventPluginOrder);
    recomputePluginOrdering();
  },

  /**
   * Injects plugins to be used by `EventPluginHub`. The plugin names must be
   * in the ordering injected by `injectEventPluginOrder`.
   *
   * Plugins can be injected as part of page initialization or on-the-fly.
   *
   * @param {object} injectedNamesToPlugins Map from names to plugin modules.
   * @internal
   * @see {EventPluginHub.injection.injectEventPluginsByName}
   */
  injectEventPluginsByName: function(injectedNamesToPlugins) {
    var isOrderingDirty = false;
    for (var pluginName in injectedNamesToPlugins) {
      if (!injectedNamesToPlugins.hasOwnProperty(pluginName)) {
        continue;
      }
      var PluginModule = injectedNamesToPlugins[pluginName];
      if (namesToPlugins[pluginName] !== PluginModule) {
        ("production" !== "development" ? invariant(
          !namesToPlugins[pluginName],
          'EventPluginRegistry: Cannot inject two different event plugins ' +
          'using the same name, `%s`.',
          pluginName
        ) : invariant(!namesToPlugins[pluginName]));
        namesToPlugins[pluginName] = PluginModule;
        isOrderingDirty = true;
      }
    }
    if (isOrderingDirty) {
      recomputePluginOrdering();
    }
  },

  /**
   * Looks up the plugin for the supplied event.
   *
   * @param {object} event A synthetic event.
   * @return {?object} The plugin that created the supplied event.
   * @internal
   */
  getPluginModuleForEvent: function(event) {
    var dispatchConfig = event.dispatchConfig;
    if (dispatchConfig.registrationName) {
      return EventPluginRegistry.registrationNameModules[
        dispatchConfig.registrationName
      ] || null;
    }
    for (var phase in dispatchConfig.phasedRegistrationNames) {
      if (!dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)) {
        continue;
      }
      var PluginModule = EventPluginRegistry.registrationNameModules[
        dispatchConfig.phasedRegistrationNames[phase]
      ];
      if (PluginModule) {
        return PluginModule;
      }
    }
    return null;
  },

  /**
   * Exposed for unit testing.
   * @private
   */
  _resetEventPlugins: function() {
    EventPluginOrder = null;
    for (var pluginName in namesToPlugins) {
      if (namesToPlugins.hasOwnProperty(pluginName)) {
        delete namesToPlugins[pluginName];
      }
    }
    EventPluginRegistry.plugins.length = 0;

    var eventNameDispatchConfigs = EventPluginRegistry.eventNameDispatchConfigs;
    for (var eventName in eventNameDispatchConfigs) {
      if (eventNameDispatchConfigs.hasOwnProperty(eventName)) {
        delete eventNameDispatchConfigs[eventName];
      }
    }

    var registrationNameModules = EventPluginRegistry.registrationNameModules;
    for (var registrationName in registrationNameModules) {
      if (registrationNameModules.hasOwnProperty(registrationName)) {
        delete registrationNameModules[registrationName];
      }
    }
  }

};

module.exports = EventPluginRegistry;

},{"./invariant":108}],18:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule EventPluginUtils
 */

"use strict";

var EventConstants = require("./EventConstants");

var invariant = require("./invariant");

/**
 * Injected dependencies:
 */

/**
 * - `Mount`: [required] Module that can convert between React dom IDs and
 *   actual node references.
 */
var injection = {
  Mount: null,
  injectMount: function(InjectedMount) {
    injection.Mount = InjectedMount;
    if ("production" !== "development") {
      ("production" !== "development" ? invariant(
        InjectedMount && InjectedMount.getNode,
        'EventPluginUtils.injection.injectMount(...): Injected Mount module ' +
        'is missing getNode.'
      ) : invariant(InjectedMount && InjectedMount.getNode));
    }
  }
};

var topLevelTypes = EventConstants.topLevelTypes;

function isEndish(topLevelType) {
  return topLevelType === topLevelTypes.topMouseUp ||
         topLevelType === topLevelTypes.topTouchEnd ||
         topLevelType === topLevelTypes.topTouchCancel;
}

function isMoveish(topLevelType) {
  return topLevelType === topLevelTypes.topMouseMove ||
         topLevelType === topLevelTypes.topTouchMove;
}
function isStartish(topLevelType) {
  return topLevelType === topLevelTypes.topMouseDown ||
         topLevelType === topLevelTypes.topTouchStart;
}


var validateEventDispatches;
if ("production" !== "development") {
  validateEventDispatches = function(event) {
    var dispatchListeners = event._dispatchListeners;
    var dispatchIDs = event._dispatchIDs;

    var listenersIsArr = Array.isArray(dispatchListeners);
    var idsIsArr = Array.isArray(dispatchIDs);
    var IDsLen = idsIsArr ? dispatchIDs.length : dispatchIDs ? 1 : 0;
    var listenersLen = listenersIsArr ?
      dispatchListeners.length :
      dispatchListeners ? 1 : 0;

    ("production" !== "development" ? invariant(
      idsIsArr === listenersIsArr && IDsLen === listenersLen,
      'EventPluginUtils: Invalid `event`.'
    ) : invariant(idsIsArr === listenersIsArr && IDsLen === listenersLen));
  };
}

/**
 * Invokes `cb(event, listener, id)`. Avoids using call if no scope is
 * provided. The `(listener,id)` pair effectively forms the "dispatch" but are
 * kept separate to conserve memory.
 */
function forEachEventDispatch(event, cb) {
  var dispatchListeners = event._dispatchListeners;
  var dispatchIDs = event._dispatchIDs;
  if ("production" !== "development") {
    validateEventDispatches(event);
  }
  if (Array.isArray(dispatchListeners)) {
    for (var i = 0; i < dispatchListeners.length; i++) {
      if (event.isPropagationStopped()) {
        break;
      }
      // Listeners and IDs are two parallel arrays that are always in sync.
      cb(event, dispatchListeners[i], dispatchIDs[i]);
    }
  } else if (dispatchListeners) {
    cb(event, dispatchListeners, dispatchIDs);
  }
}

/**
 * Default implementation of PluginModule.executeDispatch().
 * @param {SyntheticEvent} SyntheticEvent to handle
 * @param {function} Application-level callback
 * @param {string} domID DOM id to pass to the callback.
 */
function executeDispatch(event, listener, domID) {
  event.currentTarget = injection.Mount.getNode(domID);
  var returnValue = listener(event, domID);
  event.currentTarget = null;
  return returnValue;
}

/**
 * Standard/simple iteration through an event's collected dispatches.
 */
function executeDispatchesInOrder(event, executeDispatch) {
  forEachEventDispatch(event, executeDispatch);
  event._dispatchListeners = null;
  event._dispatchIDs = null;
}

/**
 * Standard/simple iteration through an event's collected dispatches, but stops
 * at the first dispatch execution returning true, and returns that id.
 *
 * @return id of the first dispatch execution who's listener returns true, or
 * null if no listener returned true.
 */
function executeDispatchesInOrderStopAtTrue(event) {
  var dispatchListeners = event._dispatchListeners;
  var dispatchIDs = event._dispatchIDs;
  if ("production" !== "development") {
    validateEventDispatches(event);
  }
  if (Array.isArray(dispatchListeners)) {
    for (var i = 0; i < dispatchListeners.length; i++) {
      if (event.isPropagationStopped()) {
        break;
      }
      // Listeners and IDs are two parallel arrays that are always in sync.
      if (dispatchListeners[i](event, dispatchIDs[i])) {
        return dispatchIDs[i];
      }
    }
  } else if (dispatchListeners) {
    if (dispatchListeners(event, dispatchIDs)) {
      return dispatchIDs;
    }
  }
  return null;
}

/**
 * Execution of a "direct" dispatch - there must be at most one dispatch
 * accumulated on the event or it is considered an error. It doesn't really make
 * sense for an event with multiple dispatches (bubbled) to keep track of the
 * return values at each dispatch execution, but it does tend to make sense when
 * dealing with "direct" dispatches.
 *
 * @return The return value of executing the single dispatch.
 */
function executeDirectDispatch(event) {
  if ("production" !== "development") {
    validateEventDispatches(event);
  }
  var dispatchListener = event._dispatchListeners;
  var dispatchID = event._dispatchIDs;
  ("production" !== "development" ? invariant(
    !Array.isArray(dispatchListener),
    'executeDirectDispatch(...): Invalid `event`.'
  ) : invariant(!Array.isArray(dispatchListener)));
  var res = dispatchListener ?
    dispatchListener(event, dispatchID) :
    null;
  event._dispatchListeners = null;
  event._dispatchIDs = null;
  return res;
}

/**
 * @param {SyntheticEvent} event
 * @return {bool} True iff number of dispatches accumulated is greater than 0.
 */
function hasDispatches(event) {
  return !!event._dispatchListeners;
}

/**
 * General utilities that are useful in creating custom Event Plugins.
 */
var EventPluginUtils = {
  isEndish: isEndish,
  isMoveish: isMoveish,
  isStartish: isStartish,

  executeDirectDispatch: executeDirectDispatch,
  executeDispatch: executeDispatch,
  executeDispatchesInOrder: executeDispatchesInOrder,
  executeDispatchesInOrderStopAtTrue: executeDispatchesInOrderStopAtTrue,
  hasDispatches: hasDispatches,
  injection: injection,
  useTouchEvents: false
};

module.exports = EventPluginUtils;

},{"./EventConstants":14,"./invariant":108}],19:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule EventPropagators
 */

"use strict";

var EventConstants = require("./EventConstants");
var EventPluginHub = require("./EventPluginHub");

var accumulate = require("./accumulate");
var forEachAccumulated = require("./forEachAccumulated");

var PropagationPhases = EventConstants.PropagationPhases;
var getListener = EventPluginHub.getListener;

/**
 * Some event types have a notion of different registration names for different
 * "phases" of propagation. This finds listeners by a given phase.
 */
function listenerAtPhase(id, event, propagationPhase) {
  var registrationName =
    event.dispatchConfig.phasedRegistrationNames[propagationPhase];
  return getListener(id, registrationName);
}

/**
 * Tags a `SyntheticEvent` with dispatched listeners. Creating this function
 * here, allows us to not have to bind or create functions for each event.
 * Mutating the event's members allows us to not have to create a wrapping
 * "dispatch" object that pairs the event with the listener.
 */
function accumulateDirectionalDispatches(domID, upwards, event) {
  if ("production" !== "development") {
    if (!domID) {
      throw new Error('Dispatching id must not be null');
    }
  }
  var phase = upwards ? PropagationPhases.bubbled : PropagationPhases.captured;
  var listener = listenerAtPhase(domID, event, phase);
  if (listener) {
    event._dispatchListeners = accumulate(event._dispatchListeners, listener);
    event._dispatchIDs = accumulate(event._dispatchIDs, domID);
  }
}

/**
 * Collect dispatches (must be entirely collected before dispatching - see unit
 * tests). Lazily allocate the array to conserve memory.  We must loop through
 * each event and perform the traversal for each one. We can not perform a
 * single traversal for the entire collection of events because each event may
 * have a different target.
 */
function accumulateTwoPhaseDispatchesSingle(event) {
  if (event && event.dispatchConfig.phasedRegistrationNames) {
    EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(
      event.dispatchMarker,
      accumulateDirectionalDispatches,
      event
    );
  }
}


/**
 * Accumulates without regard to direction, does not look for phased
 * registration names. Same as `accumulateDirectDispatchesSingle` but without
 * requiring that the `dispatchMarker` be the same as the dispatched ID.
 */
function accumulateDispatches(id, ignoredDirection, event) {
  if (event && event.dispatchConfig.registrationName) {
    var registrationName = event.dispatchConfig.registrationName;
    var listener = getListener(id, registrationName);
    if (listener) {
      event._dispatchListeners = accumulate(event._dispatchListeners, listener);
      event._dispatchIDs = accumulate(event._dispatchIDs, id);
    }
  }
}

/**
 * Accumulates dispatches on an `SyntheticEvent`, but only for the
 * `dispatchMarker`.
 * @param {SyntheticEvent} event
 */
function accumulateDirectDispatchesSingle(event) {
  if (event && event.dispatchConfig.registrationName) {
    accumulateDispatches(event.dispatchMarker, null, event);
  }
}

function accumulateTwoPhaseDispatches(events) {
  forEachAccumulated(events, accumulateTwoPhaseDispatchesSingle);
}

function accumulateEnterLeaveDispatches(leave, enter, fromID, toID) {
  EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(
    fromID,
    toID,
    accumulateDispatches,
    leave,
    enter
  );
}


function accumulateDirectDispatches(events) {
  forEachAccumulated(events, accumulateDirectDispatchesSingle);
}



/**
 * A small set of propagation patterns, each of which will accept a small amount
 * of information, and generate a set of "dispatch ready event objects" - which
 * are sets of events that have already been annotated with a set of dispatched
 * listener functions/ids. The API is designed this way to discourage these
 * propagation strategies from actually executing the dispatches, since we
 * always want to collect the entire set of dispatches before executing event a
 * single one.
 *
 * @constructor EventPropagators
 */
var EventPropagators = {
  accumulateTwoPhaseDispatches: accumulateTwoPhaseDispatches,
  accumulateDirectDispatches: accumulateDirectDispatches,
  accumulateEnterLeaveDispatches: accumulateEnterLeaveDispatches
};

module.exports = EventPropagators;

},{"./EventConstants":14,"./EventPluginHub":16,"./accumulate":86,"./forEachAccumulated":98}],20:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ExecutionEnvironment
 */

/*jslint evil: true */

"use strict";

var canUseDOM = typeof window !== 'undefined';

/**
 * Simple, lightweight module assisting with the detection and context of
 * Worker. Helps avoid circular dependencies and allows code to reason about
 * whether or not they are in a Worker, even if they never include the main
 * `ReactWorker` dependency.
 */
var ExecutionEnvironment = {

  canUseDOM: canUseDOM,

  canUseWorkers: typeof Worker !== 'undefined',

  canUseEventListeners:
    canUseDOM && (window.addEventListener || window.attachEvent),

  isInWorker: !canUseDOM // For now, this is true - might change in the future.

};

module.exports = ExecutionEnvironment;

},{}],21:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule LinkedValueUtils
 * @typechecks static-only
 */

"use strict";

var ReactPropTypes = require("./ReactPropTypes");

var invariant = require("./invariant");

var hasReadOnlyValue = {
  'button': true,
  'checkbox': true,
  'image': true,
  'hidden': true,
  'radio': true,
  'reset': true,
  'submit': true
};

function _assertSingleLink(input) {
  ("production" !== "development" ? invariant(
      input.props.checkedLink == null || input.props.valueLink == null,
      'Cannot provide a checkedLink and a valueLink. If you want to use ' +
      'checkedLink, you probably don\'t want to use valueLink and vice versa.'
  ) : invariant(input.props.checkedLink == null || input.props.valueLink == null));
}
function _assertValueLink(input) {
  _assertSingleLink(input);
  ("production" !== "development" ? invariant(
    input.props.value == null && input.props.onChange == null,
    'Cannot provide a valueLink and a value or onChange event. If you want ' +
    'to use value or onChange, you probably don\'t want to use valueLink.'
  ) : invariant(input.props.value == null && input.props.onChange == null));
}

function _assertCheckedLink(input) {
  _assertSingleLink(input);
  ("production" !== "development" ? invariant(
    input.props.checked == null && input.props.onChange == null,
    'Cannot provide a checkedLink and a checked property or onChange event. ' +
    'If you want to use checked or onChange, you probably don\'t want to ' +
    'use checkedLink'
  ) : invariant(input.props.checked == null && input.props.onChange == null));
}

/**
 * @param {SyntheticEvent} e change event to handle
 */
function _handleLinkedValueChange(e) {
  /*jshint validthis:true */
  this.props.valueLink.requestChange(e.target.value);
}

/**
  * @param {SyntheticEvent} e change event to handle
  */
function _handleLinkedCheckChange(e) {
  /*jshint validthis:true */
  this.props.checkedLink.requestChange(e.target.checked);
}

/**
 * Provide a linked `value` attribute for controlled forms. You should not use
 * this outside of the ReactDOM controlled form components.
 */
var LinkedValueUtils = {
  Mixin: {
    propTypes: {
      value: function(props, propName, componentName) {
        if ("production" !== "development") {
          if (props[propName] &&
              !hasReadOnlyValue[props.type] &&
              !props.onChange &&
              !props.readOnly &&
              !props.disabled) {
            console.warn(
              'You provided a `value` prop to a form field without an ' +
              '`onChange` handler. This will render a read-only field. If ' +
              'the field should be mutable use `defaultValue`. Otherwise, ' +
              'set either `onChange` or `readOnly`.'
            );
          }
        }
      },
      checked: function(props, propName, componentName) {
        if ("production" !== "development") {
          if (props[propName] &&
              !props.onChange &&
              !props.readOnly &&
              !props.disabled) {
            console.warn(
              'You provided a `checked` prop to a form field without an ' +
              '`onChange` handler. This will render a read-only field. If ' +
              'the field should be mutable use `defaultChecked`. Otherwise, ' +
              'set either `onChange` or `readOnly`.'
            );
          }
        }
      },
      onChange: ReactPropTypes.func
    }
  },

  /**
   * @param {ReactComponent} input Form component
   * @return {*} current value of the input either from value prop or link.
   */
  getValue: function(input) {
    if (input.props.valueLink) {
      _assertValueLink(input);
      return input.props.valueLink.value;
    }
    return input.props.value;
  },

  /**
   * @param {ReactComponent} input Form component
   * @return {*} current checked status of the input either from checked prop
   *             or link.
   */
  getChecked: function(input) {
    if (input.props.checkedLink) {
      _assertCheckedLink(input);
      return input.props.checkedLink.value;
    }
    return input.props.checked;
  },

  /**
   * @param {ReactComponent} input Form component
   * @return {function} change callback either from onChange prop or link.
   */
  getOnChange: function(input) {
    if (input.props.valueLink) {
      _assertValueLink(input);
      return _handleLinkedValueChange;
    } else if (input.props.checkedLink) {
      _assertCheckedLink(input);
      return _handleLinkedCheckChange;
    }
    return input.props.onChange;
  }
};

module.exports = LinkedValueUtils;

},{"./ReactPropTypes":64,"./invariant":108}],22:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule MobileSafariClickEventPlugin
 * @typechecks static-only
 */

"use strict";

var EventConstants = require("./EventConstants");

var emptyFunction = require("./emptyFunction");

var topLevelTypes = EventConstants.topLevelTypes;

/**
 * Mobile Safari does not fire properly bubble click events on non-interactive
 * elements, which means delegated click listeners do not fire. The workaround
 * for this bug involves attaching an empty click listener on the target node.
 *
 * This particular plugin works around the bug by attaching an empty click
 * listener on `touchstart` (which does fire on every element).
 */
var MobileSafariClickEventPlugin = {

  eventTypes: null,

  /**
   * @param {string} topLevelType Record from `EventConstants`.
   * @param {DOMEventTarget} topLevelTarget The listening component root node.
   * @param {string} topLevelTargetID ID of `topLevelTarget`.
   * @param {object} nativeEvent Native browser event.
   * @return {*} An accumulation of synthetic events.
   * @see {EventPluginHub.extractEvents}
   */
  extractEvents: function(
      topLevelType,
      topLevelTarget,
      topLevelTargetID,
      nativeEvent) {
    if (topLevelType === topLevelTypes.topTouchStart) {
      var target = nativeEvent.target;
      if (target && !target.onclick) {
        target.onclick = emptyFunction;
      }
    }
  }

};

module.exports = MobileSafariClickEventPlugin;

},{"./EventConstants":14,"./emptyFunction":95}],23:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule PooledClass
 */

"use strict";

var invariant = require("./invariant");

/**
 * Static poolers. Several custom versions for each potential number of
 * arguments. A completely generic pooler is easy to implement, but would
 * require accessing the `arguments` object. In each of these, `this` refers to
 * the Class itself, not an instance. If any others are needed, simply add them
 * here, or in their own files.
 */
var oneArgumentPooler = function(copyFieldsFrom) {
  var Klass = this;
  if (Klass.instancePool.length) {
    var instance = Klass.instancePool.pop();
    Klass.call(instance, copyFieldsFrom);
    return instance;
  } else {
    return new Klass(copyFieldsFrom);
  }
};

var twoArgumentPooler = function(a1, a2) {
  var Klass = this;
  if (Klass.instancePool.length) {
    var instance = Klass.instancePool.pop();
    Klass.call(instance, a1, a2);
    return instance;
  } else {
    return new Klass(a1, a2);
  }
};

var threeArgumentPooler = function(a1, a2, a3) {
  var Klass = this;
  if (Klass.instancePool.length) {
    var instance = Klass.instancePool.pop();
    Klass.call(instance, a1, a2, a3);
    return instance;
  } else {
    return new Klass(a1, a2, a3);
  }
};

var fiveArgumentPooler = function(a1, a2, a3, a4, a5) {
  var Klass = this;
  if (Klass.instancePool.length) {
    var instance = Klass.instancePool.pop();
    Klass.call(instance, a1, a2, a3, a4, a5);
    return instance;
  } else {
    return new Klass(a1, a2, a3, a4, a5);
  }
};

var standardReleaser = function(instance) {
  var Klass = this;
  ("production" !== "development" ? invariant(
    instance instanceof Klass,
    'Trying to release an instance into a pool of a different type.'
  ) : invariant(instance instanceof Klass));
  if (instance.destructor) {
    instance.destructor();
  }
  if (Klass.instancePool.length < Klass.poolSize) {
    Klass.instancePool.push(instance);
  }
};

var DEFAULT_POOL_SIZE = 10;
var DEFAULT_POOLER = oneArgumentPooler;

/**
 * Augments `CopyConstructor` to be a poolable class, augmenting only the class
 * itself (statically) not adding any prototypical fields. Any CopyConstructor
 * you give this may have a `poolSize` property, and will look for a
 * prototypical `destructor` on instances (optional).
 *
 * @param {Function} CopyConstructor Constructor that can be used to reset.
 * @param {Function} pooler Customizable pooler.
 */
var addPoolingTo = function(CopyConstructor, pooler) {
  var NewKlass = CopyConstructor;
  NewKlass.instancePool = [];
  NewKlass.getPooled = pooler || DEFAULT_POOLER;
  if (!NewKlass.poolSize) {
    NewKlass.poolSize = DEFAULT_POOL_SIZE;
  }
  NewKlass.release = standardReleaser;
  return NewKlass;
};

var PooledClass = {
  addPoolingTo: addPoolingTo,
  oneArgumentPooler: oneArgumentPooler,
  twoArgumentPooler: twoArgumentPooler,
  threeArgumentPooler: threeArgumentPooler,
  fiveArgumentPooler: fiveArgumentPooler
};

module.exports = PooledClass;

},{"./invariant":108}],24:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule React
 */

"use strict";

var DOMPropertyOperations = require("./DOMPropertyOperations");
var EventPluginUtils = require("./EventPluginUtils");
var ReactChildren = require("./ReactChildren");
var ReactComponent = require("./ReactComponent");
var ReactCompositeComponent = require("./ReactCompositeComponent");
var ReactContext = require("./ReactContext");
var ReactCurrentOwner = require("./ReactCurrentOwner");
var ReactDOM = require("./ReactDOM");
var ReactDOMComponent = require("./ReactDOMComponent");
var ReactDefaultInjection = require("./ReactDefaultInjection");
var ReactInstanceHandles = require("./ReactInstanceHandles");
var ReactMount = require("./ReactMount");
var ReactMultiChild = require("./ReactMultiChild");
var ReactPerf = require("./ReactPerf");
var ReactPropTypes = require("./ReactPropTypes");
var ReactServerRendering = require("./ReactServerRendering");
var ReactTextComponent = require("./ReactTextComponent");

var onlyChild = require("./onlyChild");

ReactDefaultInjection.inject();

var React = {
  Children: {
    map: ReactChildren.map,
    forEach: ReactChildren.forEach,
    only: onlyChild
  },
  DOM: ReactDOM,
  PropTypes: ReactPropTypes,
  initializeTouchEvents: function(shouldUseTouch) {
    EventPluginUtils.useTouchEvents = shouldUseTouch;
  },
  createClass: ReactCompositeComponent.createClass,
  constructAndRenderComponent: ReactMount.constructAndRenderComponent,
  constructAndRenderComponentByID: ReactMount.constructAndRenderComponentByID,
  renderComponent: ReactPerf.measure(
    'React',
    'renderComponent',
    ReactMount.renderComponent
  ),
  renderComponentToString: ReactServerRendering.renderComponentToString,
  unmountComponentAtNode: ReactMount.unmountComponentAtNode,
  isValidClass: ReactCompositeComponent.isValidClass,
  isValidComponent: ReactComponent.isValidComponent,
  withContext: ReactContext.withContext,
  __internals: {
    Component: ReactComponent,
    CurrentOwner: ReactCurrentOwner,
    DOMComponent: ReactDOMComponent,
    DOMPropertyOperations: DOMPropertyOperations,
    InstanceHandles: ReactInstanceHandles,
    Mount: ReactMount,
    MultiChild: ReactMultiChild,
    TextComponent: ReactTextComponent
  }
};

if ("production" !== "development") {
  var ExecutionEnvironment = require("./ExecutionEnvironment");
  if (ExecutionEnvironment.canUseDOM &&
      window.top === window.self &&
      navigator.userAgent.indexOf('Chrome') > -1) {
    console.debug(
      'Download the React DevTools for a better development experience: ' +
      'http://fb.me/react-devtools'
    );
  }
}

// Version exists only in the open-source version of React, not in Facebook's
// internal version.
React.version = '0.9.0';

module.exports = React;

},{"./DOMPropertyOperations":9,"./EventPluginUtils":18,"./ExecutionEnvironment":20,"./ReactChildren":25,"./ReactComponent":26,"./ReactCompositeComponent":29,"./ReactContext":30,"./ReactCurrentOwner":31,"./ReactDOM":32,"./ReactDOMComponent":34,"./ReactDefaultInjection":44,"./ReactInstanceHandles":53,"./ReactMount":55,"./ReactMultiChild":57,"./ReactPerf":60,"./ReactPropTypes":64,"./ReactServerRendering":68,"./ReactTextComponent":69,"./onlyChild":123}],25:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactChildren
 */

"use strict";

var PooledClass = require("./PooledClass");

var invariant = require("./invariant");
var traverseAllChildren = require("./traverseAllChildren");

var twoArgumentPooler = PooledClass.twoArgumentPooler;
var threeArgumentPooler = PooledClass.threeArgumentPooler;

/**
 * PooledClass representing the bookkeeping associated with performing a child
 * traversal. Allows avoiding binding callbacks.
 *
 * @constructor ForEachBookKeeping
 * @param {!function} forEachFunction Function to perform traversal with.
 * @param {?*} forEachContext Context to perform context with.
 */
function ForEachBookKeeping(forEachFunction, forEachContext) {
  this.forEachFunction = forEachFunction;
  this.forEachContext = forEachContext;
}
PooledClass.addPoolingTo(ForEachBookKeeping, twoArgumentPooler);

function forEachSingleChild(traverseContext, child, name, i) {
  var forEachBookKeeping = traverseContext;
  forEachBookKeeping.forEachFunction.call(
    forEachBookKeeping.forEachContext, child, i);
}

/**
 * Iterates through children that are typically specified as `props.children`.
 *
 * The provided forEachFunc(child, index) will be called for each
 * leaf child.
 *
 * @param {?*} children Children tree container.
 * @param {function(*, int)} forEachFunc.
 * @param {*} forEachContext Context for forEachContext.
 */
function forEachChildren(children, forEachFunc, forEachContext) {
  if (children == null) {
    return children;
  }

  var traverseContext =
    ForEachBookKeeping.getPooled(forEachFunc, forEachContext);
  traverseAllChildren(children, forEachSingleChild, traverseContext);
  ForEachBookKeeping.release(traverseContext);
}

/**
 * PooledClass representing the bookkeeping associated with performing a child
 * mapping. Allows avoiding binding callbacks.
 *
 * @constructor MapBookKeeping
 * @param {!*} mapResult Object containing the ordered map of results.
 * @param {!function} mapFunction Function to perform mapping with.
 * @param {?*} mapContext Context to perform mapping with.
 */
function MapBookKeeping(mapResult, mapFunction, mapContext) {
  this.mapResult = mapResult;
  this.mapFunction = mapFunction;
  this.mapContext = mapContext;
}
PooledClass.addPoolingTo(MapBookKeeping, threeArgumentPooler);

function mapSingleChildIntoContext(traverseContext, child, name, i) {
  var mapBookKeeping = traverseContext;
  var mapResult = mapBookKeeping.mapResult;
  var mappedChild =
    mapBookKeeping.mapFunction.call(mapBookKeeping.mapContext, child, i);
  // We found a component instance
  ("production" !== "development" ? invariant(
    !mapResult.hasOwnProperty(name),
    'ReactChildren.map(...): Encountered two children with the same key, ' +
    '`%s`. Children keys must be unique.',
    name
  ) : invariant(!mapResult.hasOwnProperty(name)));
  mapResult[name] = mappedChild;
}

/**
 * Maps children that are typically specified as `props.children`.
 *
 * The provided mapFunction(child, key, index) will be called for each
 * leaf child.
 *
 * TODO: This may likely break any calls to `ReactChildren.map` that were
 * previously relying on the fact that we guarded against null children.
 *
 * @param {?*} children Children tree container.
 * @param {function(*, int)} mapFunction.
 * @param {*} mapContext Context for mapFunction.
 * @return {object} Object containing the ordered map of results.
 */
function mapChildren(children, func, context) {
  if (children == null) {
    return children;
  }

  var mapResult = {};
  var traverseContext = MapBookKeeping.getPooled(mapResult, func, context);
  traverseAllChildren(children, mapSingleChildIntoContext, traverseContext);
  MapBookKeeping.release(traverseContext);
  return mapResult;
}

var ReactChildren = {
  forEach: forEachChildren,
  map: mapChildren
};

module.exports = ReactChildren;

},{"./PooledClass":23,"./invariant":108,"./traverseAllChildren":128}],26:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactComponent
 */

"use strict";

var ReactComponentEnvironment = require("./ReactComponentEnvironment");
var ReactCurrentOwner = require("./ReactCurrentOwner");
var ReactOwner = require("./ReactOwner");
var ReactUpdates = require("./ReactUpdates");

var invariant = require("./invariant");
var keyMirror = require("./keyMirror");
var merge = require("./merge");

/**
 * Every React component is in one of these life cycles.
 */
var ComponentLifeCycle = keyMirror({
  /**
   * Mounted components have a DOM node representation and are capable of
   * receiving new props.
   */
  MOUNTED: null,
  /**
   * Unmounted components are inactive and cannot receive new props.
   */
  UNMOUNTED: null
});

/**
 * Warn if there's no key explicitly set on dynamic arrays of children or
 * object keys are not valid. This allows us to keep track of children between
 * updates.
 */

var ownerHasExplicitKeyWarning = {};
var ownerHasPropertyWarning = {};

var NUMERIC_PROPERTY_REGEX = /^\d+$/;

/**
 * Warn if the component doesn't have an explicit key assigned to it.
 * This component is in an array. The array could grow and shrink or be
 * reordered. All children that haven't already been validated are required to
 * have a "key" property assigned to it.
 *
 * @internal
 * @param {ReactComponent} component Component that requires a key.
 */
function validateExplicitKey(component) {
  if (component.__keyValidated__ || component.props.key != null) {
    return;
  }
  component.__keyValidated__ = true;

  // We can't provide friendly warnings for top level components.
  if (!ReactCurrentOwner.current) {
    return;
  }

  // Name of the component whose render method tried to pass children.
  var currentName = ReactCurrentOwner.current.constructor.displayName;
  if (ownerHasExplicitKeyWarning.hasOwnProperty(currentName)) {
    return;
  }
  ownerHasExplicitKeyWarning[currentName] = true;

  var message = 'Each child in an array should have a unique "key" prop. ' +
                'Check the render method of ' + currentName + '.';
  if (!component.isOwnedBy(ReactCurrentOwner.current)) {
    // Name of the component that originally created this child.
    var childOwnerName =
      component._owner &&
      component._owner.constructor.displayName;

    // Usually the current owner is the offender, but if it accepts
    // children as a property, it may be the creator of the child that's
    // responsible for assigning it a key.
    message += ' It was passed a child from ' + childOwnerName + '.';
  }

  message += ' See http://fb.me/react-warning-keys for more information.';
  console.warn(message);
}

/**
 * Warn if the key is being defined as an object property but has an incorrect
 * value.
 *
 * @internal
 * @param {string} name Property name of the key.
 * @param {ReactComponent} component Component that requires a key.
 */
function validatePropertyKey(name) {
  if (NUMERIC_PROPERTY_REGEX.test(name)) {
    // Name of the component whose render method tried to pass children.
    var currentName = ReactCurrentOwner.current.constructor.displayName;
    if (ownerHasPropertyWarning.hasOwnProperty(currentName)) {
      return;
    }
    ownerHasPropertyWarning[currentName] = true;

    console.warn(
      'Child objects should have non-numeric keys so ordering is preserved. ' +
      'Check the render method of ' + currentName + '. ' +
      'See http://fb.me/react-warning-keys for more information.'
    );
  }
}

/**
 * Ensure that every component either is passed in a static location, in an
 * array with an explicit keys property defined, or in an object literal
 * with valid key property.
 *
 * @internal
 * @param {*} component Statically passed child of any type.
 * @return {boolean}
 */
function validateChildKeys(component) {
  if (Array.isArray(component)) {
    for (var i = 0; i < component.length; i++) {
      var child = component[i];
      if (ReactComponent.isValidComponent(child)) {
        validateExplicitKey(child);
      }
    }
  } else if (ReactComponent.isValidComponent(component)) {
    // This component was passed in a valid location.
    component.__keyValidated__ = true;
  } else if (component && typeof component === 'object') {
    for (var name in component) {
      validatePropertyKey(name, component);
    }
  }
}

/**
 * Components are the basic units of composition in React.
 *
 * Every component accepts a set of keyed input parameters known as "props" that
 * are initialized by the constructor. Once a component is mounted, the props
 * can be mutated using `setProps` or `replaceProps`.
 *
 * Every component is capable of the following operations:
 *
 *   `mountComponent`
 *     Initializes the component, renders markup, and registers event listeners.
 *
 *   `receiveComponent`
 *     Updates the rendered DOM nodes to match the given component.
 *
 *   `unmountComponent`
 *     Releases any resources allocated by this component.
 *
 * Components can also be "owned" by other components. Being owned by another
 * component means being constructed by that component. This is different from
 * being the child of a component, which means having a DOM representation that
 * is a child of the DOM representation of that component.
 *
 * @class ReactComponent
 */
var ReactComponent = {

  /**
   * @param {?object} object
   * @return {boolean} True if `object` is a valid component.
   * @final
   */
  isValidComponent: function(object) {
    if (!object || !object.type || !object.type.prototype) {
      return false;
    }
    // This is the safer way of duck checking the type of instance this is.
    // The object can be a generic descriptor but the type property refers to
    // the constructor and it's prototype can be used to inspect the type that
    // will actually get mounted.
    var prototype = object.type.prototype;
    return (
      typeof prototype.mountComponentIntoNode === 'function' &&
      typeof prototype.receiveComponent === 'function'
    );
  },

  /**
   * @internal
   */
  LifeCycle: ComponentLifeCycle,

  /**
   * Injected module that provides ability to mutate individual properties.
   * Injected into the base class because many different subclasses need access
   * to this.
   *
   * @internal
   */
  BackendIDOperations: ReactComponentEnvironment.BackendIDOperations,

  /**
   * Optionally injectable environment dependent cleanup hook. (server vs.
   * browser etc). Example: A browser system caches DOM nodes based on component
   * ID and must remove that cache entry when this instance is unmounted.
   *
   * @private
   */
  unmountIDFromEnvironment: ReactComponentEnvironment.unmountIDFromEnvironment,

  /**
   * The "image" of a component tree, is the platform specific (typically
   * serialized) data that represents a tree of lower level UI building blocks.
   * On the web, this "image" is HTML markup which describes a construction of
   * low level `div` and `span` nodes. Other platforms may have different
   * encoding of this "image". This must be injected.
   *
   * @private
   */
  mountImageIntoNode: ReactComponentEnvironment.mountImageIntoNode,

  /**
   * React references `ReactReconcileTransaction` using this property in order
   * to allow dependency injection.
   *
   * @internal
   */
  ReactReconcileTransaction:
    ReactComponentEnvironment.ReactReconcileTransaction,

  /**
   * Base functionality for every ReactComponent constructor. Mixed into the
   * `ReactComponent` prototype, but exposed statically for easy access.
   *
   * @lends {ReactComponent.prototype}
   */
  Mixin: merge(ReactComponentEnvironment.Mixin, {

    /**
     * Checks whether or not this component is mounted.
     *
     * @return {boolean} True if mounted, false otherwise.
     * @final
     * @protected
     */
    isMounted: function() {
      return this._lifeCycleState === ComponentLifeCycle.MOUNTED;
    },

    /**
     * Sets a subset of the props.
     *
     * @param {object} partialProps Subset of the next props.
     * @param {?function} callback Called after props are updated.
     * @final
     * @public
     */
    setProps: function(partialProps, callback) {
      // Merge with `_pendingProps` if it exists, otherwise with existing props.
      this.replaceProps(
        merge(this._pendingProps || this.props, partialProps),
        callback
      );
    },

    /**
     * Replaces all of the props.
     *
     * @param {object} props New props.
     * @param {?function} callback Called after props are updated.
     * @final
     * @public
     */
    replaceProps: function(props, callback) {
      ("production" !== "development" ? invariant(
        this.isMounted(),
        'replaceProps(...): Can only update a mounted component.'
      ) : invariant(this.isMounted()));
      ("production" !== "development" ? invariant(
        this._mountDepth === 0,
        'replaceProps(...): You called `setProps` or `replaceProps` on a ' +
        'component with a parent. This is an anti-pattern since props will ' +
        'get reactively updated when rendered. Instead, change the owner\'s ' +
        '`render` method to pass the correct value as props to the component ' +
        'where it is created.'
      ) : invariant(this._mountDepth === 0));
      this._pendingProps = props;
      ReactUpdates.enqueueUpdate(this, callback);
    },

    /**
     * Base constructor for all React components.
     *
     * Subclasses that override this method should make sure to invoke
     * `ReactComponent.Mixin.construct.call(this, ...)`.
     *
     * @param {?object} initialProps
     * @param {*} children
     * @internal
     */
    construct: function(initialProps, children) {
      this.props = initialProps || {};
      // Record the component responsible for creating this component.
      this._owner = ReactCurrentOwner.current;
      // All components start unmounted.
      this._lifeCycleState = ComponentLifeCycle.UNMOUNTED;

      this._pendingProps = null;
      this._pendingCallbacks = null;

      // Unlike _pendingProps and _pendingCallbacks, we won't use null to
      // indicate that nothing is pending because it's possible for a component
      // to have a null owner. Instead, an owner change is pending when
      // this._owner !== this._pendingOwner.
      this._pendingOwner = this._owner;

      // Children can be more than one argument
      var childrenLength = arguments.length - 1;
      if (childrenLength === 1) {
        if ("production" !== "development") {
          validateChildKeys(children);
        }
        this.props.children = children;
      } else if (childrenLength > 1) {
        var childArray = Array(childrenLength);
        for (var i = 0; i < childrenLength; i++) {
          if ("production" !== "development") {
            validateChildKeys(arguments[i + 1]);
          }
          childArray[i] = arguments[i + 1];
        }
        this.props.children = childArray;
      }
    },

    /**
     * Initializes the component, renders markup, and registers event listeners.
     *
     * NOTE: This does not insert any nodes into the DOM.
     *
     * Subclasses that override this method should make sure to invoke
     * `ReactComponent.Mixin.mountComponent.call(this, ...)`.
     *
     * @param {string} rootID DOM ID of the root node.
     * @param {ReactReconcileTransaction} transaction
     * @param {number} mountDepth number of components in the owner hierarchy.
     * @return {?string} Rendered markup to be inserted into the DOM.
     * @internal
     */
    mountComponent: function(rootID, transaction, mountDepth) {
      ("production" !== "development" ? invariant(
        !this.isMounted(),
        'mountComponent(%s, ...): Can only mount an unmounted component. ' +
        'Make sure to avoid storing components between renders or reusing a ' +
        'single component instance in multiple places.',
        rootID
      ) : invariant(!this.isMounted()));
      var props = this.props;
      if (props.ref != null) {
        ReactOwner.addComponentAsRefTo(this, props.ref, this._owner);
      }
      this._rootNodeID = rootID;
      this._lifeCycleState = ComponentLifeCycle.MOUNTED;
      this._mountDepth = mountDepth;
      // Effectively: return '';
    },

    /**
     * Releases any resources allocated by `mountComponent`.
     *
     * NOTE: This does not remove any nodes from the DOM.
     *
     * Subclasses that override this method should make sure to invoke
     * `ReactComponent.Mixin.unmountComponent.call(this)`.
     *
     * @internal
     */
    unmountComponent: function() {
      ("production" !== "development" ? invariant(
        this.isMounted(),
        'unmountComponent(): Can only unmount a mounted component.'
      ) : invariant(this.isMounted()));
      var props = this.props;
      if (props.ref != null) {
        ReactOwner.removeComponentAsRefFrom(this, props.ref, this._owner);
      }
      ReactComponent.unmountIDFromEnvironment(this._rootNodeID);
      this._rootNodeID = null;
      this._lifeCycleState = ComponentLifeCycle.UNMOUNTED;
    },

    /**
     * Given a new instance of this component, updates the rendered DOM nodes
     * as if that instance was rendered instead.
     *
     * Subclasses that override this method should make sure to invoke
     * `ReactComponent.Mixin.receiveComponent.call(this, ...)`.
     *
     * @param {object} nextComponent Next set of properties.
     * @param {ReactReconcileTransaction} transaction
     * @internal
     */
    receiveComponent: function(nextComponent, transaction) {
      ("production" !== "development" ? invariant(
        this.isMounted(),
        'receiveComponent(...): Can only update a mounted component.'
      ) : invariant(this.isMounted()));
      this._pendingOwner = nextComponent._owner;
      this._pendingProps = nextComponent.props;
      this._performUpdateIfNecessary(transaction);
    },

    /**
     * Call `_performUpdateIfNecessary` within a new transaction.
     *
     * @param {ReactReconcileTransaction} transaction
     * @internal
     */
    performUpdateIfNecessary: function() {
      var transaction = ReactComponent.ReactReconcileTransaction.getPooled();
      transaction.perform(this._performUpdateIfNecessary, this, transaction);
      ReactComponent.ReactReconcileTransaction.release(transaction);
    },

    /**
     * If `_pendingProps` is set, update the component.
     *
     * @param {ReactReconcileTransaction} transaction
     * @internal
     */
    _performUpdateIfNecessary: function(transaction) {
      if (this._pendingProps == null) {
        return;
      }
      var prevProps = this.props;
      var prevOwner = this._owner;
      this.props = this._pendingProps;
      this._owner = this._pendingOwner;
      this._pendingProps = null;
      this.updateComponent(transaction, prevProps, prevOwner);
    },

    /**
     * Updates the component's currently mounted representation.
     *
     * @param {ReactReconcileTransaction} transaction
     * @param {object} prevProps
     * @internal
     */
    updateComponent: function(transaction, prevProps, prevOwner) {
      var props = this.props;
      // If either the owner or a `ref` has changed, make sure the newest owner
      // has stored a reference to `this`, and the previous owner (if different)
      // has forgotten the reference to `this`.
      if (this._owner !== prevOwner || props.ref !== prevProps.ref) {
        if (prevProps.ref != null) {
          ReactOwner.removeComponentAsRefFrom(
            this, prevProps.ref, prevOwner
          );
        }
        // Correct, even if the owner is the same, and only the ref has changed.
        if (props.ref != null) {
          ReactOwner.addComponentAsRefTo(this, props.ref, this._owner);
        }
      }
    },

    /**
     * Mounts this component and inserts it into the DOM.
     *
     * @param {string} rootID DOM ID of the root node.
     * @param {DOMElement} container DOM element to mount into.
     * @param {boolean} shouldReuseMarkup If true, do not insert markup
     * @final
     * @internal
     * @see {ReactMount.renderComponent}
     */
    mountComponentIntoNode: function(rootID, container, shouldReuseMarkup) {
      var transaction = ReactComponent.ReactReconcileTransaction.getPooled();
      transaction.perform(
        this._mountComponentIntoNode,
        this,
        rootID,
        container,
        transaction,
        shouldReuseMarkup
      );
      ReactComponent.ReactReconcileTransaction.release(transaction);
    },

    /**
     * @param {string} rootID DOM ID of the root node.
     * @param {DOMElement} container DOM element to mount into.
     * @param {ReactReconcileTransaction} transaction
     * @param {boolean} shouldReuseMarkup If true, do not insert markup
     * @final
     * @private
     */
    _mountComponentIntoNode: function(
        rootID,
        container,
        transaction,
        shouldReuseMarkup) {
      var markup = this.mountComponent(rootID, transaction, 0);
      ReactComponent.mountImageIntoNode(markup, container, shouldReuseMarkup);
    },

    /**
     * Checks if this component is owned by the supplied `owner` component.
     *
     * @param {ReactComponent} owner Component to check.
     * @return {boolean} True if `owners` owns this component.
     * @final
     * @internal
     */
    isOwnedBy: function(owner) {
      return this._owner === owner;
    },

    /**
     * Gets another component, that shares the same owner as this one, by ref.
     *
     * @param {string} ref of a sibling Component.
     * @return {?ReactComponent} the actual sibling Component.
     * @final
     * @internal
     */
    getSiblingByRef: function(ref) {
      var owner = this._owner;
      if (!owner || !owner.refs) {
        return null;
      }
      return owner.refs[ref];
    }
  })
};

module.exports = ReactComponent;

},{"./ReactComponentEnvironment":28,"./ReactCurrentOwner":31,"./ReactOwner":59,"./ReactUpdates":70,"./invariant":108,"./keyMirror":114,"./merge":117}],27:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactComponentBrowserEnvironment
 */

/*jslint evil: true */

"use strict";

var ReactDOMIDOperations = require("./ReactDOMIDOperations");
var ReactMarkupChecksum = require("./ReactMarkupChecksum");
var ReactMount = require("./ReactMount");
var ReactPerf = require("./ReactPerf");
var ReactReconcileTransaction = require("./ReactReconcileTransaction");

var getReactRootElementInContainer = require("./getReactRootElementInContainer");
var invariant = require("./invariant");


var ELEMENT_NODE_TYPE = 1;
var DOC_NODE_TYPE = 9;


/**
 * Abstracts away all functionality of `ReactComponent` requires knowledge of
 * the browser context.
 */
var ReactComponentBrowserEnvironment = {
  /**
   * Mixed into every component instance.
   */
  Mixin: {
    /**
     * Returns the DOM node rendered by this component.
     *
     * @return {DOMElement} The root node of this component.
     * @final
     * @protected
     */
    getDOMNode: function() {
      ("production" !== "development" ? invariant(
        this.isMounted(),
        'getDOMNode(): A component must be mounted to have a DOM node.'
      ) : invariant(this.isMounted()));
      return ReactMount.getNode(this._rootNodeID);
    }
  },

  ReactReconcileTransaction: ReactReconcileTransaction,

  BackendIDOperations: ReactDOMIDOperations,

  /**
   * If a particular environment requires that some resources be cleaned up,
   * specify this in the injected Mixin. In the DOM, we would likely want to
   * purge any cached node ID lookups.
   *
   * @private
   */
  unmountIDFromEnvironment: function(rootNodeID) {
    ReactMount.purgeID(rootNodeID);
  },

  /**
   * @param {string} markup Markup string to place into the DOM Element.
   * @param {DOMElement} container DOM Element to insert markup into.
   * @param {boolean} shouldReuseMarkup Should reuse the existing markup in the
   * container if possible.
   */
  mountImageIntoNode: ReactPerf.measure(
    'ReactComponentBrowserEnvironment',
    'mountImageIntoNode',
    function(markup, container, shouldReuseMarkup) {
      ("production" !== "development" ? invariant(
        container && (
          container.nodeType === ELEMENT_NODE_TYPE ||
            container.nodeType === DOC_NODE_TYPE
        ),
        'mountComponentIntoNode(...): Target container is not valid.'
      ) : invariant(container && (
        container.nodeType === ELEMENT_NODE_TYPE ||
          container.nodeType === DOC_NODE_TYPE
      )));

      if (shouldReuseMarkup) {
        if (ReactMarkupChecksum.canReuseMarkup(
          markup,
          getReactRootElementInContainer(container))) {
          return;
        } else {
          ("production" !== "development" ? invariant(
            container.nodeType !== DOC_NODE_TYPE,
            'You\'re trying to render a component to the document using ' +
            'server rendering but the checksum was invalid. This usually ' +
            'means you rendered a different component type or props on ' +
            'the client from the one on the server, or your render() ' +
            'methods are impure. React cannot handle this case due to ' +
            'cross-browser quirks by rendering at the document root. You ' +
            'should look for environment dependent code in your components ' +
            'and ensure the props are the same client and server side.'
          ) : invariant(container.nodeType !== DOC_NODE_TYPE));

          if ("production" !== "development") {
            console.warn(
              'React attempted to use reuse markup in a container but the ' +
              'checksum was invalid. This generally means that you are ' +
              'using server rendering and the markup generated on the ' +
              'server was not what the client was expecting. React injected' +
              'new markup to compensate which works but you have lost many ' +
              'of the benefits of server rendering. Instead, figure out ' +
              'why the markup being generated is different on the client ' +
              'or server.'
            );
          }
        }
      }

      ("production" !== "development" ? invariant(
        container.nodeType !== DOC_NODE_TYPE,
        'You\'re trying to render a component to the document but ' +
          'you didn\'t use server rendering. We can\'t do this ' +
          'without using server rendering due to cross-browser quirks. ' +
          'See renderComponentToString() for server rendering.'
      ) : invariant(container.nodeType !== DOC_NODE_TYPE));

      // Asynchronously inject markup by ensuring that the container is not in
      // the document when settings its `innerHTML`.
      var parent = container.parentNode;
      if (parent) {
        var next = container.nextSibling;
        parent.removeChild(container);
        container.innerHTML = markup;
        if (next) {
          parent.insertBefore(container, next);
        } else {
          parent.appendChild(container);
        }
      } else {
        container.innerHTML = markup;
      }
    }
  )
};

module.exports = ReactComponentBrowserEnvironment;

},{"./ReactDOMIDOperations":36,"./ReactMarkupChecksum":54,"./ReactMount":55,"./ReactPerf":60,"./ReactReconcileTransaction":66,"./getReactRootElementInContainer":104,"./invariant":108}],28:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactComponentEnvironment
 */

"use strict";

var ReactComponentBrowserEnvironment =
  require("./ReactComponentBrowserEnvironment");

var ReactComponentEnvironment = ReactComponentBrowserEnvironment;

module.exports = ReactComponentEnvironment;

},{"./ReactComponentBrowserEnvironment":27}],29:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactCompositeComponent
 */

"use strict";

var ReactComponent = require("./ReactComponent");
var ReactContext = require("./ReactContext");
var ReactCurrentOwner = require("./ReactCurrentOwner");
var ReactErrorUtils = require("./ReactErrorUtils");
var ReactOwner = require("./ReactOwner");
var ReactPerf = require("./ReactPerf");
var ReactPropTransferer = require("./ReactPropTransferer");
var ReactPropTypeLocations = require("./ReactPropTypeLocations");
var ReactPropTypeLocationNames = require("./ReactPropTypeLocationNames");
var ReactUpdates = require("./ReactUpdates");

var invariant = require("./invariant");
var keyMirror = require("./keyMirror");
var merge = require("./merge");
var mixInto = require("./mixInto");
var objMap = require("./objMap");
var shouldUpdateReactComponent = require("./shouldUpdateReactComponent");

/**
 * Policies that describe methods in `ReactCompositeComponentInterface`.
 */
var SpecPolicy = keyMirror({
  /**
   * These methods may be defined only once by the class specification or mixin.
   */
  DEFINE_ONCE: null,
  /**
   * These methods may be defined by both the class specification and mixins.
   * Subsequent definitions will be chained. These methods must return void.
   */
  DEFINE_MANY: null,
  /**
   * These methods are overriding the base ReactCompositeComponent class.
   */
  OVERRIDE_BASE: null,
  /**
   * These methods are similar to DEFINE_MANY, except we assume they return
   * objects. We try to merge the keys of the return values of all the mixed in
   * functions. If there is a key conflict we throw.
   */
  DEFINE_MANY_MERGED: null
});

/**
 * Composite components are higher-level components that compose other composite
 * or native components.
 *
 * To create a new type of `ReactCompositeComponent`, pass a specification of
 * your new class to `React.createClass`. The only requirement of your class
 * specification is that you implement a `render` method.
 *
 *   var MyComponent = React.createClass({
 *     render: function() {
 *       return <div>Hello World</div>;
 *     }
 *   });
 *
 * The class specification supports a specific protocol of methods that have
 * special meaning (e.g. `render`). See `ReactCompositeComponentInterface` for
 * more the comprehensive protocol. Any other properties and methods in the
 * class specification will available on the prototype.
 *
 * @interface ReactCompositeComponentInterface
 * @internal
 */
var ReactCompositeComponentInterface = {

  /**
   * An array of Mixin objects to include when defining your component.
   *
   * @type {array}
   * @optional
   */
  mixins: SpecPolicy.DEFINE_MANY,

  /**
   * An object containing properties and methods that should be defined on
   * the component's constructor instead of its prototype (static methods).
   *
   * @type {object}
   * @optional
   */
  statics: SpecPolicy.DEFINE_MANY,

  /**
   * Definition of prop types for this component.
   *
   * @type {object}
   * @optional
   */
  propTypes: SpecPolicy.DEFINE_MANY,

  /**
   * Definition of context types for this component.
   *
   * @type {object}
   * @optional
   */
  contextTypes: SpecPolicy.DEFINE_MANY,

  /**
   * Definition of context types this component sets for its children.
   *
   * @type {object}
   * @optional
   */
  childContextTypes: SpecPolicy.DEFINE_MANY,

  // ==== Definition methods ====

  /**
   * Invoked when the component is mounted. Values in the mapping will be set on
   * `this.props` if that prop is not specified (i.e. using an `in` check).
   *
   * This method is invoked before `getInitialState` and therefore cannot rely
   * on `this.state` or use `this.setState`.
   *
   * @return {object}
   * @optional
   */
  getDefaultProps: SpecPolicy.DEFINE_MANY_MERGED,

  /**
   * Invoked once before the component is mounted. The return value will be used
   * as the initial value of `this.state`.
   *
   *   getInitialState: function() {
   *     return {
   *       isOn: false,
   *       fooBaz: new BazFoo()
   *     }
   *   }
   *
   * @return {object}
   * @optional
   */
  getInitialState: SpecPolicy.DEFINE_MANY_MERGED,

  /**
   * @return {object}
   * @optional
   */
  getChildContext: SpecPolicy.DEFINE_MANY_MERGED,

  /**
   * Uses props from `this.props` and state from `this.state` to render the
   * structure of the component.
   *
   * No guarantees are made about when or how often this method is invoked, so
   * it must not have side effects.
   *
   *   render: function() {
   *     var name = this.props.name;
   *     return <div>Hello, {name}!</div>;
   *   }
   *
   * @return {ReactComponent}
   * @nosideeffects
   * @required
   */
  render: SpecPolicy.DEFINE_ONCE,



  // ==== Delegate methods ====

  /**
   * Invoked when the component is initially created and about to be mounted.
   * This may have side effects, but any external subscriptions or data created
   * by this method must be cleaned up in `componentWillUnmount`.
   *
   * @optional
   */
  componentWillMount: SpecPolicy.DEFINE_MANY,

  /**
   * Invoked when the component has been mounted and has a DOM representation.
   * However, there is no guarantee that the DOM node is in the document.
   *
   * Use this as an opportunity to operate on the DOM when the component has
   * been mounted (initialized and rendered) for the first time.
   *
   * @param {DOMElement} rootNode DOM element representing the component.
   * @optional
   */
  componentDidMount: SpecPolicy.DEFINE_MANY,

  /**
   * Invoked before the component receives new props.
   *
   * Use this as an opportunity to react to a prop transition by updating the
   * state using `this.setState`. Current props are accessed via `this.props`.
   *
   *   componentWillReceiveProps: function(nextProps, nextContext) {
   *     this.setState({
   *       likesIncreasing: nextProps.likeCount > this.props.likeCount
   *     });
   *   }
   *
   * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop
   * transition may cause a state change, but the opposite is not true. If you
   * need it, you are probably looking for `componentWillUpdate`.
   *
   * @param {object} nextProps
   * @optional
   */
  componentWillReceiveProps: SpecPolicy.DEFINE_MANY,

  /**
   * Invoked while deciding if the component should be updated as a result of
   * receiving new props, state and/or context.
   *
   * Use this as an opportunity to `return false` when you're certain that the
   * transition to the new props/state/context will not require a component
   * update.
   *
   *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {
   *     return !equal(nextProps, this.props) ||
   *       !equal(nextState, this.state) ||
   *       !equal(nextContext, this.context);
   *   }
   *
   * @param {object} nextProps
   * @param {?object} nextState
   * @param {?object} nextContext
   * @return {boolean} True if the component should update.
   * @optional
   */
  shouldComponentUpdate: SpecPolicy.DEFINE_ONCE,

  /**
   * Invoked when the component is about to update due to a transition from
   * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`
   * and `nextContext`.
   *
   * Use this as an opportunity to perform preparation before an update occurs.
   *
   * NOTE: You **cannot** use `this.setState()` in this method.
   *
   * @param {object} nextProps
   * @param {?object} nextState
   * @param {?object} nextContext
   * @param {ReactReconcileTransaction} transaction
   * @optional
   */
  componentWillUpdate: SpecPolicy.DEFINE_MANY,

  /**
   * Invoked when the component's DOM representation has been updated.
   *
   * Use this as an opportunity to operate on the DOM when the component has
   * been updated.
   *
   * @param {object} prevProps
   * @param {?object} prevState
   * @param {?object} prevContext
   * @param {DOMElement} rootNode DOM element representing the component.
   * @optional
   */
  componentDidUpdate: SpecPolicy.DEFINE_MANY,

  /**
   * Invoked when the component is about to be removed from its parent and have
   * its DOM representation destroyed.
   *
   * Use this as an opportunity to deallocate any external resources.
   *
   * NOTE: There is no `componentDidUnmount` since your component will have been
   * destroyed by that point.
   *
   * @optional
   */
  componentWillUnmount: SpecPolicy.DEFINE_MANY,



  // ==== Advanced methods ====

  /**
   * Updates the component's currently mounted DOM representation.
   *
   * By default, this implements React's rendering and reconciliation algorithm.
   * Sophisticated clients may wish to override this.
   *
   * @param {ReactReconcileTransaction} transaction
   * @internal
   * @overridable
   */
  updateComponent: SpecPolicy.OVERRIDE_BASE

};

/**
 * Mapping from class specification keys to special processing functions.
 *
 * Although these are declared like instance properties in the specification
 * when defining classes using `React.createClass`, they are actually static
 * and are accessible on the constructor instead of the prototype. Despite
 * being static, they must be defined outside of the "statics" key under
 * which all other static methods are defined.
 */
var RESERVED_SPEC_KEYS = {
  displayName: function(ConvenienceConstructor, displayName) {
    ConvenienceConstructor.componentConstructor.displayName = displayName;
  },
  mixins: function(ConvenienceConstructor, mixins) {
    if (mixins) {
      for (var i = 0; i < mixins.length; i++) {
        mixSpecIntoComponent(ConvenienceConstructor, mixins[i]);
      }
    }
  },
  childContextTypes: function(ConvenienceConstructor, childContextTypes) {
    var Constructor = ConvenienceConstructor.componentConstructor;
    validateTypeDef(
      Constructor,
      childContextTypes,
      ReactPropTypeLocations.childContext
    );
    Constructor.childContextTypes = merge(
      Constructor.childContextTypes,
      childContextTypes
    );
  },
  contextTypes: function(ConvenienceConstructor, contextTypes) {
    var Constructor = ConvenienceConstructor.componentConstructor;
    validateTypeDef(
      Constructor,
      contextTypes,
      ReactPropTypeLocations.context
    );
    Constructor.contextTypes = merge(Constructor.contextTypes, contextTypes);
  },
  propTypes: function(ConvenienceConstructor, propTypes) {
    var Constructor = ConvenienceConstructor.componentConstructor;
    validateTypeDef(
      Constructor,
      propTypes,
      ReactPropTypeLocations.prop
    );
    Constructor.propTypes = merge(Constructor.propTypes, propTypes);
  },
  statics: function(ConvenienceConstructor, statics) {
    mixStaticSpecIntoComponent(ConvenienceConstructor, statics);
  }
};

function validateTypeDef(Constructor, typeDef, location) {
  for (var propName in typeDef) {
    if (typeDef.hasOwnProperty(propName)) {
      ("production" !== "development" ? invariant(
        typeof typeDef[propName] == 'function',
        '%s: %s type `%s` is invalid; it must be a function, usually from ' +
        'React.PropTypes.',
        Constructor.displayName || 'ReactCompositeComponent',
        ReactPropTypeLocationNames[location],
        propName
      ) : invariant(typeof typeDef[propName] == 'function'));
    }
  }
}

function validateMethodOverride(proto, name) {
  var specPolicy = ReactCompositeComponentInterface[name];

  // Disallow overriding of base class methods unless explicitly allowed.
  if (ReactCompositeComponentMixin.hasOwnProperty(name)) {
    ("production" !== "development" ? invariant(
      specPolicy === SpecPolicy.OVERRIDE_BASE,
      'ReactCompositeComponentInterface: You are attempting to override ' +
      '`%s` from your class specification. Ensure that your method names ' +
      'do not overlap with React methods.',
      name
    ) : invariant(specPolicy === SpecPolicy.OVERRIDE_BASE));
  }

  // Disallow defining methods more than once unless explicitly allowed.
  if (proto.hasOwnProperty(name)) {
    ("production" !== "development" ? invariant(
      specPolicy === SpecPolicy.DEFINE_MANY ||
      specPolicy === SpecPolicy.DEFINE_MANY_MERGED,
      'ReactCompositeComponentInterface: You are attempting to define ' +
      '`%s` on your component more than once. This conflict may be due ' +
      'to a mixin.',
      name
    ) : invariant(specPolicy === SpecPolicy.DEFINE_MANY ||
    specPolicy === SpecPolicy.DEFINE_MANY_MERGED));
  }
}

function validateLifeCycleOnReplaceState(instance) {
  var compositeLifeCycleState = instance._compositeLifeCycleState;
  ("production" !== "development" ? invariant(
    instance.isMounted() ||
      compositeLifeCycleState === CompositeLifeCycle.MOUNTING,
    'replaceState(...): Can only update a mounted or mounting component.'
  ) : invariant(instance.isMounted() ||
    compositeLifeCycleState === CompositeLifeCycle.MOUNTING));
  ("production" !== "development" ? invariant(compositeLifeCycleState !== CompositeLifeCycle.RECEIVING_STATE,
    'replaceState(...): Cannot update during an existing state transition ' +
    '(such as within `render`). This could potentially cause an infinite ' +
    'loop so it is forbidden.'
  ) : invariant(compositeLifeCycleState !== CompositeLifeCycle.RECEIVING_STATE));
  ("production" !== "development" ? invariant(compositeLifeCycleState !== CompositeLifeCycle.UNMOUNTING,
    'replaceState(...): Cannot update while unmounting component. This ' +
    'usually means you called setState() on an unmounted component.'
  ) : invariant(compositeLifeCycleState !== CompositeLifeCycle.UNMOUNTING));
}

/**
 * Custom version of `mixInto` which handles policy validation and reserved
 * specification keys when building `ReactCompositeComponent` classses.
 */
function mixSpecIntoComponent(ConvenienceConstructor, spec) {
  ("production" !== "development" ? invariant(
    !isValidClass(spec),
    'ReactCompositeComponent: You\'re attempting to ' +
    'use a component class as a mixin. Instead, just use a regular object.'
  ) : invariant(!isValidClass(spec)));
  ("production" !== "development" ? invariant(
    !ReactComponent.isValidComponent(spec),
    'ReactCompositeComponent: You\'re attempting to ' +
    'use a component as a mixin. Instead, just use a regular object.'
  ) : invariant(!ReactComponent.isValidComponent(spec)));

  var Constructor = ConvenienceConstructor.componentConstructor;
  var proto = Constructor.prototype;
  for (var name in spec) {
    var property = spec[name];
    if (!spec.hasOwnProperty(name)) {
      continue;
    }

    validateMethodOverride(proto, name);

    if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {
      RESERVED_SPEC_KEYS[name](ConvenienceConstructor, property);
    } else {
      // Setup methods on prototype:
      // The following member methods should not be automatically bound:
      // 1. Expected ReactCompositeComponent methods (in the "interface").
      // 2. Overridden methods (that were mixed in).
      var isCompositeComponentMethod = name in ReactCompositeComponentInterface;
      var isInherited = name in proto;
      var markedDontBind = property && property.__reactDontBind;
      var isFunction = typeof property === 'function';
      var shouldAutoBind =
        isFunction &&
        !isCompositeComponentMethod &&
        !isInherited &&
        !markedDontBind;

      if (shouldAutoBind) {
        if (!proto.__reactAutoBindMap) {
          proto.__reactAutoBindMap = {};
        }
        proto.__reactAutoBindMap[name] = property;
        proto[name] = property;
      } else {
        if (isInherited) {
          // For methods which are defined more than once, call the existing
          // methods before calling the new property.
          if (ReactCompositeComponentInterface[name] ===
              SpecPolicy.DEFINE_MANY_MERGED) {
            proto[name] = createMergedResultFunction(proto[name], property);
          } else {
            proto[name] = createChainedFunction(proto[name], property);
          }
        } else {
          proto[name] = property;
        }
      }
    }
  }
}

function mixStaticSpecIntoComponent(ConvenienceConstructor, statics) {
  if (!statics) {
    return;
  }
  for (var name in statics) {
    var property = statics[name];
    if (!statics.hasOwnProperty(name) || !property) {
      return;
    }

    var isInherited = name in ConvenienceConstructor;
    var result = property;
    if (isInherited) {
      var existingProperty = ConvenienceConstructor[name];
      var existingType = typeof existingProperty;
      var propertyType = typeof property;
      ("production" !== "development" ? invariant(
        existingType === 'function' && propertyType === 'function',
        'ReactCompositeComponent: You are attempting to define ' +
        '`%s` on your component more than once, but that is only supported ' +
        'for functions, which are chained together. This conflict may be ' +
        'due to a mixin.',
        name
      ) : invariant(existingType === 'function' && propertyType === 'function'));
      result = createChainedFunction(existingProperty, property);
    }
    ConvenienceConstructor[name] = result;
    ConvenienceConstructor.componentConstructor[name] = result;
  }
}

/**
 * Merge two objects, but throw if both contain the same key.
 *
 * @param {object} one The first object, which is mutated.
 * @param {object} two The second object
 * @return {object} one after it has been mutated to contain everything in two.
 */
function mergeObjectsWithNoDuplicateKeys(one, two) {
  ("production" !== "development" ? invariant(
    one && two && typeof one === 'object' && typeof two === 'object',
    'mergeObjectsWithNoDuplicateKeys(): Cannot merge non-objects'
  ) : invariant(one && two && typeof one === 'object' && typeof two === 'object'));

  objMap(two, function(value, key) {
    ("production" !== "development" ? invariant(
      one[key] === undefined,
      'mergeObjectsWithNoDuplicateKeys(): ' +
      'Tried to merge two objects with the same key: %s',
      key
    ) : invariant(one[key] === undefined));
    one[key] = value;
  });
  return one;
}

/**
 * Creates a function that invokes two functions and merges their return values.
 *
 * @param {function} one Function to invoke first.
 * @param {function} two Function to invoke second.
 * @return {function} Function that invokes the two argument functions.
 * @private
 */
function createMergedResultFunction(one, two) {
  return function mergedResult() {
    var a = one.apply(this, arguments);
    var b = two.apply(this, arguments);
    if (a == null) {
      return b;
    } else if (b == null) {
      return a;
    }
    return mergeObjectsWithNoDuplicateKeys(a, b);
  };
}

/**
 * Creates a function that invokes two functions and ignores their return vales.
 *
 * @param {function} one Function to invoke first.
 * @param {function} two Function to invoke second.
 * @return {function} Function that invokes the two argument functions.
 * @private
 */
function createChainedFunction(one, two) {
  return function chainedFunction() {
    one.apply(this, arguments);
    two.apply(this, arguments);
  };
}

if ("production" !== "development") {

  var unmountedPropertyWhitelist = {
    constructor: true,
    construct: true,
    isOwnedBy: true, // should be deprecated but can have code mod (internal)
    mountComponent: true,
    mountComponentIntoNode: true,
    props: true,
    type: true,
    _checkPropTypes: true,
    _mountComponentIntoNode: true,
    _processContext: true
  };

  var hasWarnedOnComponentType = {};

  var warnIfUnmounted = function(instance, key) {
    if (instance.__hasBeenMounted) {
      return;
    }
    var name = instance.constructor.displayName || 'Unknown';
    var owner = ReactCurrentOwner.current;
    var ownerName = (owner && owner.constructor.displayName) || 'Unknown';
    var warningKey = key + '|' + name + '|' + ownerName;
    if (hasWarnedOnComponentType.hasOwnProperty(warningKey)) {
      // We have already warned for this combination. Skip it this time.
      return;
    }
    hasWarnedOnComponentType[warningKey] = true;

    var context = owner ? ' in ' + ownerName + '.' : ' at the top level.';
    var staticMethodExample = '<' + name + ' />.type.' + key + '(...)';

    console.warn(
      'Invalid access to component property "' + key + '" on ' + name +
      context + ' See http://fb.me/react-warning-descriptors .' +
      ' Use a static method instead: ' + staticMethodExample
    );
  };

  var defineMembraneProperty = function(membrane, prototype, key) {
    Object.defineProperty(membrane, key, {

      configurable: false,
      enumerable: true,

      get: function() {
        if (this !== membrane) {
          // When this is accessed through a prototype chain we need to check if
          // this component was mounted.
          warnIfUnmounted(this, key);
        }
        return prototype[key];
      },

      set: function(value) {
        if (this !== membrane) {
          // When this is accessed through a prototype chain, we first check if
          // this component was mounted. Then we define a value on "this"
          // instance, effectively disabling the membrane on that prototype
          // chain.
          warnIfUnmounted(this, key);
          Object.defineProperty(this, key, {
            enumerable: true,
            configurable: true,
            writable: true,
            value: value
          });
        } else {
          // Otherwise, this should modify the prototype
          prototype[key] = value;
        }
      }

    });
  };

  /**
   * Creates a membrane prototype which wraps the original prototype. If any
   * property is accessed in an unmounted state, a warning is issued.
   *
   * @param {object} prototype Original prototype.
   * @return {object} The membrane prototype.
   * @private
   */
  var createMountWarningMembrane = function(prototype) {
    try {
      var membrane = Object.create(prototype);
      for (var key in prototype) {
        if (unmountedPropertyWhitelist.hasOwnProperty(key)) {
          continue;
        }
        defineMembraneProperty(membrane, prototype, key);
      }

      membrane.mountComponent = function() {
        this.__hasBeenMounted = true;
        return prototype.mountComponent.apply(this, arguments);
      };

      return membrane;
    } catch(x) {
      // In IE8 define property will fail on non-DOM objects. If anything in
      // the membrane creation fails, we'll bail out and just use the prototype
      // without warnings.
      return prototype;
    }
  };

}

/**
 * `ReactCompositeComponent` maintains an auxiliary life cycle state in
 * `this._compositeLifeCycleState` (which can be null).
 *
 * This is different from the life cycle state maintained by `ReactComponent` in
 * `this._lifeCycleState`. The following diagram shows how the states overlap in
 * time. There are times when the CompositeLifeCycle is null - at those times it
 * is only meaningful to look at ComponentLifeCycle alone.
 *
 * Top Row: ReactComponent.ComponentLifeCycle
 * Low Row: ReactComponent.CompositeLifeCycle
 *
 * +-------+------------------------------------------------------+--------+
 * |  UN   |                    MOUNTED                           |   UN   |
 * |MOUNTED|                                                      | MOUNTED|
 * +-------+------------------------------------------------------+--------+
 * |       ^--------+   +------+   +------+   +------+   +--------^        |
 * |       |        |   |      |   |      |   |      |   |        |        |
 * |    0--|MOUNTING|-0-|RECEIV|-0-|RECEIV|-0-|RECEIV|-0-|   UN   |--->0   |
 * |       |        |   |PROPS |   | PROPS|   | STATE|   |MOUNTING|        |
 * |       |        |   |      |   |      |   |      |   |        |        |
 * |       |        |   |      |   |      |   |      |   |        |        |
 * |       +--------+   +------+   +------+   +------+   +--------+        |
 * |       |                                                      |        |
 * +-------+------------------------------------------------------+--------+
 */
var CompositeLifeCycle = keyMirror({
  /**
   * Components in the process of being mounted respond to state changes
   * differently.
   */
  MOUNTING: null,
  /**
   * Components in the process of being unmounted are guarded against state
   * changes.
   */
  UNMOUNTING: null,
  /**
   * Components that are mounted and receiving new props respond to state
   * changes differently.
   */
  RECEIVING_PROPS: null,
  /**
   * Components that are mounted and receiving new state are guarded against
   * additional state changes.
   */
  RECEIVING_STATE: null
});

/**
 * @lends {ReactCompositeComponent.prototype}
 */
var ReactCompositeComponentMixin = {

  /**
   * Base constructor for all composite component.
   *
   * @param {?object} initialProps
   * @param {*} children
   * @final
   * @internal
   */
  construct: function(initialProps, children) {
    // Children can be either an array or more than one argument
    ReactComponent.Mixin.construct.apply(this, arguments);

    this.state = null;
    this._pendingState = null;

    this.context = this._processContext(ReactContext.current);
    this._currentContext = ReactContext.current;
    this._pendingContext = null;

    this._compositeLifeCycleState = null;
  },

  /**
   * Checks whether or not this composite component is mounted.
   * @return {boolean} True if mounted, false otherwise.
   * @protected
   * @final
   */
  isMounted: function() {
    return ReactComponent.Mixin.isMounted.call(this) &&
      this._compositeLifeCycleState !== CompositeLifeCycle.MOUNTING;
  },

  /**
   * Initializes the component, renders markup, and registers event listeners.
   *
   * @param {string} rootID DOM ID of the root node.
   * @param {ReactReconcileTransaction} transaction
   * @param {number} mountDepth number of components in the owner hierarchy
   * @return {?string} Rendered markup to be inserted into the DOM.
   * @final
   * @internal
   */
  mountComponent: ReactPerf.measure(
    'ReactCompositeComponent',
    'mountComponent',
    function(rootID, transaction, mountDepth) {
      ReactComponent.Mixin.mountComponent.call(
        this,
        rootID,
        transaction,
        mountDepth
      );
      this._compositeLifeCycleState = CompositeLifeCycle.MOUNTING;

      this._defaultProps = this.getDefaultProps ? this.getDefaultProps() : null;
      this.props = this._processProps(this.props);

      if (this.__reactAutoBindMap) {
        this._bindAutoBindMethods();
      }

      this.state = this.getInitialState ? this.getInitialState() : null;
      ("production" !== "development" ? invariant(
        typeof this.state === 'object' && !Array.isArray(this.state),
        '%s.getInitialState(): must return an object or null',
        this.constructor.displayName || 'ReactCompositeComponent'
      ) : invariant(typeof this.state === 'object' && !Array.isArray(this.state)));

      this._pendingState = null;
      this._pendingForceUpdate = false;

      if (this.componentWillMount) {
        this.componentWillMount();
        // When mounting, calls to `setState` by `componentWillMount` will set
        // `this._pendingState` without triggering a re-render.
        if (this._pendingState) {
          this.state = this._pendingState;
          this._pendingState = null;
        }
      }

      this._renderedComponent = this._renderValidatedComponent();

      // Done with mounting, `setState` will now trigger UI changes.
      this._compositeLifeCycleState = null;
      var markup = this._renderedComponent.mountComponent(
        rootID,
        transaction,
        mountDepth + 1
      );
      if (this.componentDidMount) {
        transaction.getReactMountReady().enqueue(this, this.componentDidMount);
      }
      return markup;
    }
  ),

  /**
   * Releases any resources allocated by `mountComponent`.
   *
   * @final
   * @internal
   */
  unmountComponent: function() {
    this._compositeLifeCycleState = CompositeLifeCycle.UNMOUNTING;
    if (this.componentWillUnmount) {
      this.componentWillUnmount();
    }
    this._compositeLifeCycleState = null;

    this._defaultProps = null;

    this._renderedComponent.unmountComponent();
    this._renderedComponent = null;

    ReactComponent.Mixin.unmountComponent.call(this);

    if (this.refs) {
      this.refs = null;
    }

    // Some existing components rely on this.props even after they've been
    // destroyed (in event handlers).
    // TODO: this.props = null;
    // TODO: this.state = null;
  },

  /**
   * Sets a subset of the state. Always use this or `replaceState` to mutate
   * state. You should treat `this.state` as immutable.
   *
   * There is no guarantee that `this.state` will be immediately updated, so
   * accessing `this.state` after calling this method may return the old value.
   *
   * There is no guarantee that calls to `setState` will run synchronously,
   * as they may eventually be batched together.  You can provide an optional
   * callback that will be executed when the call to setState is actually
   * completed.
   *
   * @param {object} partialState Next partial state to be merged with state.
   * @param {?function} callback Called after state is updated.
   * @final
   * @protected
   */
  setState: function(partialState, callback) {
    ("production" !== "development" ? invariant(
      typeof partialState === 'object' || partialState == null,
      'setState(...): takes an object of state variables to update.'
    ) : invariant(typeof partialState === 'object' || partialState == null));
    if ("production" !== "development") {
      if (partialState == null) {
        console.warn(
          'setState(...): You passed an undefined or null state object; ' +
          'instead, use forceUpdate().'
        );
      }
    }
    // Merge with `_pendingState` if it exists, otherwise with existing state.
    this.replaceState(
      merge(this._pendingState || this.state, partialState),
      callback
    );
  },

  /**
   * Replaces all of the state. Always use this or `setState` to mutate state.
   * You should treat `this.state` as immutable.
   *
   * There is no guarantee that `this.state` will be immediately updated, so
   * accessing `this.state` after calling this method may return the old value.
   *
   * @param {object} completeState Next state.
   * @param {?function} callback Called after state is updated.
   * @final
   * @protected
   */
  replaceState: function(completeState, callback) {
    validateLifeCycleOnReplaceState(this);
    this._pendingState = completeState;
    ReactUpdates.enqueueUpdate(this, callback);
  },

  /**
   * Filters the context object to only contain keys specified in
   * `contextTypes`, and asserts that they are valid.
   *
   * @param {object} context
   * @return {?object}
   * @private
   */
  _processContext: function(context) {
    var maskedContext = null;
    var contextTypes = this.constructor.contextTypes;
    if (contextTypes) {
      maskedContext = {};
      for (var contextName in contextTypes) {
        maskedContext[contextName] = context[contextName];
      }
      if ("production" !== "development") {
        this._checkPropTypes(
          contextTypes,
          maskedContext,
          ReactPropTypeLocations.context
        );
      }
    }
    return maskedContext;
  },

  /**
   * @param {object} currentContext
   * @return {object}
   * @private
   */
  _processChildContext: function(currentContext) {
    var childContext = this.getChildContext && this.getChildContext();
    var displayName = this.constructor.displayName || 'ReactCompositeComponent';
    if (childContext) {
      ("production" !== "development" ? invariant(
        typeof this.constructor.childContextTypes === 'object',
        '%s.getChildContext(): childContextTypes must be defined in order to ' +
        'use getChildContext().',
        displayName
      ) : invariant(typeof this.constructor.childContextTypes === 'object'));
      if ("production" !== "development") {
        this._checkPropTypes(
          this.constructor.childContextTypes,
          childContext,
          ReactPropTypeLocations.childContext
        );
      }
      for (var name in childContext) {
        ("production" !== "development" ? invariant(
          name in this.constructor.childContextTypes,
          '%s.getChildContext(): key "%s" is not defined in childContextTypes.',
          displayName,
          name
        ) : invariant(name in this.constructor.childContextTypes));
      }
      return merge(currentContext, childContext);
    }
    return currentContext;
  },

  /**
   * Processes props by setting default values for unspecified props and
   * asserting that the props are valid. Does not mutate its argument; returns
   * a new props object with defaults merged in.
   *
   * @param {object} newProps
   * @return {object}
   * @private
   */
  _processProps: function(newProps) {
    var props = merge(newProps);
    var defaultProps = this._defaultProps;
    for (var propName in defaultProps) {
      if (typeof props[propName] === 'undefined') {
        props[propName] = defaultProps[propName];
      }
    }
    if ("production" !== "development") {
      var propTypes = this.constructor.propTypes;
      if (propTypes) {
        this._checkPropTypes(propTypes, props, ReactPropTypeLocations.prop);
      }
    }
    return props;
  },

  /**
   * Assert that the props are valid
   *
   * @param {object} propTypes Map of prop name to a ReactPropType
   * @param {object} props
   * @param {string} location e.g. "prop", "context", "child context"
   * @private
   */
  _checkPropTypes: function(propTypes, props, location) {
    var componentName = this.constructor.displayName;
    for (var propName in propTypes) {
      if (propTypes.hasOwnProperty(propName)) {
        propTypes[propName](props, propName, componentName, location);
      }
    }
  },

  performUpdateIfNecessary: function() {
    var compositeLifeCycleState = this._compositeLifeCycleState;
    // Do not trigger a state transition if we are in the middle of mounting or
    // receiving props because both of those will already be doing this.
    if (compositeLifeCycleState === CompositeLifeCycle.MOUNTING ||
        compositeLifeCycleState === CompositeLifeCycle.RECEIVING_PROPS) {
      return;
    }
    ReactComponent.Mixin.performUpdateIfNecessary.call(this);
  },

  /**
   * If any of `_pendingProps`, `_pendingState`, or `_pendingForceUpdate` is
   * set, update the component.
   *
   * @param {ReactReconcileTransaction} transaction
   * @internal
   */
  _performUpdateIfNecessary: function(transaction) {
    if (this._pendingProps == null &&
        this._pendingState == null &&
        this._pendingContext == null &&
        !this._pendingForceUpdate) {
      return;
    }

    var nextFullContext = this._pendingContext || this._currentContext;
    var nextContext = this._processContext(nextFullContext);
    this._pendingContext = null;

    var nextProps = this.props;
    if (this._pendingProps != null) {
      nextProps = this._processProps(this._pendingProps);
      this._pendingProps = null;

      this._compositeLifeCycleState = CompositeLifeCycle.RECEIVING_PROPS;
      if (this.componentWillReceiveProps) {
        this.componentWillReceiveProps(nextProps, nextContext);
      }
    }

    this._compositeLifeCycleState = CompositeLifeCycle.RECEIVING_STATE;

    // Unlike props, state, and context, we specifically don't want to set
    // _pendingOwner to null here because it's possible for a component to have
    // a null owner, so we instead make `this._owner === this._pendingOwner`
    // mean that there's no owner change pending.
    var nextOwner = this._pendingOwner;

    var nextState = this._pendingState || this.state;
    this._pendingState = null;

    try {
      if (this._pendingForceUpdate ||
          !this.shouldComponentUpdate ||
          this.shouldComponentUpdate(nextProps, nextState, nextContext)) {
        this._pendingForceUpdate = false;
        // Will set `this.props`, `this.state` and `this.context`.
        this._performComponentUpdate(
          nextProps,
          nextOwner,
          nextState,
          nextFullContext,
          nextContext,
          transaction
        );
      } else {
        // If it's determined that a component should not update, we still want
        // to set props and state.
        this.props = nextProps;
        this._owner = nextOwner;
        this.state = nextState;
        this._currentContext = nextFullContext;
        this.context = nextContext;
      }
    } finally {
      this._compositeLifeCycleState = null;
    }
  },

  /**
   * Merges new props and state, notifies delegate methods of update and
   * performs update.
   *
   * @param {object} nextProps Next object to set as properties.
   * @param {?ReactComponent} nextOwner Next component to set as owner
   * @param {?object} nextState Next object to set as state.
   * @param {?object} nextFullContext Next object to set as _currentContext.
   * @param {?object} nextContext Next object to set as context.
   * @param {ReactReconcileTransaction} transaction
   * @private
   */
  _performComponentUpdate: function(
    nextProps,
    nextOwner,
    nextState,
    nextFullContext,
    nextContext,
    transaction
  ) {
    var prevProps = this.props;
    var prevOwner = this._owner;
    var prevState = this.state;
    var prevContext = this.context;

    if (this.componentWillUpdate) {
      this.componentWillUpdate(nextProps, nextState, nextContext);
    }

    this.props = nextProps;
    this._owner = nextOwner;
    this.state = nextState;
    this._currentContext = nextFullContext;
    this.context = nextContext;

    this.updateComponent(
      transaction,
      prevProps,
      prevOwner,
      prevState,
      prevContext
    );

    if (this.componentDidUpdate) {
      transaction.getReactMountReady().enqueue(
        this,
        this.componentDidUpdate.bind(this, prevProps, prevState, prevContext)
      );
    }
  },

  receiveComponent: function(nextComponent, transaction) {
    if (nextComponent === this) {
      // Since props and context are immutable after the component is
      // mounted, we can do a cheap identity compare here to determine
      // if this is a superfluous reconcile.
      return;
    }

    this._pendingContext = nextComponent._currentContext;
    ReactComponent.Mixin.receiveComponent.call(
      this,
      nextComponent,
      transaction
    );
  },

  /**
   * Updates the component's currently mounted DOM representation.
   *
   * By default, this implements React's rendering and reconciliation algorithm.
   * Sophisticated clients may wish to override this.
   *
   * @param {ReactReconcileTransaction} transaction
   * @param {object} prevProps
   * @param {?ReactComponent} prevOwner
   * @param {?object} prevState
   * @param {?object} prevContext
   * @internal
   * @overridable
   */
  updateComponent: ReactPerf.measure(
    'ReactCompositeComponent',
    'updateComponent',
    function(transaction, prevProps, prevOwner, prevState, prevContext) {
      ReactComponent.Mixin.updateComponent.call(
        this,
        transaction,
        prevProps,
        prevOwner
      );
      var prevComponent = this._renderedComponent;
      var nextComponent = this._renderValidatedComponent();
      if (shouldUpdateReactComponent(prevComponent, nextComponent)) {
        prevComponent.receiveComponent(nextComponent, transaction);
      } else {
        // These two IDs are actually the same! But nothing should rely on that.
        var thisID = this._rootNodeID;
        var prevComponentID = prevComponent._rootNodeID;
        prevComponent.unmountComponent();
        this._renderedComponent = nextComponent;
        var nextMarkup = nextComponent.mountComponent(
          thisID,
          transaction,
          this._mountDepth + 1
        );
        ReactComponent.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(
          prevComponentID,
          nextMarkup
        );
      }
    }
  ),

  /**
   * Forces an update. This should only be invoked when it is known with
   * certainty that we are **not** in a DOM transaction.
   *
   * You may want to call this when you know that some deeper aspect of the
   * component's state has changed but `setState` was not called.
   *
   * This will not invoke `shouldUpdateComponent`, but it will invoke
   * `componentWillUpdate` and `componentDidUpdate`.
   *
   * @param {?function} callback Called after update is complete.
   * @final
   * @protected
   */
  forceUpdate: function(callback) {
    var compositeLifeCycleState = this._compositeLifeCycleState;
    ("production" !== "development" ? invariant(
      this.isMounted() ||
        compositeLifeCycleState === CompositeLifeCycle.MOUNTING,
      'forceUpdate(...): Can only force an update on mounted or mounting ' +
        'components.'
    ) : invariant(this.isMounted() ||
      compositeLifeCycleState === CompositeLifeCycle.MOUNTING));
    ("production" !== "development" ? invariant(
      compositeLifeCycleState !== CompositeLifeCycle.RECEIVING_STATE &&
      compositeLifeCycleState !== CompositeLifeCycle.UNMOUNTING,
      'forceUpdate(...): Cannot force an update while unmounting component ' +
      'or during an existing state transition (such as within `render`).'
    ) : invariant(compositeLifeCycleState !== CompositeLifeCycle.RECEIVING_STATE &&
    compositeLifeCycleState !== CompositeLifeCycle.UNMOUNTING));
    this._pendingForceUpdate = true;
    ReactUpdates.enqueueUpdate(this, callback);
  },

  /**
   * @private
   */
  _renderValidatedComponent: ReactPerf.measure(
    'ReactCompositeComponent',
    '_renderValidatedComponent',
    function() {
      var renderedComponent;
      var previousContext = ReactContext.current;
      ReactContext.current = this._processChildContext(this._currentContext);
      ReactCurrentOwner.current = this;
      try {
        renderedComponent = this.render();
      } finally {
        ReactContext.current = previousContext;
        ReactCurrentOwner.current = null;
      }
      ("production" !== "development" ? invariant(
        ReactComponent.isValidComponent(renderedComponent),
        '%s.render(): A valid ReactComponent must be returned. You may have ' +
          'returned null, undefined, an array, or some other invalid object.',
        this.constructor.displayName || 'ReactCompositeComponent'
      ) : invariant(ReactComponent.isValidComponent(renderedComponent)));
      return renderedComponent;
    }
  ),

  /**
   * @private
   */
  _bindAutoBindMethods: function() {
    for (var autoBindKey in this.__reactAutoBindMap) {
      if (!this.__reactAutoBindMap.hasOwnProperty(autoBindKey)) {
        continue;
      }
      var method = this.__reactAutoBindMap[autoBindKey];
      this[autoBindKey] = this._bindAutoBindMethod(ReactErrorUtils.guard(
        method,
        this.constructor.displayName + '.' + autoBindKey
      ));
    }
  },

  /**
   * Binds a method to the component.
   *
   * @param {function} method Method to be bound.
   * @private
   */
  _bindAutoBindMethod: function(method) {
    var component = this;
    var boundMethod = function() {
      return method.apply(component, arguments);
    };
    if ("production" !== "development") {
      boundMethod.__reactBoundContext = component;
      boundMethod.__reactBoundMethod = method;
      boundMethod.__reactBoundArguments = null;
      var componentName = component.constructor.displayName;
      var _bind = boundMethod.bind;
      boundMethod.bind = function(newThis ) {var args=Array.prototype.slice.call(arguments,1);
        // User is trying to bind() an autobound method; we effectively will
        // ignore the value of "this" that the user is trying to use, so
        // let's warn.
        if (newThis !== component && newThis !== null) {
          console.warn(
            'bind(): React component methods may only be bound to the ' +
            'component instance. See ' + componentName
          );
        } else if (!args.length) {
          console.warn(
            'bind(): You are binding a component method to the component. ' +
            'React does this for you automatically in a high-performance ' +
            'way, so you can safely remove this call. See ' + componentName
          );
          return boundMethod;
        }
        var reboundMethod = _bind.apply(boundMethod, arguments);
        reboundMethod.__reactBoundContext = component;
        reboundMethod.__reactBoundMethod = method;
        reboundMethod.__reactBoundArguments = args;
        return reboundMethod;
      };
    }
    return boundMethod;
  }
};

var ReactCompositeComponentBase = function() {};
mixInto(ReactCompositeComponentBase, ReactComponent.Mixin);
mixInto(ReactCompositeComponentBase, ReactOwner.Mixin);
mixInto(ReactCompositeComponentBase, ReactPropTransferer.Mixin);
mixInto(ReactCompositeComponentBase, ReactCompositeComponentMixin);

/**
 * Checks if a value is a valid component constructor.
 *
 * @param {*}
 * @return {boolean}
 * @public
 */
function isValidClass(componentClass) {
  return componentClass instanceof Function &&
         'componentConstructor' in componentClass &&
         componentClass.componentConstructor instanceof Function;
}
/**
 * Module for creating composite components.
 *
 * @class ReactCompositeComponent
 * @extends ReactComponent
 * @extends ReactOwner
 * @extends ReactPropTransferer
 */
var ReactCompositeComponent = {

  LifeCycle: CompositeLifeCycle,

  Base: ReactCompositeComponentBase,

  /**
   * Creates a composite component class given a class specification.
   *
   * @param {object} spec Class specification (which must define `render`).
   * @return {function} Component constructor function.
   * @public
   */
  createClass: function(spec) {
    var Constructor = function() {};
    Constructor.prototype = new ReactCompositeComponentBase();
    Constructor.prototype.constructor = Constructor;

    var ConvenienceConstructor = function(props, children) {
      var instance = new Constructor();
      instance.construct.apply(instance, arguments);
      return instance;
    };
    ConvenienceConstructor.componentConstructor = Constructor;
    Constructor.ConvenienceConstructor = ConvenienceConstructor;
    ConvenienceConstructor.originalSpec = spec;

    mixSpecIntoComponent(ConvenienceConstructor, spec);

    ("production" !== "development" ? invariant(
      Constructor.prototype.render,
      'createClass(...): Class specification must implement a `render` method.'
    ) : invariant(Constructor.prototype.render));

    if ("production" !== "development") {
      if (Constructor.prototype.componentShouldUpdate) {
        console.warn(
          (spec.displayName || 'A component') + ' has a method called ' +
          'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' +
          'The name is phrased as a question because the function is ' +
          'expected to return a value.'
         );
      }
    }

    // Expose the convience constructor on the prototype so that it can be
    // easily accessed on descriptors. E.g. <Foo />.type === Foo.type and for
    // static methods like <Foo />.type.staticMethod();
    // This should not be named constructor since this may not be the function
    // that created the descriptor, and it may not even be a constructor.
    ConvenienceConstructor.type = Constructor;
    Constructor.prototype.type = Constructor;

    // Reduce time spent doing lookups by setting these on the prototype.
    for (var methodName in ReactCompositeComponentInterface) {
      if (!Constructor.prototype[methodName]) {
        Constructor.prototype[methodName] = null;
      }
    }

    if ("production" !== "development") {
      Constructor.prototype = createMountWarningMembrane(Constructor.prototype);
    }

    return ConvenienceConstructor;
  },

  isValidClass: isValidClass
};

module.exports = ReactCompositeComponent;

},{"./ReactComponent":26,"./ReactContext":30,"./ReactCurrentOwner":31,"./ReactErrorUtils":47,"./ReactOwner":59,"./ReactPerf":60,"./ReactPropTransferer":61,"./ReactPropTypeLocationNames":62,"./ReactPropTypeLocations":63,"./ReactUpdates":70,"./invariant":108,"./keyMirror":114,"./merge":117,"./mixInto":120,"./objMap":121,"./shouldUpdateReactComponent":126}],30:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactContext
 */

"use strict";

var merge = require("./merge");

/**
 * Keeps track of the current context.
 *
 * The context is automatically passed down the component ownership hierarchy
 * and is accessible via `this.context` on ReactCompositeComponents.
 */
var ReactContext = {

  /**
   * @internal
   * @type {object}
   */
  current: {},

  /**
   * Temporarily extends the current context while executing scopedCallback.
   *
   * A typical use case might look like
   *
   *  render: function() {
   *    var children = ReactContext.withContext({foo: 'foo'} () => (
   *
   *    ));
   *    return <div>{children}</div>;
   *  }
   *
   * @param {object} newContext New context to merge into the existing context
   * @param {function} scopedCallback Callback to run with the new context
   * @return {ReactComponent|array<ReactComponent>}
   */
  withContext: function(newContext, scopedCallback) {
    var result;
    var previousContext = ReactContext.current;
    ReactContext.current = merge(previousContext, newContext);
    try {
      result = scopedCallback();
    } finally {
      ReactContext.current = previousContext;
    }
    return result;
  }

};

module.exports = ReactContext;

},{"./merge":117}],31:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactCurrentOwner
 */

"use strict";

/**
 * Keeps track of the current owner.
 *
 * The current owner is the component who should own any components that are
 * currently being constructed.
 *
 * The depth indicate how many composite components are above this render level.
 */
var ReactCurrentOwner = {

  /**
   * @internal
   * @type {ReactComponent}
   */
  current: null

};

module.exports = ReactCurrentOwner;

},{}],32:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDOM
 * @typechecks static-only
 */

"use strict";

var ReactDOMComponent = require("./ReactDOMComponent");

var mergeInto = require("./mergeInto");
var objMapKeyVal = require("./objMapKeyVal");

/**
 * Creates a new React class that is idempotent and capable of containing other
 * React components. It accepts event listeners and DOM properties that are
 * valid according to `DOMProperty`.
 *
 *  - Event listeners: `onClick`, `onMouseDown`, etc.
 *  - DOM properties: `className`, `name`, `title`, etc.
 *
 * The `style` property functions differently from the DOM API. It accepts an
 * object mapping of style properties to values.
 *
 * @param {string} tag Tag name (e.g. `div`).
 * @param {boolean} omitClose True if the close tag should be omitted.
 * @private
 */
function createDOMComponentClass(tag, omitClose) {
  var Constructor = function() {};
  Constructor.prototype = new ReactDOMComponent(tag, omitClose);
  Constructor.prototype.constructor = Constructor;
  Constructor.displayName = tag;

  var ConvenienceConstructor = function(props, children) {
    var instance = new Constructor();
    instance.construct.apply(instance, arguments);
    return instance;
  };

  // Expose the constructor on the ConvenienceConstructor and prototype so that
  // it can be easily easily accessed on descriptors.
  // E.g. <div />.type === div.type
  ConvenienceConstructor.type = Constructor;
  Constructor.prototype.type = Constructor;

  Constructor.ConvenienceConstructor = ConvenienceConstructor;
  ConvenienceConstructor.componentConstructor = Constructor;
  return ConvenienceConstructor;
}

/**
 * Creates a mapping from supported HTML tags to `ReactDOMComponent` classes.
 * This is also accessible via `React.DOM`.
 *
 * @public
 */
var ReactDOM = objMapKeyVal({
  a: false,
  abbr: false,
  address: false,
  area: false,
  article: false,
  aside: false,
  audio: false,
  b: false,
  base: false,
  bdi: false,
  bdo: false,
  big: false,
  blockquote: false,
  body: false,
  br: true,
  button: false,
  canvas: false,
  caption: false,
  cite: false,
  code: false,
  col: true,
  colgroup: false,
  data: false,
  datalist: false,
  dd: false,
  del: false,
  details: false,
  dfn: false,
  div: false,
  dl: false,
  dt: false,
  em: false,
  embed: true,
  fieldset: false,
  figcaption: false,
  figure: false,
  footer: false,
  form: false, // NOTE: Injected, see `ReactDOMForm`.
  h1: false,
  h2: false,
  h3: false,
  h4: false,
  h5: false,
  h6: false,
  head: false,
  header: false,
  hr: true,
  html: false,
  i: false,
  iframe: false,
  img: true,
  input: true,
  ins: false,
  kbd: false,
  keygen: true,
  label: false,
  legend: false,
  li: false,
  link: false,
  main: false,
  map: false,
  mark: false,
  menu: false,
  menuitem: false, // NOTE: Close tag should be omitted, but causes problems.
  meta: true,
  meter: false,
  nav: false,
  noscript: false,
  object: false,
  ol: false,
  optgroup: false,
  option: false,
  output: false,
  p: false,
  param: true,
  pre: false,
  progress: false,
  q: false,
  rp: false,
  rt: false,
  ruby: false,
  s: false,
  samp: false,
  script: false,
  section: false,
  select: false,
  small: false,
  source: false,
  span: false,
  strong: false,
  style: false,
  sub: false,
  summary: false,
  sup: false,
  table: false,
  tbody: false,
  td: false,
  textarea: false, // NOTE: Injected, see `ReactDOMTextarea`.
  tfoot: false,
  th: false,
  thead: false,
  time: false,
  title: false,
  tr: false,
  track: true,
  u: false,
  ul: false,
  'var': false,
  video: false,
  wbr: false,

  // SVG
  circle: false,
  defs: false,
  g: false,
  line: false,
  linearGradient: false,
  path: false,
  polygon: false,
  polyline: false,
  radialGradient: false,
  rect: false,
  stop: false,
  svg: false,
  text: false
}, createDOMComponentClass);

var injection = {
  injectComponentClasses: function(componentClasses) {
    mergeInto(ReactDOM, componentClasses);
  }
};

ReactDOM.injection = injection;

module.exports = ReactDOM;

},{"./ReactDOMComponent":34,"./mergeInto":119,"./objMapKeyVal":122}],33:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDOMButton
 */

"use strict";

var AutoFocusMixin = require("./AutoFocusMixin");
var ReactCompositeComponent = require("./ReactCompositeComponent");
var ReactDOM = require("./ReactDOM");

var keyMirror = require("./keyMirror");

// Store a reference to the <button> `ReactDOMComponent`.
var button = ReactDOM.button;

var mouseListenerNames = keyMirror({
  onClick: true,
  onDoubleClick: true,
  onMouseDown: true,
  onMouseMove: true,
  onMouseUp: true,
  onClickCapture: true,
  onDoubleClickCapture: true,
  onMouseDownCapture: true,
  onMouseMoveCapture: true,
  onMouseUpCapture: true
});

/**
 * Implements a <button> native component that does not receive mouse events
 * when `disabled` is set.
 */
var ReactDOMButton = ReactCompositeComponent.createClass({
  displayName: 'ReactDOMButton',

  mixins: [AutoFocusMixin],

  render: function() {
    var props = {};

    // Copy the props; except the mouse listeners if we're disabled
    for (var key in this.props) {
      if (this.props.hasOwnProperty(key) &&
          (!this.props.disabled || !mouseListenerNames[key])) {
        props[key] = this.props[key];
      }
    }

    return button(props, this.props.children);
  }

});

module.exports = ReactDOMButton;

},{"./AutoFocusMixin":1,"./ReactCompositeComponent":29,"./ReactDOM":32,"./keyMirror":114}],34:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDOMComponent
 * @typechecks static-only
 */

"use strict";

var CSSPropertyOperations = require("./CSSPropertyOperations");
var DOMProperty = require("./DOMProperty");
var DOMPropertyOperations = require("./DOMPropertyOperations");
var ReactComponent = require("./ReactComponent");
var ReactEventEmitter = require("./ReactEventEmitter");
var ReactMount = require("./ReactMount");
var ReactMultiChild = require("./ReactMultiChild");
var ReactPerf = require("./ReactPerf");

var escapeTextForBrowser = require("./escapeTextForBrowser");
var invariant = require("./invariant");
var keyOf = require("./keyOf");
var merge = require("./merge");
var mixInto = require("./mixInto");

var deleteListener = ReactEventEmitter.deleteListener;
var listenTo = ReactEventEmitter.listenTo;
var registrationNameModules = ReactEventEmitter.registrationNameModules;

// For quickly matching children type, to test if can be treated as content.
var CONTENT_TYPES = {'string': true, 'number': true};

var STYLE = keyOf({style: null});

var ELEMENT_NODE_TYPE = 1;

/**
 * @param {?object} props
 */
function assertValidProps(props) {
  if (!props) {
    return;
  }
  // Note the use of `==` which checks for null or undefined.
  ("production" !== "development" ? invariant(
    props.children == null || props.dangerouslySetInnerHTML == null,
    'Can only set one of `children` or `props.dangerouslySetInnerHTML`.'
  ) : invariant(props.children == null || props.dangerouslySetInnerHTML == null));
  ("production" !== "development" ? invariant(
    props.style == null || typeof props.style === 'object',
    'The `style` prop expects a mapping from style properties to values, ' +
    'not a string.'
  ) : invariant(props.style == null || typeof props.style === 'object'));
}

function putListener(id, registrationName, listener, transaction) {
  var container = ReactMount.findReactContainerForID(id);
  if (container) {
    var doc = container.nodeType === ELEMENT_NODE_TYPE ?
      container.ownerDocument :
      container;
    listenTo(registrationName, doc);
  }
  transaction.getPutListenerQueue().enqueuePutListener(
    id,
    registrationName,
    listener
  );
}


/**
 * @constructor ReactDOMComponent
 * @extends ReactComponent
 * @extends ReactMultiChild
 */
function ReactDOMComponent(tag, omitClose) {
  this._tagOpen = '<' + tag;
  this._tagClose = omitClose ? '' : '</' + tag + '>';
  this.tagName = tag.toUpperCase();
}

ReactDOMComponent.Mixin = {

  /**
   * Generates root tag markup then recurses. This method has side effects and
   * is not idempotent.
   *
   * @internal
   * @param {string} rootID The root DOM ID for this node.
   * @param {ReactReconcileTransaction} transaction
   * @param {number} mountDepth number of components in the owner hierarchy
   * @return {string} The computed markup.
   */
  mountComponent: ReactPerf.measure(
    'ReactDOMComponent',
    'mountComponent',
    function(rootID, transaction, mountDepth) {
      ReactComponent.Mixin.mountComponent.call(
        this,
        rootID,
        transaction,
        mountDepth
      );
      assertValidProps(this.props);
      return (
        this._createOpenTagMarkupAndPutListeners(transaction) +
        this._createContentMarkup(transaction) +
        this._tagClose
      );
    }
  ),

  /**
   * Creates markup for the open tag and all attributes.
   *
   * This method has side effects because events get registered.
   *
   * Iterating over object properties is faster than iterating over arrays.
   * @see http://jsperf.com/obj-vs-arr-iteration
   *
   * @private
   * @param {ReactReconcileTransaction} transaction
   * @return {string} Markup of opening tag.
   */
  _createOpenTagMarkupAndPutListeners: function(transaction) {
    var props = this.props;
    var ret = this._tagOpen;

    for (var propKey in props) {
      if (!props.hasOwnProperty(propKey)) {
        continue;
      }
      var propValue = props[propKey];
      if (propValue == null) {
        continue;
      }
      if (registrationNameModules[propKey]) {
        putListener(this._rootNodeID, propKey, propValue, transaction);
      } else {
        if (propKey === STYLE) {
          if (propValue) {
            propValue = props.style = merge(props.style);
          }
          propValue = CSSPropertyOperations.createMarkupForStyles(propValue);
        }
        var markup =
          DOMPropertyOperations.createMarkupForProperty(propKey, propValue);
        if (markup) {
          ret += ' ' + markup;
        }
      }
    }

    var idMarkup = DOMPropertyOperations.createMarkupForID(this._rootNodeID);
    return ret + ' ' + idMarkup + '>';
  },

  /**
   * Creates markup for the content between the tags.
   *
   * @private
   * @param {ReactReconcileTransaction} transaction
   * @return {string} Content markup.
   */
  _createContentMarkup: function(transaction) {
    // Intentional use of != to avoid catching zero/false.
    var innerHTML = this.props.dangerouslySetInnerHTML;
    if (innerHTML != null) {
      if (innerHTML.__html != null) {
        return innerHTML.__html;
      }
    } else {
      var contentToUse =
        CONTENT_TYPES[typeof this.props.children] ? this.props.children : null;
      var childrenToUse = contentToUse != null ? null : this.props.children;
      if (contentToUse != null) {
        return escapeTextForBrowser(contentToUse);
      } else if (childrenToUse != null) {
        var mountImages = this.mountChildren(
          childrenToUse,
          transaction
        );
        return mountImages.join('');
      }
    }
    return '';
  },

  receiveComponent: function(nextComponent, transaction) {
    assertValidProps(nextComponent.props);
    ReactComponent.Mixin.receiveComponent.call(
      this,
      nextComponent,
      transaction
    );
  },

  /**
   * Updates a native DOM component after it has already been allocated and
   * attached to the DOM. Reconciles the root DOM node, then recurses.
   *
   * @param {ReactReconcileTransaction} transaction
   * @param {object} prevProps
   * @internal
   * @overridable
   */
  updateComponent: ReactPerf.measure(
    'ReactDOMComponent',
    'updateComponent',
    function(transaction, prevProps, prevOwner) {
      ReactComponent.Mixin.updateComponent.call(
        this,
        transaction,
        prevProps,
        prevOwner
      );
      this._updateDOMProperties(prevProps, transaction);
      this._updateDOMChildren(prevProps, transaction);
    }
  ),

  /**
   * Reconciles the properties by detecting differences in property values and
   * updating the DOM as necessary. This function is probably the single most
   * critical path for performance optimization.
   *
   * TODO: Benchmark whether checking for changed values in memory actually
   *       improves performance (especially statically positioned elements).
   * TODO: Benchmark the effects of putting this at the top since 99% of props
   *       do not change for a given reconciliation.
   * TODO: Benchmark areas that can be improved with caching.
   *
   * @private
   * @param {object} lastProps
   * @param {ReactReconcileTransaction} transaction
   */
  _updateDOMProperties: function(lastProps, transaction) {
    var nextProps = this.props;
    var propKey;
    var styleName;
    var styleUpdates;
    for (propKey in lastProps) {
      if (nextProps.hasOwnProperty(propKey) ||
         !lastProps.hasOwnProperty(propKey)) {
        continue;
      }
      if (propKey === STYLE) {
        var lastStyle = lastProps[propKey];
        for (styleName in lastStyle) {
          if (lastStyle.hasOwnProperty(styleName)) {
            styleUpdates = styleUpdates || {};
            styleUpdates[styleName] = '';
          }
        }
      } else if (registrationNameModules[propKey]) {
        deleteListener(this._rootNodeID, propKey);
      } else if (
          DOMProperty.isStandardName[propKey] ||
          DOMProperty.isCustomAttribute(propKey)) {
        ReactComponent.BackendIDOperations.deletePropertyByID(
          this._rootNodeID,
          propKey
        );
      }
    }
    for (propKey in nextProps) {
      var nextProp = nextProps[propKey];
      var lastProp = lastProps[propKey];
      if (!nextProps.hasOwnProperty(propKey) || nextProp === lastProp) {
        continue;
      }
      if (propKey === STYLE) {
        if (nextProp) {
          nextProp = nextProps.style = merge(nextProp);
        }
        if (lastProp) {
          // Unset styles on `lastProp` but not on `nextProp`.
          for (styleName in lastProp) {
            if (lastProp.hasOwnProperty(styleName) &&
                !nextProp.hasOwnProperty(styleName)) {
              styleUpdates = styleUpdates || {};
              styleUpdates[styleName] = '';
            }
          }
          // Update styles that changed since `lastProp`.
          for (styleName in nextProp) {
            if (nextProp.hasOwnProperty(styleName) &&
                lastProp[styleName] !== nextProp[styleName]) {
              styleUpdates = styleUpdates || {};
              styleUpdates[styleName] = nextProp[styleName];
            }
          }
        } else {
          // Relies on `updateStylesByID` not mutating `styleUpdates`.
          styleUpdates = nextProp;
        }
      } else if (registrationNameModules[propKey]) {
        putListener(this._rootNodeID, propKey, nextProp, transaction);
      } else if (
          DOMProperty.isStandardName[propKey] ||
          DOMProperty.isCustomAttribute(propKey)) {
        ReactComponent.BackendIDOperations.updatePropertyByID(
          this._rootNodeID,
          propKey,
          nextProp
        );
      }
    }
    if (styleUpdates) {
      ReactComponent.BackendIDOperations.updateStylesByID(
        this._rootNodeID,
        styleUpdates
      );
    }
  },

  /**
   * Reconciles the children with the various properties that affect the
   * children content.
   *
   * @param {object} lastProps
   * @param {ReactReconcileTransaction} transaction
   */
  _updateDOMChildren: function(lastProps, transaction) {
    var nextProps = this.props;

    var lastContent =
      CONTENT_TYPES[typeof lastProps.children] ? lastProps.children : null;
    var nextContent =
      CONTENT_TYPES[typeof nextProps.children] ? nextProps.children : null;

    var lastHtml =
      lastProps.dangerouslySetInnerHTML &&
      lastProps.dangerouslySetInnerHTML.__html;
    var nextHtml =
      nextProps.dangerouslySetInnerHTML &&
      nextProps.dangerouslySetInnerHTML.__html;

    // Note the use of `!=` which checks for null or undefined.
    var lastChildren = lastContent != null ? null : lastProps.children;
    var nextChildren = nextContent != null ? null : nextProps.children;

    // If we're switching from children to content/html or vice versa, remove
    // the old content
    var lastHasContentOrHtml = lastContent != null || lastHtml != null;
    var nextHasContentOrHtml = nextContent != null || nextHtml != null;
    if (lastChildren != null && nextChildren == null) {
      this.updateChildren(null, transaction);
    } else if (lastHasContentOrHtml && !nextHasContentOrHtml) {
      this.updateTextContent('');
    }

    if (nextContent != null) {
      if (lastContent !== nextContent) {
        this.updateTextContent('' + nextContent);
      }
    } else if (nextHtml != null) {
      if (lastHtml !== nextHtml) {
        ReactComponent.BackendIDOperations.updateInnerHTMLByID(
          this._rootNodeID,
          nextHtml
        );
      }
    } else if (nextChildren != null) {
      this.updateChildren(nextChildren, transaction);
    }
  },

  /**
   * Destroys all event registrations for this instance. Does not remove from
   * the DOM. That must be done by the parent.
   *
   * @internal
   */
  unmountComponent: function() {
    this.unmountChildren();
    ReactEventEmitter.deleteAllListeners(this._rootNodeID);
    ReactComponent.Mixin.unmountComponent.call(this);
  }

};

mixInto(ReactDOMComponent, ReactComponent.Mixin);
mixInto(ReactDOMComponent, ReactDOMComponent.Mixin);
mixInto(ReactDOMComponent, ReactMultiChild.Mixin);

module.exports = ReactDOMComponent;

},{"./CSSPropertyOperations":3,"./DOMProperty":8,"./DOMPropertyOperations":9,"./ReactComponent":26,"./ReactEventEmitter":48,"./ReactMount":55,"./ReactMultiChild":57,"./ReactPerf":60,"./escapeTextForBrowser":96,"./invariant":108,"./keyOf":115,"./merge":117,"./mixInto":120}],35:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDOMForm
 */

"use strict";

var ReactCompositeComponent = require("./ReactCompositeComponent");
var ReactDOM = require("./ReactDOM");
var ReactEventEmitter = require("./ReactEventEmitter");
var EventConstants = require("./EventConstants");

// Store a reference to the <form> `ReactDOMComponent`.
var form = ReactDOM.form;

/**
 * Since onSubmit doesn't bubble OR capture on the top level in IE8, we need
 * to capture it on the <form> element itself. There are lots of hacks we could
 * do to accomplish this, but the most reliable is to make <form> a
 * composite component and use `componentDidMount` to attach the event handlers.
 */
var ReactDOMForm = ReactCompositeComponent.createClass({
  displayName: 'ReactDOMForm',

  render: function() {
    // TODO: Instead of using `ReactDOM` directly, we should use JSX. However,
    // `jshint` fails to parse JSX so in order for linting to work in the open
    // source repo, we need to just use `ReactDOM.form`.
    return this.transferPropsTo(form(null, this.props.children));
  },

  componentDidMount: function() {
    ReactEventEmitter.trapBubbledEvent(
      EventConstants.topLevelTypes.topReset,
      'reset',
      this.getDOMNode()
    );
    ReactEventEmitter.trapBubbledEvent(
      EventConstants.topLevelTypes.topSubmit,
      'submit',
      this.getDOMNode()
    );
  }
});

module.exports = ReactDOMForm;

},{"./EventConstants":14,"./ReactCompositeComponent":29,"./ReactDOM":32,"./ReactEventEmitter":48}],36:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDOMIDOperations
 * @typechecks static-only
 */

/*jslint evil: true */

"use strict";

var CSSPropertyOperations = require("./CSSPropertyOperations");
var DOMChildrenOperations = require("./DOMChildrenOperations");
var DOMPropertyOperations = require("./DOMPropertyOperations");
var ReactMount = require("./ReactMount");
var ReactPerf = require("./ReactPerf");

var invariant = require("./invariant");

/**
 * Errors for properties that should not be updated with `updatePropertyById()`.
 *
 * @type {object}
 * @private
 */
var INVALID_PROPERTY_ERRORS = {
  dangerouslySetInnerHTML:
    '`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.',
  style: '`style` must be set using `updateStylesByID()`.'
};

var useWhitespaceWorkaround;

/**
 * Operations used to process updates to DOM nodes. This is made injectable via
 * `ReactComponent.BackendIDOperations`.
 */
var ReactDOMIDOperations = {

  /**
   * Updates a DOM node with new property values. This should only be used to
   * update DOM properties in `DOMProperty`.
   *
   * @param {string} id ID of the node to update.
   * @param {string} name A valid property name, see `DOMProperty`.
   * @param {*} value New value of the property.
   * @internal
   */
  updatePropertyByID: ReactPerf.measure(
    'ReactDOMIDOperations',
    'updatePropertyByID',
    function(id, name, value) {
      var node = ReactMount.getNode(id);
      ("production" !== "development" ? invariant(
        !INVALID_PROPERTY_ERRORS.hasOwnProperty(name),
        'updatePropertyByID(...): %s',
        INVALID_PROPERTY_ERRORS[name]
      ) : invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name)));

      // If we're updating to null or undefined, we should remove the property
      // from the DOM node instead of inadvertantly setting to a string. This
      // brings us in line with the same behavior we have on initial render.
      if (value != null) {
        DOMPropertyOperations.setValueForProperty(node, name, value);
      } else {
        DOMPropertyOperations.deleteValueForProperty(node, name);
      }
    }
  ),

  /**
   * Updates a DOM node to remove a property. This should only be used to remove
   * DOM properties in `DOMProperty`.
   *
   * @param {string} id ID of the node to update.
   * @param {string} name A property name to remove, see `DOMProperty`.
   * @internal
   */
  deletePropertyByID: ReactPerf.measure(
    'ReactDOMIDOperations',
    'deletePropertyByID',
    function(id, name, value) {
      var node = ReactMount.getNode(id);
      ("production" !== "development" ? invariant(
        !INVALID_PROPERTY_ERRORS.hasOwnProperty(name),
        'updatePropertyByID(...): %s',
        INVALID_PROPERTY_ERRORS[name]
      ) : invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name)));
      DOMPropertyOperations.deleteValueForProperty(node, name, value);
    }
  ),

  /**
   * Updates a DOM node with new style values. If a value is specified as '',
   * the corresponding style property will be unset.
   *
   * @param {string} id ID of the node to update.
   * @param {object} styles Mapping from styles to values.
   * @internal
   */
  updateStylesByID: ReactPerf.measure(
    'ReactDOMIDOperations',
    'updateStylesByID',
    function(id, styles) {
      var node = ReactMount.getNode(id);
      CSSPropertyOperations.setValueForStyles(node, styles);
    }
  ),

  /**
   * Updates a DOM node's innerHTML.
   *
   * @param {string} id ID of the node to update.
   * @param {string} html An HTML string.
   * @internal
   */
  updateInnerHTMLByID: ReactPerf.measure(
    'ReactDOMIDOperations',
    'updateInnerHTMLByID',
    function(id, html) {
      var node = ReactMount.getNode(id);

      // IE8: When updating a just created node with innerHTML only leading
      // whitespace is removed. When updating an existing node with innerHTML
      // whitespace in root TextNodes is also collapsed.
      // @see quirksmode.org/bugreports/archives/2004/11/innerhtml_and_t.html

      if (useWhitespaceWorkaround === undefined) {
        // Feature detection; only IE8 is known to behave improperly like this.
        var temp = document.createElement('div');
        temp.innerHTML = ' ';
        useWhitespaceWorkaround = temp.innerHTML === '';
      }

      if (useWhitespaceWorkaround) {
        // Magic theory: IE8 supposedly differentiates between added and updated
        // nodes when processing innerHTML, innerHTML on updated nodes suffers
        // from worse whitespace behavior. Re-adding a node like this triggers
        // the initial and more favorable whitespace behavior.
        node.parentNode.replaceChild(node, node);
      }

      if (useWhitespaceWorkaround && html.match(/^[ \r\n\t\f]/)) {
        // Recover leading whitespace by temporarily prepending any character.
        // \uFEFF has the potential advantage of being zero-width/invisible.
        node.innerHTML = '\uFEFF' + html;
        node.firstChild.deleteData(0, 1);
      } else {
        node.innerHTML = html;
      }
    }
  ),

  /**
   * Updates a DOM node's text content set by `props.content`.
   *
   * @param {string} id ID of the node to update.
   * @param {string} content Text content.
   * @internal
   */
  updateTextContentByID: ReactPerf.measure(
    'ReactDOMIDOperations',
    'updateTextContentByID',
    function(id, content) {
      var node = ReactMount.getNode(id);
      DOMChildrenOperations.updateTextContent(node, content);
    }
  ),

  /**
   * Replaces a DOM node that exists in the document with markup.
   *
   * @param {string} id ID of child to be replaced.
   * @param {string} markup Dangerous markup to inject in place of child.
   * @internal
   * @see {Danger.dangerouslyReplaceNodeWithMarkup}
   */
  dangerouslyReplaceNodeWithMarkupByID: ReactPerf.measure(
    'ReactDOMIDOperations',
    'dangerouslyReplaceNodeWithMarkupByID',
    function(id, markup) {
      var node = ReactMount.getNode(id);
      DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(node, markup);
    }
  ),

  /**
   * Updates a component's children by processing a series of updates.
   *
   * @param {array<object>} updates List of update configurations.
   * @param {array<string>} markup List of markup strings.
   * @internal
   */
  dangerouslyProcessChildrenUpdates: ReactPerf.measure(
    'ReactDOMIDOperations',
    'dangerouslyProcessChildrenUpdates',
    function(updates, markup) {
      for (var i = 0; i < updates.length; i++) {
        updates[i].parentNode = ReactMount.getNode(updates[i].parentID);
      }
      DOMChildrenOperations.processUpdates(updates, markup);
    }
  )
};

module.exports = ReactDOMIDOperations;

},{"./CSSPropertyOperations":3,"./DOMChildrenOperations":7,"./DOMPropertyOperations":9,"./ReactMount":55,"./ReactPerf":60,"./invariant":108}],37:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDOMImg
 */

"use strict";

var ReactCompositeComponent = require("./ReactCompositeComponent");
var ReactDOM = require("./ReactDOM");
var ReactEventEmitter = require("./ReactEventEmitter");
var EventConstants = require("./EventConstants");

// Store a reference to the <img> `ReactDOMComponent`.
var img = ReactDOM.img;

/**
 * Since onLoad doesn't bubble OR capture on the top level in IE8, we need to
 * capture it on the <img> element itself. There are lots of hacks we could do
 * to accomplish this, but the most reliable is to make <img> a composite
 * component and use `componentDidMount` to attach the event handlers.
 */
var ReactDOMImg = ReactCompositeComponent.createClass({
  displayName: 'ReactDOMImg',
  tagName: 'IMG',

  render: function() {
    return img(this.props);
  },

  componentDidMount: function() {
    var node = this.getDOMNode();
    ReactEventEmitter.trapBubbledEvent(
      EventConstants.topLevelTypes.topLoad,
      'load',
      node
    );
    ReactEventEmitter.trapBubbledEvent(
      EventConstants.topLevelTypes.topError,
      'error',
      node
    );
  }
});

module.exports = ReactDOMImg;

},{"./EventConstants":14,"./ReactCompositeComponent":29,"./ReactDOM":32,"./ReactEventEmitter":48}],38:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDOMInput
 */

"use strict";

var AutoFocusMixin = require("./AutoFocusMixin");
var DOMPropertyOperations = require("./DOMPropertyOperations");
var LinkedValueUtils = require("./LinkedValueUtils");
var ReactCompositeComponent = require("./ReactCompositeComponent");
var ReactDOM = require("./ReactDOM");
var ReactMount = require("./ReactMount");

var invariant = require("./invariant");
var merge = require("./merge");

// Store a reference to the <input> `ReactDOMComponent`.
var input = ReactDOM.input;

var instancesByReactID = {};

/**
 * Implements an <input> native component that allows setting these optional
 * props: `checked`, `value`, `defaultChecked`, and `defaultValue`.
 *
 * If `checked` or `value` are not supplied (or null/undefined), user actions
 * that affect the checked state or value will trigger updates to the element.
 *
 * If they are supplied (and not null/undefined), the rendered element will not
 * trigger updates to the element. Instead, the props must change in order for
 * the rendered element to be updated.
 *
 * The rendered element will be initialized as unchecked (or `defaultChecked`)
 * with an empty value (or `defaultValue`).
 *
 * @see http://www.w3.org/TR/2012/WD-html5-20121025/the-input-element.html
 */
var ReactDOMInput = ReactCompositeComponent.createClass({
  displayName: 'ReactDOMInput',

  mixins: [AutoFocusMixin, LinkedValueUtils.Mixin],

  getInitialState: function() {
    var defaultValue = this.props.defaultValue;
    return {
      checked: this.props.defaultChecked || false,
      value: defaultValue != null ? defaultValue : null
    };
  },

  shouldComponentUpdate: function() {
    // Defer any updates to this component during the `onChange` handler.
    return !this._isChanging;
  },

  render: function() {
    // Clone `this.props` so we don't mutate the input.
    var props = merge(this.props);

    props.defaultChecked = null;
    props.defaultValue = null;

    var value = LinkedValueUtils.getValue(this);
    props.value = value != null ? value : this.state.value;

    var checked = LinkedValueUtils.getChecked(this);
    props.checked = checked != null ? checked : this.state.checked;

    props.onChange = this._handleChange;

    return input(props, this.props.children);
  },

  componentDidMount: function() {
    var id = ReactMount.getID(this.getDOMNode());
    instancesByReactID[id] = this;
  },

  componentWillUnmount: function() {
    var rootNode = this.getDOMNode();
    var id = ReactMount.getID(rootNode);
    delete instancesByReactID[id];
  },

  componentDidUpdate: function(prevProps, prevState, prevContext) {
    var rootNode = this.getDOMNode();
    if (this.props.checked != null) {
      DOMPropertyOperations.setValueForProperty(
        rootNode,
        'checked',
        this.props.checked || false
      );
    }

    var value = LinkedValueUtils.getValue(this);
    if (value != null) {
      // Cast `value` to a string to ensure the value is set correctly. While
      // browsers typically do this as necessary, jsdom doesn't.
      DOMPropertyOperations.setValueForProperty(rootNode, 'value', '' + value);
    }
  },

  _handleChange: function(event) {
    var returnValue;
    var onChange = LinkedValueUtils.getOnChange(this);
    if (onChange) {
      this._isChanging = true;
      returnValue = onChange.call(this, event);
      this._isChanging = false;
    }
    this.setState({
      checked: event.target.checked,
      value: event.target.value
    });

    var name = this.props.name;
    if (this.props.type === 'radio' && name != null) {
      var rootNode = this.getDOMNode();
      var queryRoot = rootNode;

      while (queryRoot.parentNode) {
        queryRoot = queryRoot.parentNode;
      }

      // If `rootNode.form` was non-null, then we could try `form.elements`,
      // but that sometimes behaves strangely in IE8. We could also try using
      // `form.getElementsByName`, but that will only return direct children
      // and won't include inputs that use the HTML5 `form=` attribute. Since
      // the input might not even be in a form, let's just use the global
      // `querySelectorAll` to ensure we don't miss anything.
      var group = queryRoot.querySelectorAll(
        'input[name=' + JSON.stringify('' + name) + '][type="radio"]');

      for (var i = 0, groupLen = group.length; i < groupLen; i++) {
        var otherNode = group[i];
        if (otherNode === rootNode ||
            otherNode.form !== rootNode.form) {
          continue;
        }
        var otherID = ReactMount.getID(otherNode);
        ("production" !== "development" ? invariant(
          otherID,
          'ReactDOMInput: Mixing React and non-React radio inputs with the ' +
          'same `name` is not supported.'
        ) : invariant(otherID));
        var otherInstance = instancesByReactID[otherID];
        ("production" !== "development" ? invariant(
          otherInstance,
          'ReactDOMInput: Unknown radio button ID %s.',
          otherID
        ) : invariant(otherInstance));
        // In some cases, this will actually change the `checked` state value.
        // In other cases, there's no change but this forces a reconcile upon
        // which componentDidUpdate will reset the DOM property to whatever it
        // should be.
        otherInstance.setState({
          checked: false
        });
      }
    }

    return returnValue;
  }

});

module.exports = ReactDOMInput;

},{"./AutoFocusMixin":1,"./DOMPropertyOperations":9,"./LinkedValueUtils":21,"./ReactCompositeComponent":29,"./ReactDOM":32,"./ReactMount":55,"./invariant":108,"./merge":117}],39:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDOMOption
 */

"use strict";

var ReactCompositeComponent = require("./ReactCompositeComponent");
var ReactDOM = require("./ReactDOM");

// Store a reference to the <option> `ReactDOMComponent`.
var option = ReactDOM.option;

/**
 * Implements an <option> native component that warns when `selected` is set.
 */
var ReactDOMOption = ReactCompositeComponent.createClass({
  displayName: 'ReactDOMOption',

  componentWillMount: function() {
    // TODO (yungsters): Remove support for `selected` in <option>.
    if (this.props.selected != null) {
      if ("production" !== "development") {
        console.warn(
          'Use the `defaultValue` or `value` props on <select> instead of ' +
          'setting `selected` on <option>.'
        );
      }
    }
  },

  render: function() {
    return option(this.props, this.props.children);
  }

});

module.exports = ReactDOMOption;

},{"./ReactCompositeComponent":29,"./ReactDOM":32}],40:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDOMSelect
 */

"use strict";

var AutoFocusMixin = require("./AutoFocusMixin");
var LinkedValueUtils = require("./LinkedValueUtils");
var ReactCompositeComponent = require("./ReactCompositeComponent");
var ReactDOM = require("./ReactDOM");

var invariant = require("./invariant");
var merge = require("./merge");

// Store a reference to the <select> `ReactDOMComponent`.
var select = ReactDOM.select;

/**
 * Validation function for `value` and `defaultValue`.
 * @private
 */
function selectValueType(props, propName, componentName) {
  if (props[propName] == null) {
    return;
  }
  if (props.multiple) {
    ("production" !== "development" ? invariant(
      Array.isArray(props[propName]),
      'The `%s` prop supplied to <select> must be an array if `multiple` is ' +
      'true.',
      propName
    ) : invariant(Array.isArray(props[propName])));
  } else {
    ("production" !== "development" ? invariant(
      !Array.isArray(props[propName]),
      'The `%s` prop supplied to <select> must be a scalar value if ' +
      '`multiple` is false.',
      propName
    ) : invariant(!Array.isArray(props[propName])));
  }
}

/**
 * If `value` is supplied, updates <option> elements on mount and update.
 * @param {ReactComponent} component Instance of ReactDOMSelect
 * @param {?*} propValue For uncontrolled components, null/undefined. For
 * controlled components, a string (or with `multiple`, a list of strings).
 * @private
 */
function updateOptions(component, propValue) {
  var multiple = component.props.multiple;
  var value = propValue != null ? propValue : component.state.value;
  var options = component.getDOMNode().options;
  var selectedValue, i, l;
  if (multiple) {
    selectedValue = {};
    for (i = 0, l = value.length; i < l; ++i) {
      selectedValue['' + value[i]] = true;
    }
  } else {
    selectedValue = '' + value;
  }
  for (i = 0, l = options.length; i < l; i++) {
    var selected = multiple ?
      selectedValue.hasOwnProperty(options[i].value) :
      options[i].value === selectedValue;

    if (selected !== options[i].selected) {
      options[i].selected = selected;
    }
  }
}

/**
 * Implements a <select> native component that allows optionally setting the
 * props `value` and `defaultValue`. If `multiple` is false, the prop must be a
 * string. If `multiple` is true, the prop must be an array of strings.
 *
 * If `value` is not supplied (or null/undefined), user actions that change the
 * selected option will trigger updates to the rendered options.
 *
 * If it is supplied (and not null/undefined), the rendered options will not
 * update in response to user actions. Instead, the `value` prop must change in
 * order for the rendered options to update.
 *
 * If `defaultValue` is provided, any options with the supplied values will be
 * selected.
 */
var ReactDOMSelect = ReactCompositeComponent.createClass({
  displayName: 'ReactDOMSelect',

  mixins: [AutoFocusMixin, LinkedValueUtils.Mixin],

  propTypes: {
    defaultValue: selectValueType,
    value: selectValueType
  },

  getInitialState: function() {
    return {value: this.props.defaultValue || (this.props.multiple ? [] : '')};
  },

  componentWillReceiveProps: function(nextProps) {
    if (!this.props.multiple && nextProps.multiple) {
      this.setState({value: [this.state.value]});
    } else if (this.props.multiple && !nextProps.multiple) {
      this.setState({value: this.state.value[0]});
    }
  },

  shouldComponentUpdate: function() {
    // Defer any updates to this component during the `onChange` handler.
    return !this._isChanging;
  },

  render: function() {
    // Clone `this.props` so we don't mutate the input.
    var props = merge(this.props);

    props.onChange = this._handleChange;
    props.value = null;

    return select(props, this.props.children);
  },

  componentDidMount: function() {
    updateOptions(this, LinkedValueUtils.getValue(this));
  },

  componentDidUpdate: function() {
    var value = LinkedValueUtils.getValue(this);
    if (value != null) {
      updateOptions(this, value);
    }
  },

  _handleChange: function(event) {
    var returnValue;
    var onChange = LinkedValueUtils.getOnChange(this);
    if (onChange) {
      this._isChanging = true;
      returnValue = onChange.call(this, event);
      this._isChanging = false;
    }

    var selectedValue;
    if (this.props.multiple) {
      selectedValue = [];
      var options = event.target.options;
      for (var i = 0, l = options.length; i < l; i++) {
        if (options[i].selected) {
          selectedValue.push(options[i].value);
        }
      }
    } else {
      selectedValue = event.target.value;
    }

    this.setState({value: selectedValue});
    return returnValue;
  }

});

module.exports = ReactDOMSelect;

},{"./AutoFocusMixin":1,"./LinkedValueUtils":21,"./ReactCompositeComponent":29,"./ReactDOM":32,"./invariant":108,"./merge":117}],41:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDOMSelection
 */

"use strict";

var getNodeForCharacterOffset = require("./getNodeForCharacterOffset");
var getTextContentAccessor = require("./getTextContentAccessor");

/**
 * Get the appropriate anchor and focus node/offset pairs for IE.
 *
 * The catch here is that IE's selection API doesn't provide information
 * about whether the selection is forward or backward, so we have to
 * behave as though it's always forward.
 *
 * IE text differs from modern selection in that it behaves as though
 * block elements end with a new line. This means character offsets will
 * differ between the two APIs.
 *
 * @param {DOMElement} node
 * @return {object}
 */
function getIEOffsets(node) {
  var selection = document.selection;
  var selectedRange = selection.createRange();
  var selectedLength = selectedRange.text.length;

  // Duplicate selection so we can move range without breaking user selection.
  var fromStart = selectedRange.duplicate();
  fromStart.moveToElementText(node);
  fromStart.setEndPoint('EndToStart', selectedRange);

  var startOffset = fromStart.text.length;
  var endOffset = startOffset + selectedLength;

  return {
    start: startOffset,
    end: endOffset
  };
}

/**
 * @param {DOMElement} node
 * @return {?object}
 */
function getModernOffsets(node) {
  var selection = window.getSelection();

  if (selection.rangeCount === 0) {
    return null;
  }

  var anchorNode = selection.anchorNode;
  var anchorOffset = selection.anchorOffset;
  var focusNode = selection.focusNode;
  var focusOffset = selection.focusOffset;

  var currentRange = selection.getRangeAt(0);
  var rangeLength = currentRange.toString().length;

  var tempRange = currentRange.cloneRange();
  tempRange.selectNodeContents(node);
  tempRange.setEnd(currentRange.startContainer, currentRange.startOffset);

  var start = tempRange.toString().length;
  var end = start + rangeLength;

  // Detect whether the selection is backward.
  var detectionRange = document.createRange();
  detectionRange.setStart(anchorNode, anchorOffset);
  detectionRange.setEnd(focusNode, focusOffset);
  var isBackward = detectionRange.collapsed;
  detectionRange.detach();

  return {
    start: isBackward ? end : start,
    end: isBackward ? start : end
  };
}

/**
 * @param {DOMElement|DOMTextNode} node
 * @param {object} offsets
 */
function setIEOffsets(node, offsets) {
  var range = document.selection.createRange().duplicate();
  var start, end;

  if (typeof offsets.end === 'undefined') {
    start = offsets.start;
    end = start;
  } else if (offsets.start > offsets.end) {
    start = offsets.end;
    end = offsets.start;
  } else {
    start = offsets.start;
    end = offsets.end;
  }

  range.moveToElementText(node);
  range.moveStart('character', start);
  range.setEndPoint('EndToStart', range);
  range.moveEnd('character', end - start);
  range.select();
}

/**
 * In modern non-IE browsers, we can support both forward and backward
 * selections.
 *
 * Note: IE10+ supports the Selection object, but it does not support
 * the `extend` method, which means that even in modern IE, it's not possible
 * to programatically create a backward selection. Thus, for all IE
 * versions, we use the old IE API to create our selections.
 *
 * @param {DOMElement|DOMTextNode} node
 * @param {object} offsets
 */
function setModernOffsets(node, offsets) {
  var selection = window.getSelection();

  var length = node[getTextContentAccessor()].length;
  var start = Math.min(offsets.start, length);
  var end = typeof offsets.end === 'undefined' ?
            start : Math.min(offsets.end, length);

  // IE 11 uses modern selection, but doesn't support the extend method.
  // Flip backward selections, so we can set with a single range.
  if (!selection.extend && start > end) {
    var temp = end;
    end = start;
    start = temp;
  }

  var startMarker = getNodeForCharacterOffset(node, start);
  var endMarker = getNodeForCharacterOffset(node, end);

  if (startMarker && endMarker) {
    var range = document.createRange();
    range.setStart(startMarker.node, startMarker.offset);
    selection.removeAllRanges();

    if (start > end) {
      selection.addRange(range);
      selection.extend(endMarker.node, endMarker.offset);
    } else {
      range.setEnd(endMarker.node, endMarker.offset);
      selection.addRange(range);
    }

    range.detach();
  }
}

var ReactDOMSelection = {
  /**
   * @param {DOMElement} node
   */
  getOffsets: function(node) {
    var getOffsets = document.selection ? getIEOffsets : getModernOffsets;
    return getOffsets(node);
  },

  /**
   * @param {DOMElement|DOMTextNode} node
   * @param {object} offsets
   */
  setOffsets: function(node, offsets) {
    var setOffsets = document.selection ? setIEOffsets : setModernOffsets;
    setOffsets(node, offsets);
  }
};

module.exports = ReactDOMSelection;

},{"./getNodeForCharacterOffset":103,"./getTextContentAccessor":105}],42:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDOMTextarea
 */

"use strict";

var AutoFocusMixin = require("./AutoFocusMixin");
var DOMPropertyOperations = require("./DOMPropertyOperations");
var LinkedValueUtils = require("./LinkedValueUtils");
var ReactCompositeComponent = require("./ReactCompositeComponent");
var ReactDOM = require("./ReactDOM");

var invariant = require("./invariant");
var merge = require("./merge");

// Store a reference to the <textarea> `ReactDOMComponent`.
var textarea = ReactDOM.textarea;

/**
 * Implements a <textarea> native component that allows setting `value`, and
 * `defaultValue`. This differs from the traditional DOM API because value is
 * usually set as PCDATA children.
 *
 * If `value` is not supplied (or null/undefined), user actions that affect the
 * value will trigger updates to the element.
 *
 * If `value` is supplied (and not null/undefined), the rendered element will
 * not trigger updates to the element. Instead, the `value` prop must change in
 * order for the rendered element to be updated.
 *
 * The rendered element will be initialized with an empty value, the prop
 * `defaultValue` if specified, or the children content (deprecated).
 */
var ReactDOMTextarea = ReactCompositeComponent.createClass({
  displayName: 'ReactDOMTextarea',

  mixins: [AutoFocusMixin, LinkedValueUtils.Mixin],

  getInitialState: function() {
    var defaultValue = this.props.defaultValue;
    // TODO (yungsters): Remove support for children content in <textarea>.
    var children = this.props.children;
    if (children != null) {
      if ("production" !== "development") {
        console.warn(
          'Use the `defaultValue` or `value` props instead of setting ' +
          'children on <textarea>.'
        );
      }
      ("production" !== "development" ? invariant(
        defaultValue == null,
        'If you supply `defaultValue` on a <textarea>, do not pass children.'
      ) : invariant(defaultValue == null));
      if (Array.isArray(children)) {
        ("production" !== "development" ? invariant(
          children.length <= 1,
          '<textarea> can only have at most one child.'
        ) : invariant(children.length <= 1));
        children = children[0];
      }

      defaultValue = '' + children;
    }
    if (defaultValue == null) {
      defaultValue = '';
    }
    var value = LinkedValueUtils.getValue(this);
    return {
      // We save the initial value so that `ReactDOMComponent` doesn't update
      // `textContent` (unnecessary since we update value).
      // The initial value can be a boolean or object so that's why it's
      // forced to be a string.
      initialValue: '' + (value != null ? value : defaultValue),
      value: defaultValue
    };
  },

  shouldComponentUpdate: function() {
    // Defer any updates to this component during the `onChange` handler.
    return !this._isChanging;
  },

  render: function() {
    // Clone `this.props` so we don't mutate the input.
    var props = merge(this.props);
    var value = LinkedValueUtils.getValue(this);

    ("production" !== "development" ? invariant(
      props.dangerouslySetInnerHTML == null,
      '`dangerouslySetInnerHTML` does not make sense on <textarea>.'
    ) : invariant(props.dangerouslySetInnerHTML == null));

    props.defaultValue = null;
    props.value = value != null ? value : this.state.value;
    props.onChange = this._handleChange;

    // Always set children to the same thing. In IE9, the selection range will
    // get reset if `textContent` is mutated.
    return textarea(props, this.state.initialValue);
  },

  componentDidUpdate: function(prevProps, prevState, prevContext) {
    var value = LinkedValueUtils.getValue(this);
    if (value != null) {
      var rootNode = this.getDOMNode();
      // Cast `value` to a string to ensure the value is set correctly. While
      // browsers typically do this as necessary, jsdom doesn't.
      DOMPropertyOperations.setValueForProperty(rootNode, 'value', '' + value);
    }
  },

  _handleChange: function(event) {
    var returnValue;
    var onChange = LinkedValueUtils.getOnChange(this);
    if (onChange) {
      this._isChanging = true;
      returnValue = onChange.call(this, event);
      this._isChanging = false;
    }
    this.setState({value: event.target.value});
    return returnValue;
  }

});

module.exports = ReactDOMTextarea;

},{"./AutoFocusMixin":1,"./DOMPropertyOperations":9,"./LinkedValueUtils":21,"./ReactCompositeComponent":29,"./ReactDOM":32,"./invariant":108,"./merge":117}],43:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDefaultBatchingStrategy
 */

"use strict";

var ReactUpdates = require("./ReactUpdates");
var Transaction = require("./Transaction");

var emptyFunction = require("./emptyFunction");
var mixInto = require("./mixInto");

var RESET_BATCHED_UPDATES = {
  initialize: emptyFunction,
  close: function() {
    ReactDefaultBatchingStrategy.isBatchingUpdates = false;
  }
};

var FLUSH_BATCHED_UPDATES = {
  initialize: emptyFunction,
  close: ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)
};

var TRANSACTION_WRAPPERS = [FLUSH_BATCHED_UPDATES, RESET_BATCHED_UPDATES];

function ReactDefaultBatchingStrategyTransaction() {
  this.reinitializeTransaction();
}

mixInto(ReactDefaultBatchingStrategyTransaction, Transaction.Mixin);
mixInto(ReactDefaultBatchingStrategyTransaction, {
  getTransactionWrappers: function() {
    return TRANSACTION_WRAPPERS;
  }
});

var transaction = new ReactDefaultBatchingStrategyTransaction();

var ReactDefaultBatchingStrategy = {
  isBatchingUpdates: false,

  /**
   * Call the provided function in a context within which calls to `setState`
   * and friends are batched such that components aren't updated unnecessarily.
   */
  batchedUpdates: function(callback, param) {
    var alreadyBatchingUpdates = ReactDefaultBatchingStrategy.isBatchingUpdates;

    ReactDefaultBatchingStrategy.isBatchingUpdates = true;

    // The code is written this way to avoid extra allocations
    if (alreadyBatchingUpdates) {
      callback(param);
    } else {
      transaction.perform(callback, null, param);
    }
  }
};

module.exports = ReactDefaultBatchingStrategy;

},{"./ReactUpdates":70,"./Transaction":84,"./emptyFunction":95,"./mixInto":120}],44:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDefaultInjection
 */

"use strict";

var ReactInjection = require("./ReactInjection");

var ExecutionEnvironment = require("./ExecutionEnvironment");

var DefaultDOMPropertyConfig = require("./DefaultDOMPropertyConfig");

var ChangeEventPlugin = require("./ChangeEventPlugin");
var ClientReactRootIndex = require("./ClientReactRootIndex");
var CompositionEventPlugin = require("./CompositionEventPlugin");
var DefaultEventPluginOrder = require("./DefaultEventPluginOrder");
var EnterLeaveEventPlugin = require("./EnterLeaveEventPlugin");
var MobileSafariClickEventPlugin = require("./MobileSafariClickEventPlugin");
var ReactEventTopLevelCallback = require("./ReactEventTopLevelCallback");
var ReactDOM = require("./ReactDOM");
var ReactDOMButton = require("./ReactDOMButton");
var ReactDOMForm = require("./ReactDOMForm");
var ReactDOMImg = require("./ReactDOMImg");
var ReactDOMInput = require("./ReactDOMInput");
var ReactDOMOption = require("./ReactDOMOption");
var ReactDOMSelect = require("./ReactDOMSelect");
var ReactDOMTextarea = require("./ReactDOMTextarea");
var ReactInstanceHandles = require("./ReactInstanceHandles");
var ReactMount = require("./ReactMount");
var SelectEventPlugin = require("./SelectEventPlugin");
var ServerReactRootIndex = require("./ServerReactRootIndex");
var SimpleEventPlugin = require("./SimpleEventPlugin");

var ReactDefaultBatchingStrategy = require("./ReactDefaultBatchingStrategy");

var createFullPageComponent = require("./createFullPageComponent");

function inject() {
  ReactInjection.EventEmitter.injectTopLevelCallbackCreator(
    ReactEventTopLevelCallback
  );

  /**
   * Inject modules for resolving DOM hierarchy and plugin ordering.
   */
  ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder);
  ReactInjection.EventPluginHub.injectInstanceHandle(ReactInstanceHandles);
  ReactInjection.EventPluginHub.injectMount(ReactMount);

  /**
   * Some important event plugins included by default (without having to require
   * them).
   */
  ReactInjection.EventPluginHub.injectEventPluginsByName({
    SimpleEventPlugin: SimpleEventPlugin,
    EnterLeaveEventPlugin: EnterLeaveEventPlugin,
    ChangeEventPlugin: ChangeEventPlugin,
    CompositionEventPlugin: CompositionEventPlugin,
    MobileSafariClickEventPlugin: MobileSafariClickEventPlugin,
    SelectEventPlugin: SelectEventPlugin
  });

  ReactInjection.DOM.injectComponentClasses({
    button: ReactDOMButton,
    form: ReactDOMForm,
    img: ReactDOMImg,
    input: ReactDOMInput,
    option: ReactDOMOption,
    select: ReactDOMSelect,
    textarea: ReactDOMTextarea,

    html: createFullPageComponent(ReactDOM.html),
    head: createFullPageComponent(ReactDOM.head),
    title: createFullPageComponent(ReactDOM.title),
    body: createFullPageComponent(ReactDOM.body)
  });

  ReactInjection.DOMProperty.injectDOMPropertyConfig(DefaultDOMPropertyConfig);

  ReactInjection.Updates.injectBatchingStrategy(
    ReactDefaultBatchingStrategy
  );

  ReactInjection.RootIndex.injectCreateReactRootIndex(
    ExecutionEnvironment.canUseDOM ?
      ClientReactRootIndex.createReactRootIndex :
      ServerReactRootIndex.createReactRootIndex
  );

  if ("production" !== "development") {
    var url = (ExecutionEnvironment.canUseDOM && window.location.href) || '';
    if ((/[?&]react_perf\b/).test(url)) {
      var ReactDefaultPerf = require("./ReactDefaultPerf");
      ReactDefaultPerf.start();
    }
  }
}

module.exports = {
  inject: inject
};

},{"./ChangeEventPlugin":4,"./ClientReactRootIndex":5,"./CompositionEventPlugin":6,"./DefaultDOMPropertyConfig":11,"./DefaultEventPluginOrder":12,"./EnterLeaveEventPlugin":13,"./ExecutionEnvironment":20,"./MobileSafariClickEventPlugin":22,"./ReactDOM":32,"./ReactDOMButton":33,"./ReactDOMForm":35,"./ReactDOMImg":37,"./ReactDOMInput":38,"./ReactDOMOption":39,"./ReactDOMSelect":40,"./ReactDOMTextarea":42,"./ReactDefaultBatchingStrategy":43,"./ReactDefaultPerf":45,"./ReactEventTopLevelCallback":50,"./ReactInjection":51,"./ReactInstanceHandles":53,"./ReactMount":55,"./SelectEventPlugin":71,"./ServerReactRootIndex":72,"./SimpleEventPlugin":73,"./createFullPageComponent":91}],45:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDefaultPerf
 * @typechecks static-only
 */

"use strict";

var DOMProperty = require("./DOMProperty");
var ReactDefaultPerfAnalysis = require("./ReactDefaultPerfAnalysis");
var ReactMount = require("./ReactMount");
var ReactPerf = require("./ReactPerf");

var performanceNow = require("./performanceNow");

function roundFloat(val) {
  return Math.floor(val * 100) / 100;
}

var ReactDefaultPerf = {
  _allMeasurements: [], // last item in the list is the current one
  _injected: false,

  start: function() {
    if (!ReactDefaultPerf._injected) {
      ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure);
    }

    ReactDefaultPerf._allMeasurements.length = 0;
    ReactPerf.enableMeasure = true;
  },

  stop: function() {
    ReactPerf.enableMeasure = false;
  },

  getLastMeasurements: function() {
    return ReactDefaultPerf._allMeasurements;
  },

  printExclusive: function(measurements) {
    measurements = measurements || ReactDefaultPerf._allMeasurements;
    var summary = ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);
    console.table(summary.map(function(item) {
      return {
        'Component class name': item.componentName,
        'Total inclusive time (ms)': roundFloat(item.inclusive),
        'Total exclusive time (ms)': roundFloat(item.exclusive),
        'Exclusive time per instance (ms)': roundFloat(item.exclusive / item.count),
        'Instances': item.count
      };
    }));
    console.log(
      'Total time:',
      ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2) + ' ms'
    );
  },

  printInclusive: function(measurements) {
    measurements = measurements || ReactDefaultPerf._allMeasurements;
    var summary = ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);
    console.table(summary.map(function(item) {
      return {
        'Owner > component': item.componentName,
        'Inclusive time (ms)': roundFloat(item.time),
        'Instances': item.count
      };
    }));
    console.log(
      'Total time:',
      ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2) + ' ms'
    );
  },

  printWasted: function(measurements) {
    measurements = measurements || ReactDefaultPerf._allMeasurements;
    var summary = ReactDefaultPerfAnalysis.getInclusiveSummary(
      measurements,
      true
    );
    console.table(summary.map(function(item) {
      return {
        'Owner > component': item.componentName,
        'Wasted time (ms)': item.time,
        'Instances': item.count
      };
    }));
    console.log(
      'Total time:',
      ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2) + ' ms'
    );
  },

  printDOM: function(measurements) {
    measurements = measurements || ReactDefaultPerf._allMeasurements;
    var summary = ReactDefaultPerfAnalysis.getDOMSummary(measurements);
    console.table(summary.map(function(item) {
      var result = {};
      result[DOMProperty.ID_ATTRIBUTE_NAME] = item.id;
      result['type'] = item.type;
      result['args'] = JSON.stringify(item.args);
      return result;
    }));
    console.log(
      'Total time:',
      ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2) + ' ms'
    );
  },

  _recordWrite: function(id, fnName, totalTime, args) {
    // TODO: totalTime isn't that useful since it doesn't count paints/reflows
    var writes =
      ReactDefaultPerf
        ._allMeasurements[ReactDefaultPerf._allMeasurements.length - 1]
        .writes;
    writes[id] = writes[id] || [];
    writes[id].push({
      type: fnName,
      time: totalTime,
      args: args
    });
  },

  measure: function(moduleName, fnName, func) {
    return function() {var args=Array.prototype.slice.call(arguments,0);
      var totalTime;
      var rv;
      var start;

      if (fnName === '_renderNewRootComponent' ||
          fnName === 'flushBatchedUpdates') {
        // A "measurement" is a set of metrics recorded for each flush. We want
        // to group the metrics for a given flush together so we can look at the
        // components that rendered and the DOM operations that actually
        // happened to determine the amount of "wasted work" performed.
        ReactDefaultPerf._allMeasurements.push({
          exclusive: {},
          inclusive: {},
          counts: {},
          writes: {},
          displayNames: {},
          totalTime: 0
        });
        start = performanceNow();
        rv = func.apply(this, args);
        ReactDefaultPerf._allMeasurements[
          ReactDefaultPerf._allMeasurements.length - 1
        ].totalTime = performanceNow() - start;
        return rv;
      } else if (moduleName === 'ReactDOMIDOperations' ||
        moduleName === 'ReactComponentBrowserEnvironment') {
        start = performanceNow();
        rv = func.apply(this, args);
        totalTime = performanceNow() - start;

        if (fnName === 'mountImageIntoNode') {
          var mountID = ReactMount.getID(args[1]);
          ReactDefaultPerf._recordWrite(mountID, fnName, totalTime, args[0]);
        } else if (fnName === 'dangerouslyProcessChildrenUpdates') {
          // special format
          args[0].forEach(function(update) {
            var writeArgs = {};
            if (update.fromIndex !== null) {
              writeArgs.fromIndex = update.fromIndex;
            }
            if (update.toIndex !== null) {
              writeArgs.toIndex = update.toIndex;
            }
            if (update.textContent !== null) {
              writeArgs.textContent = update.textContent;
            }
            if (update.markupIndex !== null) {
              writeArgs.markup = args[1][update.markupIndex];
            }
            ReactDefaultPerf._recordWrite(
              update.parentID,
              update.type,
              totalTime,
              writeArgs
            );
          });
        } else {
          // basic format
          ReactDefaultPerf._recordWrite(
            args[0],
            fnName,
            totalTime,
            Array.prototype.slice.call(args, 1)
          );
        }
        return rv;
      } else if (moduleName === 'ReactCompositeComponent' && (
        fnName === 'mountComponent' ||
        fnName === 'updateComponent' || // TODO: receiveComponent()?
        fnName === '_renderValidatedComponent')) {

        var rootNodeID = fnName === 'mountComponent' ?
          args[0] :
          this._rootNodeID;
        var isRender = fnName === '_renderValidatedComponent';
        var entry = ReactDefaultPerf._allMeasurements[
          ReactDefaultPerf._allMeasurements.length - 1
        ];

        if (isRender) {
          entry.counts[rootNodeID] = entry.counts[rootNodeID] || 0;
          entry.counts[rootNodeID] += 1;
        }

        start = performanceNow();
        rv = func.apply(this, args);
        totalTime = performanceNow() - start;

        var typeOfLog = isRender ? entry.exclusive : entry.inclusive;
        typeOfLog[rootNodeID] = typeOfLog[rootNodeID] || 0;
        typeOfLog[rootNodeID] += totalTime;

        entry.displayNames[rootNodeID] = {
          current: this.constructor.displayName,
          owner: this._owner ? this._owner.constructor.displayName : '<root>'
        };

        return rv;
      } else {
        return func.apply(this, args);
      }
    };
  }
};

module.exports = ReactDefaultPerf;

},{"./DOMProperty":8,"./ReactDefaultPerfAnalysis":46,"./ReactMount":55,"./ReactPerf":60,"./performanceNow":124}],46:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactDefaultPerfAnalysis
 */

var merge = require("./merge");

// Don't try to save users less than 1.2ms (a number I made up)
var DONT_CARE_THRESHOLD = 1.2;
var DOM_OPERATION_TYPES = {
  'mountImageIntoNode': 'set innerHTML',
  INSERT_MARKUP: 'set innerHTML',
  MOVE_EXISTING: 'move',
  REMOVE_NODE: 'remove',
  TEXT_CONTENT: 'set textContent',
  'updatePropertyByID': 'update attribute',
  'deletePropertyByID': 'delete attribute',
  'updateStylesByID': 'update styles',
  'updateInnerHTMLByID': 'set innerHTML',
  'dangerouslyReplaceNodeWithMarkupByID': 'replace'
};

function getTotalTime(measurements) {
  // TODO: return number of DOM ops? could be misleading.
  // TODO: measure dropped frames after reconcile?
  // TODO: log total time of each reconcile and the top-level component
  // class that triggered it.
  var totalTime = 0;
  for (var i = 0; i < measurements.length; i++) {
    var measurement = measurements[i];
    totalTime += measurement.totalTime;
  }
  return totalTime;
}

function getDOMSummary(measurements) {
  var items = [];
  for (var i = 0; i < measurements.length; i++) {
    var measurement = measurements[i];
    var id;

    for (id in measurement.writes) {
      measurement.writes[id].forEach(function(write) {
        items.push({
          id: id,
          type: DOM_OPERATION_TYPES[write.type] || write.type,
          args: write.args
        });
      });
    }
  }
  return items;
}

function getExclusiveSummary(measurements) {
  var candidates = {};
  var displayName;

  for (var i = 0; i < measurements.length; i++) {
    var measurement = measurements[i];
    var allIDs = merge(measurement.exclusive, measurement.inclusive);

    for (var id in allIDs) {
      displayName = measurement.displayNames[id].current;

      candidates[displayName] = candidates[displayName] || {
        componentName: displayName,
        inclusive: 0,
        exclusive: 0,
        count: 0
      };
      if (measurement.exclusive[id]) {
        candidates[displayName].exclusive += measurement.exclusive[id];
      }
      if (measurement.inclusive[id]) {
        candidates[displayName].inclusive += measurement.inclusive[id];
      }
      if (measurement.counts[id]) {
        candidates[displayName].count += measurement.counts[id];
      }
    }
  }

  // Now make a sorted array with the results.
  var arr = [];
  for (displayName in candidates) {
    if (candidates[displayName].exclusive >= DONT_CARE_THRESHOLD) {
      arr.push(candidates[displayName]);
    }
  }

  arr.sort(function(a, b) {
    return b.exclusive - a.exclusive;
  });

  return arr;
}

function getInclusiveSummary(measurements, onlyClean) {
  var candidates = {};
  var inclusiveKey;

  for (var i = 0; i < measurements.length; i++) {
    var measurement = measurements[i];
    var allIDs = merge(measurement.exclusive, measurement.inclusive);
    var cleanComponents;

    if (onlyClean) {
      cleanComponents = getUnchangedComponents(measurement);
    }

    for (var id in allIDs) {
      if (onlyClean && !cleanComponents[id]) {
        continue;
      }

      var displayName = measurement.displayNames[id];

      // Inclusive time is not useful for many components without knowing where
      // they are instantiated. So we aggregate inclusive time with both the
      // owner and current displayName as the key.
      inclusiveKey = displayName.owner + ' > ' + displayName.current;

      candidates[inclusiveKey] = candidates[inclusiveKey] || {
        componentName: inclusiveKey,
        time: 0,
        count: 0
      };

      if (measurement.inclusive[id]) {
        candidates[inclusiveKey].time += measurement.inclusive[id];
      }
      if (measurement.counts[id]) {
        candidates[inclusiveKey].count += measurement.counts[id];
      }
    }
  }

  // Now make a sorted array with the results.
  var arr = [];
  for (inclusiveKey in candidates) {
    if (candidates[inclusiveKey].time >= DONT_CARE_THRESHOLD) {
      arr.push(candidates[inclusiveKey]);
    }
  }

  arr.sort(function(a, b) {
    return b.time - a.time;
  });

  return arr;
}

function getUnchangedComponents(measurement) {
  // For a given reconcile, look at which components did not actually
  // render anything to the DOM and return a mapping of their ID to
  // the amount of time it took to render the entire subtree.
  var cleanComponents = {};
  var dirtyLeafIDs = Object.keys(measurement.writes);
  var allIDs = merge(measurement.exclusive, measurement.inclusive);

  for (var id in allIDs) {
    var isDirty = false;
    // For each component that rendered, see if a component that triggerd
    // a DOM op is in its subtree.
    for (var i = 0; i < dirtyLeafIDs.length; i++) {
      if (dirtyLeafIDs[i].indexOf(id) === 0) {
        isDirty = true;
        break;
      }
    }
    if (!isDirty && measurement.counts[id] > 0) {
      cleanComponents[id] = true;
    }
  }
  return cleanComponents;
}

var ReactDefaultPerfAnalysis = {
  getExclusiveSummary: getExclusiveSummary,
  getInclusiveSummary: getInclusiveSummary,
  getDOMSummary: getDOMSummary,
  getTotalTime: getTotalTime
};

module.exports = ReactDefaultPerfAnalysis;

},{"./merge":117}],47:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactErrorUtils
 * @typechecks
 */

"use strict";

var ReactErrorUtils = {
  /**
   * Creates a guarded version of a function. This is supposed to make debugging
   * of event handlers easier. To aid debugging with the browser's debugger,
   * this currently simply returns the original function.
   *
   * @param {function} func Function to be executed
   * @param {string} name The name of the guard
   * @return {function}
   */
  guard: function(func, name) {
    return func;
  }
};

module.exports = ReactErrorUtils;

},{}],48:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactEventEmitter
 * @typechecks static-only
 */

"use strict";

var EventConstants = require("./EventConstants");
var EventListener = require("./EventListener");
var EventPluginHub = require("./EventPluginHub");
var EventPluginRegistry = require("./EventPluginRegistry");
var ExecutionEnvironment = require("./ExecutionEnvironment");
var ReactEventEmitterMixin = require("./ReactEventEmitterMixin");
var ViewportMetrics = require("./ViewportMetrics");

var invariant = require("./invariant");
var isEventSupported = require("./isEventSupported");
var merge = require("./merge");

/**
 * Summary of `ReactEventEmitter` event handling:
 *
 *  - Top-level delegation is used to trap native browser events. We normalize
 *    and de-duplicate events to account for browser quirks.
 *
 *  - Forward these native events (with the associated top-level type used to
 *    trap it) to `EventPluginHub`, which in turn will ask plugins if they want
 *    to extract any synthetic events.
 *
 *  - The `EventPluginHub` will then process each event by annotating them with
 *    "dispatches", a sequence of listeners and IDs that care about that event.
 *
 *  - The `EventPluginHub` then dispatches the events.
 *
 * Overview of React and the event system:
 *
 *                   .
 * +------------+    .
 * |    DOM     |    .
 * +------------+    .                         +-----------+
 *       +           .               +--------+|SimpleEvent|
 *       |           .               |         |Plugin     |
 * +-----|------+    .               v         +-----------+
 * |     |      |    .    +--------------+                    +------------+
 * |     +-----------.--->|EventPluginHub|                    |    Event   |
 * |            |    .    |              |     +-----------+  | Propagators|
 * | ReactEvent |    .    |              |     |TapEvent   |  |------------|
 * |  Emitter   |    .    |              |<---+|Plugin     |  |other plugin|
 * |            |    .    |              |     +-----------+  |  utilities |
 * |     +-----------.--->|              |                    +------------+
 * |     |      |    .    +--------------+
 * +-----|------+    .                ^        +-----------+
 *       |           .                |        |Enter/Leave|
 *       +           .                +-------+|Plugin     |
 * +-------------+   .                         +-----------+
 * | application |   .
 * |-------------|   .
 * |             |   .
 * |             |   .
 * +-------------+   .
 *                   .
 *    React Core     .  General Purpose Event Plugin System
 */

var alreadyListeningTo = {};
var isMonitoringScrollValue = false;
var reactTopListenersCounter = 0;

// For events like 'submit' which don't consistently bubble (which we trap at a
// lower node than `document`), binding at `document` would cause duplicate
// events so we don't include them here
var topEventMapping = {
  topBlur: 'blur',
  topChange: 'change',
  topClick: 'click',
  topCompositionEnd: 'compositionend',
  topCompositionStart: 'compositionstart',
  topCompositionUpdate: 'compositionupdate',
  topContextMenu: 'contextmenu',
  topCopy: 'copy',
  topCut: 'cut',
  topDoubleClick: 'dblclick',
  topDrag: 'drag',
  topDragEnd: 'dragend',
  topDragEnter: 'dragenter',
  topDragExit: 'dragexit',
  topDragLeave: 'dragleave',
  topDragOver: 'dragover',
  topDragStart: 'dragstart',
  topDrop: 'drop',
  topFocus: 'focus',
  topInput: 'input',
  topKeyDown: 'keydown',
  topKeyPress: 'keypress',
  topKeyUp: 'keyup',
  topMouseDown: 'mousedown',
  topMouseMove: 'mousemove',
  topMouseOut: 'mouseout',
  topMouseOver: 'mouseover',
  topMouseUp: 'mouseup',
  topPaste: 'paste',
  topScroll: 'scroll',
  topSelectionChange: 'selectionchange',
  topTouchCancel: 'touchcancel',
  topTouchEnd: 'touchend',
  topTouchMove: 'touchmove',
  topTouchStart: 'touchstart',
  topWheel: 'wheel'
};

/**
 * To ensure no conflicts with other potential React instances on the page
 */
var topListenersIDKey = "_reactListenersID" + String(Math.random()).slice(2);

function getListeningForDocument(mountAt) {
  if (mountAt[topListenersIDKey] == null) {
    mountAt[topListenersIDKey] = reactTopListenersCounter++;
    alreadyListeningTo[mountAt[topListenersIDKey]] = {};
  }
  return alreadyListeningTo[mountAt[topListenersIDKey]];
}

/**
 * Traps top-level events by using event bubbling.
 *
 * @param {string} topLevelType Record from `EventConstants`.
 * @param {string} handlerBaseName Event name (e.g. "click").
 * @param {DOMEventTarget} element Element on which to attach listener.
 * @internal
 */
function trapBubbledEvent(topLevelType, handlerBaseName, element) {
  EventListener.listen(
    element,
    handlerBaseName,
    ReactEventEmitter.TopLevelCallbackCreator.createTopLevelCallback(
      topLevelType
    )
  );
}

/**
 * Traps a top-level event by using event capturing.
 *
 * @param {string} topLevelType Record from `EventConstants`.
 * @param {string} handlerBaseName Event name (e.g. "click").
 * @param {DOMEventTarget} element Element on which to attach listener.
 * @internal
 */
function trapCapturedEvent(topLevelType, handlerBaseName, element) {
  EventListener.capture(
    element,
    handlerBaseName,
    ReactEventEmitter.TopLevelCallbackCreator.createTopLevelCallback(
      topLevelType
    )
  );
}

/**
 * `ReactEventEmitter` is used to attach top-level event listeners. For example:
 *
 *   ReactEventEmitter.putListener('myID', 'onClick', myFunction);
 *
 * This would allocate a "registration" of `('onClick', myFunction)` on 'myID'.
 *
 * @internal
 */
var ReactEventEmitter = merge(ReactEventEmitterMixin, {

  /**
   * React references `ReactEventTopLevelCallback` using this property in order
   * to allow dependency injection.
   */
  TopLevelCallbackCreator: null,

  injection: {
    /**
     * @param {function} TopLevelCallbackCreator
     */
    injectTopLevelCallbackCreator: function(TopLevelCallbackCreator) {
      ReactEventEmitter.TopLevelCallbackCreator = TopLevelCallbackCreator;
    }
  },

  /**
   * Sets whether or not any created callbacks should be enabled.
   *
   * @param {boolean} enabled True if callbacks should be enabled.
   */
  setEnabled: function(enabled) {
    ("production" !== "development" ? invariant(
      ExecutionEnvironment.canUseDOM,
      'setEnabled(...): Cannot toggle event listening in a Worker thread. ' +
      'This is likely a bug in the framework. Please report immediately.'
    ) : invariant(ExecutionEnvironment.canUseDOM));
    if (ReactEventEmitter.TopLevelCallbackCreator) {
      ReactEventEmitter.TopLevelCallbackCreator.setEnabled(enabled);
    }
  },

  /**
   * @return {boolean} True if callbacks are enabled.
   */
  isEnabled: function() {
    return !!(
      ReactEventEmitter.TopLevelCallbackCreator &&
      ReactEventEmitter.TopLevelCallbackCreator.isEnabled()
    );
  },

  /**
   * We listen for bubbled touch events on the document object.
   *
   * Firefox v8.01 (and possibly others) exhibited strange behavior when
   * mounting `onmousemove` events at some node that was not the document
   * element. The symptoms were that if your mouse is not moving over something
   * contained within that mount point (for example on the background) the
   * top-level listeners for `onmousemove` won't be called. However, if you
   * register the `mousemove` on the document object, then it will of course
   * catch all `mousemove`s. This along with iOS quirks, justifies restricting
   * top-level listeners to the document object only, at least for these
   * movement types of events and possibly all events.
   *
   * @see http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html
   *
   * Also, `keyup`/`keypress`/`keydown` do not bubble to the window on IE, but
   * they bubble to document.
   *
   * @param {string} registrationName Name of listener (e.g. `onClick`).
   * @param {DOMDocument} contentDocument Document which owns the container
   */
  listenTo: function(registrationName, contentDocument) {
    var mountAt = contentDocument;
    var isListening = getListeningForDocument(mountAt);
    var dependencies = EventPluginRegistry.
      registrationNameDependencies[registrationName];

    var topLevelTypes = EventConstants.topLevelTypes;
    for (var i = 0, l = dependencies.length; i < l; i++) {
      var dependency = dependencies[i];
      if (!isListening[dependency]) {
        var topLevelType = topLevelTypes[dependency];

        if (topLevelType === topLevelTypes.topWheel) {
          if (isEventSupported('wheel')) {
            trapBubbledEvent(topLevelTypes.topWheel, 'wheel', mountAt);
          } else if (isEventSupported('mousewheel')) {
            trapBubbledEvent(topLevelTypes.topWheel, 'mousewheel', mountAt);
          } else {
            // Firefox needs to capture a different mouse scroll event.
            // @see http://www.quirksmode.org/dom/events/tests/scroll.html
            trapBubbledEvent(
              topLevelTypes.topWheel,
              'DOMMouseScroll',
              mountAt);
          }
        } else if (topLevelType === topLevelTypes.topScroll) {

          if (isEventSupported('scroll', true)) {
            trapCapturedEvent(topLevelTypes.topScroll, 'scroll', mountAt);
          } else {
            trapBubbledEvent(topLevelTypes.topScroll, 'scroll', window);
          }
        } else if (topLevelType === topLevelTypes.topFocus ||
            topLevelType === topLevelTypes.topBlur) {

          if (isEventSupported('focus', true)) {
            trapCapturedEvent(topLevelTypes.topFocus, 'focus', mountAt);
            trapCapturedEvent(topLevelTypes.topBlur, 'blur', mountAt);
          } else if (isEventSupported('focusin')) {
            // IE has `focusin` and `focusout` events which bubble.
            // @see http://www.quirksmode.org/blog/archives/2008/04/delegating_the.html
            trapBubbledEvent(topLevelTypes.topFocus, 'focusin', mountAt);
            trapBubbledEvent(topLevelTypes.topBlur, 'focusout', mountAt);
          }

          // to make sure blur and focus event listeners are only attached once
          isListening[topLevelTypes.topBlur] = true;
          isListening[topLevelTypes.topFocus] = true;
        } else if (topEventMapping[dependency]) {
          trapBubbledEvent(topLevelType, topEventMapping[dependency], mountAt);
        }

        isListening[dependency] = true;
      }
    }
  },

  /**
   * Listens to window scroll and resize events. We cache scroll values so that
   * application code can access them without triggering reflows.
   *
   * NOTE: Scroll events do not bubble.
   *
   * @see http://www.quirksmode.org/dom/events/scroll.html
   */
  ensureScrollValueMonitoring: function(){
    if (!isMonitoringScrollValue) {
      var refresh = ViewportMetrics.refreshScrollValues;
      EventListener.listen(window, 'scroll', refresh);
      EventListener.listen(window, 'resize', refresh);
      isMonitoringScrollValue = true;
    }
  },

  eventNameDispatchConfigs: EventPluginHub.eventNameDispatchConfigs,

  registrationNameModules: EventPluginHub.registrationNameModules,

  putListener: EventPluginHub.putListener,

  getListener: EventPluginHub.getListener,

  deleteListener: EventPluginHub.deleteListener,

  deleteAllListeners: EventPluginHub.deleteAllListeners,

  trapBubbledEvent: trapBubbledEvent,

  trapCapturedEvent: trapCapturedEvent

});

module.exports = ReactEventEmitter;

},{"./EventConstants":14,"./EventListener":15,"./EventPluginHub":16,"./EventPluginRegistry":17,"./ExecutionEnvironment":20,"./ReactEventEmitterMixin":49,"./ViewportMetrics":85,"./invariant":108,"./isEventSupported":109,"./merge":117}],49:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactEventEmitterMixin
 */

"use strict";

var EventPluginHub = require("./EventPluginHub");
var ReactUpdates = require("./ReactUpdates");

function runEventQueueInBatch(events) {
  EventPluginHub.enqueueEvents(events);
  EventPluginHub.processEventQueue();
}

var ReactEventEmitterMixin = {

  /**
   * Streams a fired top-level event to `EventPluginHub` where plugins have the
   * opportunity to create `ReactEvent`s to be dispatched.
   *
   * @param {string} topLevelType Record from `EventConstants`.
   * @param {object} topLevelTarget The listening component root node.
   * @param {string} topLevelTargetID ID of `topLevelTarget`.
   * @param {object} nativeEvent Native environment event.
   */
  handleTopLevel: function(
      topLevelType,
      topLevelTarget,
      topLevelTargetID,
      nativeEvent) {
    var events = EventPluginHub.extractEvents(
      topLevelType,
      topLevelTarget,
      topLevelTargetID,
      nativeEvent
    );

    // Event queue being processed in the same cycle allows `preventDefault`.
    ReactUpdates.batchedUpdates(runEventQueueInBatch, events);
  }
};

module.exports = ReactEventEmitterMixin;

},{"./EventPluginHub":16,"./ReactUpdates":70}],50:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactEventTopLevelCallback
 * @typechecks static-only
 */

"use strict";

var PooledClass = require("./PooledClass");
var ReactEventEmitter = require("./ReactEventEmitter");
var ReactInstanceHandles = require("./ReactInstanceHandles");
var ReactMount = require("./ReactMount");

var getEventTarget = require("./getEventTarget");
var mixInto = require("./mixInto");

/**
 * @type {boolean}
 * @private
 */
var _topLevelListenersEnabled = true;

/**
 * Finds the parent React component of `node`.
 *
 * @param {*} node
 * @return {?DOMEventTarget} Parent container, or `null` if the specified node
 *                           is not nested.
 */
function findParent(node) {
  // TODO: It may be a good idea to cache this to prevent unnecessary DOM
  // traversal, but caching is difficult to do correctly without using a
  // mutation observer to listen for all DOM changes.
  var nodeID = ReactMount.getID(node);
  var rootID = ReactInstanceHandles.getReactRootIDFromNodeID(nodeID);
  var container = ReactMount.findReactContainerForID(rootID);
  var parent = ReactMount.getFirstReactDOM(container);
  return parent;
}

/**
 * Calls ReactEventEmitter.handleTopLevel for each node stored in bookKeeping's
 * ancestor list. Separated from createTopLevelCallback to avoid try/finally
 * deoptimization.
 *
 * @param {string} topLevelType
 * @param {DOMEvent} nativeEvent
 * @param {TopLevelCallbackBookKeeping} bookKeeping
 */
function handleTopLevelImpl(topLevelType, nativeEvent, bookKeeping) {
  var topLevelTarget = ReactMount.getFirstReactDOM(
    getEventTarget(nativeEvent)
  ) || window;

  // Loop through the hierarchy, in case there's any nested components.
  // It's important that we build the array of ancestors before calling any
  // event handlers, because event handlers can modify the DOM, leading to
  // inconsistencies with ReactMount's node cache. See #1105.
  var ancestor = topLevelTarget;
  while (ancestor) {
    bookKeeping.ancestors.push(ancestor);
    ancestor = findParent(ancestor);
  }

  for (var i = 0, l = bookKeeping.ancestors.length; i < l; i++) {
    topLevelTarget = bookKeeping.ancestors[i];
    var topLevelTargetID = ReactMount.getID(topLevelTarget) || '';
    ReactEventEmitter.handleTopLevel(
      topLevelType,
      topLevelTarget,
      topLevelTargetID,
      nativeEvent
    );
  }
}

// Used to store ancestor hierarchy in top level callback
function TopLevelCallbackBookKeeping() {
  this.ancestors = [];
}
mixInto(TopLevelCallbackBookKeeping, {
  destructor: function() {
    this.ancestors.length = 0;
  }
});
PooledClass.addPoolingTo(TopLevelCallbackBookKeeping);

/**
 * Top-level callback creator used to implement event handling using delegation.
 * This is used via dependency injection.
 */
var ReactEventTopLevelCallback = {

  /**
   * Sets whether or not any created callbacks should be enabled.
   *
   * @param {boolean} enabled True if callbacks should be enabled.
   */
  setEnabled: function(enabled) {
    _topLevelListenersEnabled = !!enabled;
  },

  /**
   * @return {boolean} True if callbacks are enabled.
   */
  isEnabled: function() {
    return _topLevelListenersEnabled;
  },

  /**
   * Creates a callback for the supplied `topLevelType` that could be added as
   * a listener to the document. The callback computes a `topLevelTarget` which
   * should be the root node of a mounted React component where the listener
   * is attached.
   *
   * @param {string} topLevelType Record from `EventConstants`.
   * @return {function} Callback for handling top-level events.
   */
  createTopLevelCallback: function(topLevelType) {
    return function(nativeEvent) {
      if (!_topLevelListenersEnabled) {
        return;
      }

      var bookKeeping = TopLevelCallbackBookKeeping.getPooled();
      try {
        handleTopLevelImpl(topLevelType, nativeEvent, bookKeeping);
      } finally {
        TopLevelCallbackBookKeeping.release(bookKeeping);
      }
    };
  }

};

module.exports = ReactEventTopLevelCallback;

},{"./PooledClass":23,"./ReactEventEmitter":48,"./ReactInstanceHandles":53,"./ReactMount":55,"./getEventTarget":101,"./mixInto":120}],51:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactInjection
 */

"use strict";

var DOMProperty = require("./DOMProperty");
var EventPluginHub = require("./EventPluginHub");
var ReactDOM = require("./ReactDOM");
var ReactEventEmitter = require("./ReactEventEmitter");
var ReactPerf = require("./ReactPerf");
var ReactRootIndex = require("./ReactRootIndex");
var ReactUpdates = require("./ReactUpdates");

var ReactInjection = {
  DOMProperty: DOMProperty.injection,
  EventPluginHub: EventPluginHub.injection,
  DOM: ReactDOM.injection,
  EventEmitter: ReactEventEmitter.injection,
  Perf: ReactPerf.injection,
  RootIndex: ReactRootIndex.injection,
  Updates: ReactUpdates.injection
};

module.exports = ReactInjection;

},{"./DOMProperty":8,"./EventPluginHub":16,"./ReactDOM":32,"./ReactEventEmitter":48,"./ReactPerf":60,"./ReactRootIndex":67,"./ReactUpdates":70}],52:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactInputSelection
 */

"use strict";

var ReactDOMSelection = require("./ReactDOMSelection");

var containsNode = require("./containsNode");
var getActiveElement = require("./getActiveElement");

function isInDocument(node) {
  return containsNode(document.documentElement, node);
}

/**
 * @ReactInputSelection: React input selection module. Based on Selection.js,
 * but modified to be suitable for react and has a couple of bug fixes (doesn't
 * assume buttons have range selections allowed).
 * Input selection module for React.
 */
var ReactInputSelection = {

  hasSelectionCapabilities: function(elem) {
    return elem && (
      (elem.nodeName === 'INPUT' && elem.type === 'text') ||
      elem.nodeName === 'TEXTAREA' ||
      elem.contentEditable === 'true'
    );
  },

  getSelectionInformation: function() {
    var focusedElem = getActiveElement();
    return {
      focusedElem: focusedElem,
      selectionRange:
          ReactInputSelection.hasSelectionCapabilities(focusedElem) ?
          ReactInputSelection.getSelection(focusedElem) :
          null
    };
  },

  /**
   * @restoreSelection: If any selection information was potentially lost,
   * restore it. This is useful when performing operations that could remove dom
   * nodes and place them back in, resulting in focus being lost.
   */
  restoreSelection: function(priorSelectionInformation) {
    var curFocusedElem = getActiveElement();
    var priorFocusedElem = priorSelectionInformation.focusedElem;
    var priorSelectionRange = priorSelectionInformation.selectionRange;
    if (curFocusedElem !== priorFocusedElem &&
        isInDocument(priorFocusedElem)) {
      if (ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)) {
        ReactInputSelection.setSelection(
          priorFocusedElem,
          priorSelectionRange
        );
      }
      priorFocusedElem.focus();
    }
  },

  /**
   * @getSelection: Gets the selection bounds of a focused textarea, input or
   * contentEditable node.
   * -@input: Look up selection bounds of this input
   * -@return {start: selectionStart, end: selectionEnd}
   */
  getSelection: function(input) {
    var selection;

    if ('selectionStart' in input) {
      // Modern browser with input or textarea.
      selection = {
        start: input.selectionStart,
        end: input.selectionEnd
      };
    } else if (document.selection && input.nodeName === 'INPUT') {
      // IE8 input.
      var range = document.selection.createRange();
      // There can only be one selection per document in IE, so it must
      // be in our element.
      if (range.parentElement() === input) {
        selection = {
          start: -range.moveStart('character', -input.value.length),
          end: -range.moveEnd('character', -input.value.length)
        };
      }
    } else {
      // Content editable or old IE textarea.
      selection = ReactDOMSelection.getOffsets(input);
    }

    return selection || {start: 0, end: 0};
  },

  /**
   * @setSelection: Sets the selection bounds of a textarea or input and focuses
   * the input.
   * -@input     Set selection bounds of this input or textarea
   * -@offsets   Object of same form that is returned from get*
   */
  setSelection: function(input, offsets) {
    var start = offsets.start;
    var end = offsets.end;
    if (typeof end === 'undefined') {
      end = start;
    }

    if ('selectionStart' in input) {
      input.selectionStart = start;
      input.selectionEnd = Math.min(end, input.value.length);
    } else if (document.selection && input.nodeName === 'INPUT') {
      var range = input.createTextRange();
      range.collapse(true);
      range.moveStart('character', start);
      range.moveEnd('character', end - start);
      range.select();
    } else {
      ReactDOMSelection.setOffsets(input, offsets);
    }
  }
};

module.exports = ReactInputSelection;

},{"./ReactDOMSelection":41,"./containsNode":88,"./getActiveElement":99}],53:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactInstanceHandles
 * @typechecks static-only
 */

"use strict";

var ReactRootIndex = require("./ReactRootIndex");

var invariant = require("./invariant");

var SEPARATOR = '.';
var SEPARATOR_LENGTH = SEPARATOR.length;

/**
 * Maximum depth of traversals before we consider the possibility of a bad ID.
 */
var MAX_TREE_DEPTH = 100;

/**
 * Creates a DOM ID prefix to use when mounting React components.
 *
 * @param {number} index A unique integer
 * @return {string} React root ID.
 * @internal
 */
function getReactRootIDString(index) {
  return SEPARATOR + index.toString(36);
}

/**
 * Checks if a character in the supplied ID is a separator or the end.
 *
 * @param {string} id A React DOM ID.
 * @param {number} index Index of the character to check.
 * @return {boolean} True if the character is a separator or end of the ID.
 * @private
 */
function isBoundary(id, index) {
  return id.charAt(index) === SEPARATOR || index === id.length;
}

/**
 * Checks if the supplied string is a valid React DOM ID.
 *
 * @param {string} id A React DOM ID, maybe.
 * @return {boolean} True if the string is a valid React DOM ID.
 * @private
 */
function isValidID(id) {
  return id === '' || (
    id.charAt(0) === SEPARATOR && id.charAt(id.length - 1) !== SEPARATOR
  );
}

/**
 * Checks if the first ID is an ancestor of or equal to the second ID.
 *
 * @param {string} ancestorID
 * @param {string} descendantID
 * @return {boolean} True if `ancestorID` is an ancestor of `descendantID`.
 * @internal
 */
function isAncestorIDOf(ancestorID, descendantID) {
  return (
    descendantID.indexOf(ancestorID) === 0 &&
    isBoundary(descendantID, ancestorID.length)
  );
}

/**
 * Gets the parent ID of the supplied React DOM ID, `id`.
 *
 * @param {string} id ID of a component.
 * @return {string} ID of the parent, or an empty string.
 * @private
 */
function getParentID(id) {
  return id ? id.substr(0, id.lastIndexOf(SEPARATOR)) : '';
}

/**
 * Gets the next DOM ID on the tree path from the supplied `ancestorID` to the
 * supplied `destinationID`. If they are equal, the ID is returned.
 *
 * @param {string} ancestorID ID of an ancestor node of `destinationID`.
 * @param {string} destinationID ID of the destination node.
 * @return {string} Next ID on the path from `ancestorID` to `destinationID`.
 * @private
 */
function getNextDescendantID(ancestorID, destinationID) {
  ("production" !== "development" ? invariant(
    isValidID(ancestorID) && isValidID(destinationID),
    'getNextDescendantID(%s, %s): Received an invalid React DOM ID.',
    ancestorID,
    destinationID
  ) : invariant(isValidID(ancestorID) && isValidID(destinationID)));
  ("production" !== "development" ? invariant(
    isAncestorIDOf(ancestorID, destinationID),
    'getNextDescendantID(...): React has made an invalid assumption about ' +
    'the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.',
    ancestorID,
    destinationID
  ) : invariant(isAncestorIDOf(ancestorID, destinationID)));
  if (ancestorID === destinationID) {
    return ancestorID;
  }
  // Skip over the ancestor and the immediate separator. Traverse until we hit
  // another separator or we reach the end of `destinationID`.
  var start = ancestorID.length + SEPARATOR_LENGTH;
  for (var i = start; i < destinationID.length; i++) {
    if (isBoundary(destinationID, i)) {
      break;
    }
  }
  return destinationID.substr(0, i);
}

/**
 * Gets the nearest common ancestor ID of two IDs.
 *
 * Using this ID scheme, the nearest common ancestor ID is the longest common
 * prefix of the two IDs that immediately preceded a "marker" in both strings.
 *
 * @param {string} oneID
 * @param {string} twoID
 * @return {string} Nearest common ancestor ID, or the empty string if none.
 * @private
 */
function getFirstCommonAncestorID(oneID, twoID) {
  var minLength = Math.min(oneID.length, twoID.length);
  if (minLength === 0) {
    return '';
  }
  var lastCommonMarkerIndex = 0;
  // Use `<=` to traverse until the "EOL" of the shorter string.
  for (var i = 0; i <= minLength; i++) {
    if (isBoundary(oneID, i) && isBoundary(twoID, i)) {
      lastCommonMarkerIndex = i;
    } else if (oneID.charAt(i) !== twoID.charAt(i)) {
      break;
    }
  }
  var longestCommonID = oneID.substr(0, lastCommonMarkerIndex);
  ("production" !== "development" ? invariant(
    isValidID(longestCommonID),
    'getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s',
    oneID,
    twoID,
    longestCommonID
  ) : invariant(isValidID(longestCommonID)));
  return longestCommonID;
}

/**
 * Traverses the parent path between two IDs (either up or down). The IDs must
 * not be the same, and there must exist a parent path between them. If the
 * callback returns `false`, traversal is stopped.
 *
 * @param {?string} start ID at which to start traversal.
 * @param {?string} stop ID at which to end traversal.
 * @param {function} cb Callback to invoke each ID with.
 * @param {?boolean} skipFirst Whether or not to skip the first node.
 * @param {?boolean} skipLast Whether or not to skip the last node.
 * @private
 */
function traverseParentPath(start, stop, cb, arg, skipFirst, skipLast) {
  start = start || '';
  stop = stop || '';
  ("production" !== "development" ? invariant(
    start !== stop,
    'traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.',
    start
  ) : invariant(start !== stop));
  var traverseUp = isAncestorIDOf(stop, start);
  ("production" !== "development" ? invariant(
    traverseUp || isAncestorIDOf(start, stop),
    'traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do ' +
    'not have a parent path.',
    start,
    stop
  ) : invariant(traverseUp || isAncestorIDOf(start, stop)));
  // Traverse from `start` to `stop` one depth at a time.
  var depth = 0;
  var traverse = traverseUp ? getParentID : getNextDescendantID;
  for (var id = start; /* until break */; id = traverse(id, stop)) {
    var ret;
    if ((!skipFirst || id !== start) && (!skipLast || id !== stop)) {
      ret = cb(id, traverseUp, arg);
    }
    if (ret === false || id === stop) {
      // Only break //after// visiting `stop`.
      break;
    }
    ("production" !== "development" ? invariant(
      depth++ < MAX_TREE_DEPTH,
      'traverseParentPath(%s, %s, ...): Detected an infinite loop while ' +
      'traversing the React DOM ID tree. This may be due to malformed IDs: %s',
      start, stop
    ) : invariant(depth++ < MAX_TREE_DEPTH));
  }
}

/**
 * Manages the IDs assigned to DOM representations of React components. This
 * uses a specific scheme in order to traverse the DOM efficiently (e.g. in
 * order to simulate events).
 *
 * @internal
 */
var ReactInstanceHandles = {

  /**
   * Constructs a React root ID
   * @return {string} A React root ID.
   */
  createReactRootID: function() {
    return getReactRootIDString(ReactRootIndex.createReactRootIndex());
  },

  /**
   * Constructs a React ID by joining a root ID with a name.
   *
   * @param {string} rootID Root ID of a parent component.
   * @param {string} name A component's name (as flattened children).
   * @return {string} A React ID.
   * @internal
   */
  createReactID: function(rootID, name) {
    return rootID + name;
  },

  /**
   * Gets the DOM ID of the React component that is the root of the tree that
   * contains the React component with the supplied DOM ID.
   *
   * @param {string} id DOM ID of a React component.
   * @return {?string} DOM ID of the React component that is the root.
   * @internal
   */
  getReactRootIDFromNodeID: function(id) {
    if (id && id.charAt(0) === SEPARATOR && id.length > 1) {
      var index = id.indexOf(SEPARATOR, 1);
      return index > -1 ? id.substr(0, index) : id;
    }
    return null;
  },

  /**
   * Traverses the ID hierarchy and invokes the supplied `cb` on any IDs that
   * should would receive a `mouseEnter` or `mouseLeave` event.
   *
   * NOTE: Does not invoke the callback on the nearest common ancestor because
   * nothing "entered" or "left" that element.
   *
   * @param {string} leaveID ID being left.
   * @param {string} enterID ID being entered.
   * @param {function} cb Callback to invoke on each entered/left ID.
   * @param {*} upArg Argument to invoke the callback with on left IDs.
   * @param {*} downArg Argument to invoke the callback with on entered IDs.
   * @internal
   */
  traverseEnterLeave: function(leaveID, enterID, cb, upArg, downArg) {
    var ancestorID = getFirstCommonAncestorID(leaveID, enterID);
    if (ancestorID !== leaveID) {
      traverseParentPath(leaveID, ancestorID, cb, upArg, false, true);
    }
    if (ancestorID !== enterID) {
      traverseParentPath(ancestorID, enterID, cb, downArg, true, false);
    }
  },

  /**
   * Simulates the traversal of a two-phase, capture/bubble event dispatch.
   *
   * NOTE: This traversal happens on IDs without touching the DOM.
   *
   * @param {string} targetID ID of the target node.
   * @param {function} cb Callback to invoke.
   * @param {*} arg Argument to invoke the callback with.
   * @internal
   */
  traverseTwoPhase: function(targetID, cb, arg) {
    if (targetID) {
      traverseParentPath('', targetID, cb, arg, true, false);
      traverseParentPath(targetID, '', cb, arg, false, true);
    }
  },

  /**
   * Traverse a node ID, calling the supplied `cb` for each ancestor ID. For
   * example, passing `.0.$row-0.1` would result in `cb` getting called
   * with `.0`, `.0.$row-0`, and `.0.$row-0.1`.
   *
   * NOTE: This traversal happens on IDs without touching the DOM.
   *
   * @param {string} targetID ID of the target node.
   * @param {function} cb Callback to invoke.
   * @param {*} arg Argument to invoke the callback with.
   * @internal
   */
  traverseAncestors: function(targetID, cb, arg) {
    traverseParentPath('', targetID, cb, arg, true, false);
  },

  /**
   * Exposed for unit testing.
   * @private
   */
  _getFirstCommonAncestorID: getFirstCommonAncestorID,

  /**
   * Exposed for unit testing.
   * @private
   */
  _getNextDescendantID: getNextDescendantID,

  isAncestorIDOf: isAncestorIDOf,

  SEPARATOR: SEPARATOR

};

module.exports = ReactInstanceHandles;

},{"./ReactRootIndex":67,"./invariant":108}],54:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactMarkupChecksum
 */

"use strict";

var adler32 = require("./adler32");

var ReactMarkupChecksum = {
  CHECKSUM_ATTR_NAME: 'data-react-checksum',

  /**
   * @param {string} markup Markup string
   * @return {string} Markup string with checksum attribute attached
   */
  addChecksumToMarkup: function(markup) {
    var checksum = adler32(markup);
    return markup.replace(
      '>',
      ' ' + ReactMarkupChecksum.CHECKSUM_ATTR_NAME + '="' + checksum + '">'
    );
  },

  /**
   * @param {string} markup to use
   * @param {DOMElement} element root React element
   * @returns {boolean} whether or not the markup is the same
   */
  canReuseMarkup: function(markup, element) {
    var existingChecksum = element.getAttribute(
      ReactMarkupChecksum.CHECKSUM_ATTR_NAME
    );
    existingChecksum = existingChecksum && parseInt(existingChecksum, 10);
    var markupChecksum = adler32(markup);
    return markupChecksum === existingChecksum;
  }
};

module.exports = ReactMarkupChecksum;

},{"./adler32":87}],55:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactMount
 */

"use strict";

var DOMProperty = require("./DOMProperty");
var ReactEventEmitter = require("./ReactEventEmitter");
var ReactInstanceHandles = require("./ReactInstanceHandles");
var ReactPerf = require("./ReactPerf");

var containsNode = require("./containsNode");
var getReactRootElementInContainer = require("./getReactRootElementInContainer");
var invariant = require("./invariant");
var shouldUpdateReactComponent = require("./shouldUpdateReactComponent");

var SEPARATOR = ReactInstanceHandles.SEPARATOR;

var ATTR_NAME = DOMProperty.ID_ATTRIBUTE_NAME;
var nodeCache = {};

var ELEMENT_NODE_TYPE = 1;
var DOC_NODE_TYPE = 9;

/** Mapping from reactRootID to React component instance. */
var instancesByReactRootID = {};

/** Mapping from reactRootID to `container` nodes. */
var containersByReactRootID = {};

if ("production" !== "development") {
  /** __DEV__-only mapping from reactRootID to root elements. */
  var rootElementsByReactRootID = {};
}

// Used to store breadth-first search state in findComponentRoot.
var findComponentRootReusableArray = [];

/**
 * @param {DOMElement} container DOM element that may contain a React component.
 * @return {?string} A "reactRoot" ID, if a React component is rendered.
 */
function getReactRootID(container) {
  var rootElement = getReactRootElementInContainer(container);
  return rootElement && ReactMount.getID(rootElement);
}

/**
 * Accessing node[ATTR_NAME] or calling getAttribute(ATTR_NAME) on a form
 * element can return its control whose name or ID equals ATTR_NAME. All
 * DOM nodes support `getAttributeNode` but this can also get called on
 * other objects so just return '' if we're given something other than a
 * DOM node (such as window).
 *
 * @param {?DOMElement|DOMWindow|DOMDocument|DOMTextNode} node DOM node.
 * @return {string} ID of the supplied `domNode`.
 */
function getID(node) {
  var id = internalGetID(node);
  if (id) {
    if (nodeCache.hasOwnProperty(id)) {
      var cached = nodeCache[id];
      if (cached !== node) {
        ("production" !== "development" ? invariant(
          !isValid(cached, id),
          'ReactMount: Two valid but unequal nodes with the same `%s`: %s',
          ATTR_NAME, id
        ) : invariant(!isValid(cached, id)));

        nodeCache[id] = node;
      }
    } else {
      nodeCache[id] = node;
    }
  }

  return id;
}

function internalGetID(node) {
  // If node is something like a window, document, or text node, none of
  // which support attributes or a .getAttribute method, gracefully return
  // the empty string, as if the attribute were missing.
  return node && node.getAttribute && node.getAttribute(ATTR_NAME) || '';
}

/**
 * Sets the React-specific ID of the given node.
 *
 * @param {DOMElement} node The DOM node whose ID will be set.
 * @param {string} id The value of the ID attribute.
 */
function setID(node, id) {
  var oldID = internalGetID(node);
  if (oldID !== id) {
    delete nodeCache[oldID];
  }
  node.setAttribute(ATTR_NAME, id);
  nodeCache[id] = node;
}

/**
 * Finds the node with the supplied React-generated DOM ID.
 *
 * @param {string} id A React-generated DOM ID.
 * @return {DOMElement} DOM node with the suppled `id`.
 * @internal
 */
function getNode(id) {
  if (!nodeCache.hasOwnProperty(id) || !isValid(nodeCache[id], id)) {
    nodeCache[id] = ReactMount.findReactNodeByID(id);
  }
  return nodeCache[id];
}

/**
 * A node is "valid" if it is contained by a currently mounted container.
 *
 * This means that the node does not have to be contained by a document in
 * order to be considered valid.
 *
 * @param {?DOMElement} node The candidate DOM node.
 * @param {string} id The expected ID of the node.
 * @return {boolean} Whether the node is contained by a mounted container.
 */
function isValid(node, id) {
  if (node) {
    ("production" !== "development" ? invariant(
      internalGetID(node) === id,
      'ReactMount: Unexpected modification of `%s`',
      ATTR_NAME
    ) : invariant(internalGetID(node) === id));

    var container = ReactMount.findReactContainerForID(id);
    if (container && containsNode(container, node)) {
      return true;
    }
  }

  return false;
}

/**
 * Causes the cache to forget about one React-specific ID.
 *
 * @param {string} id The ID to forget.
 */
function purgeID(id) {
  delete nodeCache[id];
}

var deepestNodeSoFar = null;
function findDeepestCachedAncestorImpl(ancestorID) {
  var ancestor = nodeCache[ancestorID];
  if (ancestor && isValid(ancestor, ancestorID)) {
    deepestNodeSoFar = ancestor;
  } else {
    // This node isn't populated in the cache, so presumably none of its
    // descendants are. Break out of the loop.
    return false;
  }
}

/**
 * Return the deepest cached node whose ID is a prefix of `targetID`.
 */
function findDeepestCachedAncestor(targetID) {
  deepestNodeSoFar = null;
  ReactInstanceHandles.traverseAncestors(
    targetID,
    findDeepestCachedAncestorImpl
  );

  var foundNode = deepestNodeSoFar;
  deepestNodeSoFar = null;
  return foundNode;
}

/**
 * Mounting is the process of initializing a React component by creatings its
 * representative DOM elements and inserting them into a supplied `container`.
 * Any prior content inside `container` is destroyed in the process.
 *
 *   ReactMount.renderComponent(
 *     component,
 *     document.getElementById('container')
 *   );
 *
 *   <div id="container">                   <-- Supplied `container`.
 *     <div data-reactid=".3">              <-- Rendered reactRoot of React
 *       // ...                                 component.
 *     </div>
 *   </div>
 *
 * Inside of `container`, the first element rendered is the "reactRoot".
 */
var ReactMount = {
  /** Time spent generating markup. */
  totalInstantiationTime: 0,

  /** Time spent inserting markup into the DOM. */
  totalInjectionTime: 0,

  /** Whether support for touch events should be initialized. */
  useTouchEvents: false,

  /** Exposed for debugging purposes **/
  _instancesByReactRootID: instancesByReactRootID,

  /**
   * This is a hook provided to support rendering React components while
   * ensuring that the apparent scroll position of its `container` does not
   * change.
   *
   * @param {DOMElement} container The `container` being rendered into.
   * @param {function} renderCallback This must be called once to do the render.
   */
  scrollMonitor: function(container, renderCallback) {
    renderCallback();
  },

  /**
   * Take a component that's already mounted into the DOM and replace its props
   * @param {ReactComponent} prevComponent component instance already in the DOM
   * @param {ReactComponent} nextComponent component instance to render
   * @param {DOMElement} container container to render into
   * @param {?function} callback function triggered on completion
   */
  _updateRootComponent: function(
      prevComponent,
      nextComponent,
      container,
      callback) {
    var nextProps = nextComponent.props;
    ReactMount.scrollMonitor(container, function() {
      prevComponent.replaceProps(nextProps, callback);
    });

    if ("production" !== "development") {
      // Record the root element in case it later gets transplanted.
      rootElementsByReactRootID[getReactRootID(container)] =
        getReactRootElementInContainer(container);
    }

    return prevComponent;
  },

  /**
   * Register a component into the instance map and starts scroll value
   * monitoring
   * @param {ReactComponent} nextComponent component instance to render
   * @param {DOMElement} container container to render into
   * @return {string} reactRoot ID prefix
   */
  _registerComponent: function(nextComponent, container) {
    ("production" !== "development" ? invariant(
      container && (
        container.nodeType === ELEMENT_NODE_TYPE ||
        container.nodeType === DOC_NODE_TYPE
      ),
      '_registerComponent(...): Target container is not a DOM element.'
    ) : invariant(container && (
      container.nodeType === ELEMENT_NODE_TYPE ||
      container.nodeType === DOC_NODE_TYPE
    )));

    ReactEventEmitter.ensureScrollValueMonitoring();

    var reactRootID = ReactMount.registerContainer(container);
    instancesByReactRootID[reactRootID] = nextComponent;
    return reactRootID;
  },

  /**
   * Render a new component into the DOM.
   * @param {ReactComponent} nextComponent component instance to render
   * @param {DOMElement} container container to render into
   * @param {boolean} shouldReuseMarkup if we should skip the markup insertion
   * @return {ReactComponent} nextComponent
   */
  _renderNewRootComponent: ReactPerf.measure(
    'ReactMount',
    '_renderNewRootComponent',
    function(
        nextComponent,
        container,
        shouldReuseMarkup) {
      var reactRootID = ReactMount._registerComponent(nextComponent, container);
      nextComponent.mountComponentIntoNode(
        reactRootID,
        container,
        shouldReuseMarkup
      );

      if ("production" !== "development") {
        // Record the root element in case it later gets transplanted.
        rootElementsByReactRootID[reactRootID] =
          getReactRootElementInContainer(container);
      }

      return nextComponent;
    }
  ),

  /**
   * Renders a React component into the DOM in the supplied `container`.
   *
   * If the React component was previously rendered into `container`, this will
   * perform an update on it and only mutate the DOM as necessary to reflect the
   * latest React component.
   *
   * @param {ReactComponent} nextComponent Component instance to render.
   * @param {DOMElement} container DOM element to render into.
   * @param {?function} callback function triggered on completion
   * @return {ReactComponent} Component instance rendered in `container`.
   */
  renderComponent: function(nextComponent, container, callback) {
    var prevComponent = instancesByReactRootID[getReactRootID(container)];

    if (prevComponent) {
      if (shouldUpdateReactComponent(prevComponent, nextComponent)) {
        return ReactMount._updateRootComponent(
          prevComponent,
          nextComponent,
          container,
          callback
        );
      } else {
        ReactMount.unmountComponentAtNode(container);
      }
    }

    var reactRootElement = getReactRootElementInContainer(container);
    var containerHasReactMarkup =
      reactRootElement && ReactMount.isRenderedByReact(reactRootElement);

    var shouldReuseMarkup = containerHasReactMarkup && !prevComponent;

    var component = ReactMount._renderNewRootComponent(
      nextComponent,
      container,
      shouldReuseMarkup
    );
    callback && callback.call(component);
    return component;
  },

  /**
   * Constructs a component instance of `constructor` with `initialProps` and
   * renders it into the supplied `container`.
   *
   * @param {function} constructor React component constructor.
   * @param {?object} props Initial props of the component instance.
   * @param {DOMElement} container DOM element to render into.
   * @return {ReactComponent} Component instance rendered in `container`.
   */
  constructAndRenderComponent: function(constructor, props, container) {
    return ReactMount.renderComponent(constructor(props), container);
  },

  /**
   * Constructs a component instance of `constructor` with `initialProps` and
   * renders it into a container node identified by supplied `id`.
   *
   * @param {function} componentConstructor React component constructor
   * @param {?object} props Initial props of the component instance.
   * @param {string} id ID of the DOM element to render into.
   * @return {ReactComponent} Component instance rendered in the container node.
   */
  constructAndRenderComponentByID: function(constructor, props, id) {
    var domNode = document.getElementById(id);
    ("production" !== "development" ? invariant(
      domNode,
      'Tried to get element with id of "%s" but it is not present on the page.',
      id
    ) : invariant(domNode));
    return ReactMount.constructAndRenderComponent(constructor, props, domNode);
  },

  /**
   * Registers a container node into which React components will be rendered.
   * This also creates the "reactRoot" ID that will be assigned to the element
   * rendered within.
   *
   * @param {DOMElement} container DOM element to register as a container.
   * @return {string} The "reactRoot" ID of elements rendered within.
   */
  registerContainer: function(container) {
    var reactRootID = getReactRootID(container);
    if (reactRootID) {
      // If one exists, make sure it is a valid "reactRoot" ID.
      reactRootID = ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID);
    }
    if (!reactRootID) {
      // No valid "reactRoot" ID found, create one.
      reactRootID = ReactInstanceHandles.createReactRootID();
    }
    containersByReactRootID[reactRootID] = container;
    return reactRootID;
  },

  /**
   * Unmounts and destroys the React component rendered in the `container`.
   *
   * @param {DOMElement} container DOM element containing a React component.
   * @return {boolean} True if a component was found in and unmounted from
   *                   `container`
   */
  unmountComponentAtNode: function(container) {
    var reactRootID = getReactRootID(container);
    var component = instancesByReactRootID[reactRootID];
    if (!component) {
      return false;
    }
    ReactMount.unmountComponentFromNode(component, container);
    delete instancesByReactRootID[reactRootID];
    delete containersByReactRootID[reactRootID];
    if ("production" !== "development") {
      delete rootElementsByReactRootID[reactRootID];
    }
    return true;
  },

  /**
   * Unmounts a component and removes it from the DOM.
   *
   * @param {ReactComponent} instance React component instance.
   * @param {DOMElement} container DOM element to unmount from.
   * @final
   * @internal
   * @see {ReactMount.unmountComponentAtNode}
   */
  unmountComponentFromNode: function(instance, container) {
    instance.unmountComponent();

    if (container.nodeType === DOC_NODE_TYPE) {
      container = container.documentElement;
    }

    // http://jsperf.com/emptying-a-node
    while (container.lastChild) {
      container.removeChild(container.lastChild);
    }
  },

  /**
   * Finds the container DOM element that contains React component to which the
   * supplied DOM `id` belongs.
   *
   * @param {string} id The ID of an element rendered by a React component.
   * @return {?DOMElement} DOM element that contains the `id`.
   */
  findReactContainerForID: function(id) {
    var reactRootID = ReactInstanceHandles.getReactRootIDFromNodeID(id);
    var container = containersByReactRootID[reactRootID];

    if ("production" !== "development") {
      var rootElement = rootElementsByReactRootID[reactRootID];
      if (rootElement && rootElement.parentNode !== container) {
        ("production" !== "development" ? invariant(
          // Call internalGetID here because getID calls isValid which calls
          // findReactContainerForID (this function).
          internalGetID(rootElement) === reactRootID,
          'ReactMount: Root element ID differed from reactRootID.'
        ) : invariant(// Call internalGetID here because getID calls isValid which calls
        // findReactContainerForID (this function).
        internalGetID(rootElement) === reactRootID));

        var containerChild = container.firstChild;
        if (containerChild &&
            reactRootID === internalGetID(containerChild)) {
          // If the container has a new child with the same ID as the old
          // root element, then rootElementsByReactRootID[reactRootID] is
          // just stale and needs to be updated. The case that deserves a
          // warning is when the container is empty.
          rootElementsByReactRootID[reactRootID] = containerChild;
        } else {
          console.warn(
            'ReactMount: Root element has been removed from its original ' +
            'container. New container:', rootElement.parentNode
          );
        }
      }
    }

    return container;
  },

  /**
   * Finds an element rendered by React with the supplied ID.
   *
   * @param {string} id ID of a DOM node in the React component.
   * @return {DOMElement} Root DOM node of the React component.
   */
  findReactNodeByID: function(id) {
    var reactRoot = ReactMount.findReactContainerForID(id);
    return ReactMount.findComponentRoot(reactRoot, id);
  },

  /**
   * True if the supplied `node` is rendered by React.
   *
   * @param {*} node DOM Element to check.
   * @return {boolean} True if the DOM Element appears to be rendered by React.
   * @internal
   */
  isRenderedByReact: function(node) {
    if (node.nodeType !== 1) {
      // Not a DOMElement, therefore not a React component
      return false;
    }
    var id = ReactMount.getID(node);
    return id ? id.charAt(0) === SEPARATOR : false;
  },

  /**
   * Traverses up the ancestors of the supplied node to find a node that is a
   * DOM representation of a React component.
   *
   * @param {*} node
   * @return {?DOMEventTarget}
   * @internal
   */
  getFirstReactDOM: function(node) {
    var current = node;
    while (current && current.parentNode !== current) {
      if (ReactMount.isRenderedByReact(current)) {
        return current;
      }
      current = current.parentNode;
    }
    return null;
  },

  /**
   * Finds a node with the supplied `targetID` inside of the supplied
   * `ancestorNode`.  Exploits the ID naming scheme to perform the search
   * quickly.
   *
   * @param {DOMEventTarget} ancestorNode Search from this root.
   * @pararm {string} targetID ID of the DOM representation of the component.
   * @return {DOMEventTarget} DOM node with the supplied `targetID`.
   * @internal
   */
  findComponentRoot: function(ancestorNode, targetID) {
    var firstChildren = findComponentRootReusableArray;
    var childIndex = 0;

    var deepestAncestor = findDeepestCachedAncestor(targetID) || ancestorNode;

    firstChildren[0] = deepestAncestor.firstChild;
    firstChildren.length = 1;

    while (childIndex < firstChildren.length) {
      var child = firstChildren[childIndex++];
      var targetChild;

      while (child) {
        var childID = ReactMount.getID(child);
        if (childID) {
          // Even if we find the node we're looking for, we finish looping
          // through its siblings to ensure they're cached so that we don't have
          // to revisit this node again. Otherwise, we make n^2 calls to getID
          // when visiting the many children of a single node in order.

          if (targetID === childID) {
            targetChild = child;
          } else if (ReactInstanceHandles.isAncestorIDOf(childID, targetID)) {
            // If we find a child whose ID is an ancestor of the given ID,
            // then we can be sure that we only want to search the subtree
            // rooted at this child, so we can throw out the rest of the
            // search state.
            firstChildren.length = childIndex = 0;
            firstChildren.push(child.firstChild);
          }

        } else {
          // If this child had no ID, then there's a chance that it was
          // injected automatically by the browser, as when a `<table>`
          // element sprouts an extra `<tbody>` child as a side effect of
          // `.innerHTML` parsing. Optimistically continue down this
          // branch, but not before examining the other siblings.
          firstChildren.push(child.firstChild);
        }

        child = child.nextSibling;
      }

      if (targetChild) {
        // Emptying firstChildren/findComponentRootReusableArray is
        // not necessary for correctness, but it helps the GC reclaim
        // any nodes that were left at the end of the search.
        firstChildren.length = 0;

        return targetChild;
      }
    }

    firstChildren.length = 0;

    ("production" !== "development" ? invariant(
      false,
      'findComponentRoot(..., %s): Unable to find element. This probably ' +
      'means the DOM was unexpectedly mutated (e.g., by the browser). ' +
      'Try inspecting the child nodes of the element with React ID `%s`.',
      targetID,
      ReactMount.getID(ancestorNode)
    ) : invariant(false));
  },


  /**
   * React ID utilities.
   */

  getReactRootID: getReactRootID,

  getID: getID,

  setID: setID,

  getNode: getNode,

  purgeID: purgeID
};

module.exports = ReactMount;

},{"./DOMProperty":8,"./ReactEventEmitter":48,"./ReactInstanceHandles":53,"./ReactPerf":60,"./containsNode":88,"./getReactRootElementInContainer":104,"./invariant":108,"./shouldUpdateReactComponent":126}],56:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactMountReady
 */

"use strict";

var PooledClass = require("./PooledClass");

var mixInto = require("./mixInto");

/**
 * A specialized pseudo-event module to help keep track of components waiting to
 * be notified when their DOM representations are available for use.
 *
 * This implements `PooledClass`, so you should never need to instantiate this.
 * Instead, use `ReactMountReady.getPooled()`.
 *
 * @param {?array<function>} initialCollection
 * @class ReactMountReady
 * @implements PooledClass
 * @internal
 */
function ReactMountReady(initialCollection) {
  this._queue = initialCollection || null;
}

mixInto(ReactMountReady, {

  /**
   * Enqueues a callback to be invoked when `notifyAll` is invoked. This is used
   * to enqueue calls to `componentDidMount` and `componentDidUpdate`.
   *
   * @param {ReactComponent} component Component being rendered.
   * @param {function(DOMElement)} callback Invoked when `notifyAll` is invoked.
   * @internal
   */
  enqueue: function(component, callback) {
    this._queue = this._queue || [];
    this._queue.push({component: component, callback: callback});
  },

  /**
   * Invokes all enqueued callbacks and clears the queue. This is invoked after
   * the DOM representation of a component has been created or updated.
   *
   * @internal
   */
  notifyAll: function() {
    var queue = this._queue;
    if (queue) {
      this._queue = null;
      for (var i = 0, l = queue.length; i < l; i++) {
        var component = queue[i].component;
        var callback = queue[i].callback;
        callback.call(component);
      }
      queue.length = 0;
    }
  },

  /**
   * Resets the internal queue.
   *
   * @internal
   */
  reset: function() {
    this._queue = null;
  },

  /**
   * `PooledClass` looks for this.
   */
  destructor: function() {
    this.reset();
  }

});

PooledClass.addPoolingTo(ReactMountReady);

module.exports = ReactMountReady;

},{"./PooledClass":23,"./mixInto":120}],57:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactMultiChild
 * @typechecks static-only
 */

"use strict";

var ReactComponent = require("./ReactComponent");
var ReactMultiChildUpdateTypes = require("./ReactMultiChildUpdateTypes");

var flattenChildren = require("./flattenChildren");
var shouldUpdateReactComponent = require("./shouldUpdateReactComponent");

/**
 * Updating children of a component may trigger recursive updates. The depth is
 * used to batch recursive updates to render markup more efficiently.
 *
 * @type {number}
 * @private
 */
var updateDepth = 0;

/**
 * Queue of update configuration objects.
 *
 * Each object has a `type` property that is in `ReactMultiChildUpdateTypes`.
 *
 * @type {array<object>}
 * @private
 */
var updateQueue = [];

/**
 * Queue of markup to be rendered.
 *
 * @type {array<string>}
 * @private
 */
var markupQueue = [];

/**
 * Enqueues markup to be rendered and inserted at a supplied index.
 *
 * @param {string} parentID ID of the parent component.
 * @param {string} markup Markup that renders into an element.
 * @param {number} toIndex Destination index.
 * @private
 */
function enqueueMarkup(parentID, markup, toIndex) {
  // NOTE: Null values reduce hidden classes.
  updateQueue.push({
    parentID: parentID,
    parentNode: null,
    type: ReactMultiChildUpdateTypes.INSERT_MARKUP,
    markupIndex: markupQueue.push(markup) - 1,
    textContent: null,
    fromIndex: null,
    toIndex: toIndex
  });
}

/**
 * Enqueues moving an existing element to another index.
 *
 * @param {string} parentID ID of the parent component.
 * @param {number} fromIndex Source index of the existing element.
 * @param {number} toIndex Destination index of the element.
 * @private
 */
function enqueueMove(parentID, fromIndex, toIndex) {
  // NOTE: Null values reduce hidden classes.
  updateQueue.push({
    parentID: parentID,
    parentNode: null,
    type: ReactMultiChildUpdateTypes.MOVE_EXISTING,
    markupIndex: null,
    textContent: null,
    fromIndex: fromIndex,
    toIndex: toIndex
  });
}

/**
 * Enqueues removing an element at an index.
 *
 * @param {string} parentID ID of the parent component.
 * @param {number} fromIndex Index of the element to remove.
 * @private
 */
function enqueueRemove(parentID, fromIndex) {
  // NOTE: Null values reduce hidden classes.
  updateQueue.push({
    parentID: parentID,
    parentNode: null,
    type: ReactMultiChildUpdateTypes.REMOVE_NODE,
    markupIndex: null,
    textContent: null,
    fromIndex: fromIndex,
    toIndex: null
  });
}

/**
 * Enqueues setting the text content.
 *
 * @param {string} parentID ID of the parent component.
 * @param {string} textContent Text content to set.
 * @private
 */
function enqueueTextContent(parentID, textContent) {
  // NOTE: Null values reduce hidden classes.
  updateQueue.push({
    parentID: parentID,
    parentNode: null,
    type: ReactMultiChildUpdateTypes.TEXT_CONTENT,
    markupIndex: null,
    textContent: textContent,
    fromIndex: null,
    toIndex: null
  });
}

/**
 * Processes any enqueued updates.
 *
 * @private
 */
function processQueue() {
  if (updateQueue.length) {
    ReactComponent.BackendIDOperations.dangerouslyProcessChildrenUpdates(
      updateQueue,
      markupQueue
    );
    clearQueue();
  }
}

/**
 * Clears any enqueued updates.
 *
 * @private
 */
function clearQueue() {
  updateQueue.length = 0;
  markupQueue.length = 0;
}

/**
 * ReactMultiChild are capable of reconciling multiple children.
 *
 * @class ReactMultiChild
 * @internal
 */
var ReactMultiChild = {

  /**
   * Provides common functionality for components that must reconcile multiple
   * children. This is used by `ReactDOMComponent` to mount, update, and
   * unmount child components.
   *
   * @lends {ReactMultiChild.prototype}
   */
  Mixin: {

    /**
     * Generates a "mount image" for each of the supplied children. In the case
     * of `ReactDOMComponent`, a mount image is a string of markup.
     *
     * @param {?object} nestedChildren Nested child maps.
     * @return {array} An array of mounted representations.
     * @internal
     */
    mountChildren: function(nestedChildren, transaction) {
      var children = flattenChildren(nestedChildren);
      var mountImages = [];
      var index = 0;
      this._renderedChildren = children;
      for (var name in children) {
        var child = children[name];
        if (children.hasOwnProperty(name)) {
          // Inlined for performance, see `ReactInstanceHandles.createReactID`.
          var rootID = this._rootNodeID + name;
          var mountImage = child.mountComponent(
            rootID,
            transaction,
            this._mountDepth + 1
          );
          child._mountIndex = index;
          mountImages.push(mountImage);
          index++;
        }
      }
      return mountImages;
    },

    /**
     * Replaces any rendered children with a text content string.
     *
     * @param {string} nextContent String of content.
     * @internal
     */
    updateTextContent: function(nextContent) {
      updateDepth++;
      var errorThrown = true;
      try {
        var prevChildren = this._renderedChildren;
        // Remove any rendered children.
        for (var name in prevChildren) {
          if (prevChildren.hasOwnProperty(name)) {
            this._unmountChildByName(prevChildren[name], name);
          }
        }
        // Set new text content.
        this.setTextContent(nextContent);
        errorThrown = false;
      } finally {
        updateDepth--;
        if (!updateDepth) {
          errorThrown ? clearQueue() : processQueue();
        }
      }
    },

    /**
     * Updates the rendered children with new children.
     *
     * @param {?object} nextNestedChildren Nested child maps.
     * @param {ReactReconcileTransaction} transaction
     * @internal
     */
    updateChildren: function(nextNestedChildren, transaction) {
      updateDepth++;
      var errorThrown = true;
      try {
        this._updateChildren(nextNestedChildren, transaction);
        errorThrown = false;
      } finally {
        updateDepth--;
        if (!updateDepth) {
          errorThrown ? clearQueue() : processQueue();
        }
      }
    },

    /**
     * Improve performance by isolating this hot code path from the try/catch
     * block in `updateChildren`.
     *
     * @param {?object} nextNestedChildren Nested child maps.
     * @param {ReactReconcileTransaction} transaction
     * @final
     * @protected
     */
    _updateChildren: function(nextNestedChildren, transaction) {
      var nextChildren = flattenChildren(nextNestedChildren);
      var prevChildren = this._renderedChildren;
      if (!nextChildren && !prevChildren) {
        return;
      }
      var name;
      // `nextIndex` will increment for each child in `nextChildren`, but
      // `lastIndex` will be the last index visited in `prevChildren`.
      var lastIndex = 0;
      var nextIndex = 0;
      for (name in nextChildren) {
        if (!nextChildren.hasOwnProperty(name)) {
          continue;
        }
        var prevChild = prevChildren && prevChildren[name];
        var nextChild = nextChildren[name];
        if (shouldUpdateReactComponent(prevChild, nextChild)) {
          this.moveChild(prevChild, nextIndex, lastIndex);
          lastIndex = Math.max(prevChild._mountIndex, lastIndex);
          prevChild.receiveComponent(nextChild, transaction);
          prevChild._mountIndex = nextIndex;
        } else {
          if (prevChild) {
            // Update `lastIndex` before `_mountIndex` gets unset by unmounting.
            lastIndex = Math.max(prevChild._mountIndex, lastIndex);
            this._unmountChildByName(prevChild, name);
          }
          this._mountChildByNameAtIndex(
            nextChild, name, nextIndex, transaction
          );
        }
        nextIndex++;
      }
      // Remove children that are no longer present.
      for (name in prevChildren) {
        if (prevChildren.hasOwnProperty(name) &&
            !(nextChildren && nextChildren[name])) {
          this._unmountChildByName(prevChildren[name], name);
        }
      }
    },

    /**
     * Unmounts all rendered children. This should be used to clean up children
     * when this component is unmounted.
     *
     * @internal
     */
    unmountChildren: function() {
      var renderedChildren = this._renderedChildren;
      for (var name in renderedChildren) {
        var renderedChild = renderedChildren[name];
        // TODO: When is this not true?
        if (renderedChild.unmountComponent) {
          renderedChild.unmountComponent();
        }
      }
      this._renderedChildren = null;
    },

    /**
     * Moves a child component to the supplied index.
     *
     * @param {ReactComponent} child Component to move.
     * @param {number} toIndex Destination index of the element.
     * @param {number} lastIndex Last index visited of the siblings of `child`.
     * @protected
     */
    moveChild: function(child, toIndex, lastIndex) {
      // If the index of `child` is less than `lastIndex`, then it needs to
      // be moved. Otherwise, we do not need to move it because a child will be
      // inserted or moved before `child`.
      if (child._mountIndex < lastIndex) {
        enqueueMove(this._rootNodeID, child._mountIndex, toIndex);
      }
    },

    /**
     * Creates a child component.
     *
     * @param {ReactComponent} child Component to create.
     * @param {string} mountImage Markup to insert.
     * @protected
     */
    createChild: function(child, mountImage) {
      enqueueMarkup(this._rootNodeID, mountImage, child._mountIndex);
    },

    /**
     * Removes a child component.
     *
     * @param {ReactComponent} child Child to remove.
     * @protected
     */
    removeChild: function(child) {
      enqueueRemove(this._rootNodeID, child._mountIndex);
    },

    /**
     * Sets this text content string.
     *
     * @param {string} textContent Text content to set.
     * @protected
     */
    setTextContent: function(textContent) {
      enqueueTextContent(this._rootNodeID, textContent);
    },

    /**
     * Mounts a child with the supplied name.
     *
     * NOTE: This is part of `updateChildren` and is here for readability.
     *
     * @param {ReactComponent} child Component to mount.
     * @param {string} name Name of the child.
     * @param {number} index Index at which to insert the child.
     * @param {ReactReconcileTransaction} transaction
     * @private
     */
    _mountChildByNameAtIndex: function(child, name, index, transaction) {
      // Inlined for performance, see `ReactInstanceHandles.createReactID`.
      var rootID = this._rootNodeID + name;
      var mountImage = child.mountComponent(
        rootID,
        transaction,
        this._mountDepth + 1
      );
      child._mountIndex = index;
      this.createChild(child, mountImage);
      this._renderedChildren = this._renderedChildren || {};
      this._renderedChildren[name] = child;
    },

    /**
     * Unmounts a rendered child by name.
     *
     * NOTE: This is part of `updateChildren` and is here for readability.
     *
     * @param {ReactComponent} child Component to unmount.
     * @param {string} name Name of the child in `this._renderedChildren`.
     * @private
     */
    _unmountChildByName: function(child, name) {
      // TODO: When is this not true?
      if (ReactComponent.isValidComponent(child)) {
        this.removeChild(child);
        child._mountIndex = null;
        child.unmountComponent();
        delete this._renderedChildren[name];
      }
    }

  }

};

module.exports = ReactMultiChild;

},{"./ReactComponent":26,"./ReactMultiChildUpdateTypes":58,"./flattenChildren":97,"./shouldUpdateReactComponent":126}],58:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactMultiChildUpdateTypes
 */

"use strict";

var keyMirror = require("./keyMirror");

/**
 * When a component's children are updated, a series of update configuration
 * objects are created in order to batch and serialize the required changes.
 *
 * Enumerates all the possible types of update configurations.
 *
 * @internal
 */
var ReactMultiChildUpdateTypes = keyMirror({
  INSERT_MARKUP: null,
  MOVE_EXISTING: null,
  REMOVE_NODE: null,
  TEXT_CONTENT: null
});

module.exports = ReactMultiChildUpdateTypes;

},{"./keyMirror":114}],59:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactOwner
 */

"use strict";

var invariant = require("./invariant");

/**
 * ReactOwners are capable of storing references to owned components.
 *
 * All components are capable of //being// referenced by owner components, but
 * only ReactOwner components are capable of //referencing// owned components.
 * The named reference is known as a "ref".
 *
 * Refs are available when mounted and updated during reconciliation.
 *
 *   var MyComponent = React.createClass({
 *     render: function() {
 *       return (
 *         <div onClick={this.handleClick}>
 *           <CustomComponent ref="custom" />
 *         </div>
 *       );
 *     },
 *     handleClick: function() {
 *       this.refs.custom.handleClick();
 *     },
 *     componentDidMount: function() {
 *       this.refs.custom.initialize();
 *     }
 *   });
 *
 * Refs should rarely be used. When refs are used, they should only be done to
 * control data that is not handled by React's data flow.
 *
 * @class ReactOwner
 */
var ReactOwner = {

  /**
   * @param {?object} object
   * @return {boolean} True if `object` is a valid owner.
   * @final
   */
  isValidOwner: function(object) {
    return !!(
      object &&
      typeof object.attachRef === 'function' &&
      typeof object.detachRef === 'function'
    );
  },

  /**
   * Adds a component by ref to an owner component.
   *
   * @param {ReactComponent} component Component to reference.
   * @param {string} ref Name by which to refer to the component.
   * @param {ReactOwner} owner Component on which to record the ref.
   * @final
   * @internal
   */
  addComponentAsRefTo: function(component, ref, owner) {
    ("production" !== "development" ? invariant(
      ReactOwner.isValidOwner(owner),
      'addComponentAsRefTo(...): Only a ReactOwner can have refs. This ' +
      'usually means that you\'re trying to add a ref to a component that ' +
      'doesn\'t have an owner (that is, was not created inside of another ' +
      'component\'s `render` method). Try rendering this component inside of ' +
      'a new top-level component which will hold the ref.'
    ) : invariant(ReactOwner.isValidOwner(owner)));
    owner.attachRef(ref, component);
  },

  /**
   * Removes a component by ref from an owner component.
   *
   * @param {ReactComponent} component Component to dereference.
   * @param {string} ref Name of the ref to remove.
   * @param {ReactOwner} owner Component on which the ref is recorded.
   * @final
   * @internal
   */
  removeComponentAsRefFrom: function(component, ref, owner) {
    ("production" !== "development" ? invariant(
      ReactOwner.isValidOwner(owner),
      'removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This ' +
      'usually means that you\'re trying to remove a ref to a component that ' +
      'doesn\'t have an owner (that is, was not created inside of another ' +
      'component\'s `render` method). Try rendering this component inside of ' +
      'a new top-level component which will hold the ref.'
    ) : invariant(ReactOwner.isValidOwner(owner)));
    // Check that `component` is still the current ref because we do not want to
    // detach the ref if another component stole it.
    if (owner.refs[ref] === component) {
      owner.detachRef(ref);
    }
  },

  /**
   * A ReactComponent must mix this in to have refs.
   *
   * @lends {ReactOwner.prototype}
   */
  Mixin: {

    /**
     * Lazily allocates the refs object and stores `component` as `ref`.
     *
     * @param {string} ref Reference name.
     * @param {component} component Component to store as `ref`.
     * @final
     * @private
     */
    attachRef: function(ref, component) {
      ("production" !== "development" ? invariant(
        component.isOwnedBy(this),
        'attachRef(%s, ...): Only a component\'s owner can store a ref to it.',
        ref
      ) : invariant(component.isOwnedBy(this)));
      var refs = this.refs || (this.refs = {});
      refs[ref] = component;
    },

    /**
     * Detaches a reference name.
     *
     * @param {string} ref Name to dereference.
     * @final
     * @private
     */
    detachRef: function(ref) {
      delete this.refs[ref];
    }

  }

};

module.exports = ReactOwner;

},{"./invariant":108}],60:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactPerf
 * @typechecks static-only
 */

"use strict";

/**
 * ReactPerf is a general AOP system designed to measure performance. This
 * module only has the hooks: see ReactDefaultPerf for the analysis tool.
 */
var ReactPerf = {
  /**
   * Boolean to enable/disable measurement. Set to false by default to prevent
   * accidental logging and perf loss.
   */
  enableMeasure: false,

  /**
   * Holds onto the measure function in use. By default, don't measure
   * anything, but we'll override this if we inject a measure function.
   */
  storedMeasure: _noMeasure,

  /**
   * Use this to wrap methods you want to measure. Zero overhead in production.
   *
   * @param {string} objName
   * @param {string} fnName
   * @param {function} func
   * @return {function}
   */
  measure: function(objName, fnName, func) {
    if ("production" !== "development") {
      var measuredFunc = null;
      return function() {
        if (ReactPerf.enableMeasure) {
          if (!measuredFunc) {
            measuredFunc = ReactPerf.storedMeasure(objName, fnName, func);
          }
          return measuredFunc.apply(this, arguments);
        }
        return func.apply(this, arguments);
      };
    }
    return func;
  },

  injection: {
    /**
     * @param {function} measure
     */
    injectMeasure: function(measure) {
      ReactPerf.storedMeasure = measure;
    }
  }
};

/**
 * Simply passes through the measured function, without measuring it.
 *
 * @param {string} objName
 * @param {string} fnName
 * @param {function} func
 * @return {function}
 */
function _noMeasure(objName, fnName, func) {
  return func;
}

module.exports = ReactPerf;

},{}],61:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactPropTransferer
 */

"use strict";

var emptyFunction = require("./emptyFunction");
var invariant = require("./invariant");
var joinClasses = require("./joinClasses");
var merge = require("./merge");

/**
 * Creates a transfer strategy that will merge prop values using the supplied
 * `mergeStrategy`. If a prop was previously unset, this just sets it.
 *
 * @param {function} mergeStrategy
 * @return {function}
 */
function createTransferStrategy(mergeStrategy) {
  return function(props, key, value) {
    if (!props.hasOwnProperty(key)) {
      props[key] = value;
    } else {
      props[key] = mergeStrategy(props[key], value);
    }
  };
}

/**
 * Transfer strategies dictate how props are transferred by `transferPropsTo`.
 * NOTE: if you add any more exceptions to this list you should be sure to
 * update `cloneWithProps()` accordingly.
 */
var TransferStrategies = {
  /**
   * Never transfer `children`.
   */
  children: emptyFunction,
  /**
   * Transfer the `className` prop by merging them.
   */
  className: createTransferStrategy(joinClasses),
  /**
   * Never transfer the `key` prop.
   */
  key: emptyFunction,
  /**
   * Never transfer the `ref` prop.
   */
  ref: emptyFunction,
  /**
   * Transfer the `style` prop (which is an object) by merging them.
   */
  style: createTransferStrategy(merge)
};

/**
 * ReactPropTransferer are capable of transferring props to another component
 * using a `transferPropsTo` method.
 *
 * @class ReactPropTransferer
 */
var ReactPropTransferer = {

  TransferStrategies: TransferStrategies,

  /**
   * Merge two props objects using TransferStrategies.
   *
   * @param {object} oldProps original props (they take precedence)
   * @param {object} newProps new props to merge in
   * @return {object} a new object containing both sets of props merged.
   */
  mergeProps: function(oldProps, newProps) {
    var props = merge(oldProps);

    for (var thisKey in newProps) {
      if (!newProps.hasOwnProperty(thisKey)) {
        continue;
      }

      var transferStrategy = TransferStrategies[thisKey];

      if (transferStrategy) {
        transferStrategy(props, thisKey, newProps[thisKey]);
      } else if (!props.hasOwnProperty(thisKey)) {
        props[thisKey] = newProps[thisKey];
      }
    }

    return props;
  },

  /**
   * @lends {ReactPropTransferer.prototype}
   */
  Mixin: {

    /**
     * Transfer props from this component to a target component.
     *
     * Props that do not have an explicit transfer strategy will be transferred
     * only if the target component does not already have the prop set.
     *
     * This is usually used to pass down props to a returned root component.
     *
     * @param {ReactComponent} component Component receiving the properties.
     * @return {ReactComponent} The supplied `component`.
     * @final
     * @protected
     */
    transferPropsTo: function(component) {
      ("production" !== "development" ? invariant(
        component._owner === this,
        '%s: You can\'t call transferPropsTo() on a component that you ' +
        'don\'t own, %s. This usually means you are calling ' +
        'transferPropsTo() on a component passed in as props or children.',
        this.constructor.displayName,
        component.constructor.displayName
      ) : invariant(component._owner === this));

      component.props = ReactPropTransferer.mergeProps(
        component.props,
        this.props
      );

      return component;
    }

  }
};

module.exports = ReactPropTransferer;

},{"./emptyFunction":95,"./invariant":108,"./joinClasses":113,"./merge":117}],62:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactPropTypeLocationNames
 */

"use strict";

var ReactPropTypeLocationNames = {};

if ("production" !== "development") {
  ReactPropTypeLocationNames = {
    prop: 'prop',
    context: 'context',
    childContext: 'child context'
  };
}

module.exports = ReactPropTypeLocationNames;

},{}],63:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactPropTypeLocations
 */

"use strict";

var keyMirror = require("./keyMirror");

var ReactPropTypeLocations = keyMirror({
  prop: null,
  context: null,
  childContext: null
});

module.exports = ReactPropTypeLocations;

},{"./keyMirror":114}],64:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactPropTypes
 */

"use strict";

var ReactComponent = require("./ReactComponent");
var ReactPropTypeLocationNames = require("./ReactPropTypeLocationNames");

var warning = require("./warning");
var createObjectFrom = require("./createObjectFrom");

/**
 * Collection of methods that allow declaration and validation of props that are
 * supplied to React components. Example usage:
 *
 *   var Props = require('ReactPropTypes');
 *   var MyArticle = React.createClass({
 *     propTypes: {
 *       // An optional string prop named "description".
 *       description: Props.string,
 *
 *       // A required enum prop named "category".
 *       category: Props.oneOf(['News','Photos']).isRequired,
 *
 *       // A prop named "dialog" that requires an instance of Dialog.
 *       dialog: Props.instanceOf(Dialog).isRequired
 *     },
 *     render: function() { ... }
 *   });
 *
 * A more formal specification of how these methods are used:
 *
 *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)
 *   decl := ReactPropTypes.{type}(.isRequired)?
 *
 * Each and every declaration produces a function with the same signature. This
 * allows the creation of custom validation functions. For example:
 *
 *   var Props = require('ReactPropTypes');
 *   var MyLink = React.createClass({
 *     propTypes: {
 *       // An optional string or URI prop named "href".
 *       href: function(props, propName, componentName) {
 *         var propValue = props[propName];
 *         warning(
 *           propValue == null ||
 *           typeof propValue === 'string' ||
 *           propValue instanceof URI,
 *           'Invalid `%s` supplied to `%s`, expected string or URI.',
 *           propName,
 *           componentName
 *         );
 *       }
 *     },
 *     render: function() { ... }
 *   });
 *
 * @internal
 */
var Props = {

  array: createPrimitiveTypeChecker('array'),
  bool: createPrimitiveTypeChecker('boolean'),
  func: createPrimitiveTypeChecker('function'),
  number: createPrimitiveTypeChecker('number'),
  object: createPrimitiveTypeChecker('object'),
  string: createPrimitiveTypeChecker('string'),

  shape: createShapeTypeChecker,
  oneOf: createEnumTypeChecker,
  oneOfType: createUnionTypeChecker,
  arrayOf: createArrayOfTypeChecker,

  instanceOf: createInstanceTypeChecker,

  renderable: createRenderableTypeChecker(),

  component: createComponentTypeChecker(),

  any: createAnyTypeChecker()
};

var ANONYMOUS = '<<anonymous>>';

function isRenderable(propValue) {
  switch(typeof propValue) {
    case 'number':
    case 'string':
      return true;
    case 'object':
      if (Array.isArray(propValue)) {
        return propValue.every(isRenderable);
      }
      if (ReactComponent.isValidComponent(propValue)) {
        return true;
      }
      for (var k in propValue) {
        if (!isRenderable(propValue[k])) {
          return false;
        }
      }
      return true;
    default:
      return false;
  }
}

// Equivalent of typeof but with special handling for arrays
function getPropType(propValue) {
  var propType = typeof propValue;
  if (propType === 'object' && Array.isArray(propValue)) {
    return 'array';
  }
  return propType;
}

function createAnyTypeChecker() {
  function validateAnyType(
    shouldWarn, propValue, propName, componentName, location
  ) {
    return true; // is always valid
  }
  return createChainableTypeChecker(validateAnyType);
}

function createPrimitiveTypeChecker(expectedType) {
  function validatePrimitiveType(
    shouldWarn, propValue, propName, componentName, location
  ) {
    var propType = getPropType(propValue);
    var isValid = propType === expectedType;
    if (shouldWarn) {
      ("production" !== "development" ? warning(
        isValid,
        'Invalid %s `%s` of type `%s` supplied to `%s`, expected `%s`.',
        ReactPropTypeLocationNames[location],
        propName,
        propType,
        componentName,
        expectedType
      ) : null);
    }
    return isValid;
  }
  return createChainableTypeChecker(validatePrimitiveType);
}

function createEnumTypeChecker(expectedValues) {
  var expectedEnum = createObjectFrom(expectedValues);
  function validateEnumType(
    shouldWarn, propValue, propName, componentName, location
  ) {
    var isValid = expectedEnum[propValue];
    if (shouldWarn) {
      ("production" !== "development" ? warning(
        isValid,
        'Invalid %s `%s` supplied to `%s`, expected one of %s.',
        ReactPropTypeLocationNames[location],
        propName,
        componentName,
        JSON.stringify(Object.keys(expectedEnum))
      ) : null);
    }
    return isValid;
  }
  return createChainableTypeChecker(validateEnumType);
}

function createShapeTypeChecker(shapeTypes) {
  function validateShapeType(
    shouldWarn, propValue, propName, componentName, location
  ) {
    var propType = getPropType(propValue);
    var isValid = propType === 'object';
    if (isValid) {
      for (var key in shapeTypes) {
        var checker = shapeTypes[key];
        if (checker && !checker(propValue, key, componentName, location)) {
          return false;
        }
      }
    }
    if (shouldWarn) {
      ("production" !== "development" ? warning(
        isValid,
        'Invalid %s `%s` of type `%s` supplied to `%s`, expected `object`.',
        ReactPropTypeLocationNames[location],
        propName,
        propType,
        componentName
      ) : null);
    }
    return isValid;
  }
  return createChainableTypeChecker(validateShapeType);
}

function createInstanceTypeChecker(expectedClass) {
  function validateInstanceType(
    shouldWarn, propValue, propName, componentName, location
  ) {
    var isValid = propValue instanceof expectedClass;
    if (shouldWarn) {
      ("production" !== "development" ? warning(
        isValid,
        'Invalid %s `%s` supplied to `%s`, expected instance of `%s`.',
        ReactPropTypeLocationNames[location],
        propName,
        componentName,
        expectedClass.name || ANONYMOUS
      ) : null);
    }
    return isValid;
  }
  return createChainableTypeChecker(validateInstanceType);
}

function createArrayOfTypeChecker(propTypeChecker) {
  function validateArrayType(
    shouldWarn, propValue, propName, componentName, location
  ) {
    var isValid = Array.isArray(propValue);
    if (isValid) {
      for (var i = 0; i < propValue.length; i++) {
        if (!propTypeChecker(propValue, i, componentName, location)) {
          return false;
        }
      }
    }
    if (shouldWarn) {
      ("production" !== "development" ? warning(
        isValid,
        'Invalid %s `%s` supplied to `%s`, expected an array.',
        ReactPropTypeLocationNames[location],
        propName,
        componentName
      ) : null);
    }
    return isValid;
  }
  return createChainableTypeChecker(validateArrayType);
}

function createRenderableTypeChecker() {
  function validateRenderableType(
    shouldWarn, propValue, propName, componentName, location
  ) {
    var isValid = isRenderable(propValue);
    if (shouldWarn) {
      ("production" !== "development" ? warning(
        isValid,
        'Invalid %s `%s` supplied to `%s`, expected a renderable prop.',
        ReactPropTypeLocationNames[location],
        propName,
        componentName
      ) : null);
    }
    return isValid;
  }
  return createChainableTypeChecker(validateRenderableType);
}

function createComponentTypeChecker() {
  function validateComponentType(
    shouldWarn, propValue, propName, componentName, location
  ) {
    var isValid = ReactComponent.isValidComponent(propValue);
    if (shouldWarn) {
      ("production" !== "development" ? warning(
        isValid,
        'Invalid %s `%s` supplied to `%s`, expected a React component.',
        ReactPropTypeLocationNames[location],
        propName,
        componentName
      ) : null);
    }
    return isValid;
  }
  return createChainableTypeChecker(validateComponentType);
}

function createUnionTypeChecker(arrayOfValidators) {
  return function(props, propName, componentName, location) {
    var isValid = false;
    for (var ii = 0; ii < arrayOfValidators.length; ii++) {
      var validate = arrayOfValidators[ii];
      if (typeof validate.weak === 'function') {
        validate = validate.weak;
      }
      if (validate(props, propName, componentName, location)) {
        isValid = true;
        break;
      }
    }
    ("production" !== "development" ? warning(
      isValid,
      'Invalid %s `%s` supplied to `%s`.',
      ReactPropTypeLocationNames[location],
      propName,
      componentName || ANONYMOUS
    ) : null);
    return isValid;
  };
}

function createChainableTypeChecker(validate) {
  function checkType(
    isRequired, shouldWarn, props, propName, componentName, location
  ) {
    var propValue = props[propName];
    if (propValue != null) {
      // Only validate if there is a value to check.
      return validate(
        shouldWarn,
        propValue,
        propName,
        componentName || ANONYMOUS,
        location
      );
    } else {
      var isValid = !isRequired;
      if (shouldWarn) {
        ("production" !== "development" ? warning(
          isValid,
          'Required %s `%s` was not specified in `%s`.',
          ReactPropTypeLocationNames[location],
          propName,
          componentName || ANONYMOUS
        ) : null);
      }
      return isValid;
    }
  }

  var checker = checkType.bind(null, false, true);
  checker.weak = checkType.bind(null, false, false);
  checker.isRequired = checkType.bind(null, true, true);
  checker.weak.isRequired = checkType.bind(null, true, false);
  checker.isRequired.weak = checker.weak.isRequired;

  return checker;
}

module.exports = Props;

},{"./ReactComponent":26,"./ReactPropTypeLocationNames":62,"./createObjectFrom":93,"./warning":129}],65:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactPutListenerQueue
 */

"use strict";

var PooledClass = require("./PooledClass");
var ReactEventEmitter = require("./ReactEventEmitter");

var mixInto = require("./mixInto");

function ReactPutListenerQueue() {
  this.listenersToPut = [];
}

mixInto(ReactPutListenerQueue, {
  enqueuePutListener: function(rootNodeID, propKey, propValue) {
    this.listenersToPut.push({
      rootNodeID: rootNodeID,
      propKey: propKey,
      propValue: propValue
    });
  },

  putListeners: function() {
    for (var i = 0; i < this.listenersToPut.length; i++) {
      var listenerToPut = this.listenersToPut[i];
      ReactEventEmitter.putListener(
        listenerToPut.rootNodeID,
        listenerToPut.propKey,
        listenerToPut.propValue
      );
    }
  },

  reset: function() {
    this.listenersToPut.length = 0;
  },

  destructor: function() {
    this.reset();
  }
});

PooledClass.addPoolingTo(ReactPutListenerQueue);

module.exports = ReactPutListenerQueue;

},{"./PooledClass":23,"./ReactEventEmitter":48,"./mixInto":120}],66:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactReconcileTransaction
 * @typechecks static-only
 */

"use strict";

var ExecutionEnvironment = require("./ExecutionEnvironment");
var PooledClass = require("./PooledClass");
var ReactEventEmitter = require("./ReactEventEmitter");
var ReactInputSelection = require("./ReactInputSelection");
var ReactMountReady = require("./ReactMountReady");
var ReactPutListenerQueue = require("./ReactPutListenerQueue");
var Transaction = require("./Transaction");

var mixInto = require("./mixInto");

/**
 * Ensures that, when possible, the selection range (currently selected text
 * input) is not disturbed by performing the transaction.
 */
var SELECTION_RESTORATION = {
  /**
   * @return {Selection} Selection information.
   */
  initialize: ReactInputSelection.getSelectionInformation,
  /**
   * @param {Selection} sel Selection information returned from `initialize`.
   */
  close: ReactInputSelection.restoreSelection
};

/**
 * Suppresses events (blur/focus) that could be inadvertently dispatched due to
 * high level DOM manipulations (like temporarily removing a text input from the
 * DOM).
 */
var EVENT_SUPPRESSION = {
  /**
   * @return {boolean} The enabled status of `ReactEventEmitter` before the
   * reconciliation.
   */
  initialize: function() {
    var currentlyEnabled = ReactEventEmitter.isEnabled();
    ReactEventEmitter.setEnabled(false);
    return currentlyEnabled;
  },

  /**
   * @param {boolean} previouslyEnabled Enabled status of `ReactEventEmitter`
   *   before the reconciliation occured. `close` restores the previous value.
   */
  close: function(previouslyEnabled) {
    ReactEventEmitter.setEnabled(previouslyEnabled);
  }
};

/**
 * Provides a `ReactMountReady` queue for collecting `onDOMReady` callbacks
 * during the performing of the transaction.
 */
var ON_DOM_READY_QUEUEING = {
  /**
   * Initializes the internal `onDOMReady` queue.
   */
  initialize: function() {
    this.reactMountReady.reset();
  },

  /**
   * After DOM is flushed, invoke all registered `onDOMReady` callbacks.
   */
  close: function() {
    this.reactMountReady.notifyAll();
  }
};

var PUT_LISTENER_QUEUEING = {
  initialize: function() {
    this.putListenerQueue.reset();
  },

  close: function() {
    this.putListenerQueue.putListeners();
  }
};

/**
 * Executed within the scope of the `Transaction` instance. Consider these as
 * being member methods, but with an implied ordering while being isolated from
 * each other.
 */
var TRANSACTION_WRAPPERS = [
  PUT_LISTENER_QUEUEING,
  SELECTION_RESTORATION,
  EVENT_SUPPRESSION,
  ON_DOM_READY_QUEUEING
];

/**
 * Currently:
 * - The order that these are listed in the transaction is critical:
 * - Suppresses events.
 * - Restores selection range.
 *
 * Future:
 * - Restore document/overflow scroll positions that were unintentionally
 *   modified via DOM insertions above the top viewport boundary.
 * - Implement/integrate with customized constraint based layout system and keep
 *   track of which dimensions must be remeasured.
 *
 * @class ReactReconcileTransaction
 */
function ReactReconcileTransaction() {
  this.reinitializeTransaction();
  this.reactMountReady = ReactMountReady.getPooled(null);
  this.putListenerQueue = ReactPutListenerQueue.getPooled();
}

var Mixin = {
  /**
   * @see Transaction
   * @abstract
   * @final
   * @return {array<object>} List of operation wrap proceedures.
   *   TODO: convert to array<TransactionWrapper>
   */
  getTransactionWrappers: function() {
    if (ExecutionEnvironment.canUseDOM) {
      return TRANSACTION_WRAPPERS;
    } else {
      return [];
    }
  },

  /**
   * @return {object} The queue to collect `onDOMReady` callbacks with.
   *   TODO: convert to ReactMountReady
   */
  getReactMountReady: function() {
    return this.reactMountReady;
  },

  getPutListenerQueue: function() {
    return this.putListenerQueue;
  },

  /**
   * `PooledClass` looks for this, and will invoke this before allowing this
   * instance to be resused.
   */
  destructor: function() {
    ReactMountReady.release(this.reactMountReady);
    this.reactMountReady = null;

    ReactPutListenerQueue.release(this.putListenerQueue);
    this.putListenerQueue = null;
  }
};


mixInto(ReactReconcileTransaction, Transaction.Mixin);
mixInto(ReactReconcileTransaction, Mixin);

PooledClass.addPoolingTo(ReactReconcileTransaction);

module.exports = ReactReconcileTransaction;

},{"./ExecutionEnvironment":20,"./PooledClass":23,"./ReactEventEmitter":48,"./ReactInputSelection":52,"./ReactMountReady":56,"./ReactPutListenerQueue":65,"./Transaction":84,"./mixInto":120}],67:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactRootIndex
 * @typechecks
 */

"use strict";

var ReactRootIndexInjection = {
  /**
   * @param {function} _createReactRootIndex
   */
  injectCreateReactRootIndex: function(_createReactRootIndex) {
    ReactRootIndex.createReactRootIndex = _createReactRootIndex;
  }
};

var ReactRootIndex = {
  createReactRootIndex: null,
  injection: ReactRootIndexInjection
};

module.exports = ReactRootIndex;

},{}],68:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @typechecks static-only
 * @providesModule ReactServerRendering
 */
"use strict";

var ReactComponent = require("./ReactComponent");
var ReactInstanceHandles = require("./ReactInstanceHandles");
var ReactMarkupChecksum = require("./ReactMarkupChecksum");
var ReactReconcileTransaction = require("./ReactReconcileTransaction");

var invariant = require("./invariant");

/**
 * @param {ReactComponent} component
 * @return {string} the markup
 */
function renderComponentToString(component) {
  ("production" !== "development" ? invariant(
    ReactComponent.isValidComponent(component),
    'renderComponentToString(): You must pass a valid ReactComponent.'
  ) : invariant(ReactComponent.isValidComponent(component)));

  ("production" !== "development" ? invariant(
    !(arguments.length === 2 && typeof arguments[1] === 'function'),
    'renderComponentToString(): This function became synchronous and now ' +
    'returns the generated markup. Please remove the second parameter.'
  ) : invariant(!(arguments.length === 2 && typeof arguments[1] === 'function')));

  var id = ReactInstanceHandles.createReactRootID();
  var transaction = ReactReconcileTransaction.getPooled();
  transaction.reinitializeTransaction();
  try {
    return transaction.perform(function() {
      var markup = component.mountComponent(id, transaction, 0);
      return ReactMarkupChecksum.addChecksumToMarkup(markup);
    }, null);
  } finally {
    ReactReconcileTransaction.release(transaction);
  }
}

module.exports = {
  renderComponentToString: renderComponentToString
};

},{"./ReactComponent":26,"./ReactInstanceHandles":53,"./ReactMarkupChecksum":54,"./ReactReconcileTransaction":66,"./invariant":108}],69:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactTextComponent
 * @typechecks static-only
 */

"use strict";

var DOMPropertyOperations = require("./DOMPropertyOperations");
var ReactComponent = require("./ReactComponent");

var escapeTextForBrowser = require("./escapeTextForBrowser");
var mixInto = require("./mixInto");

/**
 * Text nodes violate a couple assumptions that React makes about components:
 *
 *  - When mounting text into the DOM, adjacent text nodes are merged.
 *  - Text nodes cannot be assigned a React root ID.
 *
 * This component is used to wrap strings in elements so that they can undergo
 * the same reconciliation that is applied to elements.
 *
 * TODO: Investigate representing React components in the DOM with text nodes.
 *
 * @class ReactTextComponent
 * @extends ReactComponent
 * @internal
 */
var ReactTextComponent = function(initialText) {
  this.construct({text: initialText});
};

mixInto(ReactTextComponent, ReactComponent.Mixin);
mixInto(ReactTextComponent, {

  /**
   * Creates the markup for this text node. This node is not intended to have
   * any features besides containing text content.
   *
   * @param {string} rootID DOM ID of the root node.
   * @param {ReactReconcileTransaction} transaction
   * @param {number} mountDepth number of components in the owner hierarchy
   * @return {string} Markup for this text node.
   * @internal
   */
  mountComponent: function(rootID, transaction, mountDepth) {
    ReactComponent.Mixin.mountComponent.call(
      this,
      rootID,
      transaction,
      mountDepth
    );
    return (
      '<span ' + DOMPropertyOperations.createMarkupForID(rootID) + '>' +
        escapeTextForBrowser(this.props.text) +
      '</span>'
    );
  },

  /**
   * Updates this component by updating the text content.
   *
   * @param {object} nextComponent Contains the next text content.
   * @param {ReactReconcileTransaction} transaction
   * @internal
   */
  receiveComponent: function(nextComponent, transaction) {
    var nextProps = nextComponent.props;
    if (nextProps.text !== this.props.text) {
      this.props.text = nextProps.text;
      ReactComponent.BackendIDOperations.updateTextContentByID(
        this._rootNodeID,
        nextProps.text
      );
    }
  }

});

// Expose the constructor on itself and the prototype for consistency with other
// descriptors.
ReactTextComponent.type = ReactTextComponent;
ReactTextComponent.prototype.type = ReactTextComponent;

module.exports = ReactTextComponent;

},{"./DOMPropertyOperations":9,"./ReactComponent":26,"./escapeTextForBrowser":96,"./mixInto":120}],70:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ReactUpdates
 */

"use strict";

var ReactPerf = require("./ReactPerf");

var invariant = require("./invariant");

var dirtyComponents = [];

var batchingStrategy = null;

function ensureBatchingStrategy() {
  ("production" !== "development" ? invariant(batchingStrategy, 'ReactUpdates: must inject a batching strategy') : invariant(batchingStrategy));
}

function batchedUpdates(callback, param) {
  ensureBatchingStrategy();
  batchingStrategy.batchedUpdates(callback, param);
}

/**
 * Array comparator for ReactComponents by owner depth
 *
 * @param {ReactComponent} c1 first component you're comparing
 * @param {ReactComponent} c2 second component you're comparing
 * @return {number} Return value usable by Array.prototype.sort().
 */
function mountDepthComparator(c1, c2) {
  return c1._mountDepth - c2._mountDepth;
}

function runBatchedUpdates() {
  // Since reconciling a component higher in the owner hierarchy usually (not
  // always -- see shouldComponentUpdate()) will reconcile children, reconcile
  // them before their children by sorting the array.

  dirtyComponents.sort(mountDepthComparator);

  for (var i = 0; i < dirtyComponents.length; i++) {
    // If a component is unmounted before pending changes apply, ignore them
    // TODO: Queue unmounts in the same list to avoid this happening at all
    var component = dirtyComponents[i];
    if (component.isMounted()) {
      // If performUpdateIfNecessary happens to enqueue any new updates, we
      // shouldn't execute the callbacks until the next render happens, so
      // stash the callbacks first
      var callbacks = component._pendingCallbacks;
      component._pendingCallbacks = null;
      component.performUpdateIfNecessary();
      if (callbacks) {
        for (var j = 0; j < callbacks.length; j++) {
          callbacks[j].call(component);
        }
      }
    }
  }
}

function clearDirtyComponents() {
  dirtyComponents.length = 0;
}

var flushBatchedUpdates = ReactPerf.measure(
  'ReactUpdates',
  'flushBatchedUpdates',
  function() {
    // Run these in separate functions so the JIT can optimize
    try {
      runBatchedUpdates();
    } finally {
      clearDirtyComponents();
    }
  }
);

/**
 * Mark a component as needing a rerender, adding an optional callback to a
 * list of functions which will be executed once the rerender occurs.
 */
function enqueueUpdate(component, callback) {
  ("production" !== "development" ? invariant(
    !callback || typeof callback === "function",
    'enqueueUpdate(...): You called `setProps`, `replaceProps`, ' +
    '`setState`, `replaceState`, or `forceUpdate` with a callback that ' +
    'isn\'t callable.'
  ) : invariant(!callback || typeof callback === "function"));
  ensureBatchingStrategy();

  if (!batchingStrategy.isBatchingUpdates) {
    component.performUpdateIfNecessary();
    callback && callback.call(component);
    return;
  }

  dirtyComponents.push(component);

  if (callback) {
    if (component._pendingCallbacks) {
      component._pendingCallbacks.push(callback);
    } else {
      component._pendingCallbacks = [callback];
    }
  }
}

var ReactUpdatesInjection = {
  injectBatchingStrategy: function(_batchingStrategy) {
    ("production" !== "development" ? invariant(
      _batchingStrategy,
      'ReactUpdates: must provide a batching strategy'
    ) : invariant(_batchingStrategy));
    ("production" !== "development" ? invariant(
      typeof _batchingStrategy.batchedUpdates === 'function',
      'ReactUpdates: must provide a batchedUpdates() function'
    ) : invariant(typeof _batchingStrategy.batchedUpdates === 'function'));
    ("production" !== "development" ? invariant(
      typeof _batchingStrategy.isBatchingUpdates === 'boolean',
      'ReactUpdates: must provide an isBatchingUpdates boolean attribute'
    ) : invariant(typeof _batchingStrategy.isBatchingUpdates === 'boolean'));
    batchingStrategy = _batchingStrategy;
  }
};

var ReactUpdates = {
  batchedUpdates: batchedUpdates,
  enqueueUpdate: enqueueUpdate,
  flushBatchedUpdates: flushBatchedUpdates,
  injection: ReactUpdatesInjection
};

module.exports = ReactUpdates;

},{"./ReactPerf":60,"./invariant":108}],71:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SelectEventPlugin
 */

"use strict";

var EventConstants = require("./EventConstants");
var EventPropagators = require("./EventPropagators");
var ReactInputSelection = require("./ReactInputSelection");
var SyntheticEvent = require("./SyntheticEvent");

var getActiveElement = require("./getActiveElement");
var isTextInputElement = require("./isTextInputElement");
var keyOf = require("./keyOf");
var shallowEqual = require("./shallowEqual");

var topLevelTypes = EventConstants.topLevelTypes;

var eventTypes = {
  select: {
    phasedRegistrationNames: {
      bubbled: keyOf({onSelect: null}),
      captured: keyOf({onSelectCapture: null})
    },
    dependencies: [
      topLevelTypes.topBlur,
      topLevelTypes.topContextMenu,
      topLevelTypes.topFocus,
      topLevelTypes.topKeyDown,
      topLevelTypes.topMouseDown,
      topLevelTypes.topMouseUp,
      topLevelTypes.topSelectionChange
    ]
  }
};

var activeElement = null;
var activeElementID = null;
var lastSelection = null;
var mouseDown = false;

/**
 * Get an object which is a unique representation of the current selection.
 *
 * The return value will not be consistent across nodes or browsers, but
 * two identical selections on the same node will return identical objects.
 *
 * @param {DOMElement} node
 * @param {object}
 */
function getSelection(node) {
  if ('selectionStart' in node &&
      ReactInputSelection.hasSelectionCapabilities(node)) {
    return {
      start: node.selectionStart,
      end: node.selectionEnd
    };
  } else if (document.selection) {
    var range = document.selection.createRange();
    return {
      parentElement: range.parentElement(),
      text: range.text,
      top: range.boundingTop,
      left: range.boundingLeft
    };
  } else {
    var selection = window.getSelection();
    return {
      anchorNode: selection.anchorNode,
      anchorOffset: selection.anchorOffset,
      focusNode: selection.focusNode,
      focusOffset: selection.focusOffset
    };
  }
}

/**
 * Poll selection to see whether it's changed.
 *
 * @param {object} nativeEvent
 * @return {?SyntheticEvent}
 */
function constructSelectEvent(nativeEvent) {
  // Ensure we have the right element, and that the user is not dragging a
  // selection (this matches native `select` event behavior). In HTML5, select
  // fires only on input and textarea thus if there's no focused element we
  // won't dispatch.
  if (mouseDown ||
      activeElement == null ||
      activeElement != getActiveElement()) {
    return;
  }

  // Only fire when selection has actually changed.
  var currentSelection = getSelection(activeElement);
  if (!lastSelection || !shallowEqual(lastSelection, currentSelection)) {
    lastSelection = currentSelection;

    var syntheticEvent = SyntheticEvent.getPooled(
      eventTypes.select,
      activeElementID,
      nativeEvent
    );

    syntheticEvent.type = 'select';
    syntheticEvent.target = activeElement;

    EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent);

    return syntheticEvent;
  }
}

/**
 * This plugin creates an `onSelect` event that normalizes select events
 * across form elements.
 *
 * Supported elements are:
 * - input (see `isTextInputElement`)
 * - textarea
 * - contentEditable
 *
 * This differs from native browser implementations in the following ways:
 * - Fires on contentEditable fields as well as inputs.
 * - Fires for collapsed selection.
 * - Fires after user input.
 */
var SelectEventPlugin = {

  eventTypes: eventTypes,

  /**
   * @param {string} topLevelType Record from `EventConstants`.
   * @param {DOMEventTarget} topLevelTarget The listening component root node.
   * @param {string} topLevelTargetID ID of `topLevelTarget`.
   * @param {object} nativeEvent Native browser event.
   * @return {*} An accumulation of synthetic events.
   * @see {EventPluginHub.extractEvents}
   */
  extractEvents: function(
      topLevelType,
      topLevelTarget,
      topLevelTargetID,
      nativeEvent) {

    switch (topLevelType) {
      // Track the input node that has focus.
      case topLevelTypes.topFocus:
        if (isTextInputElement(topLevelTarget) ||
            topLevelTarget.contentEditable === 'true') {
          activeElement = topLevelTarget;
          activeElementID = topLevelTargetID;
          lastSelection = null;
        }
        break;
      case topLevelTypes.topBlur:
        activeElement = null;
        activeElementID = null;
        lastSelection = null;
        break;

      // Don't fire the event while the user is dragging. This matches the
      // semantics of the native select event.
      case topLevelTypes.topMouseDown:
        mouseDown = true;
        break;
      case topLevelTypes.topContextMenu:
      case topLevelTypes.topMouseUp:
        mouseDown = false;
        return constructSelectEvent(nativeEvent);

      // Chrome and IE fire non-standard event when selection is changed (and
      // sometimes when it hasn't).
      // Firefox doesn't support selectionchange, so check selection status
      // after each key entry. The selection changes after keydown and before
      // keyup, but we check on keydown as well in the case of holding down a
      // key, when multiple keydown events are fired but only one keyup is.
      case topLevelTypes.topSelectionChange:
      case topLevelTypes.topKeyDown:
      case topLevelTypes.topKeyUp:
        return constructSelectEvent(nativeEvent);
    }
  }
};

module.exports = SelectEventPlugin;

},{"./EventConstants":14,"./EventPropagators":19,"./ReactInputSelection":52,"./SyntheticEvent":77,"./getActiveElement":99,"./isTextInputElement":111,"./keyOf":115,"./shallowEqual":125}],72:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ServerReactRootIndex
 * @typechecks
 */

"use strict";

/**
 * Size of the reactRoot ID space. We generate random numbers for React root
 * IDs and if there's a collision the events and DOM update system will
 * get confused. In the future we need a way to generate GUIDs but for
 * now this will work on a smaller scale.
 */
var GLOBAL_MOUNT_POINT_MAX = Math.pow(2, 53);

var ServerReactRootIndex = {
  createReactRootIndex: function() {
    return Math.ceil(Math.random() * GLOBAL_MOUNT_POINT_MAX);
  }
};

module.exports = ServerReactRootIndex;

},{}],73:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SimpleEventPlugin
 */

"use strict";

var EventConstants = require("./EventConstants");
var EventPluginUtils = require("./EventPluginUtils");
var EventPropagators = require("./EventPropagators");
var SyntheticClipboardEvent = require("./SyntheticClipboardEvent");
var SyntheticEvent = require("./SyntheticEvent");
var SyntheticFocusEvent = require("./SyntheticFocusEvent");
var SyntheticKeyboardEvent = require("./SyntheticKeyboardEvent");
var SyntheticMouseEvent = require("./SyntheticMouseEvent");
var SyntheticDragEvent = require("./SyntheticDragEvent");
var SyntheticTouchEvent = require("./SyntheticTouchEvent");
var SyntheticUIEvent = require("./SyntheticUIEvent");
var SyntheticWheelEvent = require("./SyntheticWheelEvent");

var invariant = require("./invariant");
var keyOf = require("./keyOf");

var topLevelTypes = EventConstants.topLevelTypes;

var eventTypes = {
  blur: {
    phasedRegistrationNames: {
      bubbled: keyOf({onBlur: true}),
      captured: keyOf({onBlurCapture: true})
    }
  },
  click: {
    phasedRegistrationNames: {
      bubbled: keyOf({onClick: true}),
      captured: keyOf({onClickCapture: true})
    }
  },
  contextMenu: {
    phasedRegistrationNames: {
      bubbled: keyOf({onContextMenu: true}),
      captured: keyOf({onContextMenuCapture: true})
    }
  },
  copy: {
    phasedRegistrationNames: {
      bubbled: keyOf({onCopy: true}),
      captured: keyOf({onCopyCapture: true})
    }
  },
  cut: {
    phasedRegistrationNames: {
      bubbled: keyOf({onCut: true}),
      captured: keyOf({onCutCapture: true})
    }
  },
  doubleClick: {
    phasedRegistrationNames: {
      bubbled: keyOf({onDoubleClick: true}),
      captured: keyOf({onDoubleClickCapture: true})
    }
  },
  drag: {
    phasedRegistrationNames: {
      bubbled: keyOf({onDrag: true}),
      captured: keyOf({onDragCapture: true})
    }
  },
  dragEnd: {
    phasedRegistrationNames: {
      bubbled: keyOf({onDragEnd: true}),
      captured: keyOf({onDragEndCapture: true})
    }
  },
  dragEnter: {
    phasedRegistrationNames: {
      bubbled: keyOf({onDragEnter: true}),
      captured: keyOf({onDragEnterCapture: true})
    }
  },
  dragExit: {
    phasedRegistrationNames: {
      bubbled: keyOf({onDragExit: true}),
      captured: keyOf({onDragExitCapture: true})
    }
  },
  dragLeave: {
    phasedRegistrationNames: {
      bubbled: keyOf({onDragLeave: true}),
      captured: keyOf({onDragLeaveCapture: true})
    }
  },
  dragOver: {
    phasedRegistrationNames: {
      bubbled: keyOf({onDragOver: true}),
      captured: keyOf({onDragOverCapture: true})
    }
  },
  dragStart: {
    phasedRegistrationNames: {
      bubbled: keyOf({onDragStart: true}),
      captured: keyOf({onDragStartCapture: true})
    }
  },
  drop: {
    phasedRegistrationNames: {
      bubbled: keyOf({onDrop: true}),
      captured: keyOf({onDropCapture: true})
    }
  },
  focus: {
    phasedRegistrationNames: {
      bubbled: keyOf({onFocus: true}),
      captured: keyOf({onFocusCapture: true})
    }
  },
  input: {
    phasedRegistrationNames: {
      bubbled: keyOf({onInput: true}),
      captured: keyOf({onInputCapture: true})
    }
  },
  keyDown: {
    phasedRegistrationNames: {
      bubbled: keyOf({onKeyDown: true}),
      captured: keyOf({onKeyDownCapture: true})
    }
  },
  keyPress: {
    phasedRegistrationNames: {
      bubbled: keyOf({onKeyPress: true}),
      captured: keyOf({onKeyPressCapture: true})
    }
  },
  keyUp: {
    phasedRegistrationNames: {
      bubbled: keyOf({onKeyUp: true}),
      captured: keyOf({onKeyUpCapture: true})
    }
  },
  load: {
    phasedRegistrationNames: {
      bubbled: keyOf({onLoad: true}),
      captured: keyOf({onLoadCapture: true})
    }
  },
  error: {
    phasedRegistrationNames: {
      bubbled: keyOf({onError: true}),
      captured: keyOf({onErrorCapture: true})
    }
  },
  // Note: We do not allow listening to mouseOver events. Instead, use the
  // onMouseEnter/onMouseLeave created by `EnterLeaveEventPlugin`.
  mouseDown: {
    phasedRegistrationNames: {
      bubbled: keyOf({onMouseDown: true}),
      captured: keyOf({onMouseDownCapture: true})
    }
  },
  mouseMove: {
    phasedRegistrationNames: {
      bubbled: keyOf({onMouseMove: true}),
      captured: keyOf({onMouseMoveCapture: true})
    }
  },
  mouseOut: {
    phasedRegistrationNames: {
      bubbled: keyOf({onMouseOut: true}),
      captured: keyOf({onMouseOutCapture: true})
    }
  },
  mouseOver: {
    phasedRegistrationNames: {
      bubbled: keyOf({onMouseOver: true}),
      captured: keyOf({onMouseOverCapture: true})
    }
  },
  mouseUp: {
    phasedRegistrationNames: {
      bubbled: keyOf({onMouseUp: true}),
      captured: keyOf({onMouseUpCapture: true})
    }
  },
  paste: {
    phasedRegistrationNames: {
      bubbled: keyOf({onPaste: true}),
      captured: keyOf({onPasteCapture: true})
    }
  },
  reset: {
    phasedRegistrationNames: {
      bubbled: keyOf({onReset: true}),
      captured: keyOf({onResetCapture: true})
    }
  },
  scroll: {
    phasedRegistrationNames: {
      bubbled: keyOf({onScroll: true}),
      captured: keyOf({onScrollCapture: true})
    }
  },
  submit: {
    phasedRegistrationNames: {
      bubbled: keyOf({onSubmit: true}),
      captured: keyOf({onSubmitCapture: true})
    }
  },
  touchCancel: {
    phasedRegistrationNames: {
      bubbled: keyOf({onTouchCancel: true}),
      captured: keyOf({onTouchCancelCapture: true})
    }
  },
  touchEnd: {
    phasedRegistrationNames: {
      bubbled: keyOf({onTouchEnd: true}),
      captured: keyOf({onTouchEndCapture: true})
    }
  },
  touchMove: {
    phasedRegistrationNames: {
      bubbled: keyOf({onTouchMove: true}),
      captured: keyOf({onTouchMoveCapture: true})
    }
  },
  touchStart: {
    phasedRegistrationNames: {
      bubbled: keyOf({onTouchStart: true}),
      captured: keyOf({onTouchStartCapture: true})
    }
  },
  wheel: {
    phasedRegistrationNames: {
      bubbled: keyOf({onWheel: true}),
      captured: keyOf({onWheelCapture: true})
    }
  }
};

var topLevelEventsToDispatchConfig = {
  topBlur:        eventTypes.blur,
  topClick:       eventTypes.click,
  topContextMenu: eventTypes.contextMenu,
  topCopy:        eventTypes.copy,
  topCut:         eventTypes.cut,
  topDoubleClick: eventTypes.doubleClick,
  topDrag:        eventTypes.drag,
  topDragEnd:     eventTypes.dragEnd,
  topDragEnter:   eventTypes.dragEnter,
  topDragExit:    eventTypes.dragExit,
  topDragLeave:   eventTypes.dragLeave,
  topDragOver:    eventTypes.dragOver,
  topDragStart:   eventTypes.dragStart,
  topDrop:        eventTypes.drop,
  topError:       eventTypes.error,
  topFocus:       eventTypes.focus,
  topInput:       eventTypes.input,
  topKeyDown:     eventTypes.keyDown,
  topKeyPress:    eventTypes.keyPress,
  topKeyUp:       eventTypes.keyUp,
  topLoad:        eventTypes.load,
  topMouseDown:   eventTypes.mouseDown,
  topMouseMove:   eventTypes.mouseMove,
  topMouseOut:    eventTypes.mouseOut,
  topMouseOver:   eventTypes.mouseOver,
  topMouseUp:     eventTypes.mouseUp,
  topPaste:       eventTypes.paste,
  topReset:       eventTypes.reset,
  topScroll:      eventTypes.scroll,
  topSubmit:      eventTypes.submit,
  topTouchCancel: eventTypes.touchCancel,
  topTouchEnd:    eventTypes.touchEnd,
  topTouchMove:   eventTypes.touchMove,
  topTouchStart:  eventTypes.touchStart,
  topWheel:       eventTypes.wheel
};

for (var topLevelType in topLevelEventsToDispatchConfig) {
  topLevelEventsToDispatchConfig[topLevelType].dependencies = [topLevelType];
}

var SimpleEventPlugin = {

  eventTypes: eventTypes,

  /**
   * Same as the default implementation, except cancels the event when return
   * value is false.
   *
   * @param {object} Event to be dispatched.
   * @param {function} Application-level callback.
   * @param {string} domID DOM ID to pass to the callback.
   */
  executeDispatch: function(event, listener, domID) {
    var returnValue = EventPluginUtils.executeDispatch(event, listener, domID);
    if (returnValue === false) {
      event.stopPropagation();
      event.preventDefault();
    }
  },

  /**
   * @param {string} topLevelType Record from `EventConstants`.
   * @param {DOMEventTarget} topLevelTarget The listening component root node.
   * @param {string} topLevelTargetID ID of `topLevelTarget`.
   * @param {object} nativeEvent Native browser event.
   * @return {*} An accumulation of synthetic events.
   * @see {EventPluginHub.extractEvents}
   */
  extractEvents: function(
      topLevelType,
      topLevelTarget,
      topLevelTargetID,
      nativeEvent) {
    var dispatchConfig = topLevelEventsToDispatchConfig[topLevelType];
    if (!dispatchConfig) {
      return null;
    }
    var EventConstructor;
    switch (topLevelType) {
      case topLevelTypes.topInput:
      case topLevelTypes.topLoad:
      case topLevelTypes.topError:
      case topLevelTypes.topReset:
      case topLevelTypes.topSubmit:
        // HTML Events
        // @see http://www.w3.org/TR/html5/index.html#events-0
        EventConstructor = SyntheticEvent;
        break;
      case topLevelTypes.topKeyDown:
      case topLevelTypes.topKeyPress:
      case topLevelTypes.topKeyUp:
        EventConstructor = SyntheticKeyboardEvent;
        break;
      case topLevelTypes.topBlur:
      case topLevelTypes.topFocus:
        EventConstructor = SyntheticFocusEvent;
        break;
      case topLevelTypes.topClick:
        // Firefox creates a click event on right mouse clicks. This removes the
        // unwanted click events.
        if (nativeEvent.button === 2) {
          return null;
        }
        /* falls through */
      case topLevelTypes.topContextMenu:
      case topLevelTypes.topDoubleClick:
      case topLevelTypes.topMouseDown:
      case topLevelTypes.topMouseMove:
      case topLevelTypes.topMouseOut:
      case topLevelTypes.topMouseOver:
      case topLevelTypes.topMouseUp:
        EventConstructor = SyntheticMouseEvent;
        break;
      case topLevelTypes.topDrag:
      case topLevelTypes.topDragEnd:
      case topLevelTypes.topDragEnter:
      case topLevelTypes.topDragExit:
      case topLevelTypes.topDragLeave:
      case topLevelTypes.topDragOver:
      case topLevelTypes.topDragStart:
      case topLevelTypes.topDrop:
        EventConstructor = SyntheticDragEvent;
        break;
      case topLevelTypes.topTouchCancel:
      case topLevelTypes.topTouchEnd:
      case topLevelTypes.topTouchMove:
      case topLevelTypes.topTouchStart:
        EventConstructor = SyntheticTouchEvent;
        break;
      case topLevelTypes.topScroll:
        EventConstructor = SyntheticUIEvent;
        break;
      case topLevelTypes.topWheel:
        EventConstructor = SyntheticWheelEvent;
        break;
      case topLevelTypes.topCopy:
      case topLevelTypes.topCut:
      case topLevelTypes.topPaste:
        EventConstructor = SyntheticClipboardEvent;
        break;
    }
    ("production" !== "development" ? invariant(
      EventConstructor,
      'SimpleEventPlugin: Unhandled event type, `%s`.',
      topLevelType
    ) : invariant(EventConstructor));
    var event = EventConstructor.getPooled(
      dispatchConfig,
      topLevelTargetID,
      nativeEvent
    );
    EventPropagators.accumulateTwoPhaseDispatches(event);
    return event;
  }

};

module.exports = SimpleEventPlugin;

},{"./EventConstants":14,"./EventPluginUtils":18,"./EventPropagators":19,"./SyntheticClipboardEvent":74,"./SyntheticDragEvent":76,"./SyntheticEvent":77,"./SyntheticFocusEvent":78,"./SyntheticKeyboardEvent":79,"./SyntheticMouseEvent":80,"./SyntheticTouchEvent":81,"./SyntheticUIEvent":82,"./SyntheticWheelEvent":83,"./invariant":108,"./keyOf":115}],74:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SyntheticClipboardEvent
 * @typechecks static-only
 */

"use strict";

var SyntheticEvent = require("./SyntheticEvent");

/**
 * @interface Event
 * @see http://www.w3.org/TR/clipboard-apis/
 */
var ClipboardEventInterface = {
  clipboardData: function(event) {
    return (
      'clipboardData' in event ?
        event.clipboardData :
        window.clipboardData
    );
  }
};

/**
 * @param {object} dispatchConfig Configuration used to dispatch this event.
 * @param {string} dispatchMarker Marker identifying the event target.
 * @param {object} nativeEvent Native browser event.
 * @extends {SyntheticUIEvent}
 */
function SyntheticClipboardEvent(dispatchConfig, dispatchMarker, nativeEvent) {
  SyntheticEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent);
}

SyntheticEvent.augmentClass(SyntheticClipboardEvent, ClipboardEventInterface);

module.exports = SyntheticClipboardEvent;


},{"./SyntheticEvent":77}],75:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SyntheticCompositionEvent
 * @typechecks static-only
 */

"use strict";

var SyntheticEvent = require("./SyntheticEvent");

/**
 * @interface Event
 * @see http://www.w3.org/TR/DOM-Level-3-Events/#events-compositionevents
 */
var CompositionEventInterface = {
  data: null
};

/**
 * @param {object} dispatchConfig Configuration used to dispatch this event.
 * @param {string} dispatchMarker Marker identifying the event target.
 * @param {object} nativeEvent Native browser event.
 * @extends {SyntheticUIEvent}
 */
function SyntheticCompositionEvent(
  dispatchConfig,
  dispatchMarker,
  nativeEvent) {
  SyntheticEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent);
}

SyntheticEvent.augmentClass(
  SyntheticCompositionEvent,
  CompositionEventInterface
);

module.exports = SyntheticCompositionEvent;


},{"./SyntheticEvent":77}],76:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SyntheticDragEvent
 * @typechecks static-only
 */

"use strict";

var SyntheticMouseEvent = require("./SyntheticMouseEvent");

/**
 * @interface DragEvent
 * @see http://www.w3.org/TR/DOM-Level-3-Events/
 */
var DragEventInterface = {
  dataTransfer: null
};

/**
 * @param {object} dispatchConfig Configuration used to dispatch this event.
 * @param {string} dispatchMarker Marker identifying the event target.
 * @param {object} nativeEvent Native browser event.
 * @extends {SyntheticUIEvent}
 */
function SyntheticDragEvent(dispatchConfig, dispatchMarker, nativeEvent) {
  SyntheticMouseEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent);
}

SyntheticMouseEvent.augmentClass(SyntheticDragEvent, DragEventInterface);

module.exports = SyntheticDragEvent;

},{"./SyntheticMouseEvent":80}],77:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SyntheticEvent
 * @typechecks static-only
 */

"use strict";

var PooledClass = require("./PooledClass");

var emptyFunction = require("./emptyFunction");
var getEventTarget = require("./getEventTarget");
var merge = require("./merge");
var mergeInto = require("./mergeInto");

/**
 * @interface Event
 * @see http://www.w3.org/TR/DOM-Level-3-Events/
 */
var EventInterface = {
  type: null,
  target: getEventTarget,
  // currentTarget is set when dispatching; no use in copying it here
  currentTarget: emptyFunction.thatReturnsNull,
  eventPhase: null,
  bubbles: null,
  cancelable: null,
  timeStamp: function(event) {
    return event.timeStamp || Date.now();
  },
  defaultPrevented: null,
  isTrusted: null
};

/**
 * Synthetic events are dispatched by event plugins, typically in response to a
 * top-level event delegation handler.
 *
 * These systems should generally use pooling to reduce the frequency of garbage
 * collection. The system should check `isPersistent` to determine whether the
 * event should be released into the pool after being dispatched. Users that
 * need a persisted event should invoke `persist`.
 *
 * Synthetic events (and subclasses) implement the DOM Level 3 Events API by
 * normalizing browser quirks. Subclasses do not necessarily have to implement a
 * DOM interface; custom application-specific events can also subclass this.
 *
 * @param {object} dispatchConfig Configuration used to dispatch this event.
 * @param {string} dispatchMarker Marker identifying the event target.
 * @param {object} nativeEvent Native browser event.
 */
function SyntheticEvent(dispatchConfig, dispatchMarker, nativeEvent) {
  this.dispatchConfig = dispatchConfig;
  this.dispatchMarker = dispatchMarker;
  this.nativeEvent = nativeEvent;

  var Interface = this.constructor.Interface;
  for (var propName in Interface) {
    if (!Interface.hasOwnProperty(propName)) {
      continue;
    }
    var normalize = Interface[propName];
    if (normalize) {
      this[propName] = normalize(nativeEvent);
    } else {
      this[propName] = nativeEvent[propName];
    }
  }

  var defaultPrevented = nativeEvent.defaultPrevented != null ?
    nativeEvent.defaultPrevented :
    nativeEvent.returnValue === false;
  if (defaultPrevented) {
    this.isDefaultPrevented = emptyFunction.thatReturnsTrue;
  } else {
    this.isDefaultPrevented = emptyFunction.thatReturnsFalse;
  }
  this.isPropagationStopped = emptyFunction.thatReturnsFalse;
}

mergeInto(SyntheticEvent.prototype, {

  preventDefault: function() {
    this.defaultPrevented = true;
    var event = this.nativeEvent;
    event.preventDefault ? event.preventDefault() : event.returnValue = false;
    this.isDefaultPrevented = emptyFunction.thatReturnsTrue;
  },

  stopPropagation: function() {
    var event = this.nativeEvent;
    event.stopPropagation ? event.stopPropagation() : event.cancelBubble = true;
    this.isPropagationStopped = emptyFunction.thatReturnsTrue;
  },

  /**
   * We release all dispatched `SyntheticEvent`s after each event loop, adding
   * them back into the pool. This allows a way to hold onto a reference that
   * won't be added back into the pool.
   */
  persist: function() {
    this.isPersistent = emptyFunction.thatReturnsTrue;
  },

  /**
   * Checks if this event should be released back into the pool.
   *
   * @return {boolean} True if this should not be released, false otherwise.
   */
  isPersistent: emptyFunction.thatReturnsFalse,

  /**
   * `PooledClass` looks for `destructor` on each instance it releases.
   */
  destructor: function() {
    var Interface = this.constructor.Interface;
    for (var propName in Interface) {
      this[propName] = null;
    }
    this.dispatchConfig = null;
    this.dispatchMarker = null;
    this.nativeEvent = null;
  }

});

SyntheticEvent.Interface = EventInterface;

/**
 * Helper to reduce boilerplate when creating subclasses.
 *
 * @param {function} Class
 * @param {?object} Interface
 */
SyntheticEvent.augmentClass = function(Class, Interface) {
  var Super = this;

  var prototype = Object.create(Super.prototype);
  mergeInto(prototype, Class.prototype);
  Class.prototype = prototype;
  Class.prototype.constructor = Class;

  Class.Interface = merge(Super.Interface, Interface);
  Class.augmentClass = Super.augmentClass;

  PooledClass.addPoolingTo(Class, PooledClass.threeArgumentPooler);
};

PooledClass.addPoolingTo(SyntheticEvent, PooledClass.threeArgumentPooler);

module.exports = SyntheticEvent;

},{"./PooledClass":23,"./emptyFunction":95,"./getEventTarget":101,"./merge":117,"./mergeInto":119}],78:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SyntheticFocusEvent
 * @typechecks static-only
 */

"use strict";

var SyntheticUIEvent = require("./SyntheticUIEvent");

/**
 * @interface FocusEvent
 * @see http://www.w3.org/TR/DOM-Level-3-Events/
 */
var FocusEventInterface = {
  relatedTarget: null
};

/**
 * @param {object} dispatchConfig Configuration used to dispatch this event.
 * @param {string} dispatchMarker Marker identifying the event target.
 * @param {object} nativeEvent Native browser event.
 * @extends {SyntheticUIEvent}
 */
function SyntheticFocusEvent(dispatchConfig, dispatchMarker, nativeEvent) {
  SyntheticUIEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent);
}

SyntheticUIEvent.augmentClass(SyntheticFocusEvent, FocusEventInterface);

module.exports = SyntheticFocusEvent;

},{"./SyntheticUIEvent":82}],79:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SyntheticKeyboardEvent
 * @typechecks static-only
 */

"use strict";

var SyntheticUIEvent = require("./SyntheticUIEvent");

var getEventKey = require("./getEventKey");

/**
 * @interface KeyboardEvent
 * @see http://www.w3.org/TR/DOM-Level-3-Events/
 */
var KeyboardEventInterface = {
  key: getEventKey,
  location: null,
  ctrlKey: null,
  shiftKey: null,
  altKey: null,
  metaKey: null,
  repeat: null,
  locale: null,
  // Legacy Interface
  'char': null,
  charCode: null,
  keyCode: null,
  which: null
};

/**
 * @param {object} dispatchConfig Configuration used to dispatch this event.
 * @param {string} dispatchMarker Marker identifying the event target.
 * @param {object} nativeEvent Native browser event.
 * @extends {SyntheticUIEvent}
 */
function SyntheticKeyboardEvent(dispatchConfig, dispatchMarker, nativeEvent) {
  SyntheticUIEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent);
}

SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent, KeyboardEventInterface);

module.exports = SyntheticKeyboardEvent;

},{"./SyntheticUIEvent":82,"./getEventKey":100}],80:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SyntheticMouseEvent
 * @typechecks static-only
 */

"use strict";

var SyntheticUIEvent = require("./SyntheticUIEvent");
var ViewportMetrics = require("./ViewportMetrics");

/**
 * @interface MouseEvent
 * @see http://www.w3.org/TR/DOM-Level-3-Events/
 */
var MouseEventInterface = {
  screenX: null,
  screenY: null,
  clientX: null,
  clientY: null,
  ctrlKey: null,
  shiftKey: null,
  altKey: null,
  metaKey: null,
  button: function(event) {
    // Webkit, Firefox, IE9+
    // which:  1 2 3
    // button: 0 1 2 (standard)
    var button = event.button;
    if ('which' in event) {
      return button;
    }
    // IE<9
    // which:  undefined
    // button: 0 0 0
    // button: 1 4 2 (onmouseup)
    return button === 2 ? 2 : button === 4 ? 1 : 0;
  },
  buttons: null,
  relatedTarget: function(event) {
    return event.relatedTarget || (
      event.fromElement === event.srcElement ?
        event.toElement :
        event.fromElement
    );
  },
  // "Proprietary" Interface.
  pageX: function(event) {
    return 'pageX' in event ?
      event.pageX :
      event.clientX + ViewportMetrics.currentScrollLeft;
  },
  pageY: function(event) {
    return 'pageY' in event ?
      event.pageY :
      event.clientY + ViewportMetrics.currentScrollTop;
  }
};

/**
 * @param {object} dispatchConfig Configuration used to dispatch this event.
 * @param {string} dispatchMarker Marker identifying the event target.
 * @param {object} nativeEvent Native browser event.
 * @extends {SyntheticUIEvent}
 */
function SyntheticMouseEvent(dispatchConfig, dispatchMarker, nativeEvent) {
  SyntheticUIEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent);
}

SyntheticUIEvent.augmentClass(SyntheticMouseEvent, MouseEventInterface);

module.exports = SyntheticMouseEvent;

},{"./SyntheticUIEvent":82,"./ViewportMetrics":85}],81:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SyntheticTouchEvent
 * @typechecks static-only
 */

"use strict";

var SyntheticUIEvent = require("./SyntheticUIEvent");

/**
 * @interface TouchEvent
 * @see http://www.w3.org/TR/touch-events/
 */
var TouchEventInterface = {
  touches: null,
  targetTouches: null,
  changedTouches: null,
  altKey: null,
  metaKey: null,
  ctrlKey: null,
  shiftKey: null
};

/**
 * @param {object} dispatchConfig Configuration used to dispatch this event.
 * @param {string} dispatchMarker Marker identifying the event target.
 * @param {object} nativeEvent Native browser event.
 * @extends {SyntheticUIEvent}
 */
function SyntheticTouchEvent(dispatchConfig, dispatchMarker, nativeEvent) {
  SyntheticUIEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent);
}

SyntheticUIEvent.augmentClass(SyntheticTouchEvent, TouchEventInterface);

module.exports = SyntheticTouchEvent;

},{"./SyntheticUIEvent":82}],82:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SyntheticUIEvent
 * @typechecks static-only
 */

"use strict";

var SyntheticEvent = require("./SyntheticEvent");

/**
 * @interface UIEvent
 * @see http://www.w3.org/TR/DOM-Level-3-Events/
 */
var UIEventInterface = {
  view: null,
  detail: null
};

/**
 * @param {object} dispatchConfig Configuration used to dispatch this event.
 * @param {string} dispatchMarker Marker identifying the event target.
 * @param {object} nativeEvent Native browser event.
 * @extends {SyntheticEvent}
 */
function SyntheticUIEvent(dispatchConfig, dispatchMarker, nativeEvent) {
  SyntheticEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent);
}

SyntheticEvent.augmentClass(SyntheticUIEvent, UIEventInterface);

module.exports = SyntheticUIEvent;

},{"./SyntheticEvent":77}],83:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule SyntheticWheelEvent
 * @typechecks static-only
 */

"use strict";

var SyntheticMouseEvent = require("./SyntheticMouseEvent");

/**
 * @interface WheelEvent
 * @see http://www.w3.org/TR/DOM-Level-3-Events/
 */
var WheelEventInterface = {
  deltaX: function(event) {
    return (
      'deltaX' in event ? event.deltaX :
      // Fallback to `wheelDeltaX` for Webkit and normalize (right is positive).
      'wheelDeltaX' in event ? -event.wheelDeltaX : 0
    );
  },
  deltaY: function(event) {
    return (
      'deltaY' in event ? event.deltaY :
      // Fallback to `wheelDeltaY` for Webkit and normalize (down is positive).
      'wheelDeltaY' in event ? -event.wheelDeltaY :
      // Fallback to `wheelDelta` for IE<9 and normalize (down is positive).
      'wheelDelta' in event ? -event.wheelDelta : 0
    );
  },
  deltaZ: null,

  // Browsers without "deltaMode" is reporting in raw wheel delta where one
  // notch on the scroll is always +/- 120, roughly equivalent to pixels.
  // A good approximation of DOM_DELTA_LINE (1) is 5% of viewport size or
  // ~40 pixels, for DOM_DELTA_SCREEN (2) it is 87.5% of viewport size.
  deltaMode: null
};

/**
 * @param {object} dispatchConfig Configuration used to dispatch this event.
 * @param {string} dispatchMarker Marker identifying the event target.
 * @param {object} nativeEvent Native browser event.
 * @extends {SyntheticMouseEvent}
 */
function SyntheticWheelEvent(dispatchConfig, dispatchMarker, nativeEvent) {
  SyntheticMouseEvent.call(this, dispatchConfig, dispatchMarker, nativeEvent);
}

SyntheticMouseEvent.augmentClass(SyntheticWheelEvent, WheelEventInterface);

module.exports = SyntheticWheelEvent;

},{"./SyntheticMouseEvent":80}],84:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule Transaction
 */

"use strict";

var invariant = require("./invariant");

/**
 * `Transaction` creates a black box that is able to wrap any method such that
 * certain invariants are maintained before and after the method is invoked
 * (Even if an exception is thrown while invoking the wrapped method). Whoever
 * instantiates a transaction can provide enforcers of the invariants at
 * creation time. The `Transaction` class itself will supply one additional
 * automatic invariant for you - the invariant that any transaction instance
 * should not be run while it is already being run. You would typically create a
 * single instance of a `Transaction` for reuse multiple times, that potentially
 * is used to wrap several different methods. Wrappers are extremely simple -
 * they only require implementing two methods.
 *
 * <pre>
 *                       wrappers (injected at creation time)
 *                                      +        +
 *                                      |        |
 *                    +-----------------|--------|--------------+
 *                    |                 v        |              |
 *                    |      +---------------+   |              |
 *                    |   +--|    wrapper1   |---|----+         |
 *                    |   |  +---------------+   v    |         |
 *                    |   |          +-------------+  |         |
 *                    |   |     +----|   wrapper2  |--------+   |
 *                    |   |     |    +-------------+  |     |   |
 *                    |   |     |                     |     |   |
 *                    |   v     v                     v     v   | wrapper
 *                    | +---+ +---+   +---------+   +---+ +---+ | invariants
 * perform(anyMethod) | |   | |   |   |         |   |   | |   | | maintained
 * +----------------->|-|---|-|---|-->|anyMethod|---|---|-|---|-|-------->
 *                    | |   | |   |   |         |   |   | |   | |
 *                    | |   | |   |   |         |   |   | |   | |
 *                    | |   | |   |   |         |   |   | |   | |
 *                    | +---+ +---+   +---------+   +---+ +---+ |
 *                    |  initialize                    close    |
 *                    +-----------------------------------------+
 * </pre>
 *
 * Bonus:
 * - Reports timing metrics by method name and wrapper index.
 *
 * Use cases:
 * - Preserving the input selection ranges before/after reconciliation.
 *   Restoring selection even in the event of an unexpected error.
 * - Deactivating events while rearranging the DOM, preventing blurs/focuses,
 *   while guaranteeing that afterwards, the event system is reactivated.
 * - Flushing a queue of collected DOM mutations to the main UI thread after a
 *   reconciliation takes place in a worker thread.
 * - Invoking any collected `componentDidUpdate` callbacks after rendering new
 *   content.
 * - (Future use case): Wrapping particular flushes of the `ReactWorker` queue
 *   to preserve the `scrollTop` (an automatic scroll aware DOM).
 * - (Future use case): Layout calculations before and after DOM upates.
 *
 * Transactional plugin API:
 * - A module that has an `initialize` method that returns any precomputation.
 * - and a `close` method that accepts the precomputation. `close` is invoked
 *   when the wrapped process is completed, or has failed.
 *
 * @param {Array<TransactionalWrapper>} transactionWrapper Wrapper modules
 * that implement `initialize` and `close`.
 * @return {Transaction} Single transaction for reuse in thread.
 *
 * @class Transaction
 */
var Mixin = {
  /**
   * Sets up this instance so that it is prepared for collecting metrics. Does
   * so such that this setup method may be used on an instance that is already
   * initialized, in a way that does not consume additional memory upon reuse.
   * That can be useful if you decide to make your subclass of this mixin a
   * "PooledClass".
   */
  reinitializeTransaction: function() {
    this.transactionWrappers = this.getTransactionWrappers();
    if (!this.wrapperInitData) {
      this.wrapperInitData = [];
    } else {
      this.wrapperInitData.length = 0;
    }
    if (!this.timingMetrics) {
      this.timingMetrics = {};
    }
    this.timingMetrics.methodInvocationTime = 0;
    if (!this.timingMetrics.wrapperInitTimes) {
      this.timingMetrics.wrapperInitTimes = [];
    } else {
      this.timingMetrics.wrapperInitTimes.length = 0;
    }
    if (!this.timingMetrics.wrapperCloseTimes) {
      this.timingMetrics.wrapperCloseTimes = [];
    } else {
      this.timingMetrics.wrapperCloseTimes.length = 0;
    }
    this._isInTransaction = false;
  },

  _isInTransaction: false,

  /**
   * @abstract
   * @return {Array<TransactionWrapper>} Array of transaction wrappers.
   */
  getTransactionWrappers: null,

  isInTransaction: function() {
    return !!this._isInTransaction;
  },

  /**
   * Executes the function within a safety window. Use this for the top level
   * methods that result in large amounts of computation/mutations that would
   * need to be safety checked.
   *
   * @param {function} method Member of scope to call.
   * @param {Object} scope Scope to invoke from.
   * @param {Object?=} args... Arguments to pass to the method (optional).
   *                           Helps prevent need to bind in many cases.
   * @return Return value from `method`.
   */
  perform: function(method, scope, a, b, c, d, e, f) {
    ("production" !== "development" ? invariant(
      !this.isInTransaction(),
      'Transaction.perform(...): Cannot initialize a transaction when there ' +
      'is already an outstanding transaction.'
    ) : invariant(!this.isInTransaction()));
    var memberStart = Date.now();
    var errorThrown;
    var ret;
    try {
      this._isInTransaction = true;
      // Catching errors makes debugging more difficult, so we start with
      // errorThrown set to true before setting it to false after calling
      // close -- if it's still set to true in the finally block, it means
      // one of these calls threw.
      errorThrown = true;
      this.initializeAll(0);
      ret = method.call(scope, a, b, c, d, e, f);
      errorThrown = false;
    } finally {
      var memberEnd = Date.now();
      this.methodInvocationTime += (memberEnd - memberStart);
      try {
        if (errorThrown) {
          // If `method` throws, prefer to show that stack trace over any thrown
          // by invoking `closeAll`.
          try {
            this.closeAll(0);
          } catch (err) {
          }
        } else {
          // Since `method` didn't throw, we don't want to silence the exception
          // here.
          this.closeAll(0);
        }
      } finally {
        this._isInTransaction = false;
      }
    }
    return ret;
  },

  initializeAll: function(startIndex) {
    var transactionWrappers = this.transactionWrappers;
    var wrapperInitTimes = this.timingMetrics.wrapperInitTimes;
    for (var i = startIndex; i < transactionWrappers.length; i++) {
      var initStart = Date.now();
      var wrapper = transactionWrappers[i];
      try {
        // Catching errors makes debugging more difficult, so we start with the
        // OBSERVED_ERROR state before overwriting it with the real return value
        // of initialize -- if it's still set to OBSERVED_ERROR in the finally
        // block, it means wrapper.initialize threw.
        this.wrapperInitData[i] = Transaction.OBSERVED_ERROR;
        this.wrapperInitData[i] = wrapper.initialize ?
          wrapper.initialize.call(this) :
          null;
      } finally {
        var curInitTime = wrapperInitTimes[i];
        var initEnd = Date.now();
        wrapperInitTimes[i] = (curInitTime || 0) + (initEnd - initStart);

        if (this.wrapperInitData[i] === Transaction.OBSERVED_ERROR) {
          // The initializer for wrapper i threw an error; initialize the
          // remaining wrappers but silence any exceptions from them to ensure
          // that the first error is the one to bubble up.
          try {
            this.initializeAll(i + 1);
          } catch (err) {
          }
        }
      }
    }
  },

  /**
   * Invokes each of `this.transactionWrappers.close[i]` functions, passing into
   * them the respective return values of `this.transactionWrappers.init[i]`
   * (`close`rs that correspond to initializers that failed will not be
   * invoked).
   */
  closeAll: function(startIndex) {
    ("production" !== "development" ? invariant(
      this.isInTransaction(),
      'Transaction.closeAll(): Cannot close transaction when none are open.'
    ) : invariant(this.isInTransaction()));
    var transactionWrappers = this.transactionWrappers;
    var wrapperCloseTimes = this.timingMetrics.wrapperCloseTimes;
    for (var i = startIndex; i < transactionWrappers.length; i++) {
      var wrapper = transactionWrappers[i];
      var closeStart = Date.now();
      var initData = this.wrapperInitData[i];
      var errorThrown;
      try {
        // Catching errors makes debugging more difficult, so we start with
        // errorThrown set to true before setting it to false after calling
        // close -- if it's still set to true in the finally block, it means
        // wrapper.close threw.
        errorThrown = true;
        if (initData !== Transaction.OBSERVED_ERROR) {
          wrapper.close && wrapper.close.call(this, initData);
        }
        errorThrown = false;
      } finally {
        var closeEnd = Date.now();
        var curCloseTime = wrapperCloseTimes[i];
        wrapperCloseTimes[i] = (curCloseTime || 0) + (closeEnd - closeStart);

        if (errorThrown) {
          // The closer for wrapper i threw an error; close the remaining
          // wrappers but silence any exceptions from them to ensure that the
          // first error is the one to bubble up.
          try {
            this.closeAll(i + 1);
          } catch (e) {
          }
        }
      }
    }
    this.wrapperInitData.length = 0;
  }
};

var Transaction = {

  Mixin: Mixin,

  /**
   * Token to look for to determine if an error occured.
   */
  OBSERVED_ERROR: {}

};

module.exports = Transaction;

},{"./invariant":108}],85:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule ViewportMetrics
 */

"use strict";

var getUnboundedScrollPosition = require("./getUnboundedScrollPosition");

var ViewportMetrics = {

  currentScrollLeft: 0,

  currentScrollTop: 0,

  refreshScrollValues: function() {
    var scrollPosition = getUnboundedScrollPosition(window);
    ViewportMetrics.currentScrollLeft = scrollPosition.x;
    ViewportMetrics.currentScrollTop = scrollPosition.y;
  }

};

module.exports = ViewportMetrics;

},{"./getUnboundedScrollPosition":106}],86:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule accumulate
 */

"use strict";

var invariant = require("./invariant");

/**
 * Accumulates items that must not be null or undefined.
 *
 * This is used to conserve memory by avoiding array allocations.
 *
 * @return {*|array<*>} An accumulation of items.
 */
function accumulate(current, next) {
  ("production" !== "development" ? invariant(
    next != null,
    'accumulate(...): Accumulated items must be not be null or undefined.'
  ) : invariant(next != null));
  if (current == null) {
    return next;
  } else {
    // Both are not empty. Warning: Never call x.concat(y) when you are not
    // certain that x is an Array (x could be a string with concat method).
    var currentIsArray = Array.isArray(current);
    var nextIsArray = Array.isArray(next);
    if (currentIsArray) {
      return current.concat(next);
    } else {
      if (nextIsArray) {
        return [current].concat(next);
      } else {
        return [current, next];
      }
    }
  }
}

module.exports = accumulate;

},{"./invariant":108}],87:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule adler32
 */

/* jslint bitwise:true */

"use strict";

var MOD = 65521;

// This is a clean-room implementation of adler32 designed for detecting
// if markup is not what we expect it to be. It does not need to be
// cryptographically strong, only reasonable good at detecting if markup
// generated on the server is different than that on the client.
function adler32(data) {
  var a = 1;
  var b = 0;
  for (var i = 0; i < data.length; i++) {
    a = (a + data.charCodeAt(i)) % MOD;
    b = (b + a) % MOD;
  }
  return a | (b << 16);
}

module.exports = adler32;

},{}],88:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule containsNode
 * @typechecks
 */

var isTextNode = require("./isTextNode");

/*jslint bitwise:true */

/**
 * Checks if a given DOM node contains or is another DOM node.
 *
 * @param {?DOMNode} outerNode Outer DOM node.
 * @param {?DOMNode} innerNode Inner DOM node.
 * @return {boolean} True if `outerNode` contains or is `innerNode`.
 */
function containsNode(outerNode, innerNode) {
  if (!outerNode || !innerNode) {
    return false;
  } else if (outerNode === innerNode) {
    return true;
  } else if (isTextNode(outerNode)) {
    return false;
  } else if (isTextNode(innerNode)) {
    return containsNode(outerNode, innerNode.parentNode);
  } else if (outerNode.contains) {
    return outerNode.contains(innerNode);
  } else if (outerNode.compareDocumentPosition) {
    return !!(outerNode.compareDocumentPosition(innerNode) & 16);
  } else {
    return false;
  }
}

module.exports = containsNode;

},{"./isTextNode":112}],89:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule copyProperties
 */

/**
 * Copy properties from one or more objects (up to 5) into the first object.
 * This is a shallow copy. It mutates the first object and also returns it.
 *
 * NOTE: `arguments` has a very significant performance penalty, which is why
 * we don't support unlimited arguments.
 */
function copyProperties(obj, a, b, c, d, e, f) {
  obj = obj || {};

  if ("production" !== "development") {
    if (f) {
      throw new Error('Too many arguments passed to copyProperties');
    }
  }

  var args = [a, b, c, d, e];
  var ii = 0, v;
  while (args[ii]) {
    v = args[ii++];
    for (var k in v) {
      obj[k] = v[k];
    }

    // IE ignores toString in object iteration.. See:
    // webreflection.blogspot.com/2007/07/quick-fix-internet-explorer-and.html
    if (v.hasOwnProperty && v.hasOwnProperty('toString') &&
        (typeof v.toString != 'undefined') && (obj.toString !== v.toString)) {
      obj.toString = v.toString;
    }
  }

  return obj;
}

module.exports = copyProperties;

},{}],90:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule createArrayFrom
 * @typechecks
 */

var toArray = require("./toArray");

/**
 * Perform a heuristic test to determine if an object is "array-like".
 *
 *   A monk asked Joshu, a Zen master, "Has a dog Buddha nature?"
 *   Joshu replied: "Mu."
 *
 * This function determines if its argument has "array nature": it returns
 * true if the argument is an actual array, an `arguments' object, or an
 * HTMLCollection (e.g. node.childNodes or node.getElementsByTagName()).
 *
 * It will return false for other array-like objects like Filelist.
 *
 * @param {*} obj
 * @return {boolean}
 */
function hasArrayNature(obj) {
  return (
    // not null/false
    !!obj &&
    // arrays are objects, NodeLists are functions in Safari
    (typeof obj == 'object' || typeof obj == 'function') &&
    // quacks like an array
    ('length' in obj) &&
    // not window
    !('setInterval' in obj) &&
    // no DOM node should be considered an array-like
    // a 'select' element has 'length' and 'item' properties on IE8
    (typeof obj.nodeType != 'number') &&
    (
      // a real array
      (// HTMLCollection/NodeList
      (Array.isArray(obj) ||
      // arguments
      ('callee' in obj) || 'item' in obj))
    )
  );
}

/**
 * Ensure that the argument is an array by wrapping it in an array if it is not.
 * Creates a copy of the argument if it is already an array.
 *
 * This is mostly useful idiomatically:
 *
 *   var createArrayFrom = require('createArrayFrom');
 *
 *   function takesOneOrMoreThings(things) {
 *     things = createArrayFrom(things);
 *     ...
 *   }
 *
 * This allows you to treat `things' as an array, but accept scalars in the API.
 *
 * If you need to convert an array-like object, like `arguments`, into an array
 * use toArray instead.
 *
 * @param {*} obj
 * @return {array}
 */
function createArrayFrom(obj) {
  if (!hasArrayNature(obj)) {
    return [obj];
  } else if (Array.isArray(obj)) {
    return obj.slice();
  } else {
    return toArray(obj);
  }
}

module.exports = createArrayFrom;

},{"./toArray":127}],91:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule createFullPageComponent
 * @typechecks
 */

"use strict";

// Defeat circular references by requiring this directly.
var ReactCompositeComponent = require("./ReactCompositeComponent");

var invariant = require("./invariant");

/**
 * Create a component that will throw an exception when unmounted.
 *
 * Components like <html> <head> and <body> can't be removed or added
 * easily in a cross-browser way, however it's valuable to be able to
 * take advantage of React's reconciliation for styling and <title>
 * management. So we just document it and throw in dangerous cases.
 *
 * @param {function} componentClass convenience constructor to wrap
 * @return {function} convenience constructor of new component
 */
function createFullPageComponent(componentClass) {
  var FullPageComponent = ReactCompositeComponent.createClass({
    displayName: 'ReactFullPageComponent' + (
      componentClass.componentConstructor.displayName || ''
    ),

    componentWillUnmount: function() {
      ("production" !== "development" ? invariant(
        false,
        '%s tried to unmount. Because of cross-browser quirks it is ' +
        'impossible to unmount some top-level components (eg <html>, <head>, ' +
        'and <body>) reliably and efficiently. To fix this, have a single ' +
        'top-level component that never unmounts render these elements.',
        this.constructor.displayName
      ) : invariant(false));
    },

    render: function() {
      return this.transferPropsTo(componentClass(null, this.props.children));
    }
  });

  return FullPageComponent;
}

module.exports = createFullPageComponent;

},{"./ReactCompositeComponent":29,"./invariant":108}],92:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule createNodesFromMarkup
 * @typechecks
 */

/*jslint evil: true, sub: true */

var ExecutionEnvironment = require("./ExecutionEnvironment");

var createArrayFrom = require("./createArrayFrom");
var getMarkupWrap = require("./getMarkupWrap");
var invariant = require("./invariant");

/**
 * Dummy container used to render all markup.
 */
var dummyNode =
  ExecutionEnvironment.canUseDOM ? document.createElement('div') : null;

/**
 * Pattern used by `getNodeName`.
 */
var nodeNamePattern = /^\s*<(\w+)/;

/**
 * Extracts the `nodeName` of the first element in a string of markup.
 *
 * @param {string} markup String of markup.
 * @return {?string} Node name of the supplied markup.
 */
function getNodeName(markup) {
  var nodeNameMatch = markup.match(nodeNamePattern);
  return nodeNameMatch && nodeNameMatch[1].toLowerCase();
}

/**
 * Creates an array containing the nodes rendered from the supplied markup. The
 * optionally supplied `handleScript` function will be invoked once for each
 * <script> element that is rendered. If no `handleScript` function is supplied,
 * an exception is thrown if any <script> elements are rendered.
 *
 * @param {string} markup A string of valid HTML markup.
 * @param {?function} handleScript Invoked once for each rendered <script>.
 * @return {array<DOMElement|DOMTextNode>} An array of rendered nodes.
 */
function createNodesFromMarkup(markup, handleScript) {
  var node = dummyNode;
  ("production" !== "development" ? invariant(!!dummyNode, 'createNodesFromMarkup dummy not initialized') : invariant(!!dummyNode));
  var nodeName = getNodeName(markup);

  var wrap = nodeName && getMarkupWrap(nodeName);
  if (wrap) {
    node.innerHTML = wrap[1] + markup + wrap[2];

    var wrapDepth = wrap[0];
    while (wrapDepth--) {
      node = node.lastChild;
    }
  } else {
    node.innerHTML = markup;
  }

  var scripts = node.getElementsByTagName('script');
  if (scripts.length) {
    ("production" !== "development" ? invariant(
      handleScript,
      'createNodesFromMarkup(...): Unexpected <script> element rendered.'
    ) : invariant(handleScript));
    createArrayFrom(scripts).forEach(handleScript);
  }

  var nodes = createArrayFrom(node.childNodes);
  while (node.lastChild) {
    node.removeChild(node.lastChild);
  }
  return nodes;
}

module.exports = createNodesFromMarkup;

},{"./ExecutionEnvironment":20,"./createArrayFrom":90,"./getMarkupWrap":102,"./invariant":108}],93:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule createObjectFrom
 */

/**
 * Construct an object from an array of keys
 * and optionally specified value or list of values.
 *
 *  >>> createObjectFrom(['a','b','c']);
 *  {a: true, b: true, c: true}
 *
 *  >>> createObjectFrom(['a','b','c'], false);
 *  {a: false, b: false, c: false}
 *
 *  >>> createObjectFrom(['a','b','c'], 'monkey');
 *  {c:'monkey', b:'monkey' c:'monkey'}
 *
 *  >>> createObjectFrom(['a','b','c'], [1,2,3]);
 *  {a: 1, b: 2, c: 3}
 *
 *  >>> createObjectFrom(['women', 'men'], [true, false]);
 *  {women: true, men: false}
 *
 * @param   Array   list of keys
 * @param   mixed   optional value or value array.  defaults true.
 * @returns object
 */
function createObjectFrom(keys, values /* = true */) {
  if ("production" !== "development") {
    if (!Array.isArray(keys)) {
      throw new TypeError('Must pass an array of keys.');
    }
  }

  var object = {};
  var isArray = Array.isArray(values);
  if (typeof values == 'undefined') {
    values = true;
  }

  for (var ii = keys.length; ii--;) {
    object[keys[ii]] = isArray ? values[ii] : values;
  }
  return object;
}

module.exports = createObjectFrom;

},{}],94:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule dangerousStyleValue
 * @typechecks static-only
 */

"use strict";

var CSSProperty = require("./CSSProperty");

/**
 * Convert a value into the proper css writable value. The `styleName` name
 * name should be logical (no hyphens), as specified
 * in `CSSProperty.isUnitlessNumber`.
 *
 * @param {string} styleName CSS property name such as `topMargin`.
 * @param {*} value CSS property value such as `10px`.
 * @return {string} Normalized style value with dimensions applied.
 */
function dangerousStyleValue(styleName, value) {
  // Note that we've removed escapeTextForBrowser() calls here since the
  // whole string will be escaped when the attribute is injected into
  // the markup. If you provide unsafe user data here they can inject
  // arbitrary CSS which may be problematic (I couldn't repro this):
  // https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet
  // http://www.thespanner.co.uk/2007/11/26/ultimate-xss-css-injection/
  // This is not an XSS hole but instead a potential CSS injection issue
  // which has lead to a greater discussion about how we're going to
  // trust URLs moving forward. See #2115901

  var isEmpty = value == null || typeof value === 'boolean' || value === '';
  if (isEmpty) {
    return '';
  }

  var isNonNumeric = isNaN(value);
  if (isNonNumeric || value === 0 || CSSProperty.isUnitlessNumber[styleName]) {
    return '' + value; // cast to string
  }

  return value + 'px';
}

module.exports = dangerousStyleValue;

},{"./CSSProperty":2}],95:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule emptyFunction
 */

var copyProperties = require("./copyProperties");

function makeEmptyFunction(arg) {
  return function() {
    return arg;
  };
}

/**
 * This function accepts and discards inputs; it has no side effects. This is
 * primarily useful idiomatically for overridable function endpoints which
 * always need to be callable, since JS lacks a null-call idiom ala Cocoa.
 */
function emptyFunction() {}

copyProperties(emptyFunction, {
  thatReturns: makeEmptyFunction,
  thatReturnsFalse: makeEmptyFunction(false),
  thatReturnsTrue: makeEmptyFunction(true),
  thatReturnsNull: makeEmptyFunction(null),
  thatReturnsThis: function() { return this; },
  thatReturnsArgument: function(arg) { return arg; }
});

module.exports = emptyFunction;

},{"./copyProperties":89}],96:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule escapeTextForBrowser
 * @typechecks static-only
 */

"use strict";

var ESCAPE_LOOKUP = {
  "&": "&amp;",
  ">": "&gt;",
  "<": "&lt;",
  "\"": "&quot;",
  "'": "&#x27;",
  "/": "&#x2f;"
};

var ESCAPE_REGEX = /[&><"'\/]/g;

function escaper(match) {
  return ESCAPE_LOOKUP[match];
}

/**
 * Escapes text to prevent scripting attacks.
 *
 * @param {*} text Text value to escape.
 * @return {string} An escaped string.
 */
function escapeTextForBrowser(text) {
  return ('' + text).replace(ESCAPE_REGEX, escaper);
}

module.exports = escapeTextForBrowser;

},{}],97:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule flattenChildren
 */

"use strict";

var invariant = require("./invariant");
var traverseAllChildren = require("./traverseAllChildren");

/**
 * @param {function} traverseContext Context passed through traversal.
 * @param {?ReactComponent} child React child component.
 * @param {!string} name String name of key path to child.
 */
function flattenSingleChildIntoContext(traverseContext, child, name) {
  // We found a component instance.
  var result = traverseContext;
  ("production" !== "development" ? invariant(
    !result.hasOwnProperty(name),
    'flattenChildren(...): Encountered two children with the same key, `%s`. ' +
    'Children keys must be unique.',
    name
  ) : invariant(!result.hasOwnProperty(name)));
  if (child != null) {
    result[name] = child;
  }
}

/**
 * Flattens children that are typically specified as `props.children`. Any null
 * children will not be included in the resulting object.
 * @return {!object} flattened children keyed by name.
 */
function flattenChildren(children) {
  if (children == null) {
    return children;
  }
  var result = {};
  traverseAllChildren(children, flattenSingleChildIntoContext, result);
  return result;
}

module.exports = flattenChildren;

},{"./invariant":108,"./traverseAllChildren":128}],98:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule forEachAccumulated
 */

"use strict";

/**
 * @param {array} an "accumulation" of items which is either an Array or
 * a single item. Useful when paired with the `accumulate` module. This is a
 * simple utility that allows us to reason about a collection of items, but
 * handling the case when there is exactly one item (and we do not need to
 * allocate an array).
 */
var forEachAccumulated = function(arr, cb, scope) {
  if (Array.isArray(arr)) {
    arr.forEach(cb, scope);
  } else if (arr) {
    cb.call(scope, arr);
  }
};

module.exports = forEachAccumulated;

},{}],99:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule getActiveElement
 * @typechecks
 */

/**
 * Same as document.activeElement but wraps in a try-catch block. In IE it is
 * not safe to call document.activeElement if there is nothing focused.
 *
 * The activeElement will be null only if the document body is not yet defined.
 */
function getActiveElement() /*?DOMElement*/ {
  try {
    return document.activeElement || document.body;
  } catch (e) {
    return document.body;
  }
}

module.exports = getActiveElement;

},{}],100:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule getEventKey
 * @typechecks static-only
 */

"use strict";

/**
 * Normalization of deprecated HTML5 "key" values
 * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names
 */
var normalizeKey = {
  'Esc': 'Escape',
  'Spacebar': ' ',
  'Left': 'ArrowLeft',
  'Up': 'ArrowUp',
  'Right': 'ArrowRight',
  'Down': 'ArrowDown',
  'Del': 'Delete',
  'Win': 'OS',
  'Menu': 'ContextMenu',
  'Apps': 'ContextMenu',
  'Scroll': 'ScrollLock',
  'MozPrintableKey': 'Unidentified'
};

/**
 * Translation from legacy "which/keyCode" to HTML5 "key"
 * Only special keys supported, all others depend on keyboard layout or browser
 * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names
 */
var translateToKey = {
  8: 'Backspace',
  9: 'Tab',
  12: 'Clear',
  13: 'Enter',
  16: 'Shift',
  17: 'Control',
  18: 'Alt',
  19: 'Pause',
  20: 'CapsLock',
  27: 'Escape',
  32: ' ',
  33: 'PageUp',
  34: 'PageDown',
  35: 'End',
  36: 'Home',
  37: 'ArrowLeft',
  38: 'ArrowUp',
  39: 'ArrowRight',
  40: 'ArrowDown',
  45: 'Insert',
  46: 'Delete',
  112: 'F1', 113: 'F2', 114: 'F3', 115: 'F4', 116: 'F5', 117: 'F6',
  118: 'F7', 119: 'F8', 120: 'F9', 121: 'F10', 122: 'F11', 123: 'F12',
  144: 'NumLock',
  145: 'ScrollLock',
  224: 'Meta'
};

/**
 * @param {object} nativeEvent Native browser event.
 * @return {string} Normalized `key` property.
 */
function getEventKey(nativeEvent) {
  return 'key' in nativeEvent ?
    normalizeKey[nativeEvent.key] || nativeEvent.key :
    translateToKey[nativeEvent.which || nativeEvent.keyCode] || 'Unidentified';
}

module.exports = getEventKey;

},{}],101:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule getEventTarget
 * @typechecks static-only
 */

"use strict";

/**
 * Gets the target node from a native browser event by accounting for
 * inconsistencies in browser DOM APIs.
 *
 * @param {object} nativeEvent Native browser event.
 * @return {DOMEventTarget} Target node.
 */
function getEventTarget(nativeEvent) {
  var target = nativeEvent.target || nativeEvent.srcElement || window;
  // Safari may fire events on text nodes (Node.TEXT_NODE is 3).
  // @see http://www.quirksmode.org/js/events_properties.html
  return target.nodeType === 3 ? target.parentNode : target;
}

module.exports = getEventTarget;

},{}],102:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule getMarkupWrap
 */

var ExecutionEnvironment = require("./ExecutionEnvironment");

var invariant = require("./invariant");

/**
 * Dummy container used to detect which wraps are necessary.
 */
var dummyNode =
  ExecutionEnvironment.canUseDOM ? document.createElement('div') : null;

/**
 * Some browsers cannot use `innerHTML` to render certain elements standalone,
 * so we wrap them, render the wrapped nodes, then extract the desired node.
 *
 * In IE8, certain elements cannot render alone, so wrap all elements ('*').
 */
var shouldWrap = {
  // Force wrapping for SVG elements because if they get created inside a <div>,
  // they will be initialized in the wrong namespace (and will not display).
  'circle': true,
  'defs': true,
  'g': true,
  'line': true,
  'linearGradient': true,
  'path': true,
  'polygon': true,
  'polyline': true,
  'radialGradient': true,
  'rect': true,
  'stop': true,
  'text': true
};

var selectWrap = [1, '<select multiple="true">', '</select>'];
var tableWrap = [1, '<table>', '</table>'];
var trWrap = [3, '<table><tbody><tr>', '</tr></tbody></table>'];

var svgWrap = [1, '<svg>', '</svg>'];

var markupWrap = {
  '*': [1, '?<div>', '</div>'],

  'area': [1, '<map>', '</map>'],
  'col': [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],
  'legend': [1, '<fieldset>', '</fieldset>'],
  'param': [1, '<object>', '</object>'],
  'tr': [2, '<table><tbody>', '</tbody></table>'],

  'optgroup': selectWrap,
  'option': selectWrap,

  'caption': tableWrap,
  'colgroup': tableWrap,
  'tbody': tableWrap,
  'tfoot': tableWrap,
  'thead': tableWrap,

  'td': trWrap,
  'th': trWrap,

  'circle': svgWrap,
  'defs': svgWrap,
  'g': svgWrap,
  'line': svgWrap,
  'linearGradient': svgWrap,
  'path': svgWrap,
  'polygon': svgWrap,
  'polyline': svgWrap,
  'radialGradient': svgWrap,
  'rect': svgWrap,
  'stop': svgWrap,
  'text': svgWrap
};

/**
 * Gets the markup wrap configuration for the supplied `nodeName`.
 *
 * NOTE: This lazily detects which wraps are necessary for the current browser.
 *
 * @param {string} nodeName Lowercase `nodeName`.
 * @return {?array} Markup wrap configuration, if applicable.
 */
function getMarkupWrap(nodeName) {
  ("production" !== "development" ? invariant(!!dummyNode, 'Markup wrapping node not initialized') : invariant(!!dummyNode));
  if (!markupWrap.hasOwnProperty(nodeName)) {
    nodeName = '*';
  }
  if (!shouldWrap.hasOwnProperty(nodeName)) {
    if (nodeName === '*') {
      dummyNode.innerHTML = '<link />';
    } else {
      dummyNode.innerHTML = '<' + nodeName + '></' + nodeName + '>';
    }
    shouldWrap[nodeName] = !dummyNode.firstChild;
  }
  return shouldWrap[nodeName] ? markupWrap[nodeName] : null;
}


module.exports = getMarkupWrap;

},{"./ExecutionEnvironment":20,"./invariant":108}],103:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule getNodeForCharacterOffset
 */

"use strict";

/**
 * Given any node return the first leaf node without children.
 *
 * @param {DOMElement|DOMTextNode} node
 * @return {DOMElement|DOMTextNode}
 */
function getLeafNode(node) {
  while (node && node.firstChild) {
    node = node.firstChild;
  }
  return node;
}

/**
 * Get the next sibling within a container. This will walk up the
 * DOM if a node's siblings have been exhausted.
 *
 * @param {DOMElement|DOMTextNode} node
 * @return {?DOMElement|DOMTextNode}
 */
function getSiblingNode(node) {
  while (node) {
    if (node.nextSibling) {
      return node.nextSibling;
    }
    node = node.parentNode;
  }
}

/**
 * Get object describing the nodes which contain characters at offset.
 *
 * @param {DOMElement|DOMTextNode} root
 * @param {number} offset
 * @return {?object}
 */
function getNodeForCharacterOffset(root, offset) {
  var node = getLeafNode(root);
  var nodeStart = 0;
  var nodeEnd = 0;

  while (node) {
    if (node.nodeType == 3) {
      nodeEnd = nodeStart + node.textContent.length;

      if (nodeStart <= offset && nodeEnd >= offset) {
        return {
          node: node,
          offset: offset - nodeStart
        };
      }

      nodeStart = nodeEnd;
    }

    node = getLeafNode(getSiblingNode(node));
  }
}

module.exports = getNodeForCharacterOffset;

},{}],104:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule getReactRootElementInContainer
 */

"use strict";

var DOC_NODE_TYPE = 9;

/**
 * @param {DOMElement|DOMDocument} container DOM element that may contain
 *                                           a React component
 * @return {?*} DOM element that may have the reactRoot ID, or null.
 */
function getReactRootElementInContainer(container) {
  if (!container) {
    return null;
  }

  if (container.nodeType === DOC_NODE_TYPE) {
    return container.documentElement;
  } else {
    return container.firstChild;
  }
}

module.exports = getReactRootElementInContainer;

},{}],105:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule getTextContentAccessor
 */

"use strict";

var ExecutionEnvironment = require("./ExecutionEnvironment");

var contentKey = null;

/**
 * Gets the key used to access text content on a DOM node.
 *
 * @return {?string} Key used to access text content.
 * @internal
 */
function getTextContentAccessor() {
  if (!contentKey && ExecutionEnvironment.canUseDOM) {
    // Prefer textContent to innerText because many browsers support both but
    // SVG <text> elements don't support innerText even when <div> does.
    contentKey = 'textContent' in document.createElement('div') ?
      'textContent' :
      'innerText';
  }
  return contentKey;
}

module.exports = getTextContentAccessor;

},{"./ExecutionEnvironment":20}],106:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule getUnboundedScrollPosition
 * @typechecks
 */

"use strict";

/**
 * Gets the scroll position of the supplied element or window.
 *
 * The return values are unbounded, unlike `getScrollPosition`. This means they
 * may be negative or exceed the element boundaries (which is possible using
 * inertial scrolling).
 *
 * @param {DOMWindow|DOMElement} scrollable
 * @return {object} Map with `x` and `y` keys.
 */
function getUnboundedScrollPosition(scrollable) {
  if (scrollable === window) {
    return {
      x: window.pageXOffset || document.documentElement.scrollLeft,
      y: window.pageYOffset || document.documentElement.scrollTop
    };
  }
  return {
    x: scrollable.scrollLeft,
    y: scrollable.scrollTop
  };
}

module.exports = getUnboundedScrollPosition;

},{}],107:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule hyphenate
 * @typechecks
 */

var _uppercasePattern = /([A-Z])/g;

/**
 * Hyphenates a camelcased string, for example:
 *
 *   > hyphenate('backgroundColor')
 *   < "background-color"
 *
 * @param {string} string
 * @return {string}
 */
function hyphenate(string) {
  return string.replace(_uppercasePattern, '-$1').toLowerCase();
}

module.exports = hyphenate;

},{}],108:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule invariant
 */

"use strict";

/**
 * Use invariant() to assert state which your program assumes to be true.
 *
 * Provide sprintf-style format (only %s is supported) and arguments
 * to provide information about what broke and what you were
 * expecting.
 *
 * The invariant message will be stripped in production, but the invariant
 * will remain to ensure logic does not differ in production.
 */

var invariant = function(condition) {
  if (!condition) {
    var error = new Error(
      'Minified exception occured; use the non-minified dev environment for ' +
      'the full error message and additional helpful warnings.'
    );
    error.framesToPop = 1;
    throw error;
  }
};

if ("production" !== "development") {
  invariant = function(condition, format, a, b, c, d, e, f) {
    if (format === undefined) {
      throw new Error('invariant requires an error message argument');
    }

    if (!condition) {
      var args = [a, b, c, d, e, f];
      var argIndex = 0;
      var error = new Error(
        'Invariant Violation: ' +
        format.replace(/%s/g, function() { return args[argIndex++]; })
      );
      error.framesToPop = 1; // we don't care about invariant's own frame
      throw error;
    }
  };
}

module.exports = invariant;

},{}],109:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule isEventSupported
 */

"use strict";

var ExecutionEnvironment = require("./ExecutionEnvironment");

var useHasFeature;
if (ExecutionEnvironment.canUseDOM) {
  useHasFeature =
    document.implementation &&
    document.implementation.hasFeature &&
    // always returns true in newer browsers as per the standard.
    // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature
    document.implementation.hasFeature('', '') !== true;
}

/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function isEventSupported(eventNameSuffix, capture) {
  if (!ExecutionEnvironment.canUseDOM ||
      capture && !('addEventListener' in document)) {
    return false;
  }

  var eventName = 'on' + eventNameSuffix;
  var isSupported = eventName in document;

  if (!isSupported) {
    var element = document.createElement('div');
    element.setAttribute(eventName, 'return;');
    isSupported = typeof element[eventName] === 'function';
  }

  if (!isSupported && useHasFeature && eventNameSuffix === 'wheel') {
    // This is the only way to test support for the `wheel` event in IE9+.
    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');
  }

  return isSupported;
}

module.exports = isEventSupported;

},{"./ExecutionEnvironment":20}],110:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule isNode
 * @typechecks
 */

/**
 * @param {*} object The object to check.
 * @return {boolean} Whether or not the object is a DOM node.
 */
function isNode(object) {
  return !!(object && (
    typeof Node !== 'undefined' ? object instanceof Node :
      typeof object === 'object' &&
      typeof object.nodeType === 'number' &&
      typeof object.nodeName === 'string'
  ));
}

module.exports = isNode;

},{}],111:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule isTextInputElement
 */

"use strict";

/**
 * @see http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#input-type-attr-summary
 */
var supportedInputTypes = {
  'color': true,
  'date': true,
  'datetime': true,
  'datetime-local': true,
  'email': true,
  'month': true,
  'number': true,
  'password': true,
  'range': true,
  'search': true,
  'tel': true,
  'text': true,
  'time': true,
  'url': true,
  'week': true
};

function isTextInputElement(elem) {
  return elem && (
    (elem.nodeName === 'INPUT' && supportedInputTypes[elem.type]) ||
    elem.nodeName === 'TEXTAREA'
  );
}

module.exports = isTextInputElement;

},{}],112:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule isTextNode
 * @typechecks
 */

var isNode = require("./isNode");

/**
 * @param {*} object The object to check.
 * @return {boolean} Whether or not the object is a DOM text node.
 */
function isTextNode(object) {
  return isNode(object) && object.nodeType == 3;
}

module.exports = isTextNode;

},{"./isNode":110}],113:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule joinClasses
 * @typechecks static-only
 */

"use strict";

/**
 * Combines multiple className strings into one.
 * http://jsperf.com/joinclasses-args-vs-array
 *
 * @param {...?string} classes
 * @return {string}
 */
function joinClasses(className/*, ... */) {
  if (!className) {
    className = '';
  }
  var nextClass;
  var argLength = arguments.length;
  if (argLength > 1) {
    for (var ii = 1; ii < argLength; ii++) {
      nextClass = arguments[ii];
      nextClass && (className += ' ' + nextClass);
    }
  }
  return className;
}

module.exports = joinClasses;

},{}],114:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule keyMirror
 * @typechecks static-only
 */

"use strict";

var invariant = require("./invariant");

/**
 * Constructs an enumeration with keys equal to their value.
 *
 * For example:
 *
 *   var COLORS = keyMirror({blue: null, red: null});
 *   var myColor = COLORS.blue;
 *   var isColorValid = !!COLORS[myColor];
 *
 * The last line could not be performed if the values of the generated enum were
 * not equal to their keys.
 *
 *   Input:  {key1: val1, key2: val2}
 *   Output: {key1: key1, key2: key2}
 *
 * @param {object} obj
 * @return {object}
 */
var keyMirror = function(obj) {
  var ret = {};
  var key;
  ("production" !== "development" ? invariant(
    obj instanceof Object && !Array.isArray(obj),
    'keyMirror(...): Argument must be an object.'
  ) : invariant(obj instanceof Object && !Array.isArray(obj)));
  for (key in obj) {
    if (!obj.hasOwnProperty(key)) {
      continue;
    }
    ret[key] = key;
  }
  return ret;
};

module.exports = keyMirror;

},{"./invariant":108}],115:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule keyOf
 */

/**
 * Allows extraction of a minified key. Let's the build system minify keys
 * without loosing the ability to dynamically use key strings as values
 * themselves. Pass in an object with a single key/val pair and it will return
 * you the string key of that single record. Suppose you want to grab the
 * value for a key 'className' inside of an object. Key/val minification may
 * have aliased that key to be 'xa12'. keyOf({className: null}) will return
 * 'xa12' in that case. Resolve keys you want to use once at startup time, then
 * reuse those resolutions.
 */
var keyOf = function(oneKeyObj) {
  var key;
  for (key in oneKeyObj) {
    if (!oneKeyObj.hasOwnProperty(key)) {
      continue;
    }
    return key;
  }
  return null;
};


module.exports = keyOf;

},{}],116:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule memoizeStringOnly
 * @typechecks static-only
 */

"use strict";

/**
 * Memoizes the return value of a function that accepts one string argument.
 *
 * @param {function} callback
 * @return {function}
 */
function memoizeStringOnly(callback) {
  var cache = {};
  return function(string) {
    if (cache.hasOwnProperty(string)) {
      return cache[string];
    } else {
      return cache[string] = callback.call(this, string);
    }
  };
}

module.exports = memoizeStringOnly;

},{}],117:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule merge
 */

"use strict";

var mergeInto = require("./mergeInto");

/**
 * Shallow merges two structures into a return value, without mutating either.
 *
 * @param {?object} one Optional object with properties to merge from.
 * @param {?object} two Optional object with properties to merge from.
 * @return {object} The shallow extension of one by two.
 */
var merge = function(one, two) {
  var result = {};
  mergeInto(result, one);
  mergeInto(result, two);
  return result;
};

module.exports = merge;

},{"./mergeInto":119}],118:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule mergeHelpers
 *
 * requiresPolyfills: Array.isArray
 */

"use strict";

var invariant = require("./invariant");
var keyMirror = require("./keyMirror");

/**
 * Maximum number of levels to traverse. Will catch circular structures.
 * @const
 */
var MAX_MERGE_DEPTH = 36;

/**
 * We won't worry about edge cases like new String('x') or new Boolean(true).
 * Functions are considered terminals, and arrays are not.
 * @param {*} o The item/object/value to test.
 * @return {boolean} true iff the argument is a terminal.
 */
var isTerminal = function(o) {
  return typeof o !== 'object' || o === null;
};

var mergeHelpers = {

  MAX_MERGE_DEPTH: MAX_MERGE_DEPTH,

  isTerminal: isTerminal,

  /**
   * Converts null/undefined values into empty object.
   *
   * @param {?Object=} arg Argument to be normalized (nullable optional)
   * @return {!Object}
   */
  normalizeMergeArg: function(arg) {
    return arg === undefined || arg === null ? {} : arg;
  },

  /**
   * If merging Arrays, a merge strategy *must* be supplied. If not, it is
   * likely the caller's fault. If this function is ever called with anything
   * but `one` and `two` being `Array`s, it is the fault of the merge utilities.
   *
   * @param {*} one Array to merge into.
   * @param {*} two Array to merge from.
   */
  checkMergeArrayArgs: function(one, two) {
    ("production" !== "development" ? invariant(
      Array.isArray(one) && Array.isArray(two),
      'Tried to merge arrays, instead got %s and %s.',
      one,
      two
    ) : invariant(Array.isArray(one) && Array.isArray(two)));
  },

  /**
   * @param {*} one Object to merge into.
   * @param {*} two Object to merge from.
   */
  checkMergeObjectArgs: function(one, two) {
    mergeHelpers.checkMergeObjectArg(one);
    mergeHelpers.checkMergeObjectArg(two);
  },

  /**
   * @param {*} arg
   */
  checkMergeObjectArg: function(arg) {
    ("production" !== "development" ? invariant(
      !isTerminal(arg) && !Array.isArray(arg),
      'Tried to merge an object, instead got %s.',
      arg
    ) : invariant(!isTerminal(arg) && !Array.isArray(arg)));
  },

  /**
   * Checks that a merge was not given a circular object or an object that had
   * too great of depth.
   *
   * @param {number} Level of recursion to validate against maximum.
   */
  checkMergeLevel: function(level) {
    ("production" !== "development" ? invariant(
      level < MAX_MERGE_DEPTH,
      'Maximum deep merge depth exceeded. You may be attempting to merge ' +
      'circular structures in an unsupported way.'
    ) : invariant(level < MAX_MERGE_DEPTH));
  },

  /**
   * Checks that the supplied merge strategy is valid.
   *
   * @param {string} Array merge strategy.
   */
  checkArrayStrategy: function(strategy) {
    ("production" !== "development" ? invariant(
      strategy === undefined || strategy in mergeHelpers.ArrayStrategies,
      'You must provide an array strategy to deep merge functions to ' +
      'instruct the deep merge how to resolve merging two arrays.'
    ) : invariant(strategy === undefined || strategy in mergeHelpers.ArrayStrategies));
  },

  /**
   * Set of possible behaviors of merge algorithms when encountering two Arrays
   * that must be merged together.
   * - `clobber`: The left `Array` is ignored.
   * - `indexByIndex`: The result is achieved by recursively deep merging at
   *   each index. (not yet supported.)
   */
  ArrayStrategies: keyMirror({
    Clobber: true,
    IndexByIndex: true
  })

};

module.exports = mergeHelpers;

},{"./invariant":108,"./keyMirror":114}],119:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule mergeInto
 * @typechecks static-only
 */

"use strict";

var mergeHelpers = require("./mergeHelpers");

var checkMergeObjectArg = mergeHelpers.checkMergeObjectArg;

/**
 * Shallow merges two structures by mutating the first parameter.
 *
 * @param {object} one Object to be merged into.
 * @param {?object} two Optional object with properties to merge from.
 */
function mergeInto(one, two) {
  checkMergeObjectArg(one);
  if (two != null) {
    checkMergeObjectArg(two);
    for (var key in two) {
      if (!two.hasOwnProperty(key)) {
        continue;
      }
      one[key] = two[key];
    }
  }
}

module.exports = mergeInto;

},{"./mergeHelpers":118}],120:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule mixInto
 */

"use strict";

/**
 * Simply copies properties to the prototype.
 */
var mixInto = function(constructor, methodBag) {
  var methodName;
  for (methodName in methodBag) {
    if (!methodBag.hasOwnProperty(methodName)) {
      continue;
    }
    constructor.prototype[methodName] = methodBag[methodName];
  }
};

module.exports = mixInto;

},{}],121:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule objMap
 */

"use strict";

/**
 * For each key/value pair, invokes callback func and constructs a resulting
 * object which contains, for every key in obj, values that are the result of
 * of invoking the function:
 *
 *   func(value, key, iteration)
 *
 * @param {?object} obj Object to map keys over
 * @param {function} func Invoked for each key/val pair.
 * @param {?*} context
 * @return {?object} Result of mapping or null if obj is falsey
 */
function objMap(obj, func, context) {
  if (!obj) {
    return null;
  }
  var i = 0;
  var ret = {};
  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      ret[key] = func.call(context, obj[key], key, i++);
    }
  }
  return ret;
}

module.exports = objMap;

},{}],122:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule objMapKeyVal
 */

"use strict";

/**
 * Behaves the same as `objMap` but invokes func with the key first, and value
 * second. Use `objMap` unless you need this special case.
 * Invokes func as:
 *
 *   func(key, value, iteration)
 *
 * @param {?object} obj Object to map keys over
 * @param {!function} func Invoked for each key/val pair.
 * @param {?*} context
 * @return {?object} Result of mapping or null if obj is falsey
 */
function objMapKeyVal(obj, func, context) {
  if (!obj) {
    return null;
  }
  var i = 0;
  var ret = {};
  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      ret[key] = func.call(context, key, obj[key], i++);
    }
  }
  return ret;
}

module.exports = objMapKeyVal;

},{}],123:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule onlyChild
 */
"use strict";

var ReactComponent = require("./ReactComponent");

var invariant = require("./invariant");

/**
 * Returns the first child in a collection of children and verifies that there
 * is only one child in the collection. The current implementation of this
 * function assumes that a single child gets passed without a wrapper, but the
 * purpose of this helper function is to abstract away the particular structure
 * of children.
 *
 * @param {?object} children Child collection structure.
 * @return {ReactComponent} The first and only `ReactComponent` contained in the
 * structure.
 */
function onlyChild(children) {
  ("production" !== "development" ? invariant(
    ReactComponent.isValidComponent(children),
    'onlyChild must be passed a children with exactly one child.'
  ) : invariant(ReactComponent.isValidComponent(children)));
  return children;
}

module.exports = onlyChild;

},{"./ReactComponent":26,"./invariant":108}],124:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule performanceNow
 * @typechecks static-only
 */

"use strict";

var ExecutionEnvironment = require("./ExecutionEnvironment");

/**
 * Detect if we can use window.performance.now() and gracefully
 * fallback to Date.now() if it doesn't exist.
 * We need to support Firefox < 15 for now due to Facebook's webdriver
 * infrastructure.
 */
var performance = null;

if (ExecutionEnvironment.canUseDOM) {
  performance = window.performance || window.webkitPerformance;
}

if (!performance || !performance.now) {
  performance = Date;
}

var performanceNow = performance.now.bind(performance);

module.exports = performanceNow;

},{"./ExecutionEnvironment":20}],125:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule shallowEqual
 */

"use strict";

/**
 * Performs equality by iterating through keys on an object and returning
 * false when any key has values which are not strictly equal between
 * objA and objB. Returns true when the values of all keys are strictly equal.
 *
 * @return {boolean}
 */
function shallowEqual(objA, objB) {
  if (objA === objB) {
    return true;
  }
  var key;
  // Test for A's keys different from B.
  for (key in objA) {
    if (objA.hasOwnProperty(key) &&
        (!objB.hasOwnProperty(key) || objA[key] !== objB[key])) {
      return false;
    }
  }
  // Test for B'a keys missing from A.
  for (key in objB) {
    if (objB.hasOwnProperty(key) && !objA.hasOwnProperty(key)) {
      return false;
    }
  }
  return true;
}

module.exports = shallowEqual;

},{}],126:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule shouldUpdateReactComponent
 * @typechecks static-only
 */

"use strict";

/**
 * Given a `prevComponent` and `nextComponent`, determines if `prevComponent`
 * should be updated as opposed to being destroyed or replaced.
 *
 * @param {?object} prevComponent
 * @param {?object} nextComponent
 * @return {boolean} True if `prevComponent` should be updated.
 * @protected
 */
function shouldUpdateReactComponent(prevComponent, nextComponent) {
  // TODO: Remove warning after a release.
  if (prevComponent && nextComponent &&
      prevComponent.constructor === nextComponent.constructor && (
        (prevComponent.props && prevComponent.props.key) ===
        (nextComponent.props && nextComponent.props.key)
      )) {
    if (prevComponent._owner === nextComponent._owner) {
      return true;
    } else {
      if ("production" !== "development") {
        if (prevComponent.state) {
          console.warn(
            'A recent change to React has been found to impact your code. ' +
            'A mounted component will now be unmounted and replaced by a ' +
            'component (of the same class) if their owners are different. ' +
            'Previously, ownership was not considered when updating.',
            prevComponent,
            nextComponent
          );
        }
      }
    }
  }
  return false;
}

module.exports = shouldUpdateReactComponent;

},{}],127:[function(require,module,exports){
/**
 * Copyright 2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule toArray
 * @typechecks
 */

var invariant = require("./invariant");

/**
 * Convert array-like objects to arrays.
 *
 * This API assumes the caller knows the contents of the data type. For less
 * well defined inputs use createArrayFrom.
 *
 * @param {object|function} obj
 * @return {array}
 */
function toArray(obj) {
  var length = obj.length;

  // Some browse builtin objects can report typeof 'function' (e.g. NodeList in
  // old versions of Safari).
  ("production" !== "development" ? invariant(
    !Array.isArray(obj) &&
    (typeof obj === 'object' || typeof obj === 'function'),
    'toArray: Array-like object expected'
  ) : invariant(!Array.isArray(obj) &&
  (typeof obj === 'object' || typeof obj === 'function')));

  ("production" !== "development" ? invariant(
    typeof length === 'number',
    'toArray: Object needs a length property'
  ) : invariant(typeof length === 'number'));

  ("production" !== "development" ? invariant(
    length === 0 ||
    (length - 1) in obj,
    'toArray: Object should have keys for indices'
  ) : invariant(length === 0 ||
  (length - 1) in obj));

  // Old IE doesn't give collections access to hasOwnProperty. Assume inputs
  // without method will throw during the slice call and skip straight to the
  // fallback.
  if (obj.hasOwnProperty) {
    try {
      return Array.prototype.slice.call(obj);
    } catch (e) {
      // IE < 9 does not support Array#slice on collections objects
    }
  }

  // Fall back to copying key by key. This assumes all keys have a value,
  // so will not preserve sparsely populated inputs.
  var ret = Array(length);
  for (var ii = 0; ii < length; ii++) {
    ret[ii] = obj[ii];
  }
  return ret;
}

module.exports = toArray;

},{"./invariant":108}],128:[function(require,module,exports){
/**
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule traverseAllChildren
 */

"use strict";

var ReactInstanceHandles = require("./ReactInstanceHandles");
var ReactTextComponent = require("./ReactTextComponent");

var invariant = require("./invariant");

var SEPARATOR = ReactInstanceHandles.SEPARATOR;
var SUBSEPARATOR = ':';

/**
 * TODO: Test that:
 * 1. `mapChildren` transforms strings and numbers into `ReactTextComponent`.
 * 2. it('should fail when supplied duplicate key', function() {
 * 3. That a single child and an array with one item have the same key pattern.
 * });
 */

var userProvidedKeyEscaperLookup = {
  '=': '=0',
  '.': '=1',
  ':': '=2'
};

var userProvidedKeyEscapeRegex = /[=.:]/g;

function userProvidedKeyEscaper(match) {
  return userProvidedKeyEscaperLookup[match];
}

/**
 * Generate a key string that identifies a component within a set.
 *
 * @param {*} component A component that could contain a manual key.
 * @param {number} index Index that is used if a manual key is not provided.
 * @return {string}
 */
function getComponentKey(component, index) {
  if (component && component.props && component.props.key != null) {
    // Explicit key
    return wrapUserProvidedKey(component.props.key);
  }
  // Implicit key determined by the index in the set
  return index.toString(36);
}

/**
 * Escape a component key so that it is safe to use in a reactid.
 *
 * @param {*} key Component key to be escaped.
 * @return {string} An escaped string.
 */
function escapeUserProvidedKey(text) {
  return ('' + text).replace(
    userProvidedKeyEscapeRegex,
    userProvidedKeyEscaper
  );
}

/**
 * Wrap a `key` value explicitly provided by the user to distinguish it from
 * implicitly-generated keys generated by a component's index in its parent.
 *
 * @param {string} key Value of a user-provided `key` attribute
 * @return {string}
 */
function wrapUserProvidedKey(key) {
  return '$' + escapeUserProvidedKey(key);
}

/**
 * @param {?*} children Children tree container.
 * @param {!string} nameSoFar Name of the key path so far.
 * @param {!number} indexSoFar Number of children encountered until this point.
 * @param {!function} callback Callback to invoke with each child found.
 * @param {?*} traverseContext Used to pass information throughout the traversal
 * process.
 * @return {!number} The number of children in this subtree.
 */
var traverseAllChildrenImpl =
  function(children, nameSoFar, indexSoFar, callback, traverseContext) {
    var subtreeCount = 0;  // Count of children found in the current subtree.
    if (Array.isArray(children)) {
      for (var i = 0; i < children.length; i++) {
        var child = children[i];
        var nextName = (
          nameSoFar +
          (nameSoFar ? SUBSEPARATOR : SEPARATOR) +
          getComponentKey(child, i)
        );
        var nextIndex = indexSoFar + subtreeCount;
        subtreeCount += traverseAllChildrenImpl(
          child,
          nextName,
          nextIndex,
          callback,
          traverseContext
        );
      }
    } else {
      var type = typeof children;
      var isOnlyChild = nameSoFar === '';
      // If it's the only child, treat the name as if it was wrapped in an array
      // so that it's consistent if the number of children grows
      var storageName =
        isOnlyChild ? SEPARATOR + getComponentKey(children, 0) : nameSoFar;
      if (children == null || type === 'boolean') {
        // All of the above are perceived as null.
        callback(traverseContext, null, storageName, indexSoFar);
        subtreeCount = 1;
      } else if (children.mountComponentIntoNode) {
        callback(traverseContext, children, storageName, indexSoFar);
        subtreeCount = 1;
      } else {
        if (type === 'object') {
          ("production" !== "development" ? invariant(
            !children || children.nodeType !== 1,
            'traverseAllChildren(...): Encountered an invalid child; DOM ' +
            'elements are not valid children of React components.'
          ) : invariant(!children || children.nodeType !== 1));
          for (var key in children) {
            if (children.hasOwnProperty(key)) {
              subtreeCount += traverseAllChildrenImpl(
                children[key],
                (
                  nameSoFar + (nameSoFar ? SUBSEPARATOR : SEPARATOR) +
                  wrapUserProvidedKey(key) + SUBSEPARATOR +
                  getComponentKey(children[key], 0)
                ),
                indexSoFar + subtreeCount,
                callback,
                traverseContext
              );
            }
          }
        } else if (type === 'string') {
          var normalizedText = new ReactTextComponent(children);
          callback(traverseContext, normalizedText, storageName, indexSoFar);
          subtreeCount += 1;
        } else if (type === 'number') {
          var normalizedNumber = new ReactTextComponent('' + children);
          callback(traverseContext, normalizedNumber, storageName, indexSoFar);
          subtreeCount += 1;
        }
      }
    }
    return subtreeCount;
  };

/**
 * Traverses children that are typically specified as `props.children`, but
 * might also be specified through attributes:
 *
 * - `traverseAllChildren(this.props.children, ...)`
 * - `traverseAllChildren(this.props.leftPanelChildren, ...)`
 *
 * The `traverseContext` is an optional argument that is passed through the
 * entire traversal. It can be used to store accumulations or anything else that
 * the callback might find relevant.
 *
 * @param {?*} children Children tree object.
 * @param {!function} callback To invoke upon traversing each child.
 * @param {?*} traverseContext Context for traversal.
 */
function traverseAllChildren(children, callback, traverseContext) {
  if (children !== null && children !== undefined) {
    traverseAllChildrenImpl(children, '', 0, callback, traverseContext);
  }
}

module.exports = traverseAllChildren;

},{"./ReactInstanceHandles":53,"./ReactTextComponent":69,"./invariant":108}],129:[function(require,module,exports){
/**
 * Copyright 2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule warning
 */

"use strict";

var emptyFunction = require("./emptyFunction");

/**
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var warning = emptyFunction;

if ("production" !== "development") {
  warning = function(condition, format ) {var args=Array.prototype.slice.call(arguments,2);
    if (format === undefined) {
      throw new Error(
        '`warning(condition, format, ...args)` requires a warning ' +
        'message argument'
      );
    }

    if (!condition) {
      var argIndex = 0;
      console.warn('Warning: ' + format.replace(/%s/g, function()  {return args[argIndex++];}));
    }
  };
}

module.exports = warning;

},{"./emptyFunction":95}]},{},[24])
(24)
});
/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */


(function (root, factory)
{
    'use strict';

    var moment;
    if (typeof exports === 'object') {
        // CommonJS module
        // Load moment.js as an optional dependency
        try { moment = require('moment'); } catch (e) {}
        module.exports = factory(moment);
    } else if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(function (req)
        {
            // Load moment.js as an optional dependency
            var id = 'moment';
            moment = req.defined && req.defined(id) ? req(id) : undefined;
            return factory(moment);
        });
    } else {
        root.Pikaday = factory(root.moment);
    }
}(this, function (moment)
{
    'use strict';

    /**
     * feature detection and helper functions
     */
    var hasMoment = typeof moment === 'function',

    hasEventListeners = !!window.addEventListener,

    document = window.document,

    sto = window.setTimeout,

    addEvent = function(el, e, callback, capture)
    {
        if (hasEventListeners) {
            el.addEventListener(e, callback, !!capture);
        } else {
            el.attachEvent('on' + e, callback);
        }
    },

    removeEvent = function(el, e, callback, capture)
    {
        if (hasEventListeners) {
            el.removeEventListener(e, callback, !!capture);
        } else {
            el.detachEvent('on' + e, callback);
        }
    },

    fireEvent = function(el, eventName, data)
    {
        var ev;

        if (document.createEvent) {
            ev = document.createEvent('HTMLEvents');
            ev.initEvent(eventName, true, false);
            ev = extend(ev, data);
            el.dispatchEvent(ev);
        } else if (document.createEventObject) {
            ev = document.createEventObject();
            ev = extend(ev, data);
            el.fireEvent('on' + eventName, ev);
        }
    },

    trim = function(str)
    {
        return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g,'');
    },

    hasClass = function(el, cn)
    {
        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;
    },

    addClass = function(el, cn)
    {
        if (!hasClass(el, cn)) {
            el.className = (el.className === '') ? cn : el.className + ' ' + cn;
        }
    },

    removeClass = function(el, cn)
    {
        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));
    },

    isArray = function(obj)
    {
        return (/Array/).test(Object.prototype.toString.call(obj));
    },

    isDate = function(obj)
    {
        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());
    },

    isLeapYear = function(year)
    {
        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951
        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
    },

    getDaysInMonth = function(year, month)
    {
        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
    },

    setToStartOfDay = function(date)
    {
        if (isDate(date)) date.setHours(0,0,0,0);
    },

    compareDates = function(a,b)
    {
        // weak date comparison (use setToStartOfDay(date) to ensure correct result)
        return a.getTime() === b.getTime();
    },

    extend = function(to, from, overwrite)
    {
        var prop, hasProp;
        for (prop in from) {
            hasProp = to[prop] !== undefined;
            if (hasProp && typeof from[prop] === 'object' && from[prop].nodeName === undefined) {
                if (isDate(from[prop])) {
                    if (overwrite) {
                        to[prop] = new Date(from[prop].getTime());
                    }
                }
                else if (isArray(from[prop])) {
                    if (overwrite) {
                        to[prop] = from[prop].slice(0);
                    }
                } else {
                    to[prop] = extend({}, from[prop], overwrite);
                }
            } else if (overwrite || !hasProp) {
                to[prop] = from[prop];
            }
        }
        return to;
    },

    adjustCalendar = function(calendar) {
        if (calendar.month < 0) {
            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);
            calendar.month += 12;
        }
        if (calendar.month > 11) {
            calendar.year += Math.floor(Math.abs(calendar.month)/12);
            calendar.month -= 12;
        }
        return calendar;
    },

    /**
     * defaults and localisation
     */
    defaults = {

        // bind the picker to a form field
        field: null,

        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)
        bound: undefined,

        // position of the datepicker, relative to the field (default to bottom & left)
        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)
        position: 'bottom left',

        // the default output format for `.toString()` and `field` value
        format: 'YYYY-MM-DD',

        // the initial date to view when first opened
        defaultDate: null,

        // make the `defaultDate` the initial selected value
        setDefaultDate: false,

        // first day of week (0: Sunday, 1: Monday etc)
        firstDay: 0,

        // the minimum/earliest date that can be selected
        minDate: null,
        // the maximum/latest date that can be selected
        maxDate: null,

        // number of years either side, or array of upper/lower range
        yearRange: 10,

        // show week numbers at head of row
        showWeekNumber: false,

        // used internally (don't config outside)
        minYear: 0,
        maxYear: 9999,
        minMonth: undefined,
        maxMonth: undefined,

        isRTL: false,

        // Additional text to append to the year in the calendar title
        yearSuffix: '',

        // Render the month after year in the calendar title
        showMonthAfterYear: false,

        // how many months are visible
        numberOfMonths: 1,

        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)
        // only used for the first display or when a selected date is not visible
        mainCalendar: 'left',

        // Specify a DOM element to render the calendar in
        container: undefined,

        // internationalization
        i18n: {
            previousMonth : 'Previous Month',
            nextMonth     : 'Next Month',
            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],
            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],
            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']
        },

        // callback function
        onSelect: null,
        onOpen: null,
        onClose: null,
        onDraw: null
    },


    /**
     * templating functions to abstract HTML rendering
     */
    renderDayName = function(opts, day, abbr)
    {
        day += opts.firstDay;
        while (day >= 7) {
            day -= 7;
        }
        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];
    },

    renderDay = function(d, m, y, isSelected, isToday, isDisabled, isEmpty)
    {
        if (isEmpty) {
            return '<td class="is-empty"></td>';
        }
        var arr = [];
        if (isDisabled) {
            arr.push('is-disabled');
        }
        if (isToday) {
            arr.push('is-today');
        }
        if (isSelected) {
            arr.push('is-selected');
        }
        return '<td data-day="' + d + '" class="' + arr.join(' ') + '">' +
                 '<button class="pika-button pika-day" type="button" ' +
                    'data-pika-year="' + y + '" data-pika-month="' + m + '" data-pika-day="' + d + '">' +
                        d +
                 '</button>' +
               '</td>';
    },

    renderWeek = function (d, m, y) {
        // Lifted from http://javascript.about.com/library/blweekyear.htm, lightly modified.
        var onejan = new Date(y, 0, 1),
            weekNum = Math.ceil((((new Date(y, m, d) - onejan) / 86400000) + onejan.getDay()+1)/7);
        return '<td class="pika-week">' + weekNum + '</td>';
    },

    renderRow = function(days, isRTL)
    {
        return '<tr>' + (isRTL ? days.reverse() : days).join('') + '</tr>';
    },

    renderBody = function(rows)
    {
        return '<tbody>' + rows.join('') + '</tbody>';
    },

    renderHead = function(opts)
    {
        var i, arr = [];
        if (opts.showWeekNumber) {
            arr.push('<th></th>');
        }
        for (i = 0; i < 7; i++) {
            arr.push('<th scope="col"><abbr title="' + renderDayName(opts, i) + '">' + renderDayName(opts, i, true) + '</abbr></th>');
        }
        return '<thead>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</thead>';
    },

    renderTitle = function(instance, c, year, month, refYear)
    {
        var i, j, arr,
            opts = instance._o,
            isMinYear = year === opts.minYear,
            isMaxYear = year === opts.maxYear,
            html = '<div class="pika-title">',
            monthHtml,
            yearHtml,
            prev = true,
            next = true;

        for (arr = [], i = 0; i < 12; i++) {
            arr.push('<option value="' + (year === refYear ? i - c : 12 + i - c) + '"' +
                (i === month ? ' selected': '') +
                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled' : '') + '>' +
                opts.i18n.months[i] + '</option>');
        }
        monthHtml = '<div class="pika-label">' + opts.i18n.months[month] + '<select class="pika-select pika-select-month">' + arr.join('') + '</select></div>';

        if (isArray(opts.yearRange)) {
            i = opts.yearRange[0];
            j = opts.yearRange[1] + 1;
        } else {
            i = year - opts.yearRange;
            j = 1 + year + opts.yearRange;
        }

        for (arr = []; i < j && i <= opts.maxYear; i++) {
            if (i >= opts.minYear) {
                arr.push('<option value="' + i + '"' + (i === year ? ' selected': '') + '>' + (i) + '</option>');
            }
        }
        yearHtml = '<div class="pika-label">' + year + opts.yearSuffix + '<select class="pika-select pika-select-year">' + arr.join('') + '</select></div>';

        if (opts.showMonthAfterYear) {
            html += yearHtml + monthHtml;
        } else {
            html += monthHtml + yearHtml;
        }

        if (isMinYear && (month === 0 || opts.minMonth >= month)) {
            prev = false;
        }

        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {
            next = false;
        }

        if (c === 0) {
            html += '<button class="pika-prev' + (prev ? '' : ' is-disabled') + '" type="button">' + opts.i18n.previousMonth + '</button>';
        }
        if (c === (instance._o.numberOfMonths - 1) ) {
            html += '<button class="pika-next' + (next ? '' : ' is-disabled') + '" type="button">' + opts.i18n.nextMonth + '</button>';
        }

        return html += '</div>';
    },

    renderTable = function(opts, data)
    {
        return '<table cellpadding="0" cellspacing="0" class="pika-table">' + renderHead(opts) + renderBody(data) + '</table>';
    },


    /**
     * Pikaday constructor
     */
    Pikaday = function(options)
    {
        var self = this,
            opts = self.config(options);

        self._onMouseDown = function(e)
        {
            if (!self._v) {
                return;
            }
            e = e || window.event;
            var target = e.target || e.srcElement;
            if (!target) {
                return;
            }

            if (!hasClass(target, 'is-disabled')) {
                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty')) {
                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));
                    if (opts.bound) {
                        sto(function() {
                            self.hide();
                            if (opts.field) {
                                opts.field.blur();
                            }
                        }, 100);
                    }
                    return;
                }
                else if (hasClass(target, 'pika-prev')) {
                    self.prevMonth();
                }
                else if (hasClass(target, 'pika-next')) {
                    self.nextMonth();
                }
            }
            if (!hasClass(target, 'pika-select')) {
                if (e.preventDefault) {
                    e.preventDefault();
                } else {
                    e.returnValue = false;
                    return false;
                }
            } else {
                self._c = true;
            }
        };

        self._onChange = function(e)
        {
            e = e || window.event;
            var target = e.target || e.srcElement;
            if (!target) {
                return;
            }
            if (hasClass(target, 'pika-select-month')) {
                self.gotoMonth(target.value);
            }
            else if (hasClass(target, 'pika-select-year')) {
                self.gotoYear(target.value);
            }
        };

        self._onInputChange = function(e)
        {
            var date;

            if (e.firedBy === self) {
                return;
            }
            if (hasMoment) {
                date = moment(opts.field.value, opts.format);
                date = (date && date.isValid()) ? date.toDate() : null;
            }
            else {
                date = new Date(Date.parse(opts.field.value));
            }
            self.setDate(isDate(date) ? date : null);
            if (!self._v) {
                self.show();
            }
        };

        self._onInputFocus = function()
        {
            self.show();
        };

        self._onInputClick = function()
        {
            self.show();
        };

        self._onInputBlur = function()
        {
            if (!self._c) {
                self._b = sto(function() {
                    self.hide();
                }, 50);
            }
            self._c = false;
        };

        self._onClick = function(e)
        {
            e = e || window.event;
            var target = e.target || e.srcElement,
                pEl = target;
            if (!target) {
                return;
            }
            if (!hasEventListeners && hasClass(target, 'pika-select')) {
                if (!target.onchange) {
                    target.setAttribute('onchange', 'return;');
                    addEvent(target, 'change', self._onChange);
                }
            }
            do {
                if (hasClass(pEl, 'pika-single')) {
                    return;
                }
            }
            while ((pEl = pEl.parentNode));
            if (self._v && target !== opts.trigger) {
                self.hide();
            }
        };

        self.el = document.createElement('div');
        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '');

        addEvent(self.el, 'mousedown', self._onMouseDown, true);
        addEvent(self.el, 'change', self._onChange);

        if (opts.field) {
            if (opts.container) {
                opts.container.appendChild(self.el);
            } else if (opts.bound) {
                document.body.appendChild(self.el);
            } else {
                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);
            }
            addEvent(opts.field, 'change', self._onInputChange);

            if (!opts.defaultDate) {
                if (hasMoment && opts.field.value) {
                    opts.defaultDate = moment(opts.field.value, opts.format).toDate();
                } else {
                    opts.defaultDate = new Date(Date.parse(opts.field.value));
                }
                opts.setDefaultDate = true;
            }
        }

        var defDate = opts.defaultDate;

        if (isDate(defDate)) {
            if (opts.setDefaultDate) {
                self.setDate(defDate, true);
            } else {
                self.gotoDate(defDate);
            }
        } else {
            self.gotoDate(new Date());
        }

        if (opts.bound) {
            this.hide();
            self.el.className += ' is-bound';
            addEvent(opts.trigger, 'click', self._onInputClick);
            addEvent(opts.trigger, 'focus', self._onInputFocus);
            addEvent(opts.trigger, 'blur', self._onInputBlur);
        } else {
            this.show();
        }
    };


    /**
     * public Pikaday API
     */
    Pikaday.prototype = {


        /**
         * configure functionality
         */
        config: function(options)
        {
            if (!this._o) {
                this._o = extend({}, defaults, true);
            }

            var opts = extend(this._o, options, true);

            opts.isRTL = !!opts.isRTL;

            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;

            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);

            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;

            var nom = parseInt(opts.numberOfMonths, 10) || 1;
            opts.numberOfMonths = nom > 4 ? 4 : nom;

            if (!isDate(opts.minDate)) {
                opts.minDate = false;
            }
            if (!isDate(opts.maxDate)) {
                opts.maxDate = false;
            }
            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {
                opts.maxDate = opts.minDate = false;
            }
            if (opts.minDate) {
                setToStartOfDay(opts.minDate);
                opts.minYear  = opts.minDate.getFullYear();
                opts.minMonth = opts.minDate.getMonth();
            }
            if (opts.maxDate) {
                setToStartOfDay(opts.maxDate);
                opts.maxYear  = opts.maxDate.getFullYear();
                opts.maxMonth = opts.maxDate.getMonth();
            }

            if (isArray(opts.yearRange)) {
                var fallback = new Date().getFullYear() - 10;
                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;
                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;
            } else {
                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;
                if (opts.yearRange > 100) {
                    opts.yearRange = 100;
                }
            }

            return opts;
        },

        /**
         * return a formatted string of the current selection (using Moment.js if available)
         */
        toString: function(format)
        {
            return !isDate(this._d) ? '' : hasMoment ? moment(this._d).format(format || this._o.format) : this._d.toDateString();
        },

        /**
         * return a Moment.js object of the current selection (if available)
         */
        getMoment: function()
        {
            return hasMoment ? moment(this._d) : null;
        },

        /**
         * set the current selection from a Moment.js object (if available)
         */
        setMoment: function(date, preventOnSelect)
        {
            if (hasMoment && moment.isMoment(date)) {
                this.setDate(date.toDate(), preventOnSelect);
            }
        },

        /**
         * return a Date object of the current selection
         */
        getDate: function()
        {
            return isDate(this._d) ? new Date(this._d.getTime()) : null;
        },

        /**
         * set the current selection
         */
        setDate: function(date, preventOnSelect)
        {
            if (!date) {
                this._d = null;
                return this.draw();
            }
            if (typeof date === 'string') {
                date = new Date(Date.parse(date));
            }
            if (!isDate(date)) {
                return;
            }

            var min = this._o.minDate,
                max = this._o.maxDate;

            if (isDate(min) && date < min) {
                date = min;
            } else if (isDate(max) && date > max) {
                date = max;
            }

            this._d = new Date(date.getTime());
            setToStartOfDay(this._d);
            this.gotoDate(this._d);

            if (this._o.field) {
                this._o.field.value = this.toString();
                fireEvent(this._o.field, 'change', { firedBy: this });
            }
            if (!preventOnSelect && typeof this._o.onSelect === 'function') {
                this._o.onSelect.call(this, this.getDate());
            }
        },

        /**
         * change view to a specific date
         */
        gotoDate: function(date)
        {
            var newCalendar = true;

            if (!isDate(date)) {
                return;
            }

            if (this.calendars) {
                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),
                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),
                    visibleDate = date.getTime();
                // get the end of the month
                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);
                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);
                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);
            }

            if (newCalendar) {
                this.calendars = [{
                    month: date.getMonth(),
                    year: date.getFullYear()
                }];
                if (this._o.mainCalendar === 'right') {
                    this.calendars[0].month += 1 - this._o.numberOfMonths;
                }
            }

            this.adjustCalendars();
        },

        adjustCalendars: function() {
            this.calendars[0] = adjustCalendar(this.calendars[0]);
            for (var c = 1; c < this._o.numberOfMonths; c++) {
                this.calendars[c] = adjustCalendar({
                    month: this.calendars[0].month + c,
                    year: this.calendars[0].year
                });
            }
            this.draw();
        },

        gotoToday: function()
        {
            this.gotoDate(new Date());
        },

        /**
         * change view to a specific month (zero-index, e.g. 0: January)
         */
        gotoMonth: function(month)
        {
            if (!isNaN(month)) {
                this.calendars[0].month = parseInt(month, 10);
                this.adjustCalendars();
            }
        },

        nextMonth: function()
        {
            this.calendars[0].month++;
            this.adjustCalendars();
        },

        prevMonth: function()
        {
            this.calendars[0].month--;
            this.adjustCalendars();
        },

        /**
         * change view to a specific full year (e.g. "2012")
         */
        gotoYear: function(year)
        {
            if (!isNaN(year)) {
                this.calendars[0].year = parseInt(year, 10);
                this.adjustCalendars();
            }
        },

        /**
         * change the minDate
         */
        setMinDate: function(value)
        {
            this._o.minDate = value;
        },

        /**
         * change the maxDate
         */
        setMaxDate: function(value)
        {
            this._o.maxDate = value;
        },

        /**
         * refresh the HTML
         */
        draw: function(force)
        {
            if (!this._v && !force) {
                return;
            }
            var opts = this._o,
                minYear = opts.minYear,
                maxYear = opts.maxYear,
                minMonth = opts.minMonth,
                maxMonth = opts.maxMonth,
                html = '';

            if (this._y <= minYear) {
                this._y = minYear;
                if (!isNaN(minMonth) && this._m < minMonth) {
                    this._m = minMonth;
                }
            }
            if (this._y >= maxYear) {
                this._y = maxYear;
                if (!isNaN(maxMonth) && this._m > maxMonth) {
                    this._m = maxMonth;
                }
            }

            for (var c = 0; c < opts.numberOfMonths; c++) {
                html += '<div class="pika-lendar">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year) + this.render(this.calendars[c].year, this.calendars[c].month) + '</div>';
            }

            this.el.innerHTML = html;

            if (opts.bound) {
                if(opts.field.type !== 'hidden') {
                    sto(function() {
                        opts.trigger.focus();
                    }, 1);
                }
            }

            if (typeof this._o.onDraw === 'function') {
                var self = this;
                sto(function() {
                    self._o.onDraw.call(self);
                }, 0);
            }
        },

        adjustPosition: function()
        {
            if (this._o.container) return;
            var field = this._o.trigger, pEl = field,
            width = this.el.offsetWidth, height = this.el.offsetHeight,
            viewportWidth = window.innerWidth || document.documentElement.clientWidth,
            viewportHeight = window.innerHeight || document.documentElement.clientHeight,
            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop,
            left, top, clientRect;

            if (typeof field.getBoundingClientRect === 'function') {
                clientRect = field.getBoundingClientRect();
                left = clientRect.left + window.pageXOffset;
                top = clientRect.bottom + window.pageYOffset;
            } else {
                left = pEl.offsetLeft;
                top  = pEl.offsetTop + pEl.offsetHeight;
                while((pEl = pEl.offsetParent)) {
                    left += pEl.offsetLeft;
                    top  += pEl.offsetTop;
                }
            }

            // default position is bottom & left
            if (left + width > viewportWidth ||
                (
                    this._o.position.indexOf('right') > -1 &&
                    left - width + field.offsetWidth > 0
                )
            ) {
                left = left - width + field.offsetWidth;
            }
            if (top + height > viewportHeight + scrollTop ||
                (
                    this._o.position.indexOf('top') > -1 &&
                    top - height - field.offsetHeight > 0
                )
            ) {
                top = top - height - field.offsetHeight;
            }
            this.el.style.cssText = [
                'position: absolute',
                'left: ' + left + 'px',
                'top: ' + top + 'px'
            ].join(';');
        },

        /**
         * render HTML for a particular month
         */
        render: function(year, month)
        {
            var opts   = this._o,
                now    = new Date(),
                days   = getDaysInMonth(year, month),
                before = new Date(year, month, 1).getDay(),
                data   = [],
                row    = [];
            setToStartOfDay(now);
            if (opts.firstDay > 0) {
                before -= opts.firstDay;
                if (before < 0) {
                    before += 7;
                }
            }
            var cells = days + before,
                after = cells;
            while(after > 7) {
                after -= 7;
            }
            cells += 7 - after;
            for (var i = 0, r = 0; i < cells; i++)
            {
                var day = new Date(year, month, 1 + (i - before)),
                    isDisabled = (opts.minDate && day < opts.minDate) || (opts.maxDate && day > opts.maxDate),
                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,
                    isToday = compareDates(day, now),
                    isEmpty = i < before || i >= (days + before);

                row.push(renderDay(1 + (i - before), month, year, isSelected, isToday, isDisabled, isEmpty));

                if (++r === 7) {
                    if (opts.showWeekNumber) {
                        row.unshift(renderWeek(i - before, month, year));
                    }
                    data.push(renderRow(row, opts.isRTL));
                    row = [];
                    r = 0;
                }
            }
            return renderTable(opts, data);
        },

        isVisible: function()
        {
            return this._v;
        },

        show: function()
        {
            if (!this._v) {
                removeClass(this.el, 'is-hidden');
                this._v = true;
                this.draw();
                if (this._o.bound) {
                    addEvent(document, 'click', this._onClick);
                    this.adjustPosition();
                }
                if (typeof this._o.onOpen === 'function') {
                    this._o.onOpen.call(this);
                }
            }
        },

        hide: function()
        {
            var v = this._v;
            if (v !== false) {
                if (this._o.bound) {
                    removeEvent(document, 'click', this._onClick);
                }
                this.el.style.cssText = '';
                addClass(this.el, 'is-hidden');
                this._v = false;
                if (v !== undefined && typeof this._o.onClose === 'function') {
                    this._o.onClose.call(this);
                }
            }
        },

        /**
         * GAME OVER
         */
        destroy: function()
        {
            this.hide();
            removeEvent(this.el, 'mousedown', this._onMouseDown, true);
            removeEvent(this.el, 'change', this._onChange);
            if (this._o.field) {
                removeEvent(this._o.field, 'change', this._onInputChange);
                if (this._o.bound) {
                    removeEvent(this._o.trigger, 'click', this._onInputClick);
                    removeEvent(this._o.trigger, 'focus', this._onInputFocus);
                    removeEvent(this._o.trigger, 'blur', this._onInputBlur);
                }
            }
            if (this.el.parentNode) {
                this.el.parentNode.removeChild(this.el);
            }
        }

    };

    return Pikaday;

}));

var CLOSURE_NO_DEPS=true;var COMPILED=false;var goog=goog||{};goog.global=this;goog.global.CLOSURE_DEFINES;goog.exportPath_=function(name,opt_object,opt_objectToExportTo){var parts=name.split(".");var cur=opt_objectToExportTo||goog.global;if(!(parts[0]in cur)&&cur.execScript)cur.execScript("var "+parts[0]);for(var part;parts.length&&(part=parts.shift());)if(!parts.length&&opt_object!==undefined)cur[part]=opt_object;else if(cur[part])cur=cur[part];else cur=cur[part]={}};
goog.define=function(name,defaultValue){var value=defaultValue;if(!COMPILED)if(goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,name))value=goog.global.CLOSURE_DEFINES[name];goog.exportPath_(name,value)};goog.DEBUG=true;goog.define("goog.LOCALE","en");goog.define("goog.TRUSTED_SITE",true);
goog.provide=function(name){if(!COMPILED){if(goog.isProvided_(name))throw Error('Namespace "'+name+'" already declared.');delete goog.implicitNamespaces_[name];var namespace=name;while(namespace=namespace.substring(0,namespace.lastIndexOf("."))){if(goog.getObjectByName(namespace))break;goog.implicitNamespaces_[namespace]=true}}goog.exportPath_(name)};
goog.setTestOnly=function(opt_message){if(COMPILED&&!goog.DEBUG){opt_message=opt_message||"";throw Error("Importing test-only code into non-debug environment"+opt_message?": "+opt_message:".");}};goog.forwardDeclare=function(name){};if(!COMPILED){goog.isProvided_=function(name){return!goog.implicitNamespaces_[name]&&goog.isDefAndNotNull(goog.getObjectByName(name))};goog.implicitNamespaces_={}}
goog.getObjectByName=function(name,opt_obj){var parts=name.split(".");var cur=opt_obj||goog.global;for(var part;part=parts.shift();)if(goog.isDefAndNotNull(cur[part]))cur=cur[part];else return null;return cur};goog.globalize=function(obj,opt_global){var global=opt_global||goog.global;for(var x in obj)global[x]=obj[x]};
goog.addDependency=function(relPath,provides,requires){if(goog.DEPENDENCIES_ENABLED){var provide,require;var path=relPath.replace(/\\/g,"/");var deps=goog.dependencies_;for(var i=0;provide=provides[i];i++){deps.nameToPath[provide]=path;if(!(path in deps.pathToNames))deps.pathToNames[path]={};deps.pathToNames[path][provide]=true}for(var j=0;require=requires[j];j++){if(!(path in deps.requires))deps.requires[path]={};deps.requires[path][require]=true}}};goog.define("goog.ENABLE_DEBUG_LOADER",true);
goog.require=function(name){if(!COMPILED){if(goog.isProvided_(name))return;if(goog.ENABLE_DEBUG_LOADER){var path=goog.getPathFromDeps_(name);if(path){goog.included_[path]=true;goog.writeScripts_();return}}var errorMessage="goog.require could not find: "+name;if(goog.global.console)goog.global.console["error"](errorMessage);throw Error(errorMessage);}};goog.basePath="";goog.global.CLOSURE_BASE_PATH;goog.global.CLOSURE_NO_DEPS;goog.global.CLOSURE_IMPORT_SCRIPT;goog.nullFunction=function(){};
goog.identityFunction=function(opt_returnValue,var_args){return opt_returnValue};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(ctor){ctor.getInstance=function(){if(ctor.instance_)return ctor.instance_;if(goog.DEBUG)goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=ctor;return ctor.instance_=new ctor}};goog.instantiatedSingletons_=[];goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;
if(goog.DEPENDENCIES_ENABLED){goog.included_={};goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}};goog.inHtmlDocument_=function(){var doc=goog.global.document;return typeof doc!="undefined"&&"write"in doc};goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH){goog.basePath=goog.global.CLOSURE_BASE_PATH;return}else if(!goog.inHtmlDocument_())return;var doc=goog.global.document;var scripts=doc.getElementsByTagName("script");for(var i=scripts.length-1;i>=0;--i){var src=
scripts[i].src;var qmark=src.lastIndexOf("?");var l=qmark==-1?src.length:qmark;if(src.substr(l-7,7)=="base.js"){goog.basePath=src.substr(0,l-7);return}}};goog.importScript_=function(src){var importScript=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;if(!goog.dependencies_.written[src]&&importScript(src))goog.dependencies_.written[src]=true};goog.writeScriptTag_=function(src){if(goog.inHtmlDocument_()){var doc=goog.global.document;if(doc.readyState=="complete"){var isDeps=/\bdeps.js$/.test(src);
if(isDeps)return false;else throw Error('Cannot write "'+src+'" after document load');}doc.write('\x3cscript type\x3d"text/javascript" src\x3d"'+src+'"\x3e\x3c/'+"script\x3e");return true}else return false};goog.writeScripts_=function(){var scripts=[];var seenScript={};var deps=goog.dependencies_;function visitNode(path){if(path in deps.written)return;if(path in deps.visited){if(!(path in seenScript)){seenScript[path]=true;scripts.push(path)}return}deps.visited[path]=true;if(path in deps.requires)for(var requireName in deps.requires[path])if(!goog.isProvided_(requireName))if(requireName in
deps.nameToPath)visitNode(deps.nameToPath[requireName]);else throw Error("Undefined nameToPath for "+requireName);if(!(path in seenScript)){seenScript[path]=true;scripts.push(path)}}for(var path in goog.included_)if(!deps.written[path])visitNode(path);for(var i=0;i<scripts.length;i++)if(scripts[i])goog.importScript_(goog.basePath+scripts[i]);else throw Error("Undefined script input");};goog.getPathFromDeps_=function(rule){if(rule in goog.dependencies_.nameToPath)return goog.dependencies_.nameToPath[rule];
else return null};goog.findBasePath_();if(!goog.global.CLOSURE_NO_DEPS)goog.importScript_(goog.basePath+"deps.js")}
goog.typeOf=function(value){var s=typeof value;if(s=="object")if(value){if(value instanceof Array)return"array";else if(value instanceof Object)return s;var className=Object.prototype.toString.call((value));if(className=="[object Window]")return"object";if(className=="[object Array]"||typeof value.length=="number"&&(typeof value.splice!="undefined"&&(typeof value.propertyIsEnumerable!="undefined"&&!value.propertyIsEnumerable("splice"))))return"array";if(className=="[object Function]"||typeof value.call!=
"undefined"&&(typeof value.propertyIsEnumerable!="undefined"&&!value.propertyIsEnumerable("call")))return"function"}else return"null";else if(s=="function"&&typeof value.call=="undefined")return"object";return s};goog.isDef=function(val){return val!==undefined};goog.isNull=function(val){return val===null};goog.isDefAndNotNull=function(val){return val!=null};goog.isArray=function(val){return goog.typeOf(val)=="array"};
goog.isArrayLike=function(val){var type=goog.typeOf(val);return type=="array"||type=="object"&&typeof val.length=="number"};goog.isDateLike=function(val){return goog.isObject(val)&&typeof val.getFullYear=="function"};goog.isString=function(val){return typeof val=="string"};goog.isBoolean=function(val){return typeof val=="boolean"};goog.isNumber=function(val){return typeof val=="number"};goog.isFunction=function(val){return goog.typeOf(val)=="function"};
goog.isObject=function(val){var type=typeof val;return type=="object"&&val!=null||type=="function"};goog.getUid=function(obj){return obj[goog.UID_PROPERTY_]||(obj[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(obj){return!!obj[goog.UID_PROPERTY_]};goog.removeUid=function(obj){if("removeAttribute"in obj)obj.removeAttribute(goog.UID_PROPERTY_);try{delete obj[goog.UID_PROPERTY_]}catch(ex){}};goog.UID_PROPERTY_="closure_uid_"+(Math.random()*1E9>>>0);goog.uidCounter_=0;
goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(obj){var type=goog.typeOf(obj);if(type=="object"||type=="array"){if(obj.clone)return obj.clone();var clone=type=="array"?[]:{};for(var key in obj)clone[key]=goog.cloneObject(obj[key]);return clone}return obj};goog.bindNative_=function(fn,selfObj,var_args){return(fn.call.apply(fn.bind,arguments))};
goog.bindJs_=function(fn,selfObj,var_args){if(!fn)throw new Error;if(arguments.length>2){var boundArgs=Array.prototype.slice.call(arguments,2);return function(){var newArgs=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(newArgs,boundArgs);return fn.apply(selfObj,newArgs)}}else return function(){return fn.apply(selfObj,arguments)}};
goog.bind=function(fn,selfObj,var_args){if(Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1)goog.bind=goog.bindNative_;else goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};goog.partial=function(fn,var_args){var args=Array.prototype.slice.call(arguments,1);return function(){var newArgs=args.slice();newArgs.push.apply(newArgs,arguments);return fn.apply(this,newArgs)}};goog.mixin=function(target,source){for(var x in source)target[x]=source[x]};
goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(script){if(goog.global.execScript)goog.global.execScript(script,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null){goog.global.eval("var _et_ \x3d 1;");if(typeof goog.global["_et_"]!="undefined"){delete goog.global["_et_"];goog.evalWorksForGlobals_=true}else goog.evalWorksForGlobals_=false}if(goog.evalWorksForGlobals_)goog.global.eval(script);else{var doc=goog.global.document;var scriptElt=doc.createElement("script");scriptElt.type="text/javascript";
scriptElt.defer=false;scriptElt.appendChild(doc.createTextNode(script));doc.body.appendChild(scriptElt);doc.body.removeChild(scriptElt)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.cssNameMapping_;goog.cssNameMappingStyle_;
goog.getCssName=function(className,opt_modifier){var getMapping=function(cssName){return goog.cssNameMapping_[cssName]||cssName};var renameByParts=function(cssName){var parts=cssName.split("-");var mapped=[];for(var i=0;i<parts.length;i++)mapped.push(getMapping(parts[i]));return mapped.join("-")};var rename;if(goog.cssNameMapping_)rename=goog.cssNameMappingStyle_=="BY_WHOLE"?getMapping:renameByParts;else rename=function(a){return a};if(opt_modifier)return className+"-"+rename(opt_modifier);else return rename(className)};
goog.setCssNameMapping=function(mapping,opt_style){goog.cssNameMapping_=mapping;goog.cssNameMappingStyle_=opt_style};goog.global.CLOSURE_CSS_NAME_MAPPING;if(!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING)goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING;goog.getMsg=function(str,opt_values){var values=opt_values||{};for(var key in values){var value=(""+values[key]).replace(/\$/g,"$$$$");str=str.replace(new RegExp("\\{\\$"+key+"\\}","gi"),value)}return str};
goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(publicPath,object,opt_objectToExportTo){goog.exportPath_(publicPath,object,opt_objectToExportTo)};goog.exportProperty=function(object,publicName,symbol){object[publicName]=symbol};
goog.inherits=function(childCtor,parentCtor){function tempCtor(){}tempCtor.prototype=parentCtor.prototype;childCtor.superClass_=parentCtor.prototype;childCtor.prototype=new tempCtor;childCtor.prototype.constructor=childCtor;childCtor.base=function(me,methodName,var_args){var args=Array.prototype.slice.call(arguments,2);return parentCtor.prototype[methodName].apply(me,args)}};
goog.base=function(me,opt_methodName,var_args){var caller=arguments.callee.caller;if(goog.DEBUG)if(!caller)throw Error("arguments.caller not defined.  goog.base() expects not "+"to be running in strict mode. See "+"http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(caller.superClass_)return caller.superClass_.constructor.apply(me,Array.prototype.slice.call(arguments,1));var args=Array.prototype.slice.call(arguments,2);var foundCaller=false;for(var ctor=me.constructor;ctor;ctor=ctor.superClass_&&
ctor.superClass_.constructor)if(ctor.prototype[opt_methodName]===caller)foundCaller=true;else if(foundCaller)return ctor.prototype[opt_methodName].apply(me,args);if(me[opt_methodName]===caller)return me.constructor.prototype[opt_methodName].apply(me,args);else throw Error("goog.base called from a method of one name "+"to a method of a different name");};goog.scope=function(fn){fn.call(goog.global)};goog.provide("goog.string");goog.provide("goog.string.Unicode");goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(str,prefix){return str.lastIndexOf(prefix,0)==0};goog.string.endsWith=function(str,suffix){var l=str.length-suffix.length;return l>=0&&str.indexOf(suffix,l)==l};goog.string.caseInsensitiveStartsWith=function(str,prefix){return goog.string.caseInsensitiveCompare(prefix,str.substr(0,prefix.length))==0};
goog.string.caseInsensitiveEndsWith=function(str,suffix){return goog.string.caseInsensitiveCompare(suffix,str.substr(str.length-suffix.length,suffix.length))==0};goog.string.caseInsensitiveEquals=function(str1,str2){return str1.toLowerCase()==str2.toLowerCase()};
goog.string.subs=function(str,var_args){var splitParts=str.split("%s");var returnString="";var subsArguments=Array.prototype.slice.call(arguments,1);while(subsArguments.length&&splitParts.length>1)returnString+=splitParts.shift()+subsArguments.shift();return returnString+splitParts.join("%s")};goog.string.collapseWhitespace=function(str){return str.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmpty=function(str){return/^[\s\xa0]*$/.test(str)};goog.string.isEmptySafe=function(str){return goog.string.isEmpty(goog.string.makeSafe(str))};
goog.string.isBreakingWhitespace=function(str){return!/[^\t\n\r ]/.test(str)};goog.string.isAlpha=function(str){return!/[^a-zA-Z]/.test(str)};goog.string.isNumeric=function(str){return!/[^0-9]/.test(str)};goog.string.isAlphaNumeric=function(str){return!/[^a-zA-Z0-9]/.test(str)};goog.string.isSpace=function(ch){return ch==" "};goog.string.isUnicodeChar=function(ch){return ch.length==1&&(ch>=" "&&ch<="~")||ch>="\u0080"&&ch<="\ufffd"};
goog.string.stripNewlines=function(str){return str.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(str){return str.replace(/(\r\n|\r|\n)/g,"\n")};goog.string.normalizeWhitespace=function(str){return str.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(str){return str.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(str){return str.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};
goog.string.trim=function(str){return str.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};goog.string.trimLeft=function(str){return str.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(str){return str.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(str1,str2){var test1=String(str1).toLowerCase();var test2=String(str2).toLowerCase();if(test1<test2)return-1;else if(test1==test2)return 0;else return 1};goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g;
goog.string.numerateCompare=function(str1,str2){if(str1==str2)return 0;if(!str1)return-1;if(!str2)return 1;var tokens1=str1.toLowerCase().match(goog.string.numerateCompareRegExp_);var tokens2=str2.toLowerCase().match(goog.string.numerateCompareRegExp_);var count=Math.min(tokens1.length,tokens2.length);for(var i=0;i<count;i++){var a=tokens1[i];var b=tokens2[i];if(a!=b){var num1=parseInt(a,10);if(!isNaN(num1)){var num2=parseInt(b,10);if(!isNaN(num2)&&num1-num2)return num1-num2}return a<b?-1:1}}if(tokens1.length!=
tokens2.length)return tokens1.length-tokens2.length;return str1<str2?-1:1};goog.string.urlEncode=function(str){return encodeURIComponent(String(str))};goog.string.urlDecode=function(str){return decodeURIComponent(str.replace(/\+/g," "))};goog.string.newLineToBr=function(str,opt_xml){return str.replace(/(\r\n|\r|\n)/g,opt_xml?"\x3cbr /\x3e":"\x3cbr\x3e")};
goog.string.htmlEscape=function(str,opt_isLikelyToContainHtmlChars){if(opt_isLikelyToContainHtmlChars)return str.replace(goog.string.amperRe_,"\x26amp;").replace(goog.string.ltRe_,"\x26lt;").replace(goog.string.gtRe_,"\x26gt;").replace(goog.string.quotRe_,"\x26quot;").replace(goog.string.singleQuoteRe_,"\x26#39;");else{if(!goog.string.allRe_.test(str))return str;if(str.indexOf("\x26")!=-1)str=str.replace(goog.string.amperRe_,"\x26amp;");if(str.indexOf("\x3c")!=-1)str=str.replace(goog.string.ltRe_,
"\x26lt;");if(str.indexOf("\x3e")!=-1)str=str.replace(goog.string.gtRe_,"\x26gt;");if(str.indexOf('"')!=-1)str=str.replace(goog.string.quotRe_,"\x26quot;");if(str.indexOf("'")!=-1)str=str.replace(goog.string.singleQuoteRe_,"\x26#39;");return str}};goog.string.amperRe_=/&/g;goog.string.ltRe_=/</g;goog.string.gtRe_=/>/g;goog.string.quotRe_=/"/g;goog.string.singleQuoteRe_=/'/g;goog.string.allRe_=/[&<>"']/;
goog.string.unescapeEntities=function(str){if(goog.string.contains(str,"\x26"))if("document"in goog.global)return goog.string.unescapeEntitiesUsingDom_(str);else return goog.string.unescapePureXmlEntities_(str);return str};goog.string.unescapeEntitiesWithDocument=function(str,document){if(goog.string.contains(str,"\x26"))return goog.string.unescapeEntitiesUsingDom_(str,document);return str};
goog.string.unescapeEntitiesUsingDom_=function(str,opt_document){var seen={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'};var div;if(opt_document)div=opt_document.createElement("div");else div=document.createElement("div");return str.replace(goog.string.HTML_ENTITY_PATTERN_,function(s,entity){var value=seen[s];if(value)return value;if(entity.charAt(0)=="#"){var n=Number("0"+entity.substr(1));if(!isNaN(n))value=String.fromCharCode(n)}if(!value){div.innerHTML=s+" ";value=div.firstChild.nodeValue.slice(0,
-1)}return seen[s]=value})};goog.string.unescapePureXmlEntities_=function(str){return str.replace(/&([^;]+);/g,function(s,entity){switch(entity){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if(entity.charAt(0)=="#"){var n=Number("0"+entity.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return s}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;
goog.string.whitespaceEscape=function(str,opt_xml){return goog.string.newLineToBr(str.replace(/  /g," \x26#160;"),opt_xml)};goog.string.stripQuotes=function(str,quoteChars){var length=quoteChars.length;for(var i=0;i<length;i++){var quoteChar=length==1?quoteChars:quoteChars.charAt(i);if(str.charAt(0)==quoteChar&&str.charAt(str.length-1)==quoteChar)return str.substring(1,str.length-1)}return str};
goog.string.truncate=function(str,chars,opt_protectEscapedCharacters){if(opt_protectEscapedCharacters)str=goog.string.unescapeEntities(str);if(str.length>chars)str=str.substring(0,chars-3)+"...";if(opt_protectEscapedCharacters)str=goog.string.htmlEscape(str);return str};
goog.string.truncateMiddle=function(str,chars,opt_protectEscapedCharacters,opt_trailingChars){if(opt_protectEscapedCharacters)str=goog.string.unescapeEntities(str);if(opt_trailingChars&&str.length>chars){if(opt_trailingChars>chars)opt_trailingChars=chars;var endPoint=str.length-opt_trailingChars;var startPoint=chars-opt_trailingChars;str=str.substring(0,startPoint)+"..."+str.substring(endPoint)}else if(str.length>chars){var half=Math.floor(chars/2);var endPos=str.length-half;half+=chars%2;str=str.substring(0,
half)+"..."+str.substring(endPos)}if(opt_protectEscapedCharacters)str=goog.string.htmlEscape(str);return str};goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(s){s=String(s);if(s.quote)return s.quote();else{var sb=['"'];for(var i=0;i<s.length;i++){var ch=s.charAt(i);var cc=ch.charCodeAt(0);sb[i+1]=goog.string.specialEscapeChars_[ch]||(cc>31&&cc<127?ch:goog.string.escapeChar(ch))}sb.push('"');return sb.join("")}};goog.string.escapeString=function(str){var sb=[];for(var i=0;i<str.length;i++)sb[i]=goog.string.escapeChar(str.charAt(i));return sb.join("")};
goog.string.escapeChar=function(c){if(c in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[c];if(c in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[c]=goog.string.specialEscapeChars_[c];var rv=c;var cc=c.charCodeAt(0);if(cc>31&&cc<127)rv=c;else{if(cc<256){rv="\\x";if(cc<16||cc>256)rv+="0"}else{rv="\\u";if(cc<4096)rv+="0"}rv+=cc.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[c]=rv};
goog.string.toMap=function(s){var rv={};for(var i=0;i<s.length;i++)rv[s.charAt(i)]=true;return rv};goog.string.contains=function(s,ss){return s.indexOf(ss)!=-1};goog.string.countOf=function(s,ss){return s&&ss?s.split(ss).length-1:0};goog.string.removeAt=function(s,index,stringLength){var resultStr=s;if(index>=0&&(index<s.length&&stringLength>0))resultStr=s.substr(0,index)+s.substr(index+stringLength,s.length-index-stringLength);return resultStr};
goog.string.remove=function(s,ss){var re=new RegExp(goog.string.regExpEscape(ss),"");return s.replace(re,"")};goog.string.removeAll=function(s,ss){var re=new RegExp(goog.string.regExpEscape(ss),"g");return s.replace(re,"")};goog.string.regExpEscape=function(s){return String(s).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=function(string,length){return(new Array(length+1)).join(string)};
goog.string.padNumber=function(num,length,opt_precision){var s=goog.isDef(opt_precision)?num.toFixed(opt_precision):String(num);var index=s.indexOf(".");if(index==-1)index=s.length;return goog.string.repeat("0",Math.max(0,length-index))+s};goog.string.makeSafe=function(obj){return obj==null?"":String(obj)};goog.string.buildString=function(var_args){return Array.prototype.join.call(arguments,"")};
goog.string.getRandomString=function(){var x=2147483648;return Math.floor(Math.random()*x).toString(36)+Math.abs(Math.floor(Math.random()*x)^goog.now()).toString(36)};
goog.string.compareVersions=function(version1,version2){var order=0;var v1Subs=goog.string.trim(String(version1)).split(".");var v2Subs=goog.string.trim(String(version2)).split(".");var subCount=Math.max(v1Subs.length,v2Subs.length);for(var subIdx=0;order==0&&subIdx<subCount;subIdx++){var v1Sub=v1Subs[subIdx]||"";var v2Sub=v2Subs[subIdx]||"";var v1CompParser=new RegExp("(\\d*)(\\D*)","g");var v2CompParser=new RegExp("(\\d*)(\\D*)","g");do{var v1Comp=v1CompParser.exec(v1Sub)||["","",""];var v2Comp=
v2CompParser.exec(v2Sub)||["","",""];if(v1Comp[0].length==0&&v2Comp[0].length==0)break;var v1CompNum=v1Comp[1].length==0?0:parseInt(v1Comp[1],10);var v2CompNum=v2Comp[1].length==0?0:parseInt(v2Comp[1],10);order=goog.string.compareElements_(v1CompNum,v2CompNum)||(goog.string.compareElements_(v1Comp[2].length==0,v2Comp[2].length==0)||goog.string.compareElements_(v1Comp[2],v2Comp[2]))}while(order==0)}return order};
goog.string.compareElements_=function(left,right){if(left<right)return-1;else if(left>right)return 1;return 0};goog.string.HASHCODE_MAX_=4294967296;goog.string.hashCode=function(str){var result=0;for(var i=0;i<str.length;++i){result=31*result+str.charCodeAt(i);result%=goog.string.HASHCODE_MAX_}return result};goog.string.uniqueStringCounter_=Math.random()*2147483648|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(str){var num=Number(str);if(num==0&&goog.string.isEmpty(str))return NaN;return num};goog.string.isLowerCamelCase=function(str){return/^[a-z]+([A-Z][a-z]*)*$/.test(str)};goog.string.isUpperCamelCase=function(str){return/^([A-Z][a-z]*)+$/.test(str)};goog.string.toCamelCase=function(str){return String(str).replace(/\-([a-z])/g,function(all,match){return match.toUpperCase()})};goog.string.toSelectorCase=function(str){return String(str).replace(/([A-Z])/g,"-$1").toLowerCase()};
goog.string.toTitleCase=function(str,opt_delimiters){var delimiters=goog.isString(opt_delimiters)?goog.string.regExpEscape(opt_delimiters):"\\s";delimiters=delimiters?"|["+delimiters+"]+":"";var regexp=new RegExp("(^"+delimiters+")([a-z])","g");return str.replace(regexp,function(all,p1,p2){return p1+p2.toUpperCase()})};goog.string.parseInt=function(value){if(isFinite(value))value=String(value);if(goog.isString(value))return/^\s*-?0x/i.test(value)?parseInt(value,16):parseInt(value,10);return NaN};
goog.string.splitLimit=function(str,separator,limit){var parts=str.split(separator);var returnVal=[];while(limit>0&&parts.length){returnVal.push(parts.shift());limit--}if(parts.length)returnVal.push(parts.join(separator));return returnVal};goog.provide("goog.object");goog.object.forEach=function(obj,f,opt_obj){for(var key in obj)f.call(opt_obj,obj[key],key,obj)};goog.object.filter=function(obj,f,opt_obj){var res={};for(var key in obj)if(f.call(opt_obj,obj[key],key,obj))res[key]=obj[key];return res};goog.object.map=function(obj,f,opt_obj){var res={};for(var key in obj)res[key]=f.call(opt_obj,obj[key],key,obj);return res};goog.object.some=function(obj,f,opt_obj){for(var key in obj)if(f.call(opt_obj,obj[key],key,obj))return true;return false};
goog.object.every=function(obj,f,opt_obj){for(var key in obj)if(!f.call(opt_obj,obj[key],key,obj))return false;return true};goog.object.getCount=function(obj){var rv=0;for(var key in obj)rv++;return rv};goog.object.getAnyKey=function(obj){for(var key in obj)return key};goog.object.getAnyValue=function(obj){for(var key in obj)return obj[key]};goog.object.contains=function(obj,val){return goog.object.containsValue(obj,val)};
goog.object.getValues=function(obj){var res=[];var i=0;for(var key in obj)res[i++]=obj[key];return res};goog.object.getKeys=function(obj){var res=[];var i=0;for(var key in obj)res[i++]=key;return res};goog.object.getValueByKeys=function(obj,var_args){var isArrayLike=goog.isArrayLike(var_args);var keys=isArrayLike?var_args:arguments;for(var i=isArrayLike?0:1;i<keys.length;i++){obj=obj[keys[i]];if(!goog.isDef(obj))break}return obj};goog.object.containsKey=function(obj,key){return key in obj};
goog.object.containsValue=function(obj,val){for(var key in obj)if(obj[key]==val)return true;return false};goog.object.findKey=function(obj,f,opt_this){for(var key in obj)if(f.call(opt_this,obj[key],key,obj))return key;return undefined};goog.object.findValue=function(obj,f,opt_this){var key=goog.object.findKey(obj,f,opt_this);return key&&obj[key]};goog.object.isEmpty=function(obj){for(var key in obj)return false;return true};goog.object.clear=function(obj){for(var i in obj)delete obj[i]};
goog.object.remove=function(obj,key){var rv;if(rv=key in obj)delete obj[key];return rv};goog.object.add=function(obj,key,val){if(key in obj)throw Error('The object already contains the key "'+key+'"');goog.object.set(obj,key,val)};goog.object.get=function(obj,key,opt_val){if(key in obj)return obj[key];return opt_val};goog.object.set=function(obj,key,value){obj[key]=value};goog.object.setIfUndefined=function(obj,key,value){return key in obj?obj[key]:obj[key]=value};
goog.object.clone=function(obj){var res={};for(var key in obj)res[key]=obj[key];return res};goog.object.unsafeClone=function(obj){var type=goog.typeOf(obj);if(type=="object"||type=="array"){if(obj.clone)return obj.clone();var clone=type=="array"?[]:{};for(var key in obj)clone[key]=goog.object.unsafeClone(obj[key]);return clone}return obj};goog.object.transpose=function(obj){var transposed={};for(var key in obj)transposed[obj[key]]=key;return transposed};
goog.object.PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];goog.object.extend=function(target,var_args){var key,source;for(var i=1;i<arguments.length;i++){source=arguments[i];for(key in source)target[key]=source[key];for(var j=0;j<goog.object.PROTOTYPE_FIELDS_.length;j++){key=goog.object.PROTOTYPE_FIELDS_[j];if(Object.prototype.hasOwnProperty.call(source,key))target[key]=source[key]}}};
goog.object.create=function(var_args){var argLength=arguments.length;if(argLength==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(argLength%2)throw Error("Uneven number of arguments");var rv={};for(var i=0;i<argLength;i+=2)rv[arguments[i]]=arguments[i+1];return rv};
goog.object.createSet=function(var_args){var argLength=arguments.length;if(argLength==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);var rv={};for(var i=0;i<argLength;i++)rv[arguments[i]]=true;return rv};goog.object.createImmutableView=function(obj){var result=obj;if(Object.isFrozen&&!Object.isFrozen(obj)){result=Object.create(obj);Object.freeze(result)}return result};goog.object.isImmutableView=function(obj){return!!Object.isFrozen&&Object.isFrozen(obj)};goog.provide("goog.string.StringBuffer");goog.string.StringBuffer=function(opt_a1,var_args){if(opt_a1!=null)this.append.apply(this,arguments)};goog.string.StringBuffer.prototype.buffer_="";goog.string.StringBuffer.prototype.set=function(s){this.buffer_=""+s};goog.string.StringBuffer.prototype.append=function(a1,opt_a2,var_args){this.buffer_+=a1;if(opt_a2!=null)for(var i=1;i<arguments.length;i++)this.buffer_+=arguments[i];return this};
goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""};goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length};goog.string.StringBuffer.prototype.toString=function(){return this.buffer_};goog.provide("goog.debug.Error");goog.debug.Error=function(opt_msg){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var stack=(new Error).stack;if(stack)this.stack=stack}if(opt_msg)this.message=String(opt_msg)};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.provide("goog.dom.NodeType");goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.provide("goog.asserts");goog.provide("goog.asserts.AssertionError");goog.require("goog.debug.Error");goog.require("goog.dom.NodeType");goog.require("goog.string");goog.define("goog.asserts.ENABLE_ASSERTS",goog.DEBUG);goog.asserts.AssertionError=function(messagePattern,messageArgs){messageArgs.unshift(messagePattern);goog.debug.Error.call(this,goog.string.subs.apply(null,messageArgs));messageArgs.shift();this.messagePattern=messagePattern};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);
goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.doAssertFailure_=function(defaultMessage,defaultArgs,givenMessage,givenArgs){var message="Assertion failed";if(givenMessage){message+=": "+givenMessage;var args=givenArgs}else if(defaultMessage){message+=": "+defaultMessage;args=defaultArgs}throw new goog.asserts.AssertionError(""+message,args||[]);};
goog.asserts.assert=function(condition,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!condition)goog.asserts.doAssertFailure_("",null,opt_message,Array.prototype.slice.call(arguments,2));return condition};goog.asserts.fail=function(opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(opt_message?": "+opt_message:""),Array.prototype.slice.call(arguments,1));};
goog.asserts.assertNumber=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(value))goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertString=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isString(value))goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertFunction=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(value))goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertObject=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isObject(value))goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertArray=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isArray(value))goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertBoolean=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(value))goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertElement=function(value,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&(!goog.isObject(value)||value.nodeType!=goog.dom.NodeType.ELEMENT))goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(value),value],opt_message,Array.prototype.slice.call(arguments,2));return(value)};
goog.asserts.assertInstanceof=function(value,type,opt_message,var_args){if(goog.asserts.ENABLE_ASSERTS&&!(value instanceof type))goog.asserts.doAssertFailure_("instanceof check failed.",null,opt_message,Array.prototype.slice.call(arguments,3));return value};goog.asserts.assertObjectPrototypeIsIntact=function(){for(var key in Object.prototype)goog.asserts.fail(key+" should not be enumerable in Object.prototype.")};goog.provide("goog.array");goog.provide("goog.array.ArrayLike");goog.require("goog.asserts");goog.define("goog.NATIVE_ARRAY_PROTOTYPES",goog.TRUSTED_SITE);goog.define("goog.array.ASSUME_NATIVE_FUNCTIONS",false);goog.array.ArrayLike;goog.array.peek=function(array){return array[array.length-1]};goog.array.ARRAY_PROTOTYPE_=Array.prototype;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(arr,obj,opt_fromIndex){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.indexOf.call(arr,obj,opt_fromIndex)}:function(arr,obj,opt_fromIndex){var fromIndex=opt_fromIndex==null?0:opt_fromIndex<0?Math.max(0,arr.length+opt_fromIndex):opt_fromIndex;if(goog.isString(arr)){if(!goog.isString(obj)||obj.length!=1)return-1;return arr.indexOf(obj,fromIndex)}for(var i=
fromIndex;i<arr.length;i++)if(i in arr&&arr[i]===obj)return i;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(arr,obj,opt_fromIndex){goog.asserts.assert(arr.length!=null);var fromIndex=opt_fromIndex==null?arr.length-1:opt_fromIndex;return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(arr,obj,fromIndex)}:function(arr,obj,opt_fromIndex){var fromIndex=opt_fromIndex==null?arr.length-1:opt_fromIndex;if(fromIndex<0)fromIndex=Math.max(0,arr.length+fromIndex);if(goog.isString(arr)){if(!goog.isString(obj)||
obj.length!=1)return-1;return arr.lastIndexOf(obj,fromIndex)}for(var i=fromIndex;i>=0;i--)if(i in arr&&arr[i]===obj)return i;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(arr,f,opt_obj){goog.asserts.assert(arr.length!=null);goog.array.ARRAY_PROTOTYPE_.forEach.call(arr,f,opt_obj)}:function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2)f.call(opt_obj,arr2[i],i,arr)};
goog.array.forEachRight=function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=l-1;i>=0;--i)if(i in arr2)f.call(opt_obj,arr2[i],i,arr)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(arr,f,opt_obj){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.filter.call(arr,f,opt_obj)}:function(arr,f,opt_obj){var l=arr.length;var res=[];var resLength=0;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2){var val=arr2[i];if(f.call(opt_obj,val,i,arr))res[resLength++]=val}return res};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(arr,f,opt_obj){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.map.call(arr,f,opt_obj)}:function(arr,f,opt_obj){var l=arr.length;var res=new Array(l);var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2)res[i]=f.call(opt_obj,arr2[i],i,arr);return res};
goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(arr,f,val,opt_obj){goog.asserts.assert(arr.length!=null);if(opt_obj)f=goog.bind(f,opt_obj);return goog.array.ARRAY_PROTOTYPE_.reduce.call(arr,f,val)}:function(arr,f,val,opt_obj){var rval=val;goog.array.forEach(arr,function(val,index){rval=f.call(opt_obj,rval,val,index,arr)});return rval};
goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(arr,f,val,opt_obj){goog.asserts.assert(arr.length!=null);if(opt_obj)f=goog.bind(f,opt_obj);return goog.array.ARRAY_PROTOTYPE_.reduceRight.call(arr,f,val)}:function(arr,f,val,opt_obj){var rval=val;goog.array.forEachRight(arr,function(val,index){rval=f.call(opt_obj,rval,val,index,arr)});return rval};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(arr,f,opt_obj){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.some.call(arr,f,opt_obj)}:function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2&&f.call(opt_obj,arr2[i],i,arr))return true;return false};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(arr,f,opt_obj){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.every.call(arr,f,opt_obj)}:function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2&&!f.call(opt_obj,arr2[i],i,arr))return false;return true};
goog.array.count=function(arr,f,opt_obj){var count=0;goog.array.forEach(arr,function(element,index,arr){if(f.call(opt_obj,element,index,arr))++count},opt_obj);return count};goog.array.find=function(arr,f,opt_obj){var i=goog.array.findIndex(arr,f,opt_obj);return i<0?null:goog.isString(arr)?arr.charAt(i):arr[i]};goog.array.findIndex=function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=0;i<l;i++)if(i in arr2&&f.call(opt_obj,arr2[i],i,arr))return i;return-1};
goog.array.findRight=function(arr,f,opt_obj){var i=goog.array.findIndexRight(arr,f,opt_obj);return i<0?null:goog.isString(arr)?arr.charAt(i):arr[i]};goog.array.findIndexRight=function(arr,f,opt_obj){var l=arr.length;var arr2=goog.isString(arr)?arr.split(""):arr;for(var i=l-1;i>=0;i--)if(i in arr2&&f.call(opt_obj,arr2[i],i,arr))return i;return-1};goog.array.contains=function(arr,obj){return goog.array.indexOf(arr,obj)>=0};goog.array.isEmpty=function(arr){return arr.length==0};
goog.array.clear=function(arr){if(!goog.isArray(arr))for(var i=arr.length-1;i>=0;i--)delete arr[i];arr.length=0};goog.array.insert=function(arr,obj){if(!goog.array.contains(arr,obj))arr.push(obj)};goog.array.insertAt=function(arr,obj,opt_i){goog.array.splice(arr,opt_i,0,obj)};goog.array.insertArrayAt=function(arr,elementsToAdd,opt_i){goog.partial(goog.array.splice,arr,opt_i,0).apply(null,elementsToAdd)};
goog.array.insertBefore=function(arr,obj,opt_obj2){var i;if(arguments.length==2||(i=goog.array.indexOf(arr,opt_obj2))<0)arr.push(obj);else goog.array.insertAt(arr,obj,i)};goog.array.remove=function(arr,obj){var i=goog.array.indexOf(arr,obj);var rv;if(rv=i>=0)goog.array.removeAt(arr,i);return rv};goog.array.removeAt=function(arr,i){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.splice.call(arr,i,1).length==1};
goog.array.removeIf=function(arr,f,opt_obj){var i=goog.array.findIndex(arr,f,opt_obj);if(i>=0){goog.array.removeAt(arr,i);return true}return false};goog.array.concat=function(var_args){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.toArray=function(object){var length=object.length;if(length>0){var rv=new Array(length);for(var i=0;i<length;i++)rv[i]=object[i];return rv}return[]};goog.array.clone=goog.array.toArray;
goog.array.extend=function(arr1,var_args){for(var i=1;i<arguments.length;i++){var arr2=arguments[i];var isArrayLike;if(goog.isArray(arr2)||(isArrayLike=goog.isArrayLike(arr2))&&Object.prototype.hasOwnProperty.call(arr2,"callee"))arr1.push.apply(arr1,arr2);else if(isArrayLike){var len1=arr1.length;var len2=arr2.length;for(var j=0;j<len2;j++)arr1[len1+j]=arr2[j]}else arr1.push(arr2)}};
goog.array.splice=function(arr,index,howMany,var_args){goog.asserts.assert(arr.length!=null);return goog.array.ARRAY_PROTOTYPE_.splice.apply(arr,goog.array.slice(arguments,1))};goog.array.slice=function(arr,start,opt_end){goog.asserts.assert(arr.length!=null);if(arguments.length<=2)return goog.array.ARRAY_PROTOTYPE_.slice.call(arr,start);else return goog.array.ARRAY_PROTOTYPE_.slice.call(arr,start,opt_end)};
goog.array.removeDuplicates=function(arr,opt_rv,opt_hashFn){var returnArray=opt_rv||arr;var defaultHashFn=function(item){return goog.isObject(current)?"o"+goog.getUid(current):(typeof current).charAt(0)+current};var hashFn=opt_hashFn||defaultHashFn;var seen={},cursorInsert=0,cursorRead=0;while(cursorRead<arr.length){var current=arr[cursorRead++];var key=hashFn(current);if(!Object.prototype.hasOwnProperty.call(seen,key)){seen[key]=true;returnArray[cursorInsert++]=current}}returnArray.length=cursorInsert};
goog.array.binarySearch=function(arr,target,opt_compareFn){return goog.array.binarySearch_(arr,opt_compareFn||goog.array.defaultCompare,false,target)};goog.array.binarySelect=function(arr,evaluator,opt_obj){return goog.array.binarySearch_(arr,evaluator,true,undefined,opt_obj)};
goog.array.binarySearch_=function(arr,compareFn,isEvaluator,opt_target,opt_selfObj){var left=0;var right=arr.length;var found;while(left<right){var middle=left+right>>1;var compareResult;if(isEvaluator)compareResult=compareFn.call(opt_selfObj,arr[middle],middle,arr);else compareResult=compareFn(opt_target,arr[middle]);if(compareResult>0)left=middle+1;else{right=middle;found=!compareResult}}return found?left:~left};goog.array.sort=function(arr,opt_compareFn){arr.sort(opt_compareFn||goog.array.defaultCompare)};
goog.array.stableSort=function(arr,opt_compareFn){for(var i=0;i<arr.length;i++)arr[i]={index:i,value:arr[i]};var valueCompareFn=opt_compareFn||goog.array.defaultCompare;function stableCompareFn(obj1,obj2){return valueCompareFn(obj1.value,obj2.value)||obj1.index-obj2.index}goog.array.sort(arr,stableCompareFn);for(var i=0;i<arr.length;i++)arr[i]=arr[i].value};
goog.array.sortObjectsByKey=function(arr,key,opt_compareFn){var compare=opt_compareFn||goog.array.defaultCompare;goog.array.sort(arr,function(a,b){return compare(a[key],b[key])})};goog.array.isSorted=function(arr,opt_compareFn,opt_strict){var compare=opt_compareFn||goog.array.defaultCompare;for(var i=1;i<arr.length;i++){var compareResult=compare(arr[i-1],arr[i]);if(compareResult>0||compareResult==0&&opt_strict)return false}return true};
goog.array.equals=function(arr1,arr2,opt_equalsFn){if(!goog.isArrayLike(arr1)||(!goog.isArrayLike(arr2)||arr1.length!=arr2.length))return false;var l=arr1.length;var equalsFn=opt_equalsFn||goog.array.defaultCompareEquality;for(var i=0;i<l;i++)if(!equalsFn(arr1[i],arr2[i]))return false;return true};
goog.array.compare3=function(arr1,arr2,opt_compareFn){var compare=opt_compareFn||goog.array.defaultCompare;var l=Math.min(arr1.length,arr2.length);for(var i=0;i<l;i++){var result=compare(arr1[i],arr2[i]);if(result!=0)return result}return goog.array.defaultCompare(arr1.length,arr2.length)};goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0};goog.array.defaultCompareEquality=function(a,b){return a===b};
goog.array.binaryInsert=function(array,value,opt_compareFn){var index=goog.array.binarySearch(array,value,opt_compareFn);if(index<0){goog.array.insertAt(array,value,-(index+1));return true}return false};goog.array.binaryRemove=function(array,value,opt_compareFn){var index=goog.array.binarySearch(array,value,opt_compareFn);return index>=0?goog.array.removeAt(array,index):false};
goog.array.bucket=function(array,sorter,opt_obj){var buckets={};for(var i=0;i<array.length;i++){var value=array[i];var key=sorter.call(opt_obj,value,i,array);if(goog.isDef(key)){var bucket=buckets[key]||(buckets[key]=[]);bucket.push(value)}}return buckets};goog.array.toObject=function(arr,keyFunc,opt_obj){var ret={};goog.array.forEach(arr,function(element,index){ret[keyFunc.call(opt_obj,element,index,arr)]=element});return ret};
goog.array.range=function(startOrEnd,opt_end,opt_step){var array=[];var start=0;var end=startOrEnd;var step=opt_step||1;if(opt_end!==undefined){start=startOrEnd;end=opt_end}if(step*(end-start)<0)return[];if(step>0)for(var i=start;i<end;i+=step)array.push(i);else for(var i=start;i>end;i+=step)array.push(i);return array};goog.array.repeat=function(value,n){var array=[];for(var i=0;i<n;i++)array[i]=value;return array};
goog.array.flatten=function(var_args){var result=[];for(var i=0;i<arguments.length;i++){var element=arguments[i];if(goog.isArray(element))result.push.apply(result,goog.array.flatten.apply(null,element));else result.push(element)}return result};goog.array.rotate=function(array,n){goog.asserts.assert(array.length!=null);if(array.length){n%=array.length;if(n>0)goog.array.ARRAY_PROTOTYPE_.unshift.apply(array,array.splice(-n,n));else if(n<0)goog.array.ARRAY_PROTOTYPE_.push.apply(array,array.splice(0,-n))}return array};
goog.array.moveItem=function(arr,fromIndex,toIndex){goog.asserts.assert(fromIndex>=0&&fromIndex<arr.length);goog.asserts.assert(toIndex>=0&&toIndex<arr.length);var removedItems=goog.array.ARRAY_PROTOTYPE_.splice.call(arr,fromIndex,1);goog.array.ARRAY_PROTOTYPE_.splice.call(arr,toIndex,0,removedItems[0])};
goog.array.zip=function(var_args){if(!arguments.length)return[];var result=[];for(var i=0;true;i++){var value=[];for(var j=0;j<arguments.length;j++){var arr=arguments[j];if(i>=arr.length)return result;value.push(arr[i])}result.push(value)}};goog.array.shuffle=function(arr,opt_randFn){var randFn=opt_randFn||Math.random;for(var i=arr.length-1;i>0;i--){var j=Math.floor(randFn()*(i+1));var tmp=arr[i];arr[i]=arr[j];arr[j]=tmp}};goog.provide("cljs.core");goog.require("goog.array");goog.require("goog.array");goog.require("goog.object");goog.require("goog.object");goog.require("goog.string.StringBuffer");goog.require("goog.string.StringBuffer");goog.require("goog.string");goog.require("goog.string");cljs.core._STAR_clojurescript_version_STAR_="0.0-2197";cljs.core._STAR_unchecked_if_STAR_=false;
cljs.core._STAR_print_fn_STAR_=function _STAR_print_fn_STAR_(_){throw new Error("No *print-fn* fn set for evaluation environment");};cljs.core.set_print_fn_BANG_=function set_print_fn_BANG_(f){return cljs.core._STAR_print_fn_STAR_=f};cljs.core._STAR_flush_on_newline_STAR_=true;cljs.core._STAR_print_newline_STAR_=true;cljs.core._STAR_print_readably_STAR_=true;cljs.core._STAR_print_meta_STAR_=false;cljs.core._STAR_print_dup_STAR_=false;cljs.core._STAR_print_length_STAR_=null;
cljs.core._STAR_print_level_STAR_=null;
cljs.core.pr_opts=function pr_opts(){return new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"flush-on-newline","flush-on-newline",4338025857),cljs.core._STAR_flush_on_newline_STAR_,new cljs.core.Keyword(null,"readably","readably",4441712502),cljs.core._STAR_print_readably_STAR_,new cljs.core.Keyword(null,"meta","meta",1017252215),cljs.core._STAR_print_meta_STAR_,new cljs.core.Keyword(null,"dup","dup",1014004081),cljs.core._STAR_print_dup_STAR_,new cljs.core.Keyword(null,"print-length",
"print-length",3960797560),cljs.core._STAR_print_length_STAR_],null)};
cljs.core.enable_console_print_BANG_=function enable_console_print_BANG_(){cljs.core._STAR_print_newline_STAR_=false;return cljs.core._STAR_print_fn_STAR_=function(){var G__18960__delegate=function(args){return console.log.apply(console,cljs.core.into_array.call(null,args))};var G__18960=function(var_args){var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__18960__delegate.call(this,args)};G__18960.cljs$lang$maxFixedArity=0;G__18960.cljs$lang$applyTo=
function(arglist__18961){var args=cljs.core.seq(arglist__18961);return G__18960__delegate(args)};G__18960.cljs$core$IFn$_invoke$arity$variadic=G__18960__delegate;return G__18960}()};cljs.core.truth_=function truth_(x){return x!=null&&x!==false};cljs.core.not_native=null;cljs.core.identical_QMARK_=function identical_QMARK_(x,y){return x===y};cljs.core.nil_QMARK_=function nil_QMARK_(x){return x==null};cljs.core.array_QMARK_=function array_QMARK_(x){return x instanceof Array};
cljs.core.number_QMARK_=function number_QMARK_(n){return typeof n==="number"};cljs.core.not=function not(x){if(cljs.core.truth_(x))return false;else return true};cljs.core.object_QMARK_=function object_QMARK_(x){if(!(x==null))return x.constructor===Object;else return false};cljs.core.string_QMARK_=function string_QMARK_(x){return goog.isString(x)};
cljs.core.native_satisfies_QMARK_=function native_satisfies_QMARK_(p,x){var x__$1=x==null?null:x;if(p[goog.typeOf(x__$1)])return true;else if(p["_"])return true;else if(new cljs.core.Keyword(null,"else","else",1017020587))return false;else return null};cljs.core.is_proto_=function is_proto_(x){return x.constructor.prototype===x};cljs.core._STAR_main_cli_fn_STAR_=null;cljs.core.type=function type(x){if(x==null)return null;else return x.constructor};
cljs.core.missing_protocol=function missing_protocol(proto,obj){var ty=cljs.core.type.call(null,obj);var ty__$1=cljs.core.truth_(function(){var and__3466__auto__=ty;if(cljs.core.truth_(and__3466__auto__))return ty.cljs$lang$type;else return and__3466__auto__}())?ty.cljs$lang$ctorStr:goog.typeOf(obj);return new Error(["No protocol method ",proto," defined for type ",ty__$1,": ",obj].join(""))};
cljs.core.type__GT_str=function type__GT_str(ty){var temp__4124__auto__=ty.cljs$lang$ctorStr;if(cljs.core.truth_(temp__4124__auto__)){var s=temp__4124__auto__;return s}else return[cljs.core.str(ty)].join("")};
cljs.core.make_array=function(){var make_array=null;var make_array__1=function(size){return new Array(size)};var make_array__2=function(type,size){return make_array.call(null,size)};make_array=function(type,size){switch(arguments.length){case 1:return make_array__1.call(this,type);case 2:return make_array__2.call(this,type,size)}throw new Error("Invalid arity: "+arguments.length);};make_array.cljs$core$IFn$_invoke$arity$1=make_array__1;make_array.cljs$core$IFn$_invoke$arity$2=make_array__2;return make_array}();
cljs.core.aclone=function aclone(arr){var len=arr.length;var new_arr=new Array(len);var n__4326__auto___18962=len;var i_18963=0;while(true){if(i_18963<n__4326__auto___18962){new_arr[i_18963]=arr[i_18963];var G__18964=i_18963+1;i_18963=G__18964;continue}else;break}return new_arr};cljs.core.array=function array(var_args){return Array.prototype.slice.call(arguments)};
cljs.core.aget=function(){var aget=null;var aget__2=function(array,i){return array[i]};var aget__3=function(){var G__18965__delegate=function(array,i,idxs){return cljs.core.apply.call(null,aget,aget.call(null,array,i),idxs)};var G__18965=function(array,i,var_args){var idxs=null;if(arguments.length>2)idxs=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__18965__delegate.call(this,array,i,idxs)};G__18965.cljs$lang$maxFixedArity=2;G__18965.cljs$lang$applyTo=function(arglist__18966){var array=
cljs.core.first(arglist__18966);arglist__18966=cljs.core.next(arglist__18966);var i=cljs.core.first(arglist__18966);var idxs=cljs.core.rest(arglist__18966);return G__18965__delegate(array,i,idxs)};G__18965.cljs$core$IFn$_invoke$arity$variadic=G__18965__delegate;return G__18965}();aget=function(array,i,var_args){var idxs=var_args;switch(arguments.length){case 2:return aget__2.call(this,array,i);default:return aget__3.cljs$core$IFn$_invoke$arity$variadic(array,i,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+
arguments.length);};aget.cljs$lang$maxFixedArity=2;aget.cljs$lang$applyTo=aget__3.cljs$lang$applyTo;aget.cljs$core$IFn$_invoke$arity$2=aget__2;aget.cljs$core$IFn$_invoke$arity$variadic=aget__3.cljs$core$IFn$_invoke$arity$variadic;return aget}();
cljs.core.aset=function(){var aset=null;var aset__3=function(array,i,val){return array[i]=val};var aset__4=function(){var G__18967__delegate=function(array,idx,idx2,idxv){return cljs.core.apply.call(null,aset,array[idx],idx2,idxv)};var G__18967=function(array,idx,idx2,var_args){var idxv=null;if(arguments.length>3)idxv=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__18967__delegate.call(this,array,idx,idx2,idxv)};G__18967.cljs$lang$maxFixedArity=3;G__18967.cljs$lang$applyTo=
function(arglist__18968){var array=cljs.core.first(arglist__18968);arglist__18968=cljs.core.next(arglist__18968);var idx=cljs.core.first(arglist__18968);arglist__18968=cljs.core.next(arglist__18968);var idx2=cljs.core.first(arglist__18968);var idxv=cljs.core.rest(arglist__18968);return G__18967__delegate(array,idx,idx2,idxv)};G__18967.cljs$core$IFn$_invoke$arity$variadic=G__18967__delegate;return G__18967}();aset=function(array,idx,idx2,var_args){var idxv=var_args;switch(arguments.length){case 3:return aset__3.call(this,
array,idx,idx2);default:return aset__4.cljs$core$IFn$_invoke$arity$variadic(array,idx,idx2,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};aset.cljs$lang$maxFixedArity=3;aset.cljs$lang$applyTo=aset__4.cljs$lang$applyTo;aset.cljs$core$IFn$_invoke$arity$3=aset__3;aset.cljs$core$IFn$_invoke$arity$variadic=aset__4.cljs$core$IFn$_invoke$arity$variadic;return aset}();cljs.core.alength=function alength(array){return array.length};
cljs.core.into_array=function(){var into_array=null;var into_array__1=function(aseq){return into_array.call(null,null,aseq)};var into_array__2=function(type,aseq){return cljs.core.reduce.call(null,function(a,x){a.push(x);return a},[],aseq)};into_array=function(type,aseq){switch(arguments.length){case 1:return into_array__1.call(this,type);case 2:return into_array__2.call(this,type,aseq)}throw new Error("Invalid arity: "+arguments.length);};into_array.cljs$core$IFn$_invoke$arity$1=into_array__1;into_array.cljs$core$IFn$_invoke$arity$2=
into_array__2;return into_array}();cljs.core.Fn=function(){var obj18970={};return obj18970}();cljs.core.IFn=function(){var obj18972={};return obj18972}();
cljs.core._invoke=function(){var _invoke=null;var _invoke__1=function(this$){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$1;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$1(this$);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$)}};var _invoke__2=function(this$,a){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$2;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$2(this$,a);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a)}};var _invoke__3=function(this$,a,b){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$3;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$3(this$,a,b);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];
if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b)}};var _invoke__4=function(this$,a,b,c){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$4;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$4(this$,a,b,c);else{var x__4105__auto__=
this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c)}};var _invoke__5=function(this$,a,b,c,d){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$5;
else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$5(this$,a,b,c,d);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d)}};var _invoke__6=function(this$,
a,b,c,d,e){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$6;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$6(this$,a,b,c,d,e);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e)}};var _invoke__7=function(this$,a,b,c,d,e,f){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$7;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$7(this$,a,b,c,d,e,f);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f)}};var _invoke__8=function(this$,a,b,c,d,e,f,g){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$8;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$8(this$,a,b,c,d,e,f,g);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=
cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g)}};var _invoke__9=function(this$,a,b,c,d,e,f,g,h){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$9;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$9(this$,
a,b,c,d,e,f,g,h);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h)}};var _invoke__10=function(this$,a,b,c,d,e,f,g,h,i){if(function(){var and__3466__auto__=this$;
if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$10;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$10(this$,a,b,c,d,e,f,g,h,i);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",
this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i)}};var _invoke__11=function(this$,a,b,c,d,e,f,g,h,i,j){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$11;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$11(this$,a,b,c,d,e,f,g,h,i,j);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i,j)}};var _invoke__12=function(this$,a,b,c,d,e,f,g,h,i,j,k){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$12;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$12(this$,a,b,c,d,e,f,g,h,i,j,k);else{var x__4105__auto__=this$==null?null:this$;
return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i,j,k)}};var _invoke__13=function(this$,a,b,c,d,e,f,g,h,i,j,k,l){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$13;
else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$13(this$,a,b,c,d,e,f,g,h,i,j,k,l);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i,j,
k,l)}};var _invoke__14=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$14;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$14(this$,a,b,c,d,e,f,g,h,i,j,k,l,m);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m)}};var _invoke__15=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$15;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$15(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=
cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n)}};var _invoke__16=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$16;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$16(this$,
a,b,c,d,e,f,g,h,i,j,k,l,m,n,o);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)}};var _invoke__17=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(function(){var and__3466__auto__=
this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$17;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$17(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)}};var _invoke__18=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$18;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$18(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];
if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)}};var _invoke__19=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$19;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$19(this$,
a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s)}};var _invoke__20=function(this$,a,b,c,d,e,f,g,h,i,j,
k,l,m,n,o,p,q,s,t){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$20;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$20(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t)}};var _invoke__21=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,rest){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IFn$_invoke$arity$21;else return and__3466__auto__}())return this$.cljs$core$IFn$_invoke$arity$21(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,rest);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=
cljs.core._invoke[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._invoke["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IFn.-invoke",this$);}}().call(null,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,rest)}};_invoke=function(this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,rest){switch(arguments.length){case 1:return _invoke__1.call(this,this$);case 2:return _invoke__2.call(this,
this$,a);case 3:return _invoke__3.call(this,this$,a,b);case 4:return _invoke__4.call(this,this$,a,b,c);case 5:return _invoke__5.call(this,this$,a,b,c,d);case 6:return _invoke__6.call(this,this$,a,b,c,d,e);case 7:return _invoke__7.call(this,this$,a,b,c,d,e,f);case 8:return _invoke__8.call(this,this$,a,b,c,d,e,f,g);case 9:return _invoke__9.call(this,this$,a,b,c,d,e,f,g,h);case 10:return _invoke__10.call(this,this$,a,b,c,d,e,f,g,h,i);case 11:return _invoke__11.call(this,this$,a,b,c,d,e,f,g,h,i,j);case 12:return _invoke__12.call(this,
this$,a,b,c,d,e,f,g,h,i,j,k);case 13:return _invoke__13.call(this,this$,a,b,c,d,e,f,g,h,i,j,k,l);case 14:return _invoke__14.call(this,this$,a,b,c,d,e,f,g,h,i,j,k,l,m);case 15:return _invoke__15.call(this,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n);case 16:return _invoke__16.call(this,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o);case 17:return _invoke__17.call(this,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p);case 18:return _invoke__18.call(this,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);case 19:return _invoke__19.call(this,
this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s);case 20:return _invoke__20.call(this,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t);case 21:return _invoke__21.call(this,this$,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,rest)}throw new Error("Invalid arity: "+arguments.length);};_invoke.cljs$core$IFn$_invoke$arity$1=_invoke__1;_invoke.cljs$core$IFn$_invoke$arity$2=_invoke__2;_invoke.cljs$core$IFn$_invoke$arity$3=_invoke__3;_invoke.cljs$core$IFn$_invoke$arity$4=_invoke__4;_invoke.cljs$core$IFn$_invoke$arity$5=_invoke__5;
_invoke.cljs$core$IFn$_invoke$arity$6=_invoke__6;_invoke.cljs$core$IFn$_invoke$arity$7=_invoke__7;_invoke.cljs$core$IFn$_invoke$arity$8=_invoke__8;_invoke.cljs$core$IFn$_invoke$arity$9=_invoke__9;_invoke.cljs$core$IFn$_invoke$arity$10=_invoke__10;_invoke.cljs$core$IFn$_invoke$arity$11=_invoke__11;_invoke.cljs$core$IFn$_invoke$arity$12=_invoke__12;_invoke.cljs$core$IFn$_invoke$arity$13=_invoke__13;_invoke.cljs$core$IFn$_invoke$arity$14=_invoke__14;_invoke.cljs$core$IFn$_invoke$arity$15=_invoke__15;
_invoke.cljs$core$IFn$_invoke$arity$16=_invoke__16;_invoke.cljs$core$IFn$_invoke$arity$17=_invoke__17;_invoke.cljs$core$IFn$_invoke$arity$18=_invoke__18;_invoke.cljs$core$IFn$_invoke$arity$19=_invoke__19;_invoke.cljs$core$IFn$_invoke$arity$20=_invoke__20;_invoke.cljs$core$IFn$_invoke$arity$21=_invoke__21;return _invoke}();cljs.core.ICloneable=function(){var obj18974={};return obj18974}();
cljs.core._clone=function _clone(value){if(function(){var and__3466__auto__=value;if(and__3466__auto__)return value.cljs$core$ICloneable$_clone$arity$1;else return and__3466__auto__}())return value.cljs$core$ICloneable$_clone$arity$1(value);else{var x__4105__auto__=value==null?null:value;return function(){var or__3478__auto__=cljs.core._clone[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._clone["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"ICloneable.-clone",value);}}().call(null,value)}};cljs.core.ICounted=function(){var obj18976={};return obj18976}();
cljs.core._count=function _count(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$ICounted$_count$arity$1;else return and__3466__auto__}())return coll.cljs$core$ICounted$_count$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._count[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._count["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"ICounted.-count",coll);}}().call(null,coll)}};cljs.core.IEmptyableCollection=function(){var obj18978={};return obj18978}();
cljs.core._empty=function _empty(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IEmptyableCollection$_empty$arity$1;else return and__3466__auto__}())return coll.cljs$core$IEmptyableCollection$_empty$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._empty[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._empty["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IEmptyableCollection.-empty",coll);}}().call(null,coll)}};cljs.core.ICollection=function(){var obj18980={};return obj18980}();
cljs.core._conj=function _conj(coll,o){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$ICollection$_conj$arity$2;else return and__3466__auto__}())return coll.cljs$core$ICollection$_conj$arity$2(coll,o);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._conj[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._conj["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"ICollection.-conj",coll);}}().call(null,coll,o)}};cljs.core.IIndexed=function(){var obj18982={};return obj18982}();
cljs.core._nth=function(){var _nth=null;var _nth__2=function(coll,n){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IIndexed$_nth$arity$2;else return and__3466__auto__}())return coll.cljs$core$IIndexed$_nth$arity$2(coll,n);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._nth[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._nth["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IIndexed.-nth",coll);}}().call(null,coll,n)}};var _nth__3=function(coll,n,not_found){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IIndexed$_nth$arity$3;else return and__3466__auto__}())return coll.cljs$core$IIndexed$_nth$arity$3(coll,n,not_found);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._nth[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;
else{var or__3478__auto____$1=cljs.core._nth["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IIndexed.-nth",coll);}}().call(null,coll,n,not_found)}};_nth=function(coll,n,not_found){switch(arguments.length){case 2:return _nth__2.call(this,coll,n);case 3:return _nth__3.call(this,coll,n,not_found)}throw new Error("Invalid arity: "+arguments.length);};_nth.cljs$core$IFn$_invoke$arity$2=_nth__2;_nth.cljs$core$IFn$_invoke$arity$3=_nth__3;return _nth}();
cljs.core.ASeq=function(){var obj18984={};return obj18984}();cljs.core.ISeq=function(){var obj18986={};return obj18986}();
cljs.core._first=function _first(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$ISeq$_first$arity$1;else return and__3466__auto__}())return coll.cljs$core$ISeq$_first$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._first[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._first["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"ISeq.-first",coll);}}().call(null,coll)}};
cljs.core._rest=function _rest(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$ISeq$_rest$arity$1;else return and__3466__auto__}())return coll.cljs$core$ISeq$_rest$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._rest[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._rest["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"ISeq.-rest",coll);}}().call(null,coll)}};cljs.core.INext=function(){var obj18988={};return obj18988}();
cljs.core._next=function _next(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$INext$_next$arity$1;else return and__3466__auto__}())return coll.cljs$core$INext$_next$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._next[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._next["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"INext.-next",coll);}}().call(null,coll)}};cljs.core.ILookup=function(){var obj18990={};return obj18990}();
cljs.core._lookup=function(){var _lookup=null;var _lookup__2=function(o,k){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$ILookup$_lookup$arity$2;else return and__3466__auto__}())return o.cljs$core$ILookup$_lookup$arity$2(o,k);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._lookup[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._lookup["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"ILookup.-lookup",o);}}().call(null,o,k)}};var _lookup__3=function(o,k,not_found){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$ILookup$_lookup$arity$3;else return and__3466__auto__}())return o.cljs$core$ILookup$_lookup$arity$3(o,k,not_found);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._lookup[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._lookup["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ILookup.-lookup",o);}}().call(null,o,k,not_found)}};_lookup=function(o,k,not_found){switch(arguments.length){case 2:return _lookup__2.call(this,o,k);case 3:return _lookup__3.call(this,o,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};_lookup.cljs$core$IFn$_invoke$arity$2=_lookup__2;_lookup.cljs$core$IFn$_invoke$arity$3=_lookup__3;return _lookup}();
cljs.core.IAssociative=function(){var obj18992={};return obj18992}();
cljs.core._contains_key_QMARK_=function _contains_key_QMARK_(coll,k){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IAssociative$_contains_key_QMARK_$arity$2;else return and__3466__auto__}())return coll.cljs$core$IAssociative$_contains_key_QMARK_$arity$2(coll,k);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._contains_key_QMARK_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._contains_key_QMARK_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IAssociative.-contains-key?",coll);}}().call(null,coll,k)}};
cljs.core._assoc=function _assoc(coll,k,v){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IAssociative$_assoc$arity$3;else return and__3466__auto__}())return coll.cljs$core$IAssociative$_assoc$arity$3(coll,k,v);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._assoc[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._assoc["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IAssociative.-assoc",coll);}}().call(null,coll,k,v)}};cljs.core.IMap=function(){var obj18994={};return obj18994}();
cljs.core._dissoc=function _dissoc(coll,k){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IMap$_dissoc$arity$2;else return and__3466__auto__}())return coll.cljs$core$IMap$_dissoc$arity$2(coll,k);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._dissoc[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._dissoc["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IMap.-dissoc",coll);}}().call(null,coll,k)}};cljs.core.IMapEntry=function(){var obj18996={};return obj18996}();
cljs.core._key=function _key(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IMapEntry$_key$arity$1;else return and__3466__auto__}())return coll.cljs$core$IMapEntry$_key$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._key[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._key["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IMapEntry.-key",coll);}}().call(null,coll)}};
cljs.core._val=function _val(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IMapEntry$_val$arity$1;else return and__3466__auto__}())return coll.cljs$core$IMapEntry$_val$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._val[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._val["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IMapEntry.-val",coll);}}().call(null,coll)}};cljs.core.ISet=function(){var obj18998={};return obj18998}();
cljs.core._disjoin=function _disjoin(coll,v){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$ISet$_disjoin$arity$2;else return and__3466__auto__}())return coll.cljs$core$ISet$_disjoin$arity$2(coll,v);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._disjoin[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._disjoin["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"ISet.-disjoin",coll);}}().call(null,coll,v)}};cljs.core.IStack=function(){var obj19000={};return obj19000}();
cljs.core._peek=function _peek(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IStack$_peek$arity$1;else return and__3466__auto__}())return coll.cljs$core$IStack$_peek$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._peek[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._peek["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IStack.-peek",coll);}}().call(null,coll)}};
cljs.core._pop=function _pop(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IStack$_pop$arity$1;else return and__3466__auto__}())return coll.cljs$core$IStack$_pop$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._pop[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._pop["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"IStack.-pop",coll);}}().call(null,coll)}};cljs.core.IVector=function(){var obj19002={};return obj19002}();
cljs.core._assoc_n=function _assoc_n(coll,n,val){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IVector$_assoc_n$arity$3;else return and__3466__auto__}())return coll.cljs$core$IVector$_assoc_n$arity$3(coll,n,val);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._assoc_n[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._assoc_n["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IVector.-assoc-n",coll);}}().call(null,coll,n,val)}};cljs.core.IDeref=function(){var obj19004={};return obj19004}();
cljs.core._deref=function _deref(o){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$IDeref$_deref$arity$1;else return and__3466__auto__}())return o.cljs$core$IDeref$_deref$arity$1(o);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._deref[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._deref["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"IDeref.-deref",o);}}().call(null,o)}};cljs.core.IDerefWithTimeout=function(){var obj19006={};return obj19006}();
cljs.core._deref_with_timeout=function _deref_with_timeout(o,msec,timeout_val){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$IDerefWithTimeout$_deref_with_timeout$arity$3;else return and__3466__auto__}())return o.cljs$core$IDerefWithTimeout$_deref_with_timeout$arity$3(o,msec,timeout_val);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._deref_with_timeout[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;
else{var or__3478__auto____$1=cljs.core._deref_with_timeout["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IDerefWithTimeout.-deref-with-timeout",o);}}().call(null,o,msec,timeout_val)}};cljs.core.IMeta=function(){var obj19008={};return obj19008}();
cljs.core._meta=function _meta(o){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$IMeta$_meta$arity$1;else return and__3466__auto__}())return o.cljs$core$IMeta$_meta$arity$1(o);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._meta[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._meta["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"IMeta.-meta",o);}}().call(null,o)}};cljs.core.IWithMeta=function(){var obj19010={};return obj19010}();
cljs.core._with_meta=function _with_meta(o,meta){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$IWithMeta$_with_meta$arity$2;else return and__3466__auto__}())return o.cljs$core$IWithMeta$_with_meta$arity$2(o,meta);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._with_meta[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._with_meta["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IWithMeta.-with-meta",o);}}().call(null,o,meta)}};cljs.core.IReduce=function(){var obj19012={};return obj19012}();
cljs.core._reduce=function(){var _reduce=null;var _reduce__2=function(coll,f){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IReduce$_reduce$arity$2;else return and__3466__auto__}())return coll.cljs$core$IReduce$_reduce$arity$2(coll,f);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._reduce[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._reduce["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IReduce.-reduce",coll);}}().call(null,coll,f)}};var _reduce__3=function(coll,f,start){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IReduce$_reduce$arity$3;else return and__3466__auto__}())return coll.cljs$core$IReduce$_reduce$arity$3(coll,f,start);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._reduce[goog.typeOf(x__4105__auto__)];
if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._reduce["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IReduce.-reduce",coll);}}().call(null,coll,f,start)}};_reduce=function(coll,f,start){switch(arguments.length){case 2:return _reduce__2.call(this,coll,f);case 3:return _reduce__3.call(this,coll,f,start)}throw new Error("Invalid arity: "+arguments.length);};_reduce.cljs$core$IFn$_invoke$arity$2=_reduce__2;
_reduce.cljs$core$IFn$_invoke$arity$3=_reduce__3;return _reduce}();cljs.core.IKVReduce=function(){var obj19014={};return obj19014}();
cljs.core._kv_reduce=function _kv_reduce(coll,f,init){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IKVReduce$_kv_reduce$arity$3;else return and__3466__auto__}())return coll.cljs$core$IKVReduce$_kv_reduce$arity$3(coll,f,init);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._kv_reduce[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._kv_reduce["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IKVReduce.-kv-reduce",coll);}}().call(null,coll,f,init)}};cljs.core.IEquiv=function(){var obj19016={};return obj19016}();
cljs.core._equiv=function _equiv(o,other){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$IEquiv$_equiv$arity$2;else return and__3466__auto__}())return o.cljs$core$IEquiv$_equiv$arity$2(o,other);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._equiv[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._equiv["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"IEquiv.-equiv",o);}}().call(null,o,other)}};cljs.core.IHash=function(){var obj19018={};return obj19018}();
cljs.core._hash=function _hash(o){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$IHash$_hash$arity$1;else return and__3466__auto__}())return o.cljs$core$IHash$_hash$arity$1(o);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._hash[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._hash["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"IHash.-hash",o);}}().call(null,o)}};cljs.core.ISeqable=function(){var obj19020={};return obj19020}();
cljs.core._seq=function _seq(o){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$ISeqable$_seq$arity$1;else return and__3466__auto__}())return o.cljs$core$ISeqable$_seq$arity$1(o);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._seq[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._seq["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"ISeqable.-seq",o);}}().call(null,o)}};cljs.core.ISequential=function(){var obj19022={};return obj19022}();cljs.core.IList=function(){var obj19024={};return obj19024}();cljs.core.IRecord=function(){var obj19026={};return obj19026}();cljs.core.IReversible=function(){var obj19028={};return obj19028}();
cljs.core._rseq=function _rseq(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IReversible$_rseq$arity$1;else return and__3466__auto__}())return coll.cljs$core$IReversible$_rseq$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._rseq[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._rseq["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IReversible.-rseq",coll);}}().call(null,coll)}};cljs.core.ISorted=function(){var obj19030={};return obj19030}();
cljs.core._sorted_seq=function _sorted_seq(coll,ascending_QMARK_){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$ISorted$_sorted_seq$arity$2;else return and__3466__auto__}())return coll.cljs$core$ISorted$_sorted_seq$arity$2(coll,ascending_QMARK_);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._sorted_seq[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._sorted_seq["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ISorted.-sorted-seq",coll);}}().call(null,coll,ascending_QMARK_)}};
cljs.core._sorted_seq_from=function _sorted_seq_from(coll,k,ascending_QMARK_){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$ISorted$_sorted_seq_from$arity$3;else return and__3466__auto__}())return coll.cljs$core$ISorted$_sorted_seq_from$arity$3(coll,k,ascending_QMARK_);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._sorted_seq_from[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._sorted_seq_from["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ISorted.-sorted-seq-from",coll);}}().call(null,coll,k,ascending_QMARK_)}};
cljs.core._entry_key=function _entry_key(coll,entry){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$ISorted$_entry_key$arity$2;else return and__3466__auto__}())return coll.cljs$core$ISorted$_entry_key$arity$2(coll,entry);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._entry_key[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._entry_key["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"ISorted.-entry-key",coll);}}().call(null,coll,entry)}};
cljs.core._comparator=function _comparator(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$ISorted$_comparator$arity$1;else return and__3466__auto__}())return coll.cljs$core$ISorted$_comparator$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._comparator[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._comparator["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"ISorted.-comparator",coll);}}().call(null,coll)}};cljs.core.IWriter=function(){var obj19032={};return obj19032}();
cljs.core._write=function _write(writer,s){if(function(){var and__3466__auto__=writer;if(and__3466__auto__)return writer.cljs$core$IWriter$_write$arity$2;else return and__3466__auto__}())return writer.cljs$core$IWriter$_write$arity$2(writer,s);else{var x__4105__auto__=writer==null?null:writer;return function(){var or__3478__auto__=cljs.core._write[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._write["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IWriter.-write",writer);}}().call(null,writer,s)}};
cljs.core._flush=function _flush(writer){if(function(){var and__3466__auto__=writer;if(and__3466__auto__)return writer.cljs$core$IWriter$_flush$arity$1;else return and__3466__auto__}())return writer.cljs$core$IWriter$_flush$arity$1(writer);else{var x__4105__auto__=writer==null?null:writer;return function(){var or__3478__auto__=cljs.core._flush[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._flush["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IWriter.-flush",writer);}}().call(null,writer)}};cljs.core.IPrintWithWriter=function(){var obj19034={};return obj19034}();
cljs.core._pr_writer=function _pr_writer(o,writer,opts){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$IPrintWithWriter$_pr_writer$arity$3;else return and__3466__auto__}())return o.cljs$core$IPrintWithWriter$_pr_writer$arity$3(o,writer,opts);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._pr_writer[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._pr_writer["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IPrintWithWriter.-pr-writer",o);}}().call(null,o,writer,opts)}};cljs.core.IPending=function(){var obj19036={};return obj19036}();
cljs.core._realized_QMARK_=function _realized_QMARK_(d){if(function(){var and__3466__auto__=d;if(and__3466__auto__)return d.cljs$core$IPending$_realized_QMARK_$arity$1;else return and__3466__auto__}())return d.cljs$core$IPending$_realized_QMARK_$arity$1(d);else{var x__4105__auto__=d==null?null:d;return function(){var or__3478__auto__=cljs.core._realized_QMARK_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._realized_QMARK_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IPending.-realized?",d);}}().call(null,d)}};cljs.core.IWatchable=function(){var obj19038={};return obj19038}();
cljs.core._notify_watches=function _notify_watches(this$,oldval,newval){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IWatchable$_notify_watches$arity$3;else return and__3466__auto__}())return this$.cljs$core$IWatchable$_notify_watches$arity$3(this$,oldval,newval);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._notify_watches[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._notify_watches["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IWatchable.-notify-watches",this$);}}().call(null,this$,oldval,newval)}};
cljs.core._add_watch=function _add_watch(this$,key,f){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IWatchable$_add_watch$arity$3;else return and__3466__auto__}())return this$.cljs$core$IWatchable$_add_watch$arity$3(this$,key,f);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._add_watch[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._add_watch["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IWatchable.-add-watch",this$);}}().call(null,this$,key,f)}};
cljs.core._remove_watch=function _remove_watch(this$,key){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.cljs$core$IWatchable$_remove_watch$arity$2;else return and__3466__auto__}())return this$.cljs$core$IWatchable$_remove_watch$arity$2(this$,key);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=cljs.core._remove_watch[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._remove_watch["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IWatchable.-remove-watch",this$);}}().call(null,this$,key)}};cljs.core.IEditableCollection=function(){var obj19040={};return obj19040}();
cljs.core._as_transient=function _as_transient(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IEditableCollection$_as_transient$arity$1;else return and__3466__auto__}())return coll.cljs$core$IEditableCollection$_as_transient$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._as_transient[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._as_transient["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IEditableCollection.-as-transient",coll);}}().call(null,coll)}};cljs.core.ITransientCollection=function(){var obj19042={};return obj19042}();
cljs.core._conj_BANG_=function _conj_BANG_(tcoll,val){if(function(){var and__3466__auto__=tcoll;if(and__3466__auto__)return tcoll.cljs$core$ITransientCollection$_conj_BANG_$arity$2;else return and__3466__auto__}())return tcoll.cljs$core$ITransientCollection$_conj_BANG_$arity$2(tcoll,val);else{var x__4105__auto__=tcoll==null?null:tcoll;return function(){var or__3478__auto__=cljs.core._conj_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._conj_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ITransientCollection.-conj!",tcoll);}}().call(null,tcoll,val)}};
cljs.core._persistent_BANG_=function _persistent_BANG_(tcoll){if(function(){var and__3466__auto__=tcoll;if(and__3466__auto__)return tcoll.cljs$core$ITransientCollection$_persistent_BANG_$arity$1;else return and__3466__auto__}())return tcoll.cljs$core$ITransientCollection$_persistent_BANG_$arity$1(tcoll);else{var x__4105__auto__=tcoll==null?null:tcoll;return function(){var or__3478__auto__=cljs.core._persistent_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._persistent_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ITransientCollection.-persistent!",tcoll);}}().call(null,tcoll)}};cljs.core.ITransientAssociative=function(){var obj19044={};return obj19044}();
cljs.core._assoc_BANG_=function _assoc_BANG_(tcoll,key,val){if(function(){var and__3466__auto__=tcoll;if(and__3466__auto__)return tcoll.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3;else return and__3466__auto__}())return tcoll.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3(tcoll,key,val);else{var x__4105__auto__=tcoll==null?null:tcoll;return function(){var or__3478__auto__=cljs.core._assoc_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._assoc_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ITransientAssociative.-assoc!",tcoll);}}().call(null,tcoll,key,val)}};cljs.core.ITransientMap=function(){var obj19046={};return obj19046}();
cljs.core._dissoc_BANG_=function _dissoc_BANG_(tcoll,key){if(function(){var and__3466__auto__=tcoll;if(and__3466__auto__)return tcoll.cljs$core$ITransientMap$_dissoc_BANG_$arity$2;else return and__3466__auto__}())return tcoll.cljs$core$ITransientMap$_dissoc_BANG_$arity$2(tcoll,key);else{var x__4105__auto__=tcoll==null?null:tcoll;return function(){var or__3478__auto__=cljs.core._dissoc_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._dissoc_BANG_["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ITransientMap.-dissoc!",tcoll);}}().call(null,tcoll,key)}};cljs.core.ITransientVector=function(){var obj19048={};return obj19048}();
cljs.core._assoc_n_BANG_=function _assoc_n_BANG_(tcoll,n,val){if(function(){var and__3466__auto__=tcoll;if(and__3466__auto__)return tcoll.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3;else return and__3466__auto__}())return tcoll.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3(tcoll,n,val);else{var x__4105__auto__=tcoll==null?null:tcoll;return function(){var or__3478__auto__=cljs.core._assoc_n_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._assoc_n_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ITransientVector.-assoc-n!",tcoll);}}().call(null,tcoll,n,val)}};
cljs.core._pop_BANG_=function _pop_BANG_(tcoll){if(function(){var and__3466__auto__=tcoll;if(and__3466__auto__)return tcoll.cljs$core$ITransientVector$_pop_BANG_$arity$1;else return and__3466__auto__}())return tcoll.cljs$core$ITransientVector$_pop_BANG_$arity$1(tcoll);else{var x__4105__auto__=tcoll==null?null:tcoll;return function(){var or__3478__auto__=cljs.core._pop_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._pop_BANG_["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ITransientVector.-pop!",tcoll);}}().call(null,tcoll)}};cljs.core.ITransientSet=function(){var obj19050={};return obj19050}();
cljs.core._disjoin_BANG_=function _disjoin_BANG_(tcoll,v){if(function(){var and__3466__auto__=tcoll;if(and__3466__auto__)return tcoll.cljs$core$ITransientSet$_disjoin_BANG_$arity$2;else return and__3466__auto__}())return tcoll.cljs$core$ITransientSet$_disjoin_BANG_$arity$2(tcoll,v);else{var x__4105__auto__=tcoll==null?null:tcoll;return function(){var or__3478__auto__=cljs.core._disjoin_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._disjoin_BANG_["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ITransientSet.-disjoin!",tcoll);}}().call(null,tcoll,v)}};cljs.core.IComparable=function(){var obj19052={};return obj19052}();
cljs.core._compare=function _compare(x,y){if(function(){var and__3466__auto__=x;if(and__3466__auto__)return x.cljs$core$IComparable$_compare$arity$2;else return and__3466__auto__}())return x.cljs$core$IComparable$_compare$arity$2(x,y);else{var x__4105__auto__=x==null?null:x;return function(){var or__3478__auto__=cljs.core._compare[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._compare["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IComparable.-compare",x);}}().call(null,x,y)}};cljs.core.IChunk=function(){var obj19054={};return obj19054}();
cljs.core._drop_first=function _drop_first(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IChunk$_drop_first$arity$1;else return and__3466__auto__}())return coll.cljs$core$IChunk$_drop_first$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._drop_first[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._drop_first["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IChunk.-drop-first",coll);}}().call(null,coll)}};cljs.core.IChunkedSeq=function(){var obj19056={};return obj19056}();
cljs.core._chunked_first=function _chunked_first(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IChunkedSeq$_chunked_first$arity$1;else return and__3466__auto__}())return coll.cljs$core$IChunkedSeq$_chunked_first$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._chunked_first[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._chunked_first["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IChunkedSeq.-chunked-first",coll);}}().call(null,coll)}};
cljs.core._chunked_rest=function _chunked_rest(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IChunkedSeq$_chunked_rest$arity$1;else return and__3466__auto__}())return coll.cljs$core$IChunkedSeq$_chunked_rest$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._chunked_rest[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._chunked_rest["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IChunkedSeq.-chunked-rest",coll);}}().call(null,coll)}};cljs.core.IChunkedNext=function(){var obj19058={};return obj19058}();
cljs.core._chunked_next=function _chunked_next(coll){if(function(){var and__3466__auto__=coll;if(and__3466__auto__)return coll.cljs$core$IChunkedNext$_chunked_next$arity$1;else return and__3466__auto__}())return coll.cljs$core$IChunkedNext$_chunked_next$arity$1(coll);else{var x__4105__auto__=coll==null?null:coll;return function(){var or__3478__auto__=cljs.core._chunked_next[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._chunked_next["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IChunkedNext.-chunked-next",coll);}}().call(null,coll)}};cljs.core.INamed=function(){var obj19060={};return obj19060}();
cljs.core._name=function _name(x){if(function(){var and__3466__auto__=x;if(and__3466__auto__)return x.cljs$core$INamed$_name$arity$1;else return and__3466__auto__}())return x.cljs$core$INamed$_name$arity$1(x);else{var x__4105__auto__=x==null?null:x;return function(){var or__3478__auto__=cljs.core._name[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._name["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"INamed.-name",x);}}().call(null,x)}};
cljs.core._namespace=function _namespace(x){if(function(){var and__3466__auto__=x;if(and__3466__auto__)return x.cljs$core$INamed$_namespace$arity$1;else return and__3466__auto__}())return x.cljs$core$INamed$_namespace$arity$1(x);else{var x__4105__auto__=x==null?null:x;return function(){var or__3478__auto__=cljs.core._namespace[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._namespace["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"INamed.-namespace",x);}}().call(null,x)}};cljs.core.StringBufferWriter=function(sb){this.sb=sb;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=1073741824};cljs.core.StringBufferWriter.cljs$lang$type=true;cljs.core.StringBufferWriter.cljs$lang$ctorStr="cljs.core/StringBufferWriter";cljs.core.StringBufferWriter.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/StringBufferWriter")};
cljs.core.StringBufferWriter.prototype.cljs$core$IWriter$_write$arity$2=function(_,s){var self__=this;var ___$1=this;return self__.sb.append(s)};cljs.core.StringBufferWriter.prototype.cljs$core$IWriter$_flush$arity$1=function(_){var self__=this;var ___$1=this;return null};cljs.core.__GT_StringBufferWriter=function __GT_StringBufferWriter(sb){return new cljs.core.StringBufferWriter(sb)};
cljs.core.pr_str_STAR_=function pr_str_STAR_(obj){var sb=new goog.string.StringBuffer;var writer=new cljs.core.StringBufferWriter(sb);cljs.core._pr_writer.call(null,obj,writer,cljs.core.pr_opts.call(null));cljs.core._flush.call(null,writer);return[cljs.core.str(sb)].join("")};cljs.core.instance_QMARK_=function instance_QMARK_(t,o){return o instanceof t};cljs.core.symbol_QMARK_=function symbol_QMARK_(x){return x instanceof cljs.core.Symbol};
cljs.core.hash_symbol=function hash_symbol(sym){return cljs.core.hash_combine.call(null,cljs.core.hash.call(null,sym.ns),cljs.core.hash.call(null,sym.name))};
cljs.core.compare_symbols=function compare_symbols(a,b){if(cljs.core.truth_(cljs.core._EQ_.call(null,a,b)))return 0;else if(cljs.core.truth_(function(){var and__3466__auto__=cljs.core.not.call(null,a.ns);if(and__3466__auto__)return b.ns;else return and__3466__auto__}()))return-1;else if(cljs.core.truth_(a.ns))if(cljs.core.not.call(null,b.ns))return 1;else{var nsc=cljs.core.compare.call(null,a.ns,b.ns);if(nsc===0)return cljs.core.compare.call(null,a.name,b.name);else return nsc}else if(new cljs.core.Keyword(null,
"default","default",2558708147))return cljs.core.compare.call(null,a.name,b.name);else return null};cljs.core.Symbol=function(ns,name,str,_hash,_meta){this.ns=ns;this.name=name;this.str=str;this._hash=_hash;this._meta=_meta;this.cljs$lang$protocol_mask$partition0$=2154168321;this.cljs$lang$protocol_mask$partition1$=4096};cljs.core.Symbol.cljs$lang$type=true;cljs.core.Symbol.cljs$lang$ctorStr="cljs.core/Symbol";
cljs.core.Symbol.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/Symbol")};cljs.core.Symbol.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(o,writer,_){var self__=this;var o__$1=this;return cljs.core._write.call(null,writer,self__.str)};cljs.core.Symbol.prototype.cljs$core$INamed$_name$arity$1=function(_){var self__=this;var ___$1=this;return self__.name};
cljs.core.Symbol.prototype.cljs$core$INamed$_namespace$arity$1=function(_){var self__=this;var ___$1=this;return self__.ns};cljs.core.Symbol.prototype.cljs$core$IHash$_hash$arity$1=function(sym){var self__=this;var sym__$1=this;var h__3889__auto__=self__._hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_symbol.call(null,sym__$1);self__._hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.Symbol.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_,new_meta){var self__=this;var ___$1=this;return new cljs.core.Symbol(self__.ns,self__.name,self__.str,self__._hash,new_meta)};cljs.core.Symbol.prototype.cljs$core$IMeta$_meta$arity$1=function(_){var self__=this;var ___$1=this;return self__._meta};
cljs.core.Symbol.prototype.call=function(){var G__19062=null;var G__19062__2=function(self__,coll){var self__=this;var self____$1=this;var sym=self____$1;return cljs.core._lookup.call(null,coll,sym,null)};var G__19062__3=function(self__,coll,not_found){var self__=this;var self____$1=this;var sym=self____$1;return cljs.core._lookup.call(null,coll,sym,not_found)};G__19062=function(self__,coll,not_found){switch(arguments.length){case 2:return G__19062__2.call(this,self__,coll);case 3:return G__19062__3.call(this,
self__,coll,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19062}();cljs.core.Symbol.prototype.apply=function(self__,args19061){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19061)))};cljs.core.Symbol.prototype.cljs$core$IFn$_invoke$arity$1=function(coll){var self__=this;var sym=this;return cljs.core._lookup.call(null,coll,sym,null)};
cljs.core.Symbol.prototype.cljs$core$IFn$_invoke$arity$2=function(coll,not_found){var self__=this;var sym=this;return cljs.core._lookup.call(null,coll,sym,not_found)};cljs.core.Symbol.prototype.cljs$core$IEquiv$_equiv$arity$2=function(_,other){var self__=this;var ___$1=this;if(other instanceof cljs.core.Symbol)return self__.str===other.str;else return false};cljs.core.Symbol.prototype.toString=function(){var self__=this;var _=this;return self__.str};
cljs.core.__GT_Symbol=function __GT_Symbol(ns,name,str,_hash,_meta){return new cljs.core.Symbol(ns,name,str,_hash,_meta)};
cljs.core.symbol=function(){var symbol=null;var symbol__1=function(name){if(name instanceof cljs.core.Symbol)return name;else return symbol.call(null,null,name)};var symbol__2=function(ns,name){var sym_str=!(ns==null)?[cljs.core.str(ns),cljs.core.str("/"),cljs.core.str(name)].join(""):name;return new cljs.core.Symbol(ns,name,sym_str,null,null)};symbol=function(ns,name){switch(arguments.length){case 1:return symbol__1.call(this,ns);case 2:return symbol__2.call(this,ns,name)}throw new Error("Invalid arity: "+
arguments.length);};symbol.cljs$core$IFn$_invoke$arity$1=symbol__1;symbol.cljs$core$IFn$_invoke$arity$2=symbol__2;return symbol}();cljs.core.clone=function clone(value){return cljs.core._clone.call(null,value)};
cljs.core.cloneable_QMARK_=function cloneable_QMARK_(value){var G__19064=value;if(G__19064){var bit__4128__auto__=G__19064.cljs$lang$protocol_mask$partition1$&8192;if(bit__4128__auto__||G__19064.cljs$core$ICloneable$)return true;else if(!G__19064.cljs$lang$protocol_mask$partition1$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ICloneable,G__19064);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ICloneable,G__19064)};
cljs.core.seq=function seq(coll){if(coll==null)return null;else if(function(){var G__19066=coll;if(G__19066){var bit__4121__auto__=G__19066.cljs$lang$protocol_mask$partition0$&8388608;if(bit__4121__auto__||G__19066.cljs$core$ISeqable$)return true;else return false}else return false}())return cljs.core._seq.call(null,coll);else if(coll instanceof Array)if(coll.length===0)return null;else return new cljs.core.IndexedSeq(coll,0);else if(typeof coll==="string")if(coll.length===0)return null;else return new cljs.core.IndexedSeq(coll,
0);else if(cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISeqable,coll))return cljs.core._seq.call(null,coll);else if(new cljs.core.Keyword(null,"else","else",1017020587))throw new Error([cljs.core.str(coll),cljs.core.str("is not ISeqable")].join(""));else return null};
cljs.core.first=function first(coll){if(coll==null)return null;else if(function(){var G__19068=coll;if(G__19068){var bit__4121__auto__=G__19068.cljs$lang$protocol_mask$partition0$&64;if(bit__4121__auto__||G__19068.cljs$core$ISeq$)return true;else return false}else return false}())return cljs.core._first.call(null,coll);else{var s=cljs.core.seq.call(null,coll);if(s==null)return null;else return cljs.core._first.call(null,s)}};
cljs.core.rest=function rest(coll){if(!(coll==null))if(function(){var G__19070=coll;if(G__19070){var bit__4121__auto__=G__19070.cljs$lang$protocol_mask$partition0$&64;if(bit__4121__auto__||G__19070.cljs$core$ISeq$)return true;else return false}else return false}())return cljs.core._rest.call(null,coll);else{var s=cljs.core.seq.call(null,coll);if(s)return cljs.core._rest.call(null,s);else return cljs.core.List.EMPTY}else return cljs.core.List.EMPTY};
cljs.core.next=function next(coll){if(coll==null)return null;else if(function(){var G__19072=coll;if(G__19072){var bit__4121__auto__=G__19072.cljs$lang$protocol_mask$partition0$&128;if(bit__4121__auto__||G__19072.cljs$core$INext$)return true;else return false}else return false}())return cljs.core._next.call(null,coll);else return cljs.core.seq.call(null,cljs.core.rest.call(null,coll))};
cljs.core._EQ_=function(){var _EQ_=null;var _EQ___1=function(x){return true};var _EQ___2=function(x,y){if(x==null)return y==null;else return x===y||cljs.core._equiv.call(null,x,y)};var _EQ___3=function(){var G__19073__delegate=function(x,y,more){while(true){if(_EQ_.call(null,x,y))if(cljs.core.next.call(null,more)){var G__19074=y;var G__19075=cljs.core.first.call(null,more);var G__19076=cljs.core.next.call(null,more);x=G__19074;y=G__19075;more=G__19076;continue}else return _EQ_.call(null,y,cljs.core.first.call(null,
more));else return false;break}};var G__19073=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19073__delegate.call(this,x,y,more)};G__19073.cljs$lang$maxFixedArity=2;G__19073.cljs$lang$applyTo=function(arglist__19077){var x=cljs.core.first(arglist__19077);arglist__19077=cljs.core.next(arglist__19077);var y=cljs.core.first(arglist__19077);var more=cljs.core.rest(arglist__19077);return G__19073__delegate(x,y,more)};
G__19073.cljs$core$IFn$_invoke$arity$variadic=G__19073__delegate;return G__19073}();_EQ_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return _EQ___1.call(this,x);case 2:return _EQ___2.call(this,x,y);default:return _EQ___3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};_EQ_.cljs$lang$maxFixedArity=2;_EQ_.cljs$lang$applyTo=_EQ___3.cljs$lang$applyTo;_EQ_.cljs$core$IFn$_invoke$arity$1=_EQ___1;
_EQ_.cljs$core$IFn$_invoke$arity$2=_EQ___2;_EQ_.cljs$core$IFn$_invoke$arity$variadic=_EQ___3.cljs$core$IFn$_invoke$arity$variadic;return _EQ_}();cljs.core.ICounted["null"]=true;cljs.core._count["null"]=function(_){return 0};Date.prototype.cljs$core$IEquiv$=true;Date.prototype.cljs$core$IEquiv$_equiv$arity$2=function(o,other){var o__$1=this;return other instanceof Date&&o__$1.toString()===other.toString()};cljs.core.IEquiv["number"]=true;cljs.core._equiv["number"]=function(x,o){return x===o};
cljs.core.IMeta["function"]=true;cljs.core._meta["function"]=function(_){return null};cljs.core.Fn["function"]=true;cljs.core.IHash["_"]=true;cljs.core._hash["_"]=function(o){return goog.getUid(o)};cljs.core.inc=function inc(x){return x+1};cljs.core.Reduced=function(val){this.val=val;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=32768};cljs.core.Reduced.cljs$lang$type=true;cljs.core.Reduced.cljs$lang$ctorStr="cljs.core/Reduced";
cljs.core.Reduced.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/Reduced")};cljs.core.Reduced.prototype.cljs$core$IDeref$_deref$arity$1=function(o){var self__=this;var o__$1=this;return self__.val};cljs.core.__GT_Reduced=function __GT_Reduced(val){return new cljs.core.Reduced(val)};cljs.core.reduced=function reduced(x){return new cljs.core.Reduced(x)};
cljs.core.reduced_QMARK_=function reduced_QMARK_(r){return r instanceof cljs.core.Reduced};
cljs.core.ci_reduce=function(){var ci_reduce=null;var ci_reduce__2=function(cicoll,f){var cnt=cljs.core._count.call(null,cicoll);if(cnt===0)return f.call(null);else{var val=cljs.core._nth.call(null,cicoll,0);var n=1;while(true){if(n<cnt){var nval=f.call(null,val,cljs.core._nth.call(null,cicoll,n));if(cljs.core.reduced_QMARK_.call(null,nval))return cljs.core.deref.call(null,nval);else{var G__19078=nval;var G__19079=n+1;val=G__19078;n=G__19079;continue}}else return val;break}}};var ci_reduce__3=function(cicoll,
f,val){var cnt=cljs.core._count.call(null,cicoll);var val__$1=val;var n=0;while(true){if(n<cnt){var nval=f.call(null,val__$1,cljs.core._nth.call(null,cicoll,n));if(cljs.core.reduced_QMARK_.call(null,nval))return cljs.core.deref.call(null,nval);else{var G__19080=nval;var G__19081=n+1;val__$1=G__19080;n=G__19081;continue}}else return val__$1;break}};var ci_reduce__4=function(cicoll,f,val,idx){var cnt=cljs.core._count.call(null,cicoll);var val__$1=val;var n=idx;while(true){if(n<cnt){var nval=f.call(null,
val__$1,cljs.core._nth.call(null,cicoll,n));if(cljs.core.reduced_QMARK_.call(null,nval))return cljs.core.deref.call(null,nval);else{var G__19082=nval;var G__19083=n+1;val__$1=G__19082;n=G__19083;continue}}else return val__$1;break}};ci_reduce=function(cicoll,f,val,idx){switch(arguments.length){case 2:return ci_reduce__2.call(this,cicoll,f);case 3:return ci_reduce__3.call(this,cicoll,f,val);case 4:return ci_reduce__4.call(this,cicoll,f,val,idx)}throw new Error("Invalid arity: "+arguments.length);};
ci_reduce.cljs$core$IFn$_invoke$arity$2=ci_reduce__2;ci_reduce.cljs$core$IFn$_invoke$arity$3=ci_reduce__3;ci_reduce.cljs$core$IFn$_invoke$arity$4=ci_reduce__4;return ci_reduce}();
cljs.core.array_reduce=function(){var array_reduce=null;var array_reduce__2=function(arr,f){var cnt=arr.length;if(arr.length===0)return f.call(null);else{var val=arr[0];var n=1;while(true){if(n<cnt){var nval=f.call(null,val,arr[n]);if(cljs.core.reduced_QMARK_.call(null,nval))return cljs.core.deref.call(null,nval);else{var G__19084=nval;var G__19085=n+1;val=G__19084;n=G__19085;continue}}else return val;break}}};var array_reduce__3=function(arr,f,val){var cnt=arr.length;var val__$1=val;var n=0;while(true){if(n<
cnt){var nval=f.call(null,val__$1,arr[n]);if(cljs.core.reduced_QMARK_.call(null,nval))return cljs.core.deref.call(null,nval);else{var G__19086=nval;var G__19087=n+1;val__$1=G__19086;n=G__19087;continue}}else return val__$1;break}};var array_reduce__4=function(arr,f,val,idx){var cnt=arr.length;var val__$1=val;var n=idx;while(true){if(n<cnt){var nval=f.call(null,val__$1,arr[n]);if(cljs.core.reduced_QMARK_.call(null,nval))return cljs.core.deref.call(null,nval);else{var G__19088=nval;var G__19089=n+1;
val__$1=G__19088;n=G__19089;continue}}else return val__$1;break}};array_reduce=function(arr,f,val,idx){switch(arguments.length){case 2:return array_reduce__2.call(this,arr,f);case 3:return array_reduce__3.call(this,arr,f,val);case 4:return array_reduce__4.call(this,arr,f,val,idx)}throw new Error("Invalid arity: "+arguments.length);};array_reduce.cljs$core$IFn$_invoke$arity$2=array_reduce__2;array_reduce.cljs$core$IFn$_invoke$arity$3=array_reduce__3;array_reduce.cljs$core$IFn$_invoke$arity$4=array_reduce__4;
return array_reduce}();cljs.core.counted_QMARK_=function counted_QMARK_(x){var G__19091=x;if(G__19091){var bit__4128__auto__=G__19091.cljs$lang$protocol_mask$partition0$&2;if(bit__4128__auto__||G__19091.cljs$core$ICounted$)return true;else if(!G__19091.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ICounted,G__19091);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ICounted,G__19091)};
cljs.core.indexed_QMARK_=function indexed_QMARK_(x){var G__19093=x;if(G__19093){var bit__4128__auto__=G__19093.cljs$lang$protocol_mask$partition0$&16;if(bit__4128__auto__||G__19093.cljs$core$IIndexed$)return true;else if(!G__19093.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IIndexed,G__19093);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IIndexed,G__19093)};
cljs.core.IndexedSeq=function(arr,i){this.arr=arr;this.i=i;this.cljs$lang$protocol_mask$partition0$=166199550;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.IndexedSeq.cljs$lang$type=true;cljs.core.IndexedSeq.cljs$lang$ctorStr="cljs.core/IndexedSeq";cljs.core.IndexedSeq.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/IndexedSeq")};
cljs.core.IndexedSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.IndexedSeq.prototype.cljs$core$IIndexed$_nth$arity$2=function(coll,n){var self__=this;var coll__$1=this;var i__$1=n+self__.i;if(i__$1<self__.arr.length)return self__.arr[i__$1];else return null};
cljs.core.IndexedSeq.prototype.cljs$core$IIndexed$_nth$arity$3=function(coll,n,not_found){var self__=this;var coll__$1=this;var i__$1=n+self__.i;if(i__$1<self__.arr.length)return self__.arr[i__$1];else return not_found};cljs.core.IndexedSeq.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.IndexedSeq(self__.arr,self__.i)};
cljs.core.IndexedSeq.prototype.cljs$core$INext$_next$arity$1=function(_){var self__=this;var ___$1=this;if(self__.i+1<self__.arr.length)return new cljs.core.IndexedSeq(self__.arr,self__.i+1);else return null};cljs.core.IndexedSeq.prototype.cljs$core$ICounted$_count$arity$1=function(_){var self__=this;var ___$1=this;return self__.arr.length-self__.i};
cljs.core.IndexedSeq.prototype.cljs$core$IReversible$_rseq$arity$1=function(coll){var self__=this;var coll__$1=this;var c=cljs.core._count.call(null,coll__$1);if(c>0)return new cljs.core.RSeq(coll__$1,c-1,null);else return null};cljs.core.IndexedSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.hash_coll.call(null,coll__$1)};
cljs.core.IndexedSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};cljs.core.IndexedSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.List.EMPTY};
cljs.core.IndexedSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.array_reduce.call(null,self__.arr,f,self__.arr[self__.i],self__.i+1)};cljs.core.IndexedSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.array_reduce.call(null,self__.arr,f,start,self__.i)};cljs.core.IndexedSeq.prototype.cljs$core$ISeq$_first$arity$1=function(_){var self__=this;var ___$1=this;return self__.arr[self__.i]};
cljs.core.IndexedSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(_){var self__=this;var ___$1=this;if(self__.i+1<self__.arr.length)return new cljs.core.IndexedSeq(self__.arr,self__.i+1);else return cljs.core.List.EMPTY};cljs.core.IndexedSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(this$){var self__=this;var this$__$1=this;return this$__$1};
cljs.core.IndexedSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.call(null,o,coll__$1)};cljs.core.__GT_IndexedSeq=function __GT_IndexedSeq(arr,i){return new cljs.core.IndexedSeq(arr,i)};
cljs.core.prim_seq=function(){var prim_seq=null;var prim_seq__1=function(prim){return prim_seq.call(null,prim,0)};var prim_seq__2=function(prim,i){if(i<prim.length)return new cljs.core.IndexedSeq(prim,i);else return null};prim_seq=function(prim,i){switch(arguments.length){case 1:return prim_seq__1.call(this,prim);case 2:return prim_seq__2.call(this,prim,i)}throw new Error("Invalid arity: "+arguments.length);};prim_seq.cljs$core$IFn$_invoke$arity$1=prim_seq__1;prim_seq.cljs$core$IFn$_invoke$arity$2=
prim_seq__2;return prim_seq}();
cljs.core.array_seq=function(){var array_seq=null;var array_seq__1=function(array){return cljs.core.prim_seq.call(null,array,0)};var array_seq__2=function(array,i){return cljs.core.prim_seq.call(null,array,i)};array_seq=function(array,i){switch(arguments.length){case 1:return array_seq__1.call(this,array);case 2:return array_seq__2.call(this,array,i)}throw new Error("Invalid arity: "+arguments.length);};array_seq.cljs$core$IFn$_invoke$arity$1=array_seq__1;array_seq.cljs$core$IFn$_invoke$arity$2=array_seq__2;
return array_seq}();cljs.core.RSeq=function(ci,i,meta){this.ci=ci;this.i=i;this.meta=meta;this.cljs$lang$protocol_mask$partition0$=32374990;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.RSeq.cljs$lang$type=true;cljs.core.RSeq.cljs$lang$ctorStr="cljs.core/RSeq";cljs.core.RSeq.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/RSeq")};
cljs.core.RSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.RSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.RSeq.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.RSeq(self__.ci,self__.i,self__.meta)};
cljs.core.RSeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.i>0)return new cljs.core.RSeq(self__.ci,self__.i-1,null);else return null};cljs.core.RSeq.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.i+1};cljs.core.RSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.hash_coll.call(null,coll__$1)};
cljs.core.RSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};cljs.core.RSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__.meta)};
cljs.core.RSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(col,f){var self__=this;var col__$1=this;return cljs.core.seq_reduce.call(null,f,col__$1)};cljs.core.RSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(col,f,start){var self__=this;var col__$1=this;return cljs.core.seq_reduce.call(null,f,start,col__$1)};cljs.core.RSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._nth.call(null,self__.ci,self__.i)};
cljs.core.RSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.i>0)return new cljs.core.RSeq(self__.ci,self__.i-1,null);else return cljs.core.List.EMPTY};cljs.core.RSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.RSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,new_meta){var self__=this;var coll__$1=this;return new cljs.core.RSeq(self__.ci,self__.i,new_meta)};
cljs.core.RSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.call(null,o,coll__$1)};cljs.core.__GT_RSeq=function __GT_RSeq(ci,i,meta){return new cljs.core.RSeq(ci,i,meta)};cljs.core.second=function second(coll){return cljs.core.first.call(null,cljs.core.next.call(null,coll))};cljs.core.ffirst=function ffirst(coll){return cljs.core.first.call(null,cljs.core.first.call(null,coll))};
cljs.core.nfirst=function nfirst(coll){return cljs.core.next.call(null,cljs.core.first.call(null,coll))};cljs.core.fnext=function fnext(coll){return cljs.core.first.call(null,cljs.core.next.call(null,coll))};cljs.core.nnext=function nnext(coll){return cljs.core.next.call(null,cljs.core.next.call(null,coll))};cljs.core.last=function last(s){while(true){var sn=cljs.core.next.call(null,s);if(!(sn==null)){var G__19094=sn;s=G__19094;continue}else return cljs.core.first.call(null,s);break}};
cljs.core.IEquiv["_"]=true;cljs.core._equiv["_"]=function(x,o){return x===o};
cljs.core.conj=function(){var conj=null;var conj__2=function(coll,x){if(!(coll==null))return cljs.core._conj.call(null,coll,x);else return cljs.core._conj.call(null,cljs.core.List.EMPTY,x)};var conj__3=function(){var G__19095__delegate=function(coll,x,xs){while(true){if(cljs.core.truth_(xs)){var G__19096=conj.call(null,coll,x);var G__19097=cljs.core.first.call(null,xs);var G__19098=cljs.core.next.call(null,xs);coll=G__19096;x=G__19097;xs=G__19098;continue}else return conj.call(null,coll,x);break}};
var G__19095=function(coll,x,var_args){var xs=null;if(arguments.length>2)xs=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19095__delegate.call(this,coll,x,xs)};G__19095.cljs$lang$maxFixedArity=2;G__19095.cljs$lang$applyTo=function(arglist__19099){var coll=cljs.core.first(arglist__19099);arglist__19099=cljs.core.next(arglist__19099);var x=cljs.core.first(arglist__19099);var xs=cljs.core.rest(arglist__19099);return G__19095__delegate(coll,x,xs)};G__19095.cljs$core$IFn$_invoke$arity$variadic=
G__19095__delegate;return G__19095}();conj=function(coll,x,var_args){var xs=var_args;switch(arguments.length){case 2:return conj__2.call(this,coll,x);default:return conj__3.cljs$core$IFn$_invoke$arity$variadic(coll,x,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};conj.cljs$lang$maxFixedArity=2;conj.cljs$lang$applyTo=conj__3.cljs$lang$applyTo;conj.cljs$core$IFn$_invoke$arity$2=conj__2;conj.cljs$core$IFn$_invoke$arity$variadic=conj__3.cljs$core$IFn$_invoke$arity$variadic;
return conj}();cljs.core.empty=function empty(coll){if(coll==null)return null;else return cljs.core._empty.call(null,coll)};cljs.core.accumulating_seq_count=function accumulating_seq_count(coll){var s=cljs.core.seq.call(null,coll);var acc=0;while(true){if(cljs.core.counted_QMARK_.call(null,s))return acc+cljs.core._count.call(null,s);else{var G__19100=cljs.core.next.call(null,s);var G__19101=acc+1;s=G__19100;acc=G__19101;continue}break}};
cljs.core.count=function count(coll){if(!(coll==null))if(function(){var G__19103=coll;if(G__19103){var bit__4121__auto__=G__19103.cljs$lang$protocol_mask$partition0$&2;if(bit__4121__auto__||G__19103.cljs$core$ICounted$)return true;else return false}else return false}())return cljs.core._count.call(null,coll);else if(coll instanceof Array)return coll.length;else if(typeof coll==="string")return coll.length;else if(cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ICounted,coll))return cljs.core._count.call(null,
coll);else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.core.accumulating_seq_count.call(null,coll);else return null;else return 0};
cljs.core.linear_traversal_nth=function(){var linear_traversal_nth=null;var linear_traversal_nth__2=function(coll,n){while(true){if(coll==null)throw new Error("Index out of bounds");else if(n===0)if(cljs.core.seq.call(null,coll))return cljs.core.first.call(null,coll);else throw new Error("Index out of bounds");else if(cljs.core.indexed_QMARK_.call(null,coll))return cljs.core._nth.call(null,coll,n);else if(cljs.core.seq.call(null,coll)){var G__19104=cljs.core.next.call(null,coll);var G__19105=n-1;
coll=G__19104;n=G__19105;continue}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw new Error("Index out of bounds");else return null;break}};var linear_traversal_nth__3=function(coll,n,not_found){while(true){if(coll==null)return not_found;else if(n===0)if(cljs.core.seq.call(null,coll))return cljs.core.first.call(null,coll);else return not_found;else if(cljs.core.indexed_QMARK_.call(null,coll))return cljs.core._nth.call(null,coll,n,not_found);else if(cljs.core.seq.call(null,coll)){var G__19106=
cljs.core.next.call(null,coll);var G__19107=n-1;var G__19108=not_found;coll=G__19106;n=G__19107;not_found=G__19108;continue}else if(new cljs.core.Keyword(null,"else","else",1017020587))return not_found;else return null;break}};linear_traversal_nth=function(coll,n,not_found){switch(arguments.length){case 2:return linear_traversal_nth__2.call(this,coll,n);case 3:return linear_traversal_nth__3.call(this,coll,n,not_found)}throw new Error("Invalid arity: "+arguments.length);};linear_traversal_nth.cljs$core$IFn$_invoke$arity$2=
linear_traversal_nth__2;linear_traversal_nth.cljs$core$IFn$_invoke$arity$3=linear_traversal_nth__3;return linear_traversal_nth}();
cljs.core.nth=function(){var nth=null;var nth__2=function(coll,n){if(!(typeof n==="number"))throw new Error("index argument to nth must be a number");else if(coll==null)return coll;else if(function(){var G__19113=coll;if(G__19113){var bit__4121__auto__=G__19113.cljs$lang$protocol_mask$partition0$&16;if(bit__4121__auto__||G__19113.cljs$core$IIndexed$)return true;else return false}else return false}())return cljs.core._nth.call(null,coll,n);else if(coll instanceof Array)if(n<coll.length)return coll[n];
else return null;else if(typeof coll==="string")if(n<coll.length)return coll[n];else return null;else if(cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IIndexed,coll))return cljs.core._nth.call(null,coll,n);else if(function(){var G__19114=coll;if(G__19114){var bit__4128__auto__=G__19114.cljs$lang$protocol_mask$partition0$&64;if(bit__4128__auto__||G__19114.cljs$core$ISeq$)return true;else if(!G__19114.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISeq,
G__19114);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISeq,G__19114)}())return cljs.core.linear_traversal_nth.call(null,coll,n);else if(new cljs.core.Keyword(null,"else","else",1017020587))throw new Error([cljs.core.str("nth not supported on this type "),cljs.core.str(cljs.core.type__GT_str.call(null,cljs.core.type.call(null,coll)))].join(""));else return null};var nth__3=function(coll,n,not_found){if(!(typeof n==="number"))throw new Error("index argument to nth must be a number.");
else if(coll==null)return not_found;else if(function(){var G__19115=coll;if(G__19115){var bit__4121__auto__=G__19115.cljs$lang$protocol_mask$partition0$&16;if(bit__4121__auto__||G__19115.cljs$core$IIndexed$)return true;else return false}else return false}())return cljs.core._nth.call(null,coll,n,not_found);else if(coll instanceof Array)if(n<coll.length)return coll[n];else return not_found;else if(typeof coll==="string")if(n<coll.length)return coll[n];else return not_found;else if(cljs.core.native_satisfies_QMARK_.call(null,
cljs.core.IIndexed,coll))return cljs.core._nth.call(null,coll,n);else if(function(){var G__19116=coll;if(G__19116){var bit__4128__auto__=G__19116.cljs$lang$protocol_mask$partition0$&64;if(bit__4128__auto__||G__19116.cljs$core$ISeq$)return true;else if(!G__19116.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISeq,G__19116);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISeq,G__19116)}())return cljs.core.linear_traversal_nth.call(null,
coll,n,not_found);else if(new cljs.core.Keyword(null,"else","else",1017020587))throw new Error([cljs.core.str("nth not supported on this type "),cljs.core.str(cljs.core.type__GT_str.call(null,cljs.core.type.call(null,coll)))].join(""));else return null};nth=function(coll,n,not_found){switch(arguments.length){case 2:return nth__2.call(this,coll,n);case 3:return nth__3.call(this,coll,n,not_found)}throw new Error("Invalid arity: "+arguments.length);};nth.cljs$core$IFn$_invoke$arity$2=nth__2;nth.cljs$core$IFn$_invoke$arity$3=
nth__3;return nth}();
cljs.core.get=function(){var get=null;var get__2=function(o,k){if(o==null)return null;else if(function(){var G__19119=o;if(G__19119){var bit__4121__auto__=G__19119.cljs$lang$protocol_mask$partition0$&256;if(bit__4121__auto__||G__19119.cljs$core$ILookup$)return true;else return false}else return false}())return cljs.core._lookup.call(null,o,k);else if(o instanceof Array)if(k<o.length)return o[k];else return null;else if(typeof o==="string")if(k<o.length)return o[k];else return null;else if(cljs.core.native_satisfies_QMARK_.call(null,
cljs.core.ILookup,o))return cljs.core._lookup.call(null,o,k);else if(new cljs.core.Keyword(null,"else","else",1017020587))return null;else return null};var get__3=function(o,k,not_found){if(!(o==null))if(function(){var G__19120=o;if(G__19120){var bit__4121__auto__=G__19120.cljs$lang$protocol_mask$partition0$&256;if(bit__4121__auto__||G__19120.cljs$core$ILookup$)return true;else return false}else return false}())return cljs.core._lookup.call(null,o,k,not_found);else if(o instanceof Array)if(k<o.length)return o[k];
else return not_found;else if(typeof o==="string")if(k<o.length)return o[k];else return not_found;else if(cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ILookup,o))return cljs.core._lookup.call(null,o,k,not_found);else if(new cljs.core.Keyword(null,"else","else",1017020587))return not_found;else return null;else return not_found};get=function(o,k,not_found){switch(arguments.length){case 2:return get__2.call(this,o,k);case 3:return get__3.call(this,o,k,not_found)}throw new Error("Invalid arity: "+
arguments.length);};get.cljs$core$IFn$_invoke$arity$2=get__2;get.cljs$core$IFn$_invoke$arity$3=get__3;return get}();
cljs.core.assoc=function(){var assoc=null;var assoc__3=function(coll,k,v){if(!(coll==null))return cljs.core._assoc.call(null,coll,k,v);else return cljs.core.PersistentHashMap.fromArrays.call(null,[k],[v])};var assoc__4=function(){var G__19121__delegate=function(coll,k,v,kvs){while(true){var ret=assoc.call(null,coll,k,v);if(cljs.core.truth_(kvs)){var G__19122=ret;var G__19123=cljs.core.first.call(null,kvs);var G__19124=cljs.core.second.call(null,kvs);var G__19125=cljs.core.nnext.call(null,kvs);coll=
G__19122;k=G__19123;v=G__19124;kvs=G__19125;continue}else return ret;break}};var G__19121=function(coll,k,v,var_args){var kvs=null;if(arguments.length>3)kvs=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19121__delegate.call(this,coll,k,v,kvs)};G__19121.cljs$lang$maxFixedArity=3;G__19121.cljs$lang$applyTo=function(arglist__19126){var coll=cljs.core.first(arglist__19126);arglist__19126=cljs.core.next(arglist__19126);var k=cljs.core.first(arglist__19126);arglist__19126=cljs.core.next(arglist__19126);
var v=cljs.core.first(arglist__19126);var kvs=cljs.core.rest(arglist__19126);return G__19121__delegate(coll,k,v,kvs)};G__19121.cljs$core$IFn$_invoke$arity$variadic=G__19121__delegate;return G__19121}();assoc=function(coll,k,v,var_args){var kvs=var_args;switch(arguments.length){case 3:return assoc__3.call(this,coll,k,v);default:return assoc__4.cljs$core$IFn$_invoke$arity$variadic(coll,k,v,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};assoc.cljs$lang$maxFixedArity=
3;assoc.cljs$lang$applyTo=assoc__4.cljs$lang$applyTo;assoc.cljs$core$IFn$_invoke$arity$3=assoc__3;assoc.cljs$core$IFn$_invoke$arity$variadic=assoc__4.cljs$core$IFn$_invoke$arity$variadic;return assoc}();
cljs.core.dissoc=function(){var dissoc=null;var dissoc__1=function(coll){return coll};var dissoc__2=function(coll,k){if(coll==null)return null;else return cljs.core._dissoc.call(null,coll,k)};var dissoc__3=function(){var G__19127__delegate=function(coll,k,ks){while(true){if(coll==null)return null;else{var ret=dissoc.call(null,coll,k);if(cljs.core.truth_(ks)){var G__19128=ret;var G__19129=cljs.core.first.call(null,ks);var G__19130=cljs.core.next.call(null,ks);coll=G__19128;k=G__19129;ks=G__19130;continue}else return ret}break}};
var G__19127=function(coll,k,var_args){var ks=null;if(arguments.length>2)ks=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19127__delegate.call(this,coll,k,ks)};G__19127.cljs$lang$maxFixedArity=2;G__19127.cljs$lang$applyTo=function(arglist__19131){var coll=cljs.core.first(arglist__19131);arglist__19131=cljs.core.next(arglist__19131);var k=cljs.core.first(arglist__19131);var ks=cljs.core.rest(arglist__19131);return G__19127__delegate(coll,k,ks)};G__19127.cljs$core$IFn$_invoke$arity$variadic=
G__19127__delegate;return G__19127}();dissoc=function(coll,k,var_args){var ks=var_args;switch(arguments.length){case 1:return dissoc__1.call(this,coll);case 2:return dissoc__2.call(this,coll,k);default:return dissoc__3.cljs$core$IFn$_invoke$arity$variadic(coll,k,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};dissoc.cljs$lang$maxFixedArity=2;dissoc.cljs$lang$applyTo=dissoc__3.cljs$lang$applyTo;dissoc.cljs$core$IFn$_invoke$arity$1=dissoc__1;dissoc.cljs$core$IFn$_invoke$arity$2=
dissoc__2;dissoc.cljs$core$IFn$_invoke$arity$variadic=dissoc__3.cljs$core$IFn$_invoke$arity$variadic;return dissoc}();
cljs.core.fn_QMARK_=function fn_QMARK_(f){var or__3478__auto__=goog.isFunction(f);if(or__3478__auto__)return or__3478__auto__;else{var G__19135=f;if(G__19135){var bit__4128__auto__=null;if(cljs.core.truth_(function(){var or__3478__auto____$1=bit__4128__auto__;if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else return G__19135.cljs$core$Fn$}()))return true;else if(!G__19135.cljs$lang$protocol_mask$partition$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.Fn,G__19135);
else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.Fn,G__19135)}};
cljs.core.with_meta=function with_meta(o,meta){if(cljs.core.fn_QMARK_.call(null,o)&&!function(){var G__19143=o;if(G__19143){var bit__4128__auto__=G__19143.cljs$lang$protocol_mask$partition0$&262144;if(bit__4128__auto__||G__19143.cljs$core$IWithMeta$)return true;else if(!G__19143.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IWithMeta,G__19143);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IWithMeta,G__19143)}())return with_meta.call(null,
function(){if(typeof cljs.core.t19144!=="undefined");else{cljs.core.t19144=function(meta,o,with_meta,meta19145){this.meta=meta;this.o=o;this.with_meta=with_meta;this.meta19145=meta19145;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393217};cljs.core.t19144.cljs$lang$type=true;cljs.core.t19144.cljs$lang$ctorStr="cljs.core/t19144";cljs.core.t19144.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,
writer__4046__auto__,"cljs.core/t19144")};cljs.core.t19144.prototype.call=function(){var G__19148__delegate=function(self__,args){var self____$1=this;var _=self____$1;return cljs.core.apply.call(null,self__.o,args)};var G__19148=function(self__,var_args){var self__=this;var args=null;if(arguments.length>1)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return G__19148__delegate.call(this,self__,args)};G__19148.cljs$lang$maxFixedArity=1;G__19148.cljs$lang$applyTo=function(arglist__19149){var self__=
cljs.core.first(arglist__19149);var args=cljs.core.rest(arglist__19149);return G__19148__delegate(self__,args)};G__19148.cljs$core$IFn$_invoke$arity$variadic=G__19148__delegate;return G__19148}();cljs.core.t19144.prototype.apply=function(self__,args19147){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19147)))};cljs.core.t19144.prototype.cljs$core$IFn$_invoke$arity$2=function(){var G__19150__delegate=function(args){var _=
this;return cljs.core.apply.call(null,self__.o,args)};var G__19150=function(var_args){var self__=this;var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__19150__delegate.call(this,args)};G__19150.cljs$lang$maxFixedArity=0;G__19150.cljs$lang$applyTo=function(arglist__19151){var args=cljs.core.seq(arglist__19151);return G__19150__delegate(args)};G__19150.cljs$core$IFn$_invoke$arity$variadic=G__19150__delegate;return G__19150}();cljs.core.t19144.prototype.cljs$core$Fn$=
true;cljs.core.t19144.prototype.cljs$core$IMeta$_meta$arity$1=function(_19146){var self__=this;var _19146__$1=this;return self__.meta19145};cljs.core.t19144.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_19146,meta19145__$1){var self__=this;var _19146__$1=this;return new cljs.core.t19144(self__.meta,self__.o,self__.with_meta,meta19145__$1)};cljs.core.__GT_t19144=function __GT_t19144(meta__$1,o__$1,with_meta__$1,meta19145){return new cljs.core.t19144(meta__$1,o__$1,with_meta__$1,meta19145)}}return new cljs.core.t19144(meta,
o,with_meta,null)}(),meta);else if(o==null)return null;else return cljs.core._with_meta.call(null,o,meta)};
cljs.core.meta=function meta(o){if(function(){var and__3466__auto__=!(o==null);if(and__3466__auto__){var G__19155=o;if(G__19155){var bit__4128__auto__=G__19155.cljs$lang$protocol_mask$partition0$&131072;if(bit__4128__auto__||G__19155.cljs$core$IMeta$)return true;else if(!G__19155.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IMeta,G__19155);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IMeta,G__19155)}else return and__3466__auto__}())return cljs.core._meta.call(null,
o);else return null};cljs.core.peek=function peek(coll){if(coll==null)return null;else return cljs.core._peek.call(null,coll)};cljs.core.pop=function pop(coll){if(coll==null)return null;else return cljs.core._pop.call(null,coll)};
cljs.core.disj=function(){var disj=null;var disj__1=function(coll){return coll};var disj__2=function(coll,k){if(coll==null)return null;else return cljs.core._disjoin.call(null,coll,k)};var disj__3=function(){var G__19156__delegate=function(coll,k,ks){while(true){if(coll==null)return null;else{var ret=disj.call(null,coll,k);if(cljs.core.truth_(ks)){var G__19157=ret;var G__19158=cljs.core.first.call(null,ks);var G__19159=cljs.core.next.call(null,ks);coll=G__19157;k=G__19158;ks=G__19159;continue}else return ret}break}};
var G__19156=function(coll,k,var_args){var ks=null;if(arguments.length>2)ks=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19156__delegate.call(this,coll,k,ks)};G__19156.cljs$lang$maxFixedArity=2;G__19156.cljs$lang$applyTo=function(arglist__19160){var coll=cljs.core.first(arglist__19160);arglist__19160=cljs.core.next(arglist__19160);var k=cljs.core.first(arglist__19160);var ks=cljs.core.rest(arglist__19160);return G__19156__delegate(coll,k,ks)};G__19156.cljs$core$IFn$_invoke$arity$variadic=
G__19156__delegate;return G__19156}();disj=function(coll,k,var_args){var ks=var_args;switch(arguments.length){case 1:return disj__1.call(this,coll);case 2:return disj__2.call(this,coll,k);default:return disj__3.cljs$core$IFn$_invoke$arity$variadic(coll,k,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};disj.cljs$lang$maxFixedArity=2;disj.cljs$lang$applyTo=disj__3.cljs$lang$applyTo;disj.cljs$core$IFn$_invoke$arity$1=disj__1;disj.cljs$core$IFn$_invoke$arity$2=
disj__2;disj.cljs$core$IFn$_invoke$arity$variadic=disj__3.cljs$core$IFn$_invoke$arity$variadic;return disj}();cljs.core.string_hash_cache=function(){var obj19162={};return obj19162}();cljs.core.string_hash_cache_count=0;cljs.core.add_to_string_hash_cache=function add_to_string_hash_cache(k){var h=goog.string.hashCode(k);cljs.core.string_hash_cache[k]=h;cljs.core.string_hash_cache_count=cljs.core.string_hash_cache_count+1;return h};
cljs.core.check_string_hash_cache=function check_string_hash_cache(k){if(cljs.core.string_hash_cache_count>255){cljs.core.string_hash_cache=function(){var obj19166={};return obj19166}();cljs.core.string_hash_cache_count=0}else;var h=cljs.core.string_hash_cache[k];if(typeof h==="number")return h;else return cljs.core.add_to_string_hash_cache.call(null,k)};
cljs.core.hash=function hash(o){if(function(){var G__19168=o;if(G__19168){var bit__4121__auto__=G__19168.cljs$lang$protocol_mask$partition0$&4194304;if(bit__4121__auto__||G__19168.cljs$core$IHash$)return true;else return false}else return false}())return cljs.core._hash.call(null,o);else if(typeof o==="number")return Math.floor(o)%2147483647;else if(o===true)return 1;else if(o===false)return 0;else if(typeof o==="string")return cljs.core.check_string_hash_cache.call(null,o);else if(o==null)return 0;
else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.core._hash.call(null,o);else return null};cljs.core.empty_QMARK_=function empty_QMARK_(coll){return coll==null||cljs.core.not.call(null,cljs.core.seq.call(null,coll))};
cljs.core.coll_QMARK_=function coll_QMARK_(x){if(x==null)return false;else{var G__19170=x;if(G__19170){var bit__4128__auto__=G__19170.cljs$lang$protocol_mask$partition0$&8;if(bit__4128__auto__||G__19170.cljs$core$ICollection$)return true;else if(!G__19170.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ICollection,G__19170);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ICollection,G__19170)}};
cljs.core.set_QMARK_=function set_QMARK_(x){if(x==null)return false;else{var G__19172=x;if(G__19172){var bit__4128__auto__=G__19172.cljs$lang$protocol_mask$partition0$&4096;if(bit__4128__auto__||G__19172.cljs$core$ISet$)return true;else if(!G__19172.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISet,G__19172);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISet,G__19172)}};
cljs.core.associative_QMARK_=function associative_QMARK_(x){var G__19174=x;if(G__19174){var bit__4128__auto__=G__19174.cljs$lang$protocol_mask$partition0$&512;if(bit__4128__auto__||G__19174.cljs$core$IAssociative$)return true;else if(!G__19174.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IAssociative,G__19174);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IAssociative,G__19174)};
cljs.core.sequential_QMARK_=function sequential_QMARK_(x){var G__19176=x;if(G__19176){var bit__4128__auto__=G__19176.cljs$lang$protocol_mask$partition0$&16777216;if(bit__4128__auto__||G__19176.cljs$core$ISequential$)return true;else if(!G__19176.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISequential,G__19176);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISequential,G__19176)};
cljs.core.sorted_QMARK_=function sorted_QMARK_(x){var G__19178=x;if(G__19178){var bit__4128__auto__=G__19178.cljs$lang$protocol_mask$partition0$&268435456;if(bit__4128__auto__||G__19178.cljs$core$ISorted$)return true;else if(!G__19178.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISorted,G__19178);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISorted,G__19178)};
cljs.core.reduceable_QMARK_=function reduceable_QMARK_(x){var G__19180=x;if(G__19180){var bit__4128__auto__=G__19180.cljs$lang$protocol_mask$partition0$&524288;if(bit__4128__auto__||G__19180.cljs$core$IReduce$)return true;else if(!G__19180.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IReduce,G__19180);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IReduce,G__19180)};
cljs.core.map_QMARK_=function map_QMARK_(x){if(x==null)return false;else{var G__19182=x;if(G__19182){var bit__4128__auto__=G__19182.cljs$lang$protocol_mask$partition0$&1024;if(bit__4128__auto__||G__19182.cljs$core$IMap$)return true;else if(!G__19182.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IMap,G__19182);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IMap,G__19182)}};
cljs.core.vector_QMARK_=function vector_QMARK_(x){var G__19184=x;if(G__19184){var bit__4128__auto__=G__19184.cljs$lang$protocol_mask$partition0$&16384;if(bit__4128__auto__||G__19184.cljs$core$IVector$)return true;else if(!G__19184.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IVector,G__19184);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IVector,G__19184)};
cljs.core.chunked_seq_QMARK_=function chunked_seq_QMARK_(x){var G__19186=x;if(G__19186){var bit__4121__auto__=G__19186.cljs$lang$protocol_mask$partition1$&512;if(bit__4121__auto__||G__19186.cljs$core$IChunkedSeq$)return true;else return false}else return false};
cljs.core.js_obj=function(){var js_obj=null;var js_obj__0=function(){var obj19190={};return obj19190};var js_obj__1=function(){var G__19191__delegate=function(keyvals){return cljs.core.apply.call(null,goog.object.create,keyvals)};var G__19191=function(var_args){var keyvals=null;if(arguments.length>0)keyvals=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__19191__delegate.call(this,keyvals)};G__19191.cljs$lang$maxFixedArity=0;G__19191.cljs$lang$applyTo=function(arglist__19192){var keyvals=
cljs.core.seq(arglist__19192);return G__19191__delegate(keyvals)};G__19191.cljs$core$IFn$_invoke$arity$variadic=G__19191__delegate;return G__19191}();js_obj=function(var_args){var keyvals=var_args;switch(arguments.length){case 0:return js_obj__0.call(this);default:return js_obj__1.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq(arguments,0))}throw new Error("Invalid arity: "+arguments.length);};js_obj.cljs$lang$maxFixedArity=0;js_obj.cljs$lang$applyTo=js_obj__1.cljs$lang$applyTo;js_obj.cljs$core$IFn$_invoke$arity$0=
js_obj__0;js_obj.cljs$core$IFn$_invoke$arity$variadic=js_obj__1.cljs$core$IFn$_invoke$arity$variadic;return js_obj}();cljs.core.js_keys=function js_keys(obj){var keys=[];goog.object.forEach(obj,function(keys){return function(val,key,obj__$1){return keys.push(key)}}(keys));return keys};cljs.core.js_delete=function js_delete(obj,key){return delete obj[key]};
cljs.core.array_copy=function array_copy(from,i,to,j,len){var i__$1=i;var j__$1=j;var len__$1=len;while(true){if(len__$1===0)return to;else{to[j__$1]=from[i__$1];var G__19193=i__$1+1;var G__19194=j__$1+1;var G__19195=len__$1-1;i__$1=G__19193;j__$1=G__19194;len__$1=G__19195;continue}break}};
cljs.core.array_copy_downward=function array_copy_downward(from,i,to,j,len){var i__$1=i+(len-1);var j__$1=j+(len-1);var len__$1=len;while(true){if(len__$1===0)return to;else{to[j__$1]=from[i__$1];var G__19196=i__$1-1;var G__19197=j__$1-1;var G__19198=len__$1-1;i__$1=G__19196;j__$1=G__19197;len__$1=G__19198;continue}break}};cljs.core.lookup_sentinel=function(){var obj19200={};return obj19200}();cljs.core.false_QMARK_=function false_QMARK_(x){return x===false};
cljs.core.true_QMARK_=function true_QMARK_(x){return x===true};cljs.core.undefined_QMARK_=function undefined_QMARK_(x){return void 0===x};
cljs.core.seq_QMARK_=function seq_QMARK_(s){if(s==null)return false;else{var G__19202=s;if(G__19202){var bit__4128__auto__=G__19202.cljs$lang$protocol_mask$partition0$&64;if(bit__4128__auto__||G__19202.cljs$core$ISeq$)return true;else if(!G__19202.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISeq,G__19202);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISeq,G__19202)}};
cljs.core.seqable_QMARK_=function seqable_QMARK_(s){var G__19204=s;if(G__19204){var bit__4128__auto__=G__19204.cljs$lang$protocol_mask$partition0$&8388608;if(bit__4128__auto__||G__19204.cljs$core$ISeqable$)return true;else if(!G__19204.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISeqable,G__19204);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ISeqable,G__19204)};
cljs.core.boolean$=function boolean$(x){if(cljs.core.truth_(x))return true;else return false};
cljs.core.ifn_QMARK_=function ifn_QMARK_(f){var or__3478__auto__=cljs.core.fn_QMARK_.call(null,f);if(or__3478__auto__)return or__3478__auto__;else{var G__19208=f;if(G__19208){var bit__4128__auto__=G__19208.cljs$lang$protocol_mask$partition0$&1;if(bit__4128__auto__||G__19208.cljs$core$IFn$)return true;else if(!G__19208.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IFn,G__19208);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,
cljs.core.IFn,G__19208)}};cljs.core.integer_QMARK_=function integer_QMARK_(n){return typeof n==="number"&&(!isNaN(n)&&(!(n===Infinity)&&parseFloat(n)===parseInt(n,10)))};cljs.core.contains_QMARK_=function contains_QMARK_(coll,v){if(cljs.core.get.call(null,coll,v,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)return false;else return true};
cljs.core.find=function find(coll,k){if(!(coll==null)&&(cljs.core.associative_QMARK_.call(null,coll)&&cljs.core.contains_QMARK_.call(null,coll,k)))return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[k,cljs.core.get.call(null,coll,k)],null);else return null};
cljs.core.distinct_QMARK_=function(){var distinct_QMARK_=null;var distinct_QMARK___1=function(x){return true};var distinct_QMARK___2=function(x,y){return!cljs.core._EQ_.call(null,x,y)};var distinct_QMARK___3=function(){var G__19209__delegate=function(x,y,more){if(!cljs.core._EQ_.call(null,x,y)){var s=cljs.core.PersistentHashSet.fromArray([x,y],true);var xs=more;while(true){var x__$1=cljs.core.first.call(null,xs);var etc=cljs.core.next.call(null,xs);if(cljs.core.truth_(xs))if(cljs.core.contains_QMARK_.call(null,
s,x__$1))return false;else{var G__19210=cljs.core.conj.call(null,s,x__$1);var G__19211=etc;s=G__19210;xs=G__19211;continue}else return true;break}}else return false};var G__19209=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19209__delegate.call(this,x,y,more)};G__19209.cljs$lang$maxFixedArity=2;G__19209.cljs$lang$applyTo=function(arglist__19212){var x=cljs.core.first(arglist__19212);arglist__19212=cljs.core.next(arglist__19212);
var y=cljs.core.first(arglist__19212);var more=cljs.core.rest(arglist__19212);return G__19209__delegate(x,y,more)};G__19209.cljs$core$IFn$_invoke$arity$variadic=G__19209__delegate;return G__19209}();distinct_QMARK_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return distinct_QMARK___1.call(this,x);case 2:return distinct_QMARK___2.call(this,x,y);default:return distinct_QMARK___3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+
arguments.length);};distinct_QMARK_.cljs$lang$maxFixedArity=2;distinct_QMARK_.cljs$lang$applyTo=distinct_QMARK___3.cljs$lang$applyTo;distinct_QMARK_.cljs$core$IFn$_invoke$arity$1=distinct_QMARK___1;distinct_QMARK_.cljs$core$IFn$_invoke$arity$2=distinct_QMARK___2;distinct_QMARK_.cljs$core$IFn$_invoke$arity$variadic=distinct_QMARK___3.cljs$core$IFn$_invoke$arity$variadic;return distinct_QMARK_}();
cljs.core.sequence=function sequence(coll){if(cljs.core.seq_QMARK_.call(null,coll))return coll;else{var or__3478__auto__=cljs.core.seq.call(null,coll);if(or__3478__auto__)return or__3478__auto__;else return cljs.core.List.EMPTY}};
cljs.core.compare=function compare(x,y){if(x===y)return 0;else if(x==null)return-1;else if(y==null)return 1;else if(cljs.core.type.call(null,x)===cljs.core.type.call(null,y))if(function(){var G__19214=x;if(G__19214){var bit__4121__auto__=G__19214.cljs$lang$protocol_mask$partition1$&2048;if(bit__4121__auto__||G__19214.cljs$core$IComparable$)return true;else return false}else return false}())return cljs.core._compare.call(null,x,y);else return goog.array.defaultCompare(x,y);else if(new cljs.core.Keyword(null,
"else","else",1017020587))throw new Error("compare on non-nil objects of different types");else return null};
cljs.core.compare_indexed=function(){var compare_indexed=null;var compare_indexed__2=function(xs,ys){var xl=cljs.core.count.call(null,xs);var yl=cljs.core.count.call(null,ys);if(xl<yl)return-1;else if(xl>yl)return 1;else if(new cljs.core.Keyword(null,"else","else",1017020587))return compare_indexed.call(null,xs,ys,xl,0);else return null};var compare_indexed__4=function(xs,ys,len,n){while(true){var d=cljs.core.compare.call(null,cljs.core.nth.call(null,xs,n),cljs.core.nth.call(null,ys,n));if(d===0&&
n+1<len){var G__19215=xs;var G__19216=ys;var G__19217=len;var G__19218=n+1;xs=G__19215;ys=G__19216;len=G__19217;n=G__19218;continue}else return d;break}};compare_indexed=function(xs,ys,len,n){switch(arguments.length){case 2:return compare_indexed__2.call(this,xs,ys);case 4:return compare_indexed__4.call(this,xs,ys,len,n)}throw new Error("Invalid arity: "+arguments.length);};compare_indexed.cljs$core$IFn$_invoke$arity$2=compare_indexed__2;compare_indexed.cljs$core$IFn$_invoke$arity$4=compare_indexed__4;
return compare_indexed}();cljs.core.fn__GT_comparator=function fn__GT_comparator(f){if(cljs.core._EQ_.call(null,f,cljs.core.compare))return cljs.core.compare;else return function(x,y){var r=f.call(null,x,y);if(typeof r==="number")return r;else if(cljs.core.truth_(r))return-1;else if(cljs.core.truth_(f.call(null,y,x)))return 1;else return 0}};
cljs.core.sort=function(){var sort=null;var sort__1=function(coll){return sort.call(null,cljs.core.compare,coll)};var sort__2=function(comp,coll){if(cljs.core.seq.call(null,coll)){var a=cljs.core.to_array.call(null,coll);goog.array.stableSort(a,cljs.core.fn__GT_comparator.call(null,comp));return cljs.core.seq.call(null,a)}else return cljs.core.List.EMPTY};sort=function(comp,coll){switch(arguments.length){case 1:return sort__1.call(this,comp);case 2:return sort__2.call(this,comp,coll)}throw new Error("Invalid arity: "+
arguments.length);};sort.cljs$core$IFn$_invoke$arity$1=sort__1;sort.cljs$core$IFn$_invoke$arity$2=sort__2;return sort}();
cljs.core.sort_by=function(){var sort_by=null;var sort_by__2=function(keyfn,coll){return sort_by.call(null,keyfn,cljs.core.compare,coll)};var sort_by__3=function(keyfn,comp,coll){return cljs.core.sort.call(null,function(x,y){return cljs.core.fn__GT_comparator.call(null,comp).call(null,keyfn.call(null,x),keyfn.call(null,y))},coll)};sort_by=function(keyfn,comp,coll){switch(arguments.length){case 2:return sort_by__2.call(this,keyfn,comp);case 3:return sort_by__3.call(this,keyfn,comp,coll)}throw new Error("Invalid arity: "+
arguments.length);};sort_by.cljs$core$IFn$_invoke$arity$2=sort_by__2;sort_by.cljs$core$IFn$_invoke$arity$3=sort_by__3;return sort_by}();
cljs.core.seq_reduce=function(){var seq_reduce=null;var seq_reduce__2=function(f,coll){var temp__4124__auto__=cljs.core.seq.call(null,coll);if(temp__4124__auto__){var s=temp__4124__auto__;return cljs.core.reduce.call(null,f,cljs.core.first.call(null,s),cljs.core.next.call(null,s))}else return f.call(null)};var seq_reduce__3=function(f,val,coll){var val__$1=val;var coll__$1=cljs.core.seq.call(null,coll);while(true){if(coll__$1){var nval=f.call(null,val__$1,cljs.core.first.call(null,coll__$1));if(cljs.core.reduced_QMARK_.call(null,
nval))return cljs.core.deref.call(null,nval);else{var G__19219=nval;var G__19220=cljs.core.next.call(null,coll__$1);val__$1=G__19219;coll__$1=G__19220;continue}}else return val__$1;break}};seq_reduce=function(f,val,coll){switch(arguments.length){case 2:return seq_reduce__2.call(this,f,val);case 3:return seq_reduce__3.call(this,f,val,coll)}throw new Error("Invalid arity: "+arguments.length);};seq_reduce.cljs$core$IFn$_invoke$arity$2=seq_reduce__2;seq_reduce.cljs$core$IFn$_invoke$arity$3=seq_reduce__3;
return seq_reduce}();cljs.core.shuffle=function shuffle(coll){var a=cljs.core.to_array.call(null,coll);goog.array.shuffle(a);return cljs.core.vec.call(null,a)};
cljs.core.reduce=function(){var reduce=null;var reduce__2=function(f,coll){if(function(){var G__19223=coll;if(G__19223){var bit__4121__auto__=G__19223.cljs$lang$protocol_mask$partition0$&524288;if(bit__4121__auto__||G__19223.cljs$core$IReduce$)return true;else return false}else return false}())return cljs.core._reduce.call(null,coll,f);else if(coll instanceof Array)return cljs.core.array_reduce.call(null,coll,f);else if(typeof coll==="string")return cljs.core.array_reduce.call(null,coll,f);else if(cljs.core.native_satisfies_QMARK_.call(null,
cljs.core.IReduce,coll))return cljs.core._reduce.call(null,coll,f);else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.core.seq_reduce.call(null,f,coll);else return null};var reduce__3=function(f,val,coll){if(function(){var G__19224=coll;if(G__19224){var bit__4121__auto__=G__19224.cljs$lang$protocol_mask$partition0$&524288;if(bit__4121__auto__||G__19224.cljs$core$IReduce$)return true;else return false}else return false}())return cljs.core._reduce.call(null,coll,f,val);else if(coll instanceof
Array)return cljs.core.array_reduce.call(null,coll,f,val);else if(typeof coll==="string")return cljs.core.array_reduce.call(null,coll,f,val);else if(cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IReduce,coll))return cljs.core._reduce.call(null,coll,f,val);else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.core.seq_reduce.call(null,f,val,coll);else return null};reduce=function(f,val,coll){switch(arguments.length){case 2:return reduce__2.call(this,f,val);case 3:return reduce__3.call(this,
f,val,coll)}throw new Error("Invalid arity: "+arguments.length);};reduce.cljs$core$IFn$_invoke$arity$2=reduce__2;reduce.cljs$core$IFn$_invoke$arity$3=reduce__3;return reduce}();cljs.core.reduce_kv=function reduce_kv(f,init,coll){if(!(coll==null))return cljs.core._kv_reduce.call(null,coll,f,init);else return init};
cljs.core._PLUS_=function(){var _PLUS_=null;var _PLUS___0=function(){return 0};var _PLUS___1=function(x){return x};var _PLUS___2=function(x,y){return x+y};var _PLUS___3=function(){var G__19225__delegate=function(x,y,more){return cljs.core.reduce.call(null,_PLUS_,x+y,more)};var G__19225=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19225__delegate.call(this,x,y,more)};G__19225.cljs$lang$maxFixedArity=2;G__19225.cljs$lang$applyTo=
function(arglist__19226){var x=cljs.core.first(arglist__19226);arglist__19226=cljs.core.next(arglist__19226);var y=cljs.core.first(arglist__19226);var more=cljs.core.rest(arglist__19226);return G__19225__delegate(x,y,more)};G__19225.cljs$core$IFn$_invoke$arity$variadic=G__19225__delegate;return G__19225}();_PLUS_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 0:return _PLUS___0.call(this);case 1:return _PLUS___1.call(this,x);case 2:return _PLUS___2.call(this,x,y);default:return _PLUS___3.cljs$core$IFn$_invoke$arity$variadic(x,
y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};_PLUS_.cljs$lang$maxFixedArity=2;_PLUS_.cljs$lang$applyTo=_PLUS___3.cljs$lang$applyTo;_PLUS_.cljs$core$IFn$_invoke$arity$0=_PLUS___0;_PLUS_.cljs$core$IFn$_invoke$arity$1=_PLUS___1;_PLUS_.cljs$core$IFn$_invoke$arity$2=_PLUS___2;_PLUS_.cljs$core$IFn$_invoke$arity$variadic=_PLUS___3.cljs$core$IFn$_invoke$arity$variadic;return _PLUS_}();
cljs.core._=function(){var _=null;var ___1=function(x){return-x};var ___2=function(x,y){return x-y};var ___3=function(){var G__19227__delegate=function(x,y,more){return cljs.core.reduce.call(null,_,x-y,more)};var G__19227=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19227__delegate.call(this,x,y,more)};G__19227.cljs$lang$maxFixedArity=2;G__19227.cljs$lang$applyTo=function(arglist__19228){var x=cljs.core.first(arglist__19228);
arglist__19228=cljs.core.next(arglist__19228);var y=cljs.core.first(arglist__19228);var more=cljs.core.rest(arglist__19228);return G__19227__delegate(x,y,more)};G__19227.cljs$core$IFn$_invoke$arity$variadic=G__19227__delegate;return G__19227}();_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return ___1.call(this,x);case 2:return ___2.call(this,x,y);default:return ___3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+
arguments.length);};_.cljs$lang$maxFixedArity=2;_.cljs$lang$applyTo=___3.cljs$lang$applyTo;_.cljs$core$IFn$_invoke$arity$1=___1;_.cljs$core$IFn$_invoke$arity$2=___2;_.cljs$core$IFn$_invoke$arity$variadic=___3.cljs$core$IFn$_invoke$arity$variadic;return _}();
cljs.core._STAR_=function(){var _STAR_=null;var _STAR___0=function(){return 1};var _STAR___1=function(x){return x};var _STAR___2=function(x,y){return x*y};var _STAR___3=function(){var G__19229__delegate=function(x,y,more){return cljs.core.reduce.call(null,_STAR_,x*y,more)};var G__19229=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19229__delegate.call(this,x,y,more)};G__19229.cljs$lang$maxFixedArity=2;G__19229.cljs$lang$applyTo=
function(arglist__19230){var x=cljs.core.first(arglist__19230);arglist__19230=cljs.core.next(arglist__19230);var y=cljs.core.first(arglist__19230);var more=cljs.core.rest(arglist__19230);return G__19229__delegate(x,y,more)};G__19229.cljs$core$IFn$_invoke$arity$variadic=G__19229__delegate;return G__19229}();_STAR_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 0:return _STAR___0.call(this);case 1:return _STAR___1.call(this,x);case 2:return _STAR___2.call(this,x,y);default:return _STAR___3.cljs$core$IFn$_invoke$arity$variadic(x,
y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};_STAR_.cljs$lang$maxFixedArity=2;_STAR_.cljs$lang$applyTo=_STAR___3.cljs$lang$applyTo;_STAR_.cljs$core$IFn$_invoke$arity$0=_STAR___0;_STAR_.cljs$core$IFn$_invoke$arity$1=_STAR___1;_STAR_.cljs$core$IFn$_invoke$arity$2=_STAR___2;_STAR_.cljs$core$IFn$_invoke$arity$variadic=_STAR___3.cljs$core$IFn$_invoke$arity$variadic;return _STAR_}();
cljs.core._SLASH_=function(){var _SLASH_=null;var _SLASH___1=function(x){return _SLASH_.call(null,1,x)};var _SLASH___2=function(x,y){return x/y};var _SLASH___3=function(){var G__19231__delegate=function(x,y,more){return cljs.core.reduce.call(null,_SLASH_,_SLASH_.call(null,x,y),more)};var G__19231=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19231__delegate.call(this,x,y,more)};G__19231.cljs$lang$maxFixedArity=
2;G__19231.cljs$lang$applyTo=function(arglist__19232){var x=cljs.core.first(arglist__19232);arglist__19232=cljs.core.next(arglist__19232);var y=cljs.core.first(arglist__19232);var more=cljs.core.rest(arglist__19232);return G__19231__delegate(x,y,more)};G__19231.cljs$core$IFn$_invoke$arity$variadic=G__19231__delegate;return G__19231}();_SLASH_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return _SLASH___1.call(this,x);case 2:return _SLASH___2.call(this,x,y);default:return _SLASH___3.cljs$core$IFn$_invoke$arity$variadic(x,
y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};_SLASH_.cljs$lang$maxFixedArity=2;_SLASH_.cljs$lang$applyTo=_SLASH___3.cljs$lang$applyTo;_SLASH_.cljs$core$IFn$_invoke$arity$1=_SLASH___1;_SLASH_.cljs$core$IFn$_invoke$arity$2=_SLASH___2;_SLASH_.cljs$core$IFn$_invoke$arity$variadic=_SLASH___3.cljs$core$IFn$_invoke$arity$variadic;return _SLASH_}();
cljs.core._LT_=function(){var _LT_=null;var _LT___1=function(x){return true};var _LT___2=function(x,y){return x<y};var _LT___3=function(){var G__19233__delegate=function(x,y,more){while(true){if(x<y)if(cljs.core.next.call(null,more)){var G__19234=y;var G__19235=cljs.core.first.call(null,more);var G__19236=cljs.core.next.call(null,more);x=G__19234;y=G__19235;more=G__19236;continue}else return y<cljs.core.first.call(null,more);else return false;break}};var G__19233=function(x,y,var_args){var more=null;
if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19233__delegate.call(this,x,y,more)};G__19233.cljs$lang$maxFixedArity=2;G__19233.cljs$lang$applyTo=function(arglist__19237){var x=cljs.core.first(arglist__19237);arglist__19237=cljs.core.next(arglist__19237);var y=cljs.core.first(arglist__19237);var more=cljs.core.rest(arglist__19237);return G__19233__delegate(x,y,more)};G__19233.cljs$core$IFn$_invoke$arity$variadic=G__19233__delegate;return G__19233}();
_LT_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return _LT___1.call(this,x);case 2:return _LT___2.call(this,x,y);default:return _LT___3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};_LT_.cljs$lang$maxFixedArity=2;_LT_.cljs$lang$applyTo=_LT___3.cljs$lang$applyTo;_LT_.cljs$core$IFn$_invoke$arity$1=_LT___1;_LT_.cljs$core$IFn$_invoke$arity$2=_LT___2;_LT_.cljs$core$IFn$_invoke$arity$variadic=
_LT___3.cljs$core$IFn$_invoke$arity$variadic;return _LT_}();
cljs.core._LT__EQ_=function(){var _LT__EQ_=null;var _LT__EQ___1=function(x){return true};var _LT__EQ___2=function(x,y){return x<=y};var _LT__EQ___3=function(){var G__19238__delegate=function(x,y,more){while(true){if(x<=y)if(cljs.core.next.call(null,more)){var G__19239=y;var G__19240=cljs.core.first.call(null,more);var G__19241=cljs.core.next.call(null,more);x=G__19239;y=G__19240;more=G__19241;continue}else return y<=cljs.core.first.call(null,more);else return false;break}};var G__19238=function(x,
y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19238__delegate.call(this,x,y,more)};G__19238.cljs$lang$maxFixedArity=2;G__19238.cljs$lang$applyTo=function(arglist__19242){var x=cljs.core.first(arglist__19242);arglist__19242=cljs.core.next(arglist__19242);var y=cljs.core.first(arglist__19242);var more=cljs.core.rest(arglist__19242);return G__19238__delegate(x,y,more)};G__19238.cljs$core$IFn$_invoke$arity$variadic=G__19238__delegate;
return G__19238}();_LT__EQ_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return _LT__EQ___1.call(this,x);case 2:return _LT__EQ___2.call(this,x,y);default:return _LT__EQ___3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};_LT__EQ_.cljs$lang$maxFixedArity=2;_LT__EQ_.cljs$lang$applyTo=_LT__EQ___3.cljs$lang$applyTo;_LT__EQ_.cljs$core$IFn$_invoke$arity$1=_LT__EQ___1;_LT__EQ_.cljs$core$IFn$_invoke$arity$2=
_LT__EQ___2;_LT__EQ_.cljs$core$IFn$_invoke$arity$variadic=_LT__EQ___3.cljs$core$IFn$_invoke$arity$variadic;return _LT__EQ_}();
cljs.core._GT_=function(){var _GT_=null;var _GT___1=function(x){return true};var _GT___2=function(x,y){return x>y};var _GT___3=function(){var G__19243__delegate=function(x,y,more){while(true){if(x>y)if(cljs.core.next.call(null,more)){var G__19244=y;var G__19245=cljs.core.first.call(null,more);var G__19246=cljs.core.next.call(null,more);x=G__19244;y=G__19245;more=G__19246;continue}else return y>cljs.core.first.call(null,more);else return false;break}};var G__19243=function(x,y,var_args){var more=null;
if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19243__delegate.call(this,x,y,more)};G__19243.cljs$lang$maxFixedArity=2;G__19243.cljs$lang$applyTo=function(arglist__19247){var x=cljs.core.first(arglist__19247);arglist__19247=cljs.core.next(arglist__19247);var y=cljs.core.first(arglist__19247);var more=cljs.core.rest(arglist__19247);return G__19243__delegate(x,y,more)};G__19243.cljs$core$IFn$_invoke$arity$variadic=G__19243__delegate;return G__19243}();
_GT_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return _GT___1.call(this,x);case 2:return _GT___2.call(this,x,y);default:return _GT___3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};_GT_.cljs$lang$maxFixedArity=2;_GT_.cljs$lang$applyTo=_GT___3.cljs$lang$applyTo;_GT_.cljs$core$IFn$_invoke$arity$1=_GT___1;_GT_.cljs$core$IFn$_invoke$arity$2=_GT___2;_GT_.cljs$core$IFn$_invoke$arity$variadic=
_GT___3.cljs$core$IFn$_invoke$arity$variadic;return _GT_}();
cljs.core._GT__EQ_=function(){var _GT__EQ_=null;var _GT__EQ___1=function(x){return true};var _GT__EQ___2=function(x,y){return x>=y};var _GT__EQ___3=function(){var G__19248__delegate=function(x,y,more){while(true){if(x>=y)if(cljs.core.next.call(null,more)){var G__19249=y;var G__19250=cljs.core.first.call(null,more);var G__19251=cljs.core.next.call(null,more);x=G__19249;y=G__19250;more=G__19251;continue}else return y>=cljs.core.first.call(null,more);else return false;break}};var G__19248=function(x,
y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19248__delegate.call(this,x,y,more)};G__19248.cljs$lang$maxFixedArity=2;G__19248.cljs$lang$applyTo=function(arglist__19252){var x=cljs.core.first(arglist__19252);arglist__19252=cljs.core.next(arglist__19252);var y=cljs.core.first(arglist__19252);var more=cljs.core.rest(arglist__19252);return G__19248__delegate(x,y,more)};G__19248.cljs$core$IFn$_invoke$arity$variadic=G__19248__delegate;
return G__19248}();_GT__EQ_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return _GT__EQ___1.call(this,x);case 2:return _GT__EQ___2.call(this,x,y);default:return _GT__EQ___3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};_GT__EQ_.cljs$lang$maxFixedArity=2;_GT__EQ_.cljs$lang$applyTo=_GT__EQ___3.cljs$lang$applyTo;_GT__EQ_.cljs$core$IFn$_invoke$arity$1=_GT__EQ___1;_GT__EQ_.cljs$core$IFn$_invoke$arity$2=
_GT__EQ___2;_GT__EQ_.cljs$core$IFn$_invoke$arity$variadic=_GT__EQ___3.cljs$core$IFn$_invoke$arity$variadic;return _GT__EQ_}();cljs.core.dec=function dec(x){return x-1};
cljs.core.max=function(){var max=null;var max__1=function(x){return x};var max__2=function(x,y){var x__3785__auto__=x;var y__3786__auto__=y;return x__3785__auto__>y__3786__auto__?x__3785__auto__:y__3786__auto__};var max__3=function(){var G__19253__delegate=function(x,y,more){return cljs.core.reduce.call(null,max,function(){var x__3785__auto__=x;var y__3786__auto__=y;return x__3785__auto__>y__3786__auto__?x__3785__auto__:y__3786__auto__}(),more)};var G__19253=function(x,y,var_args){var more=null;if(arguments.length>
2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19253__delegate.call(this,x,y,more)};G__19253.cljs$lang$maxFixedArity=2;G__19253.cljs$lang$applyTo=function(arglist__19254){var x=cljs.core.first(arglist__19254);arglist__19254=cljs.core.next(arglist__19254);var y=cljs.core.first(arglist__19254);var more=cljs.core.rest(arglist__19254);return G__19253__delegate(x,y,more)};G__19253.cljs$core$IFn$_invoke$arity$variadic=G__19253__delegate;return G__19253}();max=function(x,
y,var_args){var more=var_args;switch(arguments.length){case 1:return max__1.call(this,x);case 2:return max__2.call(this,x,y);default:return max__3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};max.cljs$lang$maxFixedArity=2;max.cljs$lang$applyTo=max__3.cljs$lang$applyTo;max.cljs$core$IFn$_invoke$arity$1=max__1;max.cljs$core$IFn$_invoke$arity$2=max__2;max.cljs$core$IFn$_invoke$arity$variadic=max__3.cljs$core$IFn$_invoke$arity$variadic;
return max}();
cljs.core.min=function(){var min=null;var min__1=function(x){return x};var min__2=function(x,y){var x__3792__auto__=x;var y__3793__auto__=y;return x__3792__auto__<y__3793__auto__?x__3792__auto__:y__3793__auto__};var min__3=function(){var G__19255__delegate=function(x,y,more){return cljs.core.reduce.call(null,min,function(){var x__3792__auto__=x;var y__3793__auto__=y;return x__3792__auto__<y__3793__auto__?x__3792__auto__:y__3793__auto__}(),more)};var G__19255=function(x,y,var_args){var more=null;if(arguments.length>
2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19255__delegate.call(this,x,y,more)};G__19255.cljs$lang$maxFixedArity=2;G__19255.cljs$lang$applyTo=function(arglist__19256){var x=cljs.core.first(arglist__19256);arglist__19256=cljs.core.next(arglist__19256);var y=cljs.core.first(arglist__19256);var more=cljs.core.rest(arglist__19256);return G__19255__delegate(x,y,more)};G__19255.cljs$core$IFn$_invoke$arity$variadic=G__19255__delegate;return G__19255}();min=function(x,
y,var_args){var more=var_args;switch(arguments.length){case 1:return min__1.call(this,x);case 2:return min__2.call(this,x,y);default:return min__3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};min.cljs$lang$maxFixedArity=2;min.cljs$lang$applyTo=min__3.cljs$lang$applyTo;min.cljs$core$IFn$_invoke$arity$1=min__1;min.cljs$core$IFn$_invoke$arity$2=min__2;min.cljs$core$IFn$_invoke$arity$variadic=min__3.cljs$core$IFn$_invoke$arity$variadic;
return min}();cljs.core.byte$=function byte$(x){return x};cljs.core.char$=function char$(x){if(typeof x==="number")return String.fromCharCode(x);else if(typeof x==="string"&&x.length===1)return x;else if(new cljs.core.Keyword(null,"else","else",1017020587))throw new Error("Argument to char must be a character or number");else return null};cljs.core.short$=function short$(x){return x};cljs.core.float$=function float$(x){return x};cljs.core.double$=function double$(x){return x};
cljs.core.unchecked_byte=function unchecked_byte(x){return x};cljs.core.unchecked_char=function unchecked_char(x){return x};cljs.core.unchecked_short=function unchecked_short(x){return x};cljs.core.unchecked_float=function unchecked_float(x){return x};cljs.core.unchecked_double=function unchecked_double(x){return x};
cljs.core.unchecked_add=function(){var unchecked_add=null;var unchecked_add__0=function(){return 0};var unchecked_add__1=function(x){return x};var unchecked_add__2=function(x,y){return x+y};var unchecked_add__3=function(){var G__19257__delegate=function(x,y,more){return cljs.core.reduce.call(null,unchecked_add,x+y,more)};var G__19257=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19257__delegate.call(this,x,
y,more)};G__19257.cljs$lang$maxFixedArity=2;G__19257.cljs$lang$applyTo=function(arglist__19258){var x=cljs.core.first(arglist__19258);arglist__19258=cljs.core.next(arglist__19258);var y=cljs.core.first(arglist__19258);var more=cljs.core.rest(arglist__19258);return G__19257__delegate(x,y,more)};G__19257.cljs$core$IFn$_invoke$arity$variadic=G__19257__delegate;return G__19257}();unchecked_add=function(x,y,var_args){var more=var_args;switch(arguments.length){case 0:return unchecked_add__0.call(this);
case 1:return unchecked_add__1.call(this,x);case 2:return unchecked_add__2.call(this,x,y);default:return unchecked_add__3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};unchecked_add.cljs$lang$maxFixedArity=2;unchecked_add.cljs$lang$applyTo=unchecked_add__3.cljs$lang$applyTo;unchecked_add.cljs$core$IFn$_invoke$arity$0=unchecked_add__0;unchecked_add.cljs$core$IFn$_invoke$arity$1=unchecked_add__1;unchecked_add.cljs$core$IFn$_invoke$arity$2=
unchecked_add__2;unchecked_add.cljs$core$IFn$_invoke$arity$variadic=unchecked_add__3.cljs$core$IFn$_invoke$arity$variadic;return unchecked_add}();
cljs.core.unchecked_add_int=function(){var unchecked_add_int=null;var unchecked_add_int__0=function(){return 0};var unchecked_add_int__1=function(x){return x};var unchecked_add_int__2=function(x,y){return x+y};var unchecked_add_int__3=function(){var G__19259__delegate=function(x,y,more){return cljs.core.reduce.call(null,unchecked_add_int,x+y,more)};var G__19259=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19259__delegate.call(this,
x,y,more)};G__19259.cljs$lang$maxFixedArity=2;G__19259.cljs$lang$applyTo=function(arglist__19260){var x=cljs.core.first(arglist__19260);arglist__19260=cljs.core.next(arglist__19260);var y=cljs.core.first(arglist__19260);var more=cljs.core.rest(arglist__19260);return G__19259__delegate(x,y,more)};G__19259.cljs$core$IFn$_invoke$arity$variadic=G__19259__delegate;return G__19259}();unchecked_add_int=function(x,y,var_args){var more=var_args;switch(arguments.length){case 0:return unchecked_add_int__0.call(this);
case 1:return unchecked_add_int__1.call(this,x);case 2:return unchecked_add_int__2.call(this,x,y);default:return unchecked_add_int__3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};unchecked_add_int.cljs$lang$maxFixedArity=2;unchecked_add_int.cljs$lang$applyTo=unchecked_add_int__3.cljs$lang$applyTo;unchecked_add_int.cljs$core$IFn$_invoke$arity$0=unchecked_add_int__0;unchecked_add_int.cljs$core$IFn$_invoke$arity$1=unchecked_add_int__1;
unchecked_add_int.cljs$core$IFn$_invoke$arity$2=unchecked_add_int__2;unchecked_add_int.cljs$core$IFn$_invoke$arity$variadic=unchecked_add_int__3.cljs$core$IFn$_invoke$arity$variadic;return unchecked_add_int}();cljs.core.unchecked_dec=function unchecked_dec(x){return x-1};cljs.core.unchecked_dec_int=function unchecked_dec_int(x){return x-1};
cljs.core.unchecked_divide_int=function(){var unchecked_divide_int=null;var unchecked_divide_int__1=function(x){return unchecked_divide_int.call(null,1,x)};var unchecked_divide_int__2=function(x,y){return x/y};var unchecked_divide_int__3=function(){var G__19261__delegate=function(x,y,more){return cljs.core.reduce.call(null,unchecked_divide_int,unchecked_divide_int.call(null,x,y),more)};var G__19261=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,
2),0);return G__19261__delegate.call(this,x,y,more)};G__19261.cljs$lang$maxFixedArity=2;G__19261.cljs$lang$applyTo=function(arglist__19262){var x=cljs.core.first(arglist__19262);arglist__19262=cljs.core.next(arglist__19262);var y=cljs.core.first(arglist__19262);var more=cljs.core.rest(arglist__19262);return G__19261__delegate(x,y,more)};G__19261.cljs$core$IFn$_invoke$arity$variadic=G__19261__delegate;return G__19261}();unchecked_divide_int=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return unchecked_divide_int__1.call(this,
x);case 2:return unchecked_divide_int__2.call(this,x,y);default:return unchecked_divide_int__3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};unchecked_divide_int.cljs$lang$maxFixedArity=2;unchecked_divide_int.cljs$lang$applyTo=unchecked_divide_int__3.cljs$lang$applyTo;unchecked_divide_int.cljs$core$IFn$_invoke$arity$1=unchecked_divide_int__1;unchecked_divide_int.cljs$core$IFn$_invoke$arity$2=unchecked_divide_int__2;
unchecked_divide_int.cljs$core$IFn$_invoke$arity$variadic=unchecked_divide_int__3.cljs$core$IFn$_invoke$arity$variadic;return unchecked_divide_int}();cljs.core.unchecked_inc=function unchecked_inc(x){return x+1};cljs.core.unchecked_inc_int=function unchecked_inc_int(x){return x+1};
cljs.core.unchecked_multiply=function(){var unchecked_multiply=null;var unchecked_multiply__0=function(){return 1};var unchecked_multiply__1=function(x){return x};var unchecked_multiply__2=function(x,y){return x*y};var unchecked_multiply__3=function(){var G__19263__delegate=function(x,y,more){return cljs.core.reduce.call(null,unchecked_multiply,x*y,more)};var G__19263=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19263__delegate.call(this,
x,y,more)};G__19263.cljs$lang$maxFixedArity=2;G__19263.cljs$lang$applyTo=function(arglist__19264){var x=cljs.core.first(arglist__19264);arglist__19264=cljs.core.next(arglist__19264);var y=cljs.core.first(arglist__19264);var more=cljs.core.rest(arglist__19264);return G__19263__delegate(x,y,more)};G__19263.cljs$core$IFn$_invoke$arity$variadic=G__19263__delegate;return G__19263}();unchecked_multiply=function(x,y,var_args){var more=var_args;switch(arguments.length){case 0:return unchecked_multiply__0.call(this);
case 1:return unchecked_multiply__1.call(this,x);case 2:return unchecked_multiply__2.call(this,x,y);default:return unchecked_multiply__3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};unchecked_multiply.cljs$lang$maxFixedArity=2;unchecked_multiply.cljs$lang$applyTo=unchecked_multiply__3.cljs$lang$applyTo;unchecked_multiply.cljs$core$IFn$_invoke$arity$0=unchecked_multiply__0;unchecked_multiply.cljs$core$IFn$_invoke$arity$1=
unchecked_multiply__1;unchecked_multiply.cljs$core$IFn$_invoke$arity$2=unchecked_multiply__2;unchecked_multiply.cljs$core$IFn$_invoke$arity$variadic=unchecked_multiply__3.cljs$core$IFn$_invoke$arity$variadic;return unchecked_multiply}();
cljs.core.unchecked_multiply_int=function(){var unchecked_multiply_int=null;var unchecked_multiply_int__0=function(){return 1};var unchecked_multiply_int__1=function(x){return x};var unchecked_multiply_int__2=function(x,y){return x*y};var unchecked_multiply_int__3=function(){var G__19265__delegate=function(x,y,more){return cljs.core.reduce.call(null,unchecked_multiply_int,x*y,more)};var G__19265=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,
2),0);return G__19265__delegate.call(this,x,y,more)};G__19265.cljs$lang$maxFixedArity=2;G__19265.cljs$lang$applyTo=function(arglist__19266){var x=cljs.core.first(arglist__19266);arglist__19266=cljs.core.next(arglist__19266);var y=cljs.core.first(arglist__19266);var more=cljs.core.rest(arglist__19266);return G__19265__delegate(x,y,more)};G__19265.cljs$core$IFn$_invoke$arity$variadic=G__19265__delegate;return G__19265}();unchecked_multiply_int=function(x,y,var_args){var more=var_args;switch(arguments.length){case 0:return unchecked_multiply_int__0.call(this);
case 1:return unchecked_multiply_int__1.call(this,x);case 2:return unchecked_multiply_int__2.call(this,x,y);default:return unchecked_multiply_int__3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};unchecked_multiply_int.cljs$lang$maxFixedArity=2;unchecked_multiply_int.cljs$lang$applyTo=unchecked_multiply_int__3.cljs$lang$applyTo;unchecked_multiply_int.cljs$core$IFn$_invoke$arity$0=unchecked_multiply_int__0;unchecked_multiply_int.cljs$core$IFn$_invoke$arity$1=
unchecked_multiply_int__1;unchecked_multiply_int.cljs$core$IFn$_invoke$arity$2=unchecked_multiply_int__2;unchecked_multiply_int.cljs$core$IFn$_invoke$arity$variadic=unchecked_multiply_int__3.cljs$core$IFn$_invoke$arity$variadic;return unchecked_multiply_int}();cljs.core.unchecked_negate=function unchecked_negate(x){return-x};cljs.core.unchecked_negate_int=function unchecked_negate_int(x){return-x};
cljs.core.unchecked_remainder_int=function unchecked_remainder_int(x,n){return cljs.core.mod.call(null,x,n)};
cljs.core.unchecked_substract=function(){var unchecked_substract=null;var unchecked_substract__1=function(x){return-x};var unchecked_substract__2=function(x,y){return x-y};var unchecked_substract__3=function(){var G__19267__delegate=function(x,y,more){return cljs.core.reduce.call(null,unchecked_substract,x-y,more)};var G__19267=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19267__delegate.call(this,x,y,more)};
G__19267.cljs$lang$maxFixedArity=2;G__19267.cljs$lang$applyTo=function(arglist__19268){var x=cljs.core.first(arglist__19268);arglist__19268=cljs.core.next(arglist__19268);var y=cljs.core.first(arglist__19268);var more=cljs.core.rest(arglist__19268);return G__19267__delegate(x,y,more)};G__19267.cljs$core$IFn$_invoke$arity$variadic=G__19267__delegate;return G__19267}();unchecked_substract=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return unchecked_substract__1.call(this,
x);case 2:return unchecked_substract__2.call(this,x,y);default:return unchecked_substract__3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};unchecked_substract.cljs$lang$maxFixedArity=2;unchecked_substract.cljs$lang$applyTo=unchecked_substract__3.cljs$lang$applyTo;unchecked_substract.cljs$core$IFn$_invoke$arity$1=unchecked_substract__1;unchecked_substract.cljs$core$IFn$_invoke$arity$2=unchecked_substract__2;unchecked_substract.cljs$core$IFn$_invoke$arity$variadic=
unchecked_substract__3.cljs$core$IFn$_invoke$arity$variadic;return unchecked_substract}();
cljs.core.unchecked_substract_int=function(){var unchecked_substract_int=null;var unchecked_substract_int__1=function(x){return-x};var unchecked_substract_int__2=function(x,y){return x-y};var unchecked_substract_int__3=function(){var G__19269__delegate=function(x,y,more){return cljs.core.reduce.call(null,unchecked_substract_int,x-y,more)};var G__19269=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19269__delegate.call(this,
x,y,more)};G__19269.cljs$lang$maxFixedArity=2;G__19269.cljs$lang$applyTo=function(arglist__19270){var x=cljs.core.first(arglist__19270);arglist__19270=cljs.core.next(arglist__19270);var y=cljs.core.first(arglist__19270);var more=cljs.core.rest(arglist__19270);return G__19269__delegate(x,y,more)};G__19269.cljs$core$IFn$_invoke$arity$variadic=G__19269__delegate;return G__19269}();unchecked_substract_int=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return unchecked_substract_int__1.call(this,
x);case 2:return unchecked_substract_int__2.call(this,x,y);default:return unchecked_substract_int__3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};unchecked_substract_int.cljs$lang$maxFixedArity=2;unchecked_substract_int.cljs$lang$applyTo=unchecked_substract_int__3.cljs$lang$applyTo;unchecked_substract_int.cljs$core$IFn$_invoke$arity$1=unchecked_substract_int__1;unchecked_substract_int.cljs$core$IFn$_invoke$arity$2=
unchecked_substract_int__2;unchecked_substract_int.cljs$core$IFn$_invoke$arity$variadic=unchecked_substract_int__3.cljs$core$IFn$_invoke$arity$variadic;return unchecked_substract_int}();cljs.core.fix=function fix(q){if(q>=0)return Math.floor.call(null,q);else return Math.ceil.call(null,q)};cljs.core.int$=function int$(x){return x|0};cljs.core.unchecked_int=function unchecked_int(x){return cljs.core.fix.call(null,x)};cljs.core.long$=function long$(x){return cljs.core.fix.call(null,x)};
cljs.core.unchecked_long=function unchecked_long(x){return cljs.core.fix.call(null,x)};cljs.core.booleans=function booleans(x){return x};cljs.core.bytes=function bytes(x){return x};cljs.core.chars=function chars(x){return x};cljs.core.shorts=function shorts(x){return x};cljs.core.ints=function ints(x){return x};cljs.core.floats=function floats(x){return x};cljs.core.doubles=function doubles(x){return x};cljs.core.longs=function longs(x){return x};cljs.core.js_mod=function js_mod(n,d){return n%d};
cljs.core.mod=function mod(n,d){return(n%d+d)%d};cljs.core.quot=function quot(n,d){var rem=n%d;return cljs.core.fix.call(null,(n-rem)/d)};cljs.core.rem=function rem(n,d){var q=cljs.core.quot.call(null,n,d);return n-d*q};
cljs.core.rand=function(){var rand=null;var rand__0=function(){return Math.random.call(null)};var rand__1=function(n){return n*rand.call(null)};rand=function(n){switch(arguments.length){case 0:return rand__0.call(this);case 1:return rand__1.call(this,n)}throw new Error("Invalid arity: "+arguments.length);};rand.cljs$core$IFn$_invoke$arity$0=rand__0;rand.cljs$core$IFn$_invoke$arity$1=rand__1;return rand}();
cljs.core.rand_int=function rand_int(n){return cljs.core.fix.call(null,cljs.core.rand.call(null,n))};cljs.core.bit_xor=function bit_xor(x,y){return x^y};cljs.core.bit_and=function bit_and(x,y){return x&y};cljs.core.bit_or=function bit_or(x,y){return x|y};cljs.core.bit_and_not=function bit_and_not(x,y){return x&~y};cljs.core.bit_clear=function bit_clear(x,n){return x&~(1<<n)};cljs.core.bit_flip=function bit_flip(x,n){return x^1<<n};cljs.core.bit_not=function bit_not(x){return~x};
cljs.core.bit_set=function bit_set(x,n){return x|1<<n};cljs.core.bit_test=function bit_test(x,n){return(x&1<<n)!=0};cljs.core.bit_shift_left=function bit_shift_left(x,n){return x<<n};cljs.core.bit_shift_right=function bit_shift_right(x,n){return x>>n};cljs.core.bit_shift_right_zero_fill=function bit_shift_right_zero_fill(x,n){return x>>>n};cljs.core.unsigned_bit_shift_right=function unsigned_bit_shift_right(x,n){return x>>>n};
cljs.core.bit_count=function bit_count(v){var v__$1=v-(v>>1&1431655765);var v__$2=(v__$1&858993459)+(v__$1>>2&858993459);return(v__$2+(v__$2>>4)&252645135)*16843009>>24};
cljs.core._EQ__EQ_=function(){var _EQ__EQ_=null;var _EQ__EQ___1=function(x){return true};var _EQ__EQ___2=function(x,y){return cljs.core._equiv.call(null,x,y)};var _EQ__EQ___3=function(){var G__19271__delegate=function(x,y,more){while(true){if(_EQ__EQ_.call(null,x,y))if(cljs.core.next.call(null,more)){var G__19272=y;var G__19273=cljs.core.first.call(null,more);var G__19274=cljs.core.next.call(null,more);x=G__19272;y=G__19273;more=G__19274;continue}else return _EQ__EQ_.call(null,y,cljs.core.first.call(null,
more));else return false;break}};var G__19271=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19271__delegate.call(this,x,y,more)};G__19271.cljs$lang$maxFixedArity=2;G__19271.cljs$lang$applyTo=function(arglist__19275){var x=cljs.core.first(arglist__19275);arglist__19275=cljs.core.next(arglist__19275);var y=cljs.core.first(arglist__19275);var more=cljs.core.rest(arglist__19275);return G__19271__delegate(x,y,more)};
G__19271.cljs$core$IFn$_invoke$arity$variadic=G__19271__delegate;return G__19271}();_EQ__EQ_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return _EQ__EQ___1.call(this,x);case 2:return _EQ__EQ___2.call(this,x,y);default:return _EQ__EQ___3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};_EQ__EQ_.cljs$lang$maxFixedArity=2;_EQ__EQ_.cljs$lang$applyTo=_EQ__EQ___3.cljs$lang$applyTo;_EQ__EQ_.cljs$core$IFn$_invoke$arity$1=
_EQ__EQ___1;_EQ__EQ_.cljs$core$IFn$_invoke$arity$2=_EQ__EQ___2;_EQ__EQ_.cljs$core$IFn$_invoke$arity$variadic=_EQ__EQ___3.cljs$core$IFn$_invoke$arity$variadic;return _EQ__EQ_}();cljs.core.pos_QMARK_=function pos_QMARK_(n){return n>0};cljs.core.zero_QMARK_=function zero_QMARK_(n){return n===0};cljs.core.neg_QMARK_=function neg_QMARK_(x){return x<0};
cljs.core.nthnext=function nthnext(coll,n){var n__$1=n;var xs=cljs.core.seq.call(null,coll);while(true){if(xs&&n__$1>0){var G__19276=n__$1-1;var G__19277=cljs.core.next.call(null,xs);n__$1=G__19276;xs=G__19277;continue}else return xs;break}};
cljs.core.str=function(){var str=null;var str__0=function(){return""};var str__1=function(x){if(x==null)return"";else return x.toString()};var str__2=function(){var G__19278__delegate=function(x,ys){var sb=new goog.string.StringBuffer(str.call(null,x));var more=ys;while(true){if(cljs.core.truth_(more)){var G__19279=sb.append(str.call(null,cljs.core.first.call(null,more)));var G__19280=cljs.core.next.call(null,more);sb=G__19279;more=G__19280;continue}else return sb.toString();break}};var G__19278=
function(x,var_args){var ys=null;if(arguments.length>1)ys=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return G__19278__delegate.call(this,x,ys)};G__19278.cljs$lang$maxFixedArity=1;G__19278.cljs$lang$applyTo=function(arglist__19281){var x=cljs.core.first(arglist__19281);var ys=cljs.core.rest(arglist__19281);return G__19278__delegate(x,ys)};G__19278.cljs$core$IFn$_invoke$arity$variadic=G__19278__delegate;return G__19278}();str=function(x,var_args){var ys=var_args;switch(arguments.length){case 0:return str__0.call(this);
case 1:return str__1.call(this,x);default:return str__2.cljs$core$IFn$_invoke$arity$variadic(x,cljs.core.array_seq(arguments,1))}throw new Error("Invalid arity: "+arguments.length);};str.cljs$lang$maxFixedArity=1;str.cljs$lang$applyTo=str__2.cljs$lang$applyTo;str.cljs$core$IFn$_invoke$arity$0=str__0;str.cljs$core$IFn$_invoke$arity$1=str__1;str.cljs$core$IFn$_invoke$arity$variadic=str__2.cljs$core$IFn$_invoke$arity$variadic;return str}();
cljs.core.subs=function(){var subs=null;var subs__2=function(s,start){return s.substring(start)};var subs__3=function(s,start,end){return s.substring(start,end)};subs=function(s,start,end){switch(arguments.length){case 2:return subs__2.call(this,s,start);case 3:return subs__3.call(this,s,start,end)}throw new Error("Invalid arity: "+arguments.length);};subs.cljs$core$IFn$_invoke$arity$2=subs__2;subs.cljs$core$IFn$_invoke$arity$3=subs__3;return subs}();
cljs.core.equiv_sequential=function equiv_sequential(x,y){return cljs.core.boolean$.call(null,cljs.core.sequential_QMARK_.call(null,y)?function(){var xs=cljs.core.seq.call(null,x);var ys=cljs.core.seq.call(null,y);while(true){if(xs==null)return ys==null;else if(ys==null)return false;else if(cljs.core._EQ_.call(null,cljs.core.first.call(null,xs),cljs.core.first.call(null,ys))){var G__19282=cljs.core.next.call(null,xs);var G__19283=cljs.core.next.call(null,ys);xs=G__19282;ys=G__19283;continue}else if(new cljs.core.Keyword(null,
"else","else",1017020587))return false;else return null;break}}():null)};cljs.core.hash_combine=function hash_combine(seed,hash){return seed^hash+2654435769+(seed<<6)+(seed>>2)};
cljs.core.hash_coll=function hash_coll(coll){if(cljs.core.seq.call(null,coll)){var res=cljs.core.hash.call(null,cljs.core.first.call(null,coll));var s=cljs.core.next.call(null,coll);while(true){if(s==null)return res;else{var G__19284=cljs.core.hash_combine.call(null,res,cljs.core.hash.call(null,cljs.core.first.call(null,s)));var G__19285=cljs.core.next.call(null,s);res=G__19284;s=G__19285;continue}break}}else return 0};
cljs.core.hash_imap=function hash_imap(m){var h=0;var s=cljs.core.seq.call(null,m);while(true){if(s){var e=cljs.core.first.call(null,s);var G__19286=(h+(cljs.core.hash.call(null,cljs.core.key.call(null,e))^cljs.core.hash.call(null,cljs.core.val.call(null,e))))%4503599627370496;var G__19287=cljs.core.next.call(null,s);h=G__19286;s=G__19287;continue}else return h;break}};
cljs.core.hash_iset=function hash_iset(s){var h=0;var s__$1=cljs.core.seq.call(null,s);while(true){if(s__$1){var e=cljs.core.first.call(null,s__$1);var G__19288=(h+cljs.core.hash.call(null,e))%4503599627370496;var G__19289=cljs.core.next.call(null,s__$1);h=G__19288;s__$1=G__19289;continue}else return h;break}};
cljs.core.extend_object_BANG_=function extend_object_BANG_(obj,fn_map){var seq__19296_19302=cljs.core.seq.call(null,fn_map);var chunk__19297_19303=null;var count__19298_19304=0;var i__19299_19305=0;while(true){if(i__19299_19305<count__19298_19304){var vec__19300_19306=cljs.core._nth.call(null,chunk__19297_19303,i__19299_19305);var key_name_19307=cljs.core.nth.call(null,vec__19300_19306,0,null);var f_19308=cljs.core.nth.call(null,vec__19300_19306,1,null);var str_name_19309=cljs.core.name.call(null,
key_name_19307);obj[str_name_19309]=f_19308;var G__19310=seq__19296_19302;var G__19311=chunk__19297_19303;var G__19312=count__19298_19304;var G__19313=i__19299_19305+1;seq__19296_19302=G__19310;chunk__19297_19303=G__19311;count__19298_19304=G__19312;i__19299_19305=G__19313;continue}else{var temp__4126__auto___19314=cljs.core.seq.call(null,seq__19296_19302);if(temp__4126__auto___19314){var seq__19296_19315__$1=temp__4126__auto___19314;if(cljs.core.chunked_seq_QMARK_.call(null,seq__19296_19315__$1)){var c__4226__auto___19316=
cljs.core.chunk_first.call(null,seq__19296_19315__$1);var G__19317=cljs.core.chunk_rest.call(null,seq__19296_19315__$1);var G__19318=c__4226__auto___19316;var G__19319=cljs.core.count.call(null,c__4226__auto___19316);var G__19320=0;seq__19296_19302=G__19317;chunk__19297_19303=G__19318;count__19298_19304=G__19319;i__19299_19305=G__19320;continue}else{var vec__19301_19321=cljs.core.first.call(null,seq__19296_19315__$1);var key_name_19322=cljs.core.nth.call(null,vec__19301_19321,0,null);var f_19323=
cljs.core.nth.call(null,vec__19301_19321,1,null);var str_name_19324=cljs.core.name.call(null,key_name_19322);obj[str_name_19324]=f_19323;var G__19325=cljs.core.next.call(null,seq__19296_19315__$1);var G__19326=null;var G__19327=0;var G__19328=0;seq__19296_19302=G__19325;chunk__19297_19303=G__19326;count__19298_19304=G__19327;i__19299_19305=G__19328;continue}}else;}break}return obj};
cljs.core.List=function(meta,first,rest,count,__hash){this.meta=meta;this.first=first;this.rest=rest;this.count=count;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=65937646;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.List.cljs$lang$type=true;cljs.core.List.cljs$lang$ctorStr="cljs.core/List";cljs.core.List.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/List")};
cljs.core.List.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.List.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.List.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.List(self__.meta,self__.first,self__.rest,self__.count,self__.__hash)};
cljs.core.List.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.count===1)return null;else return self__.rest};cljs.core.List.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.count};cljs.core.List.prototype.cljs$core$IStack$_peek$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.first};
cljs.core.List.prototype.cljs$core$IStack$_pop$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._rest.call(null,coll__$1)};cljs.core.List.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.List.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};cljs.core.List.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.List.EMPTY};cljs.core.List.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,coll__$1)};
cljs.core.List.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,start,coll__$1)};cljs.core.List.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.first};cljs.core.List.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.count===1)return cljs.core.List.EMPTY;else return self__.rest};
cljs.core.List.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.List.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.List(meta__$1,self__.first,self__.rest,self__.count,self__.__hash)};
cljs.core.List.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return new cljs.core.List(self__.meta,o,coll__$1,self__.count+1,null)};cljs.core.__GT_List=function __GT_List(meta,first,rest,count,__hash){return new cljs.core.List(meta,first,rest,count,__hash)};cljs.core.EmptyList=function(meta){this.meta=meta;this.cljs$lang$protocol_mask$partition0$=65937614;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.EmptyList.cljs$lang$type=true;
cljs.core.EmptyList.cljs$lang$ctorStr="cljs.core/EmptyList";cljs.core.EmptyList.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/EmptyList")};cljs.core.EmptyList.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.EmptyList.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.EmptyList.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.EmptyList(self__.meta)};cljs.core.EmptyList.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;return null};cljs.core.EmptyList.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return 0};
cljs.core.EmptyList.prototype.cljs$core$IStack$_peek$arity$1=function(coll){var self__=this;var coll__$1=this;return null};cljs.core.EmptyList.prototype.cljs$core$IStack$_pop$arity$1=function(coll){var self__=this;var coll__$1=this;throw new Error("Can't pop empty list");};cljs.core.EmptyList.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return 0};
cljs.core.EmptyList.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};cljs.core.EmptyList.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.EmptyList.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,coll__$1)};
cljs.core.EmptyList.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,start,coll__$1)};cljs.core.EmptyList.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return null};cljs.core.EmptyList.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.List.EMPTY};
cljs.core.EmptyList.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return null};cljs.core.EmptyList.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.EmptyList(meta__$1)};cljs.core.EmptyList.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return new cljs.core.List(self__.meta,o,null,1,null)};cljs.core.__GT_EmptyList=function __GT_EmptyList(meta){return new cljs.core.EmptyList(meta)};
cljs.core.List.EMPTY=new cljs.core.EmptyList(null);
cljs.core.reversible_QMARK_=function reversible_QMARK_(coll){var G__19330=coll;if(G__19330){var bit__4128__auto__=G__19330.cljs$lang$protocol_mask$partition0$&134217728;if(bit__4128__auto__||G__19330.cljs$core$IReversible$)return true;else if(!G__19330.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IReversible,G__19330);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IReversible,G__19330)};
cljs.core.rseq=function rseq(coll){return cljs.core._rseq.call(null,coll)};cljs.core.reverse=function reverse(coll){if(cljs.core.reversible_QMARK_.call(null,coll))return cljs.core.rseq.call(null,coll);else return cljs.core.reduce.call(null,cljs.core.conj,cljs.core.List.EMPTY,coll)};
cljs.core.list=function(){var list__delegate=function(xs){var arr=xs instanceof cljs.core.IndexedSeq&&xs.i===0?xs.arr:function(){var arr=[];var xs__$1=xs;while(true){if(!(xs__$1==null)){arr.push(cljs.core._first.call(null,xs__$1));var G__19331=cljs.core._next.call(null,xs__$1);xs__$1=G__19331;continue}else return arr;break}}();var i=arr.length;var r=cljs.core.List.EMPTY;while(true){if(i>0){var G__19332=i-1;var G__19333=cljs.core._conj.call(null,r,arr[i-1]);i=G__19332;r=G__19333;continue}else return r;
break}};var list=function(var_args){var xs=null;if(arguments.length>0)xs=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return list__delegate.call(this,xs)};list.cljs$lang$maxFixedArity=0;list.cljs$lang$applyTo=function(arglist__19334){var xs=cljs.core.seq(arglist__19334);return list__delegate(xs)};list.cljs$core$IFn$_invoke$arity$variadic=list__delegate;return list}();
cljs.core.Cons=function(meta,first,rest,__hash){this.meta=meta;this.first=first;this.rest=rest;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=65929452;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.Cons.cljs$lang$type=true;cljs.core.Cons.cljs$lang$ctorStr="cljs.core/Cons";cljs.core.Cons.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/Cons")};
cljs.core.Cons.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.Cons.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.Cons.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.Cons(self__.meta,self__.first,self__.rest,self__.__hash)};
cljs.core.Cons.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.rest==null)return null;else return cljs.core.seq.call(null,self__.rest)};cljs.core.Cons.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.Cons.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};cljs.core.Cons.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__.meta)};
cljs.core.Cons.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,coll__$1)};cljs.core.Cons.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,start,coll__$1)};cljs.core.Cons.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.first};
cljs.core.Cons.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.rest==null)return cljs.core.List.EMPTY;else return self__.rest};cljs.core.Cons.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.Cons.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.Cons(meta__$1,self__.first,self__.rest,self__.__hash)};
cljs.core.Cons.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return new cljs.core.Cons(null,o,coll__$1,self__.__hash)};cljs.core.__GT_Cons=function __GT_Cons(meta,first,rest,__hash){return new cljs.core.Cons(meta,first,rest,__hash)};
cljs.core.cons=function cons(x,coll){if(function(){var or__3478__auto__=coll==null;if(or__3478__auto__)return or__3478__auto__;else{var G__19338=coll;if(G__19338){var bit__4121__auto__=G__19338.cljs$lang$protocol_mask$partition0$&64;if(bit__4121__auto__||G__19338.cljs$core$ISeq$)return true;else return false}else return false}}())return new cljs.core.Cons(null,x,coll,null);else return new cljs.core.Cons(null,x,cljs.core.seq.call(null,coll),null)};
cljs.core.list_QMARK_=function list_QMARK_(x){var G__19340=x;if(G__19340){var bit__4128__auto__=G__19340.cljs$lang$protocol_mask$partition0$&33554432;if(bit__4128__auto__||G__19340.cljs$core$IList$)return true;else if(!G__19340.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IList,G__19340);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IList,G__19340)};
cljs.core.Keyword=function(ns,name,fqn,_hash){this.ns=ns;this.name=name;this.fqn=fqn;this._hash=_hash;this.cljs$lang$protocol_mask$partition0$=2153775105;this.cljs$lang$protocol_mask$partition1$=4096};cljs.core.Keyword.cljs$lang$type=true;cljs.core.Keyword.cljs$lang$ctorStr="cljs.core/Keyword";cljs.core.Keyword.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/Keyword")};
cljs.core.Keyword.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(o,writer,_){var self__=this;var o__$1=this;return cljs.core._write.call(null,writer,[cljs.core.str(":"),cljs.core.str(self__.fqn)].join(""))};cljs.core.Keyword.prototype.cljs$core$INamed$_name$arity$1=function(_){var self__=this;var ___$1=this;return self__.name};cljs.core.Keyword.prototype.cljs$core$INamed$_namespace$arity$1=function(_){var self__=this;var ___$1=this;return self__.ns};
cljs.core.Keyword.prototype.cljs$core$IHash$_hash$arity$1=function(_){var self__=this;var ___$1=this;if(self__._hash==null){self__._hash=cljs.core.hash_combine.call(null,cljs.core.hash.call(null,self__.ns),cljs.core.hash.call(null,self__.name))+2654435769;return self__._hash}else return self__._hash};
cljs.core.Keyword.prototype.call=function(){var G__19342=null;var G__19342__2=function(self__,coll){var self__=this;var self____$1=this;var kw=self____$1;return cljs.core.get.call(null,coll,kw)};var G__19342__3=function(self__,coll,not_found){var self__=this;var self____$1=this;var kw=self____$1;return cljs.core.get.call(null,coll,kw,not_found)};G__19342=function(self__,coll,not_found){switch(arguments.length){case 2:return G__19342__2.call(this,self__,coll);case 3:return G__19342__3.call(this,self__,
coll,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19342}();cljs.core.Keyword.prototype.apply=function(self__,args19341){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19341)))};cljs.core.Keyword.prototype.cljs$core$IFn$_invoke$arity$1=function(coll){var self__=this;var kw=this;return cljs.core.get.call(null,coll,kw)};
cljs.core.Keyword.prototype.cljs$core$IFn$_invoke$arity$2=function(coll,not_found){var self__=this;var kw=this;return cljs.core.get.call(null,coll,kw,not_found)};cljs.core.Keyword.prototype.cljs$core$IEquiv$_equiv$arity$2=function(_,other){var self__=this;var ___$1=this;if(other instanceof cljs.core.Keyword)return self__.fqn===other.fqn;else return false};cljs.core.Keyword.prototype.toString=function(){var self__=this;var _=this;return[cljs.core.str(":"),cljs.core.str(self__.fqn)].join("")};
cljs.core.__GT_Keyword=function __GT_Keyword(ns,name,fqn,_hash){return new cljs.core.Keyword(ns,name,fqn,_hash)};cljs.core.keyword_QMARK_=function keyword_QMARK_(x){return x instanceof cljs.core.Keyword};cljs.core.keyword_identical_QMARK_=function keyword_identical_QMARK_(x,y){if(x===y)return true;else if(x instanceof cljs.core.Keyword&&y instanceof cljs.core.Keyword)return x.fqn===y.fqn;else return false};
cljs.core.namespace=function namespace(x){if(function(){var G__19344=x;if(G__19344){var bit__4121__auto__=G__19344.cljs$lang$protocol_mask$partition1$&4096;if(bit__4121__auto__||G__19344.cljs$core$INamed$)return true;else return false}else return false}())return cljs.core._namespace.call(null,x);else throw new Error([cljs.core.str("Doesn't support namespace: "),cljs.core.str(x)].join(""));};
cljs.core.keyword=function(){var keyword=null;var keyword__1=function(name){if(name instanceof cljs.core.Keyword)return name;else if(name instanceof cljs.core.Symbol)return new cljs.core.Keyword(cljs.core.namespace.call(null,name),cljs.core.name.call(null,name),name.str,null);else if(typeof name==="string"){var parts=name.split("/");if(parts.length===2)return new cljs.core.Keyword(parts[0],parts[1],name,null);else return new cljs.core.Keyword(null,parts[0],name,null)}else return null};var keyword__2=
function(ns,name){return new cljs.core.Keyword(ns,name,[cljs.core.str(cljs.core.truth_(ns)?[cljs.core.str(ns),cljs.core.str("/")].join(""):null),cljs.core.str(name)].join(""),null)};keyword=function(ns,name){switch(arguments.length){case 1:return keyword__1.call(this,ns);case 2:return keyword__2.call(this,ns,name)}throw new Error("Invalid arity: "+arguments.length);};keyword.cljs$core$IFn$_invoke$arity$1=keyword__1;keyword.cljs$core$IFn$_invoke$arity$2=keyword__2;return keyword}();
cljs.core.LazySeq=function(meta,fn,s,__hash){this.meta=meta;this.fn=fn;this.s=s;this.__hash=__hash;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=32374988};cljs.core.LazySeq.cljs$lang$type=true;cljs.core.LazySeq.cljs$lang$ctorStr="cljs.core/LazySeq";cljs.core.LazySeq.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/LazySeq")};
cljs.core.LazySeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.LazySeq.prototype.sval=function(){var self__=this;var coll=this;if(self__.fn==null)return self__.s;else{self__.s=self__.fn.call(null);self__.fn=null;return self__.s}};cljs.core.LazySeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.LazySeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;cljs.core._seq.call(null,coll__$1);if(self__.s==null)return null;else return cljs.core.next.call(null,self__.s)};
cljs.core.LazySeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};cljs.core.LazySeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.LazySeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__.meta)};cljs.core.LazySeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,coll__$1)};
cljs.core.LazySeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,start,coll__$1)};cljs.core.LazySeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;cljs.core._seq.call(null,coll__$1);if(self__.s==null)return null;else return cljs.core.first.call(null,self__.s)};
cljs.core.LazySeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;cljs.core._seq.call(null,coll__$1);if(!(self__.s==null))return cljs.core.rest.call(null,self__.s);else return cljs.core.List.EMPTY};
cljs.core.LazySeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;coll__$1.sval();if(self__.s==null)return null;else{var ls=self__.s;while(true){if(ls instanceof cljs.core.LazySeq){var G__19345=ls.sval();ls=G__19345;continue}else{self__.s=ls;return cljs.core.seq.call(null,self__.s)}break}}};
cljs.core.LazySeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.LazySeq(meta__$1,self__.fn,self__.s,self__.__hash)};cljs.core.LazySeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.call(null,o,coll__$1)};cljs.core.__GT_LazySeq=function __GT_LazySeq(meta,fn,s,__hash){return new cljs.core.LazySeq(meta,fn,s,__hash)};
cljs.core.ChunkBuffer=function(buf,end){this.buf=buf;this.end=end;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=2};cljs.core.ChunkBuffer.cljs$lang$type=true;cljs.core.ChunkBuffer.cljs$lang$ctorStr="cljs.core/ChunkBuffer";cljs.core.ChunkBuffer.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/ChunkBuffer")};
cljs.core.ChunkBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(_){var self__=this;var ___$1=this;return self__.end};cljs.core.ChunkBuffer.prototype.add=function(o){var self__=this;var _=this;self__.buf[self__.end]=o;return self__.end=self__.end+1};cljs.core.ChunkBuffer.prototype.chunk=function(o){var self__=this;var _=this;var ret=new cljs.core.ArrayChunk(self__.buf,0,self__.end);self__.buf=null;return ret};
cljs.core.__GT_ChunkBuffer=function __GT_ChunkBuffer(buf,end){return new cljs.core.ChunkBuffer(buf,end)};cljs.core.chunk_buffer=function chunk_buffer(capacity){return new cljs.core.ChunkBuffer(new Array(capacity),0)};cljs.core.ArrayChunk=function(arr,off,end){this.arr=arr;this.off=off;this.end=end;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=524306};cljs.core.ArrayChunk.cljs$lang$type=true;cljs.core.ArrayChunk.cljs$lang$ctorStr="cljs.core/ArrayChunk";
cljs.core.ArrayChunk.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/ArrayChunk")};cljs.core.ArrayChunk.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.array_reduce.call(null,self__.arr,f,self__.arr[self__.off],self__.off+1)};
cljs.core.ArrayChunk.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.array_reduce.call(null,self__.arr,f,start,self__.off)};cljs.core.ArrayChunk.prototype.cljs$core$IChunk$=true;cljs.core.ArrayChunk.prototype.cljs$core$IChunk$_drop_first$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.off===self__.end)throw new Error("-drop-first of empty chunk");else return new cljs.core.ArrayChunk(self__.arr,self__.off+1,self__.end)};
cljs.core.ArrayChunk.prototype.cljs$core$IIndexed$_nth$arity$2=function(coll,i){var self__=this;var coll__$1=this;return self__.arr[self__.off+i]};cljs.core.ArrayChunk.prototype.cljs$core$IIndexed$_nth$arity$3=function(coll,i,not_found){var self__=this;var coll__$1=this;if(i>=0&&i<self__.end-self__.off)return self__.arr[self__.off+i];else return not_found};cljs.core.ArrayChunk.prototype.cljs$core$ICounted$_count$arity$1=function(_){var self__=this;var ___$1=this;return self__.end-self__.off};
cljs.core.__GT_ArrayChunk=function __GT_ArrayChunk(arr,off,end){return new cljs.core.ArrayChunk(arr,off,end)};
cljs.core.array_chunk=function(){var array_chunk=null;var array_chunk__1=function(arr){return new cljs.core.ArrayChunk(arr,0,arr.length)};var array_chunk__2=function(arr,off){return new cljs.core.ArrayChunk(arr,off,arr.length)};var array_chunk__3=function(arr,off,end){return new cljs.core.ArrayChunk(arr,off,end)};array_chunk=function(arr,off,end){switch(arguments.length){case 1:return array_chunk__1.call(this,arr);case 2:return array_chunk__2.call(this,arr,off);case 3:return array_chunk__3.call(this,
arr,off,end)}throw new Error("Invalid arity: "+arguments.length);};array_chunk.cljs$core$IFn$_invoke$arity$1=array_chunk__1;array_chunk.cljs$core$IFn$_invoke$arity$2=array_chunk__2;array_chunk.cljs$core$IFn$_invoke$arity$3=array_chunk__3;return array_chunk}();cljs.core.ChunkedCons=function(chunk,more,meta,__hash){this.chunk=chunk;this.more=more;this.meta=meta;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=31850732;this.cljs$lang$protocol_mask$partition1$=1536};
cljs.core.ChunkedCons.cljs$lang$type=true;cljs.core.ChunkedCons.cljs$lang$ctorStr="cljs.core/ChunkedCons";cljs.core.ChunkedCons.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/ChunkedCons")};cljs.core.ChunkedCons.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};
cljs.core.ChunkedCons.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.ChunkedCons.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(cljs.core._count.call(null,self__.chunk)>1)return new cljs.core.ChunkedCons(cljs.core._drop_first.call(null,self__.chunk),self__.more,self__.meta,null);else{var more__$1=cljs.core._seq.call(null,self__.more);if(more__$1==null)return null;else return more__$1}};
cljs.core.ChunkedCons.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};cljs.core.ChunkedCons.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.ChunkedCons.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__.meta)};cljs.core.ChunkedCons.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._nth.call(null,self__.chunk,0)};
cljs.core.ChunkedCons.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(cljs.core._count.call(null,self__.chunk)>1)return new cljs.core.ChunkedCons(cljs.core._drop_first.call(null,self__.chunk),self__.more,self__.meta,null);else if(self__.more==null)return cljs.core.List.EMPTY;else return self__.more};cljs.core.ChunkedCons.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};
cljs.core.ChunkedCons.prototype.cljs$core$IChunkedSeq$_chunked_first$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.chunk};cljs.core.ChunkedCons.prototype.cljs$core$IChunkedSeq$_chunked_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.more==null)return cljs.core.List.EMPTY;else return self__.more};
cljs.core.ChunkedCons.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,m){var self__=this;var coll__$1=this;return new cljs.core.ChunkedCons(self__.chunk,self__.more,m,self__.__hash)};cljs.core.ChunkedCons.prototype.cljs$core$ICollection$_conj$arity$2=function(this$,o){var self__=this;var this$__$1=this;return cljs.core.cons.call(null,o,this$__$1)};
cljs.core.ChunkedCons.prototype.cljs$core$IChunkedNext$_chunked_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.more==null)return null;else return self__.more};cljs.core.__GT_ChunkedCons=function __GT_ChunkedCons(chunk,more,meta,__hash){return new cljs.core.ChunkedCons(chunk,more,meta,__hash)};cljs.core.chunk_cons=function chunk_cons(chunk,rest){if(cljs.core._count.call(null,chunk)===0)return rest;else return new cljs.core.ChunkedCons(chunk,rest,null,null)};
cljs.core.chunk_append=function chunk_append(b,x){return b.add(x)};cljs.core.chunk=function chunk(b){return b.chunk()};cljs.core.chunk_first=function chunk_first(s){return cljs.core._chunked_first.call(null,s)};cljs.core.chunk_rest=function chunk_rest(s){return cljs.core._chunked_rest.call(null,s)};
cljs.core.chunk_next=function chunk_next(s){if(function(){var G__19347=s;if(G__19347){var bit__4121__auto__=G__19347.cljs$lang$protocol_mask$partition1$&1024;if(bit__4121__auto__||G__19347.cljs$core$IChunkedNext$)return true;else return false}else return false}())return cljs.core._chunked_next.call(null,s);else return cljs.core.seq.call(null,cljs.core._chunked_rest.call(null,s))};
cljs.core.to_array=function to_array(s){var ary=[];var s__$1=s;while(true){if(cljs.core.seq.call(null,s__$1)){ary.push(cljs.core.first.call(null,s__$1));var G__19348=cljs.core.next.call(null,s__$1);s__$1=G__19348;continue}else return ary;break}};
cljs.core.to_array_2d=function to_array_2d(coll){var ret=new Array(cljs.core.count.call(null,coll));var i_19349=0;var xs_19350=cljs.core.seq.call(null,coll);while(true){if(xs_19350){ret[i_19349]=cljs.core.to_array.call(null,cljs.core.first.call(null,xs_19350));var G__19351=i_19349+1;var G__19352=cljs.core.next.call(null,xs_19350);i_19349=G__19351;xs_19350=G__19352;continue}else;break}return ret};
cljs.core.int_array=function(){var int_array=null;var int_array__1=function(size_or_seq){if(typeof size_or_seq==="number")return int_array.call(null,size_or_seq,null);else return cljs.core.into_array.call(null,size_or_seq)};var int_array__2=function(size,init_val_or_seq){var a=new Array(size);if(cljs.core.seq_QMARK_.call(null,init_val_or_seq)){var s=cljs.core.seq.call(null,init_val_or_seq);var i=0;var s__$1=s;while(true){if(s__$1&&i<size){a[i]=cljs.core.first.call(null,s__$1);var G__19353=i+1;var G__19354=
cljs.core.next.call(null,s__$1);i=G__19353;s__$1=G__19354;continue}else return a;break}}else{var n__4326__auto___19355=size;var i_19356=0;while(true){if(i_19356<n__4326__auto___19355){a[i_19356]=init_val_or_seq;var G__19357=i_19356+1;i_19356=G__19357;continue}else;break}return a}};int_array=function(size,init_val_or_seq){switch(arguments.length){case 1:return int_array__1.call(this,size);case 2:return int_array__2.call(this,size,init_val_or_seq)}throw new Error("Invalid arity: "+arguments.length);
};int_array.cljs$core$IFn$_invoke$arity$1=int_array__1;int_array.cljs$core$IFn$_invoke$arity$2=int_array__2;return int_array}();
cljs.core.long_array=function(){var long_array=null;var long_array__1=function(size_or_seq){if(typeof size_or_seq==="number")return long_array.call(null,size_or_seq,null);else return cljs.core.into_array.call(null,size_or_seq)};var long_array__2=function(size,init_val_or_seq){var a=new Array(size);if(cljs.core.seq_QMARK_.call(null,init_val_or_seq)){var s=cljs.core.seq.call(null,init_val_or_seq);var i=0;var s__$1=s;while(true){if(s__$1&&i<size){a[i]=cljs.core.first.call(null,s__$1);var G__19358=i+
1;var G__19359=cljs.core.next.call(null,s__$1);i=G__19358;s__$1=G__19359;continue}else return a;break}}else{var n__4326__auto___19360=size;var i_19361=0;while(true){if(i_19361<n__4326__auto___19360){a[i_19361]=init_val_or_seq;var G__19362=i_19361+1;i_19361=G__19362;continue}else;break}return a}};long_array=function(size,init_val_or_seq){switch(arguments.length){case 1:return long_array__1.call(this,size);case 2:return long_array__2.call(this,size,init_val_or_seq)}throw new Error("Invalid arity: "+
arguments.length);};long_array.cljs$core$IFn$_invoke$arity$1=long_array__1;long_array.cljs$core$IFn$_invoke$arity$2=long_array__2;return long_array}();
cljs.core.double_array=function(){var double_array=null;var double_array__1=function(size_or_seq){if(typeof size_or_seq==="number")return double_array.call(null,size_or_seq,null);else return cljs.core.into_array.call(null,size_or_seq)};var double_array__2=function(size,init_val_or_seq){var a=new Array(size);if(cljs.core.seq_QMARK_.call(null,init_val_or_seq)){var s=cljs.core.seq.call(null,init_val_or_seq);var i=0;var s__$1=s;while(true){if(s__$1&&i<size){a[i]=cljs.core.first.call(null,s__$1);var G__19363=
i+1;var G__19364=cljs.core.next.call(null,s__$1);i=G__19363;s__$1=G__19364;continue}else return a;break}}else{var n__4326__auto___19365=size;var i_19366=0;while(true){if(i_19366<n__4326__auto___19365){a[i_19366]=init_val_or_seq;var G__19367=i_19366+1;i_19366=G__19367;continue}else;break}return a}};double_array=function(size,init_val_or_seq){switch(arguments.length){case 1:return double_array__1.call(this,size);case 2:return double_array__2.call(this,size,init_val_or_seq)}throw new Error("Invalid arity: "+
arguments.length);};double_array.cljs$core$IFn$_invoke$arity$1=double_array__1;double_array.cljs$core$IFn$_invoke$arity$2=double_array__2;return double_array}();
cljs.core.object_array=function(){var object_array=null;var object_array__1=function(size_or_seq){if(typeof size_or_seq==="number")return object_array.call(null,size_or_seq,null);else return cljs.core.into_array.call(null,size_or_seq)};var object_array__2=function(size,init_val_or_seq){var a=new Array(size);if(cljs.core.seq_QMARK_.call(null,init_val_or_seq)){var s=cljs.core.seq.call(null,init_val_or_seq);var i=0;var s__$1=s;while(true){if(s__$1&&i<size){a[i]=cljs.core.first.call(null,s__$1);var G__19368=
i+1;var G__19369=cljs.core.next.call(null,s__$1);i=G__19368;s__$1=G__19369;continue}else return a;break}}else{var n__4326__auto___19370=size;var i_19371=0;while(true){if(i_19371<n__4326__auto___19370){a[i_19371]=init_val_or_seq;var G__19372=i_19371+1;i_19371=G__19372;continue}else;break}return a}};object_array=function(size,init_val_or_seq){switch(arguments.length){case 1:return object_array__1.call(this,size);case 2:return object_array__2.call(this,size,init_val_or_seq)}throw new Error("Invalid arity: "+
arguments.length);};object_array.cljs$core$IFn$_invoke$arity$1=object_array__1;object_array.cljs$core$IFn$_invoke$arity$2=object_array__2;return object_array}();
cljs.core.bounded_count=function bounded_count(s,n){if(cljs.core.counted_QMARK_.call(null,s))return cljs.core.count.call(null,s);else{var s__$1=s;var i=n;var sum=0;while(true){if(i>0&&cljs.core.seq.call(null,s__$1)){var G__19373=cljs.core.next.call(null,s__$1);var G__19374=i-1;var G__19375=sum+1;s__$1=G__19373;i=G__19374;sum=G__19375;continue}else return sum;break}}};
cljs.core.spread=function spread(arglist){if(arglist==null)return null;else if(cljs.core.next.call(null,arglist)==null)return cljs.core.seq.call(null,cljs.core.first.call(null,arglist));else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.core.cons.call(null,cljs.core.first.call(null,arglist),spread.call(null,cljs.core.next.call(null,arglist)));else return null};
cljs.core.concat=function(){var concat=null;var concat__0=function(){return new cljs.core.LazySeq(null,function(){return null},null,null)};var concat__1=function(x){return new cljs.core.LazySeq(null,function(){return x},null,null)};var concat__2=function(x,y){return new cljs.core.LazySeq(null,function(){var s=cljs.core.seq.call(null,x);if(s)if(cljs.core.chunked_seq_QMARK_.call(null,s))return cljs.core.chunk_cons.call(null,cljs.core.chunk_first.call(null,s),concat.call(null,cljs.core.chunk_rest.call(null,
s),y));else return cljs.core.cons.call(null,cljs.core.first.call(null,s),concat.call(null,cljs.core.rest.call(null,s),y));else return y},null,null)};var concat__3=function(){var G__19376__delegate=function(x,y,zs){var cat=function cat(xys,zs__$1){return new cljs.core.LazySeq(null,function(){var xys__$1=cljs.core.seq.call(null,xys);if(xys__$1)if(cljs.core.chunked_seq_QMARK_.call(null,xys__$1))return cljs.core.chunk_cons.call(null,cljs.core.chunk_first.call(null,xys__$1),cat.call(null,cljs.core.chunk_rest.call(null,
xys__$1),zs__$1));else return cljs.core.cons.call(null,cljs.core.first.call(null,xys__$1),cat.call(null,cljs.core.rest.call(null,xys__$1),zs__$1));else if(cljs.core.truth_(zs__$1))return cat.call(null,cljs.core.first.call(null,zs__$1),cljs.core.next.call(null,zs__$1));else return null},null,null)};return cat.call(null,concat.call(null,x,y),zs)};var G__19376=function(x,y,var_args){var zs=null;if(arguments.length>2)zs=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19376__delegate.call(this,
x,y,zs)};G__19376.cljs$lang$maxFixedArity=2;G__19376.cljs$lang$applyTo=function(arglist__19377){var x=cljs.core.first(arglist__19377);arglist__19377=cljs.core.next(arglist__19377);var y=cljs.core.first(arglist__19377);var zs=cljs.core.rest(arglist__19377);return G__19376__delegate(x,y,zs)};G__19376.cljs$core$IFn$_invoke$arity$variadic=G__19376__delegate;return G__19376}();concat=function(x,y,var_args){var zs=var_args;switch(arguments.length){case 0:return concat__0.call(this);case 1:return concat__1.call(this,
x);case 2:return concat__2.call(this,x,y);default:return concat__3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};concat.cljs$lang$maxFixedArity=2;concat.cljs$lang$applyTo=concat__3.cljs$lang$applyTo;concat.cljs$core$IFn$_invoke$arity$0=concat__0;concat.cljs$core$IFn$_invoke$arity$1=concat__1;concat.cljs$core$IFn$_invoke$arity$2=concat__2;concat.cljs$core$IFn$_invoke$arity$variadic=concat__3.cljs$core$IFn$_invoke$arity$variadic;
return concat}();
cljs.core.list_STAR_=function(){var list_STAR_=null;var list_STAR___1=function(args){return cljs.core.seq.call(null,args)};var list_STAR___2=function(a,args){return cljs.core.cons.call(null,a,args)};var list_STAR___3=function(a,b,args){return cljs.core.cons.call(null,a,cljs.core.cons.call(null,b,args))};var list_STAR___4=function(a,b,c,args){return cljs.core.cons.call(null,a,cljs.core.cons.call(null,b,cljs.core.cons.call(null,c,args)))};var list_STAR___5=function(){var G__19378__delegate=function(a,
b,c,d,more){return cljs.core.cons.call(null,a,cljs.core.cons.call(null,b,cljs.core.cons.call(null,c,cljs.core.cons.call(null,d,cljs.core.spread.call(null,more)))))};var G__19378=function(a,b,c,d,var_args){var more=null;if(arguments.length>4)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,4),0);return G__19378__delegate.call(this,a,b,c,d,more)};G__19378.cljs$lang$maxFixedArity=4;G__19378.cljs$lang$applyTo=function(arglist__19379){var a=cljs.core.first(arglist__19379);arglist__19379=cljs.core.next(arglist__19379);
var b=cljs.core.first(arglist__19379);arglist__19379=cljs.core.next(arglist__19379);var c=cljs.core.first(arglist__19379);arglist__19379=cljs.core.next(arglist__19379);var d=cljs.core.first(arglist__19379);var more=cljs.core.rest(arglist__19379);return G__19378__delegate(a,b,c,d,more)};G__19378.cljs$core$IFn$_invoke$arity$variadic=G__19378__delegate;return G__19378}();list_STAR_=function(a,b,c,d,var_args){var more=var_args;switch(arguments.length){case 1:return list_STAR___1.call(this,a);case 2:return list_STAR___2.call(this,
a,b);case 3:return list_STAR___3.call(this,a,b,c);case 4:return list_STAR___4.call(this,a,b,c,d);default:return list_STAR___5.cljs$core$IFn$_invoke$arity$variadic(a,b,c,d,cljs.core.array_seq(arguments,4))}throw new Error("Invalid arity: "+arguments.length);};list_STAR_.cljs$lang$maxFixedArity=4;list_STAR_.cljs$lang$applyTo=list_STAR___5.cljs$lang$applyTo;list_STAR_.cljs$core$IFn$_invoke$arity$1=list_STAR___1;list_STAR_.cljs$core$IFn$_invoke$arity$2=list_STAR___2;list_STAR_.cljs$core$IFn$_invoke$arity$3=
list_STAR___3;list_STAR_.cljs$core$IFn$_invoke$arity$4=list_STAR___4;list_STAR_.cljs$core$IFn$_invoke$arity$variadic=list_STAR___5.cljs$core$IFn$_invoke$arity$variadic;return list_STAR_}();cljs.core.transient$=function transient$(coll){return cljs.core._as_transient.call(null,coll)};cljs.core.persistent_BANG_=function persistent_BANG_(tcoll){return cljs.core._persistent_BANG_.call(null,tcoll)};
cljs.core.conj_BANG_=function(){var conj_BANG_=null;var conj_BANG___2=function(tcoll,val){return cljs.core._conj_BANG_.call(null,tcoll,val)};var conj_BANG___3=function(){var G__19380__delegate=function(tcoll,val,vals){while(true){var ntcoll=cljs.core._conj_BANG_.call(null,tcoll,val);if(cljs.core.truth_(vals)){var G__19381=ntcoll;var G__19382=cljs.core.first.call(null,vals);var G__19383=cljs.core.next.call(null,vals);tcoll=G__19381;val=G__19382;vals=G__19383;continue}else return ntcoll;break}};var G__19380=
function(tcoll,val,var_args){var vals=null;if(arguments.length>2)vals=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19380__delegate.call(this,tcoll,val,vals)};G__19380.cljs$lang$maxFixedArity=2;G__19380.cljs$lang$applyTo=function(arglist__19384){var tcoll=cljs.core.first(arglist__19384);arglist__19384=cljs.core.next(arglist__19384);var val=cljs.core.first(arglist__19384);var vals=cljs.core.rest(arglist__19384);return G__19380__delegate(tcoll,val,vals)};G__19380.cljs$core$IFn$_invoke$arity$variadic=
G__19380__delegate;return G__19380}();conj_BANG_=function(tcoll,val,var_args){var vals=var_args;switch(arguments.length){case 2:return conj_BANG___2.call(this,tcoll,val);default:return conj_BANG___3.cljs$core$IFn$_invoke$arity$variadic(tcoll,val,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};conj_BANG_.cljs$lang$maxFixedArity=2;conj_BANG_.cljs$lang$applyTo=conj_BANG___3.cljs$lang$applyTo;conj_BANG_.cljs$core$IFn$_invoke$arity$2=conj_BANG___2;conj_BANG_.cljs$core$IFn$_invoke$arity$variadic=
conj_BANG___3.cljs$core$IFn$_invoke$arity$variadic;return conj_BANG_}();
cljs.core.assoc_BANG_=function(){var assoc_BANG_=null;var assoc_BANG___3=function(tcoll,key,val){return cljs.core._assoc_BANG_.call(null,tcoll,key,val)};var assoc_BANG___4=function(){var G__19385__delegate=function(tcoll,key,val,kvs){while(true){var ntcoll=cljs.core._assoc_BANG_.call(null,tcoll,key,val);if(cljs.core.truth_(kvs)){var G__19386=ntcoll;var G__19387=cljs.core.first.call(null,kvs);var G__19388=cljs.core.second.call(null,kvs);var G__19389=cljs.core.nnext.call(null,kvs);tcoll=G__19386;key=
G__19387;val=G__19388;kvs=G__19389;continue}else return ntcoll;break}};var G__19385=function(tcoll,key,val,var_args){var kvs=null;if(arguments.length>3)kvs=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19385__delegate.call(this,tcoll,key,val,kvs)};G__19385.cljs$lang$maxFixedArity=3;G__19385.cljs$lang$applyTo=function(arglist__19390){var tcoll=cljs.core.first(arglist__19390);arglist__19390=cljs.core.next(arglist__19390);var key=cljs.core.first(arglist__19390);arglist__19390=
cljs.core.next(arglist__19390);var val=cljs.core.first(arglist__19390);var kvs=cljs.core.rest(arglist__19390);return G__19385__delegate(tcoll,key,val,kvs)};G__19385.cljs$core$IFn$_invoke$arity$variadic=G__19385__delegate;return G__19385}();assoc_BANG_=function(tcoll,key,val,var_args){var kvs=var_args;switch(arguments.length){case 3:return assoc_BANG___3.call(this,tcoll,key,val);default:return assoc_BANG___4.cljs$core$IFn$_invoke$arity$variadic(tcoll,key,val,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+
arguments.length);};assoc_BANG_.cljs$lang$maxFixedArity=3;assoc_BANG_.cljs$lang$applyTo=assoc_BANG___4.cljs$lang$applyTo;assoc_BANG_.cljs$core$IFn$_invoke$arity$3=assoc_BANG___3;assoc_BANG_.cljs$core$IFn$_invoke$arity$variadic=assoc_BANG___4.cljs$core$IFn$_invoke$arity$variadic;return assoc_BANG_}();
cljs.core.dissoc_BANG_=function(){var dissoc_BANG_=null;var dissoc_BANG___2=function(tcoll,key){return cljs.core._dissoc_BANG_.call(null,tcoll,key)};var dissoc_BANG___3=function(){var G__19391__delegate=function(tcoll,key,ks){while(true){var ntcoll=cljs.core._dissoc_BANG_.call(null,tcoll,key);if(cljs.core.truth_(ks)){var G__19392=ntcoll;var G__19393=cljs.core.first.call(null,ks);var G__19394=cljs.core.next.call(null,ks);tcoll=G__19392;key=G__19393;ks=G__19394;continue}else return ntcoll;break}};var G__19391=
function(tcoll,key,var_args){var ks=null;if(arguments.length>2)ks=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19391__delegate.call(this,tcoll,key,ks)};G__19391.cljs$lang$maxFixedArity=2;G__19391.cljs$lang$applyTo=function(arglist__19395){var tcoll=cljs.core.first(arglist__19395);arglist__19395=cljs.core.next(arglist__19395);var key=cljs.core.first(arglist__19395);var ks=cljs.core.rest(arglist__19395);return G__19391__delegate(tcoll,key,ks)};G__19391.cljs$core$IFn$_invoke$arity$variadic=
G__19391__delegate;return G__19391}();dissoc_BANG_=function(tcoll,key,var_args){var ks=var_args;switch(arguments.length){case 2:return dissoc_BANG___2.call(this,tcoll,key);default:return dissoc_BANG___3.cljs$core$IFn$_invoke$arity$variadic(tcoll,key,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};dissoc_BANG_.cljs$lang$maxFixedArity=2;dissoc_BANG_.cljs$lang$applyTo=dissoc_BANG___3.cljs$lang$applyTo;dissoc_BANG_.cljs$core$IFn$_invoke$arity$2=dissoc_BANG___2;
dissoc_BANG_.cljs$core$IFn$_invoke$arity$variadic=dissoc_BANG___3.cljs$core$IFn$_invoke$arity$variadic;return dissoc_BANG_}();cljs.core.pop_BANG_=function pop_BANG_(tcoll){return cljs.core._pop_BANG_.call(null,tcoll)};
cljs.core.disj_BANG_=function(){var disj_BANG_=null;var disj_BANG___2=function(tcoll,val){return cljs.core._disjoin_BANG_.call(null,tcoll,val)};var disj_BANG___3=function(){var G__19396__delegate=function(tcoll,val,vals){while(true){var ntcoll=cljs.core._disjoin_BANG_.call(null,tcoll,val);if(cljs.core.truth_(vals)){var G__19397=ntcoll;var G__19398=cljs.core.first.call(null,vals);var G__19399=cljs.core.next.call(null,vals);tcoll=G__19397;val=G__19398;vals=G__19399;continue}else return ntcoll;break}};
var G__19396=function(tcoll,val,var_args){var vals=null;if(arguments.length>2)vals=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19396__delegate.call(this,tcoll,val,vals)};G__19396.cljs$lang$maxFixedArity=2;G__19396.cljs$lang$applyTo=function(arglist__19400){var tcoll=cljs.core.first(arglist__19400);arglist__19400=cljs.core.next(arglist__19400);var val=cljs.core.first(arglist__19400);var vals=cljs.core.rest(arglist__19400);return G__19396__delegate(tcoll,val,vals)};G__19396.cljs$core$IFn$_invoke$arity$variadic=
G__19396__delegate;return G__19396}();disj_BANG_=function(tcoll,val,var_args){var vals=var_args;switch(arguments.length){case 2:return disj_BANG___2.call(this,tcoll,val);default:return disj_BANG___3.cljs$core$IFn$_invoke$arity$variadic(tcoll,val,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};disj_BANG_.cljs$lang$maxFixedArity=2;disj_BANG_.cljs$lang$applyTo=disj_BANG___3.cljs$lang$applyTo;disj_BANG_.cljs$core$IFn$_invoke$arity$2=disj_BANG___2;disj_BANG_.cljs$core$IFn$_invoke$arity$variadic=
disj_BANG___3.cljs$core$IFn$_invoke$arity$variadic;return disj_BANG_}();
cljs.core.apply_to=function apply_to(f,argc,args){var args__$1=cljs.core.seq.call(null,args);if(argc===0)return f.call(null);else{var a4370=cljs.core._first.call(null,args__$1);var args__$2=cljs.core._rest.call(null,args__$1);if(argc===1)if(f.cljs$core$IFn$_invoke$arity$1)return f.cljs$core$IFn$_invoke$arity$1(a4370);else return f.call(null,a4370);else{var b4371=cljs.core._first.call(null,args__$2);var args__$3=cljs.core._rest.call(null,args__$2);if(argc===2)if(f.cljs$core$IFn$_invoke$arity$2)return f.cljs$core$IFn$_invoke$arity$2(a4370,
b4371);else return f.call(null,a4370,b4371);else{var c4372=cljs.core._first.call(null,args__$3);var args__$4=cljs.core._rest.call(null,args__$3);if(argc===3)if(f.cljs$core$IFn$_invoke$arity$3)return f.cljs$core$IFn$_invoke$arity$3(a4370,b4371,c4372);else return f.call(null,a4370,b4371,c4372);else{var d4373=cljs.core._first.call(null,args__$4);var args__$5=cljs.core._rest.call(null,args__$4);if(argc===4)if(f.cljs$core$IFn$_invoke$arity$4)return f.cljs$core$IFn$_invoke$arity$4(a4370,b4371,c4372,d4373);
else return f.call(null,a4370,b4371,c4372,d4373);else{var e4374=cljs.core._first.call(null,args__$5);var args__$6=cljs.core._rest.call(null,args__$5);if(argc===5)if(f.cljs$core$IFn$_invoke$arity$5)return f.cljs$core$IFn$_invoke$arity$5(a4370,b4371,c4372,d4373,e4374);else return f.call(null,a4370,b4371,c4372,d4373,e4374);else{var f4375=cljs.core._first.call(null,args__$6);var args__$7=cljs.core._rest.call(null,args__$6);if(argc===6)if(f.cljs$core$IFn$_invoke$arity$6)return f.cljs$core$IFn$_invoke$arity$6(a4370,
b4371,c4372,d4373,e4374,f4375);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375);else{var g4376=cljs.core._first.call(null,args__$7);var args__$8=cljs.core._rest.call(null,args__$7);if(argc===7)if(f.cljs$core$IFn$_invoke$arity$7)return f.cljs$core$IFn$_invoke$arity$7(a4370,b4371,c4372,d4373,e4374,f4375,g4376);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376);else{var h4377=cljs.core._first.call(null,args__$8);var args__$9=cljs.core._rest.call(null,args__$8);if(argc===8)if(f.cljs$core$IFn$_invoke$arity$8)return f.cljs$core$IFn$_invoke$arity$8(a4370,
b4371,c4372,d4373,e4374,f4375,g4376,h4377);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377);else{var i4378=cljs.core._first.call(null,args__$9);var args__$10=cljs.core._rest.call(null,args__$9);if(argc===9)if(f.cljs$core$IFn$_invoke$arity$9)return f.cljs$core$IFn$_invoke$arity$9(a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378);else{var j4379=cljs.core._first.call(null,args__$10);var args__$11=
cljs.core._rest.call(null,args__$10);if(argc===10)if(f.cljs$core$IFn$_invoke$arity$10)return f.cljs$core$IFn$_invoke$arity$10(a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379);else{var k4380=cljs.core._first.call(null,args__$11);var args__$12=cljs.core._rest.call(null,args__$11);if(argc===11)if(f.cljs$core$IFn$_invoke$arity$11)return f.cljs$core$IFn$_invoke$arity$11(a4370,b4371,c4372,d4373,e4374,f4375,
g4376,h4377,i4378,j4379,k4380);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380);else{var l4381=cljs.core._first.call(null,args__$12);var args__$13=cljs.core._rest.call(null,args__$12);if(argc===12)if(f.cljs$core$IFn$_invoke$arity$12)return f.cljs$core$IFn$_invoke$arity$12(a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381);else{var m4382=cljs.core._first.call(null,
args__$13);var args__$14=cljs.core._rest.call(null,args__$13);if(argc===13)if(f.cljs$core$IFn$_invoke$arity$13)return f.cljs$core$IFn$_invoke$arity$13(a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382);else{var n4383=cljs.core._first.call(null,args__$14);var args__$15=cljs.core._rest.call(null,args__$14);if(argc===14)if(f.cljs$core$IFn$_invoke$arity$14)return f.cljs$core$IFn$_invoke$arity$14(a4370,
b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383);else{var o4384=cljs.core._first.call(null,args__$15);var args__$16=cljs.core._rest.call(null,args__$15);if(argc===15)if(f.cljs$core$IFn$_invoke$arity$15)return f.cljs$core$IFn$_invoke$arity$15(a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383,o4384);else return f.call(null,a4370,
b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383,o4384);else{var p4385=cljs.core._first.call(null,args__$16);var args__$17=cljs.core._rest.call(null,args__$16);if(argc===16)if(f.cljs$core$IFn$_invoke$arity$16)return f.cljs$core$IFn$_invoke$arity$16(a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383,o4384,p4385);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383,o4384,p4385);else{var q4386=
cljs.core._first.call(null,args__$17);var args__$18=cljs.core._rest.call(null,args__$17);if(argc===17)if(f.cljs$core$IFn$_invoke$arity$17)return f.cljs$core$IFn$_invoke$arity$17(a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383,o4384,p4385,q4386);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383,o4384,p4385,q4386);else{var r4387=cljs.core._first.call(null,args__$18);var args__$19=cljs.core._rest.call(null,
args__$18);if(argc===18)if(f.cljs$core$IFn$_invoke$arity$18)return f.cljs$core$IFn$_invoke$arity$18(a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383,o4384,p4385,q4386,r4387);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383,o4384,p4385,q4386,r4387);else{var s4388=cljs.core._first.call(null,args__$19);var args__$20=cljs.core._rest.call(null,args__$19);if(argc===19)if(f.cljs$core$IFn$_invoke$arity$19)return f.cljs$core$IFn$_invoke$arity$19(a4370,
b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383,o4384,p4385,q4386,r4387,s4388);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383,o4384,p4385,q4386,r4387,s4388);else{var t4389=cljs.core._first.call(null,args__$20);var args__$21=cljs.core._rest.call(null,args__$20);if(argc===20)if(f.cljs$core$IFn$_invoke$arity$20)return f.cljs$core$IFn$_invoke$arity$20(a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,
k4380,l4381,m4382,n4383,o4384,p4385,q4386,r4387,s4388,t4389);else return f.call(null,a4370,b4371,c4372,d4373,e4374,f4375,g4376,h4377,i4378,j4379,k4380,l4381,m4382,n4383,o4384,p4385,q4386,r4387,s4388,t4389);else throw new Error("Only up to 20 arguments supported on functions");}}}}}}}}}}}}}}}}}}}}};
cljs.core.apply=function(){var apply=null;var apply__2=function(f,args){var fixed_arity=f.cljs$lang$maxFixedArity;if(f.cljs$lang$applyTo){var bc=cljs.core.bounded_count.call(null,args,fixed_arity+1);if(bc<=fixed_arity)return cljs.core.apply_to.call(null,f,bc,args);else return f.cljs$lang$applyTo(args)}else return f.apply(f,cljs.core.to_array.call(null,args))};var apply__3=function(f,x,args){var arglist=cljs.core.list_STAR_.call(null,x,args);var fixed_arity=f.cljs$lang$maxFixedArity;if(f.cljs$lang$applyTo){var bc=
cljs.core.bounded_count.call(null,arglist,fixed_arity+1);if(bc<=fixed_arity)return cljs.core.apply_to.call(null,f,bc,arglist);else return f.cljs$lang$applyTo(arglist)}else return f.apply(f,cljs.core.to_array.call(null,arglist))};var apply__4=function(f,x,y,args){var arglist=cljs.core.list_STAR_.call(null,x,y,args);var fixed_arity=f.cljs$lang$maxFixedArity;if(f.cljs$lang$applyTo){var bc=cljs.core.bounded_count.call(null,arglist,fixed_arity+1);if(bc<=fixed_arity)return cljs.core.apply_to.call(null,
f,bc,arglist);else return f.cljs$lang$applyTo(arglist)}else return f.apply(f,cljs.core.to_array.call(null,arglist))};var apply__5=function(f,x,y,z,args){var arglist=cljs.core.list_STAR_.call(null,x,y,z,args);var fixed_arity=f.cljs$lang$maxFixedArity;if(f.cljs$lang$applyTo){var bc=cljs.core.bounded_count.call(null,arglist,fixed_arity+1);if(bc<=fixed_arity)return cljs.core.apply_to.call(null,f,bc,arglist);else return f.cljs$lang$applyTo(arglist)}else return f.apply(f,cljs.core.to_array.call(null,arglist))};
var apply__6=function(){var G__19401__delegate=function(f,a,b,c,d,args){var arglist=cljs.core.cons.call(null,a,cljs.core.cons.call(null,b,cljs.core.cons.call(null,c,cljs.core.cons.call(null,d,cljs.core.spread.call(null,args)))));var fixed_arity=f.cljs$lang$maxFixedArity;if(f.cljs$lang$applyTo){var bc=cljs.core.bounded_count.call(null,arglist,fixed_arity+1);if(bc<=fixed_arity)return cljs.core.apply_to.call(null,f,bc,arglist);else return f.cljs$lang$applyTo(arglist)}else return f.apply(f,cljs.core.to_array.call(null,
arglist))};var G__19401=function(f,a,b,c,d,var_args){var args=null;if(arguments.length>5)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,5),0);return G__19401__delegate.call(this,f,a,b,c,d,args)};G__19401.cljs$lang$maxFixedArity=5;G__19401.cljs$lang$applyTo=function(arglist__19402){var f=cljs.core.first(arglist__19402);arglist__19402=cljs.core.next(arglist__19402);var a=cljs.core.first(arglist__19402);arglist__19402=cljs.core.next(arglist__19402);var b=cljs.core.first(arglist__19402);
arglist__19402=cljs.core.next(arglist__19402);var c=cljs.core.first(arglist__19402);arglist__19402=cljs.core.next(arglist__19402);var d=cljs.core.first(arglist__19402);var args=cljs.core.rest(arglist__19402);return G__19401__delegate(f,a,b,c,d,args)};G__19401.cljs$core$IFn$_invoke$arity$variadic=G__19401__delegate;return G__19401}();apply=function(f,a,b,c,d,var_args){var args=var_args;switch(arguments.length){case 2:return apply__2.call(this,f,a);case 3:return apply__3.call(this,f,a,b);case 4:return apply__4.call(this,
f,a,b,c);case 5:return apply__5.call(this,f,a,b,c,d);default:return apply__6.cljs$core$IFn$_invoke$arity$variadic(f,a,b,c,d,cljs.core.array_seq(arguments,5))}throw new Error("Invalid arity: "+arguments.length);};apply.cljs$lang$maxFixedArity=5;apply.cljs$lang$applyTo=apply__6.cljs$lang$applyTo;apply.cljs$core$IFn$_invoke$arity$2=apply__2;apply.cljs$core$IFn$_invoke$arity$3=apply__3;apply.cljs$core$IFn$_invoke$arity$4=apply__4;apply.cljs$core$IFn$_invoke$arity$5=apply__5;apply.cljs$core$IFn$_invoke$arity$variadic=
apply__6.cljs$core$IFn$_invoke$arity$variadic;return apply}();
cljs.core.vary_meta=function(){var vary_meta=null;var vary_meta__2=function(obj,f){return cljs.core.with_meta.call(null,obj,f.call(null,cljs.core.meta.call(null,obj)))};var vary_meta__3=function(obj,f,a){return cljs.core.with_meta.call(null,obj,f.call(null,cljs.core.meta.call(null,obj),a))};var vary_meta__4=function(obj,f,a,b){return cljs.core.with_meta.call(null,obj,f.call(null,cljs.core.meta.call(null,obj),a,b))};var vary_meta__5=function(obj,f,a,b,c){return cljs.core.with_meta.call(null,obj,f.call(null,
cljs.core.meta.call(null,obj),a,b,c))};var vary_meta__6=function(obj,f,a,b,c,d){return cljs.core.with_meta.call(null,obj,f.call(null,cljs.core.meta.call(null,obj),a,b,c,d))};var vary_meta__7=function(){var G__19403__delegate=function(obj,f,a,b,c,d,args){return cljs.core.with_meta.call(null,obj,cljs.core.apply.call(null,f,cljs.core.meta.call(null,obj),a,b,c,d,args))};var G__19403=function(obj,f,a,b,c,d,var_args){var args=null;if(arguments.length>6)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,
6),0);return G__19403__delegate.call(this,obj,f,a,b,c,d,args)};G__19403.cljs$lang$maxFixedArity=6;G__19403.cljs$lang$applyTo=function(arglist__19404){var obj=cljs.core.first(arglist__19404);arglist__19404=cljs.core.next(arglist__19404);var f=cljs.core.first(arglist__19404);arglist__19404=cljs.core.next(arglist__19404);var a=cljs.core.first(arglist__19404);arglist__19404=cljs.core.next(arglist__19404);var b=cljs.core.first(arglist__19404);arglist__19404=cljs.core.next(arglist__19404);var c=cljs.core.first(arglist__19404);
arglist__19404=cljs.core.next(arglist__19404);var d=cljs.core.first(arglist__19404);var args=cljs.core.rest(arglist__19404);return G__19403__delegate(obj,f,a,b,c,d,args)};G__19403.cljs$core$IFn$_invoke$arity$variadic=G__19403__delegate;return G__19403}();vary_meta=function(obj,f,a,b,c,d,var_args){var args=var_args;switch(arguments.length){case 2:return vary_meta__2.call(this,obj,f);case 3:return vary_meta__3.call(this,obj,f,a);case 4:return vary_meta__4.call(this,obj,f,a,b);case 5:return vary_meta__5.call(this,
obj,f,a,b,c);case 6:return vary_meta__6.call(this,obj,f,a,b,c,d);default:return vary_meta__7.cljs$core$IFn$_invoke$arity$variadic(obj,f,a,b,c,d,cljs.core.array_seq(arguments,6))}throw new Error("Invalid arity: "+arguments.length);};vary_meta.cljs$lang$maxFixedArity=6;vary_meta.cljs$lang$applyTo=vary_meta__7.cljs$lang$applyTo;vary_meta.cljs$core$IFn$_invoke$arity$2=vary_meta__2;vary_meta.cljs$core$IFn$_invoke$arity$3=vary_meta__3;vary_meta.cljs$core$IFn$_invoke$arity$4=vary_meta__4;vary_meta.cljs$core$IFn$_invoke$arity$5=
vary_meta__5;vary_meta.cljs$core$IFn$_invoke$arity$6=vary_meta__6;vary_meta.cljs$core$IFn$_invoke$arity$variadic=vary_meta__7.cljs$core$IFn$_invoke$arity$variadic;return vary_meta}();
cljs.core.not_EQ_=function(){var not_EQ_=null;var not_EQ___1=function(x){return false};var not_EQ___2=function(x,y){return!cljs.core._EQ_.call(null,x,y)};var not_EQ___3=function(){var G__19405__delegate=function(x,y,more){return cljs.core.not.call(null,cljs.core.apply.call(null,cljs.core._EQ_,x,y,more))};var G__19405=function(x,y,var_args){var more=null;if(arguments.length>2)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19405__delegate.call(this,x,y,more)};G__19405.cljs$lang$maxFixedArity=
2;G__19405.cljs$lang$applyTo=function(arglist__19406){var x=cljs.core.first(arglist__19406);arglist__19406=cljs.core.next(arglist__19406);var y=cljs.core.first(arglist__19406);var more=cljs.core.rest(arglist__19406);return G__19405__delegate(x,y,more)};G__19405.cljs$core$IFn$_invoke$arity$variadic=G__19405__delegate;return G__19405}();not_EQ_=function(x,y,var_args){var more=var_args;switch(arguments.length){case 1:return not_EQ___1.call(this,x);case 2:return not_EQ___2.call(this,x,y);default:return not_EQ___3.cljs$core$IFn$_invoke$arity$variadic(x,
y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};not_EQ_.cljs$lang$maxFixedArity=2;not_EQ_.cljs$lang$applyTo=not_EQ___3.cljs$lang$applyTo;not_EQ_.cljs$core$IFn$_invoke$arity$1=not_EQ___1;not_EQ_.cljs$core$IFn$_invoke$arity$2=not_EQ___2;not_EQ_.cljs$core$IFn$_invoke$arity$variadic=not_EQ___3.cljs$core$IFn$_invoke$arity$variadic;return not_EQ_}();cljs.core.not_empty=function not_empty(coll){if(cljs.core.seq.call(null,coll))return coll;else return null};
cljs.core.every_QMARK_=function every_QMARK_(pred,coll){while(true){if(cljs.core.seq.call(null,coll)==null)return true;else if(cljs.core.truth_(pred.call(null,cljs.core.first.call(null,coll)))){var G__19407=pred;var G__19408=cljs.core.next.call(null,coll);pred=G__19407;coll=G__19408;continue}else if(new cljs.core.Keyword(null,"else","else",1017020587))return false;else return null;break}};
cljs.core.not_every_QMARK_=function not_every_QMARK_(pred,coll){return!cljs.core.every_QMARK_.call(null,pred,coll)};cljs.core.some=function some(pred,coll){while(true){if(cljs.core.seq.call(null,coll)){var or__3478__auto__=pred.call(null,cljs.core.first.call(null,coll));if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var G__19409=pred;var G__19410=cljs.core.next.call(null,coll);pred=G__19409;coll=G__19410;continue}}else return null;break}};
cljs.core.not_any_QMARK_=function not_any_QMARK_(pred,coll){return cljs.core.not.call(null,cljs.core.some.call(null,pred,coll))};cljs.core.even_QMARK_=function even_QMARK_(n){if(cljs.core.integer_QMARK_.call(null,n))return(n&1)===0;else throw new Error([cljs.core.str("Argument must be an integer: "),cljs.core.str(n)].join(""));};cljs.core.odd_QMARK_=function odd_QMARK_(n){return!cljs.core.even_QMARK_.call(null,n)};cljs.core.identity=function identity(x){return x};
cljs.core.complement=function complement(f){return function(){var G__19411=null;var G__19411__0=function(){return cljs.core.not.call(null,f.call(null))};var G__19411__1=function(x){return cljs.core.not.call(null,f.call(null,x))};var G__19411__2=function(x,y){return cljs.core.not.call(null,f.call(null,x,y))};var G__19411__3=function(){var G__19412__delegate=function(x,y,zs){return cljs.core.not.call(null,cljs.core.apply.call(null,f,x,y,zs))};var G__19412=function(x,y,var_args){var zs=null;if(arguments.length>
2)zs=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19412__delegate.call(this,x,y,zs)};G__19412.cljs$lang$maxFixedArity=2;G__19412.cljs$lang$applyTo=function(arglist__19413){var x=cljs.core.first(arglist__19413);arglist__19413=cljs.core.next(arglist__19413);var y=cljs.core.first(arglist__19413);var zs=cljs.core.rest(arglist__19413);return G__19412__delegate(x,y,zs)};G__19412.cljs$core$IFn$_invoke$arity$variadic=G__19412__delegate;return G__19412}();G__19411=function(x,y,
var_args){var zs=var_args;switch(arguments.length){case 0:return G__19411__0.call(this);case 1:return G__19411__1.call(this,x);case 2:return G__19411__2.call(this,x,y);default:return G__19411__3.cljs$core$IFn$_invoke$arity$variadic(x,y,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};G__19411.cljs$lang$maxFixedArity=2;G__19411.cljs$lang$applyTo=G__19411__3.cljs$lang$applyTo;return G__19411}()};
cljs.core.constantly=function constantly(x){return function(){var G__19414__delegate=function(args){return x};var G__19414=function(var_args){var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__19414__delegate.call(this,args)};G__19414.cljs$lang$maxFixedArity=0;G__19414.cljs$lang$applyTo=function(arglist__19415){var args=cljs.core.seq(arglist__19415);return G__19414__delegate(args)};G__19414.cljs$core$IFn$_invoke$arity$variadic=G__19414__delegate;
return G__19414}()};
cljs.core.comp=function(){var comp=null;var comp__0=function(){return cljs.core.identity};var comp__1=function(f){return f};var comp__2=function(f,g){return function(){var G__19416=null;var G__19416__0=function(){return f.call(null,g.call(null))};var G__19416__1=function(x){return f.call(null,g.call(null,x))};var G__19416__2=function(x,y){return f.call(null,g.call(null,x,y))};var G__19416__3=function(x,y,z){return f.call(null,g.call(null,x,y,z))};var G__19416__4=function(){var G__19417__delegate=function(x,
y,z,args){return f.call(null,cljs.core.apply.call(null,g,x,y,z,args))};var G__19417=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19417__delegate.call(this,x,y,z,args)};G__19417.cljs$lang$maxFixedArity=3;G__19417.cljs$lang$applyTo=function(arglist__19418){var x=cljs.core.first(arglist__19418);arglist__19418=cljs.core.next(arglist__19418);var y=cljs.core.first(arglist__19418);arglist__19418=cljs.core.next(arglist__19418);
var z=cljs.core.first(arglist__19418);var args=cljs.core.rest(arglist__19418);return G__19417__delegate(x,y,z,args)};G__19417.cljs$core$IFn$_invoke$arity$variadic=G__19417__delegate;return G__19417}();G__19416=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__19416__0.call(this);case 1:return G__19416__1.call(this,x);case 2:return G__19416__2.call(this,x,y);case 3:return G__19416__3.call(this,x,y,z);default:return G__19416__4.cljs$core$IFn$_invoke$arity$variadic(x,
y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};G__19416.cljs$lang$maxFixedArity=3;G__19416.cljs$lang$applyTo=G__19416__4.cljs$lang$applyTo;return G__19416}()};var comp__3=function(f,g,h){return function(){var G__19419=null;var G__19419__0=function(){return f.call(null,g.call(null,h.call(null)))};var G__19419__1=function(x){return f.call(null,g.call(null,h.call(null,x)))};var G__19419__2=function(x,y){return f.call(null,g.call(null,h.call(null,x,y)))};var G__19419__3=
function(x,y,z){return f.call(null,g.call(null,h.call(null,x,y,z)))};var G__19419__4=function(){var G__19420__delegate=function(x,y,z,args){return f.call(null,g.call(null,cljs.core.apply.call(null,h,x,y,z,args)))};var G__19420=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19420__delegate.call(this,x,y,z,args)};G__19420.cljs$lang$maxFixedArity=3;G__19420.cljs$lang$applyTo=function(arglist__19421){var x=cljs.core.first(arglist__19421);
arglist__19421=cljs.core.next(arglist__19421);var y=cljs.core.first(arglist__19421);arglist__19421=cljs.core.next(arglist__19421);var z=cljs.core.first(arglist__19421);var args=cljs.core.rest(arglist__19421);return G__19420__delegate(x,y,z,args)};G__19420.cljs$core$IFn$_invoke$arity$variadic=G__19420__delegate;return G__19420}();G__19419=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__19419__0.call(this);case 1:return G__19419__1.call(this,x);case 2:return G__19419__2.call(this,
x,y);case 3:return G__19419__3.call(this,x,y,z);default:return G__19419__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};G__19419.cljs$lang$maxFixedArity=3;G__19419.cljs$lang$applyTo=G__19419__4.cljs$lang$applyTo;return G__19419}()};var comp__4=function(){var G__19422__delegate=function(f1,f2,f3,fs){var fs__$1=cljs.core.reverse.call(null,cljs.core.list_STAR_.call(null,f1,f2,f3,fs));return function(fs__$1){return function(){var G__19423__delegate=
function(args){var ret=cljs.core.apply.call(null,cljs.core.first.call(null,fs__$1),args);var fs__$2=cljs.core.next.call(null,fs__$1);while(true){if(fs__$2){var G__19424=cljs.core.first.call(null,fs__$2).call(null,ret);var G__19425=cljs.core.next.call(null,fs__$2);ret=G__19424;fs__$2=G__19425;continue}else return ret;break}};var G__19423=function(var_args){var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__19423__delegate.call(this,args)};
G__19423.cljs$lang$maxFixedArity=0;G__19423.cljs$lang$applyTo=function(arglist__19426){var args=cljs.core.seq(arglist__19426);return G__19423__delegate(args)};G__19423.cljs$core$IFn$_invoke$arity$variadic=G__19423__delegate;return G__19423}()}(fs__$1)};var G__19422=function(f1,f2,f3,var_args){var fs=null;if(arguments.length>3)fs=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19422__delegate.call(this,f1,f2,f3,fs)};G__19422.cljs$lang$maxFixedArity=3;G__19422.cljs$lang$applyTo=
function(arglist__19427){var f1=cljs.core.first(arglist__19427);arglist__19427=cljs.core.next(arglist__19427);var f2=cljs.core.first(arglist__19427);arglist__19427=cljs.core.next(arglist__19427);var f3=cljs.core.first(arglist__19427);var fs=cljs.core.rest(arglist__19427);return G__19422__delegate(f1,f2,f3,fs)};G__19422.cljs$core$IFn$_invoke$arity$variadic=G__19422__delegate;return G__19422}();comp=function(f1,f2,f3,var_args){var fs=var_args;switch(arguments.length){case 0:return comp__0.call(this);
case 1:return comp__1.call(this,f1);case 2:return comp__2.call(this,f1,f2);case 3:return comp__3.call(this,f1,f2,f3);default:return comp__4.cljs$core$IFn$_invoke$arity$variadic(f1,f2,f3,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};comp.cljs$lang$maxFixedArity=3;comp.cljs$lang$applyTo=comp__4.cljs$lang$applyTo;comp.cljs$core$IFn$_invoke$arity$0=comp__0;comp.cljs$core$IFn$_invoke$arity$1=comp__1;comp.cljs$core$IFn$_invoke$arity$2=comp__2;comp.cljs$core$IFn$_invoke$arity$3=
comp__3;comp.cljs$core$IFn$_invoke$arity$variadic=comp__4.cljs$core$IFn$_invoke$arity$variadic;return comp}();
cljs.core.partial=function(){var partial=null;var partial__1=function(f){return f};var partial__2=function(f,arg1){return function(){var G__19428__delegate=function(args){return cljs.core.apply.call(null,f,arg1,args)};var G__19428=function(var_args){var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__19428__delegate.call(this,args)};G__19428.cljs$lang$maxFixedArity=0;G__19428.cljs$lang$applyTo=function(arglist__19429){var args=cljs.core.seq(arglist__19429);
return G__19428__delegate(args)};G__19428.cljs$core$IFn$_invoke$arity$variadic=G__19428__delegate;return G__19428}()};var partial__3=function(f,arg1,arg2){return function(){var G__19430__delegate=function(args){return cljs.core.apply.call(null,f,arg1,arg2,args)};var G__19430=function(var_args){var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__19430__delegate.call(this,args)};G__19430.cljs$lang$maxFixedArity=0;G__19430.cljs$lang$applyTo=
function(arglist__19431){var args=cljs.core.seq(arglist__19431);return G__19430__delegate(args)};G__19430.cljs$core$IFn$_invoke$arity$variadic=G__19430__delegate;return G__19430}()};var partial__4=function(f,arg1,arg2,arg3){return function(){var G__19432__delegate=function(args){return cljs.core.apply.call(null,f,arg1,arg2,arg3,args)};var G__19432=function(var_args){var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__19432__delegate.call(this,
args)};G__19432.cljs$lang$maxFixedArity=0;G__19432.cljs$lang$applyTo=function(arglist__19433){var args=cljs.core.seq(arglist__19433);return G__19432__delegate(args)};G__19432.cljs$core$IFn$_invoke$arity$variadic=G__19432__delegate;return G__19432}()};var partial__5=function(){var G__19434__delegate=function(f,arg1,arg2,arg3,more){return function(){var G__19435__delegate=function(args){return cljs.core.apply.call(null,f,arg1,arg2,arg3,cljs.core.concat.call(null,more,args))};var G__19435=function(var_args){var args=
null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__19435__delegate.call(this,args)};G__19435.cljs$lang$maxFixedArity=0;G__19435.cljs$lang$applyTo=function(arglist__19436){var args=cljs.core.seq(arglist__19436);return G__19435__delegate(args)};G__19435.cljs$core$IFn$_invoke$arity$variadic=G__19435__delegate;return G__19435}()};var G__19434=function(f,arg1,arg2,arg3,var_args){var more=null;if(arguments.length>4)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,
4),0);return G__19434__delegate.call(this,f,arg1,arg2,arg3,more)};G__19434.cljs$lang$maxFixedArity=4;G__19434.cljs$lang$applyTo=function(arglist__19437){var f=cljs.core.first(arglist__19437);arglist__19437=cljs.core.next(arglist__19437);var arg1=cljs.core.first(arglist__19437);arglist__19437=cljs.core.next(arglist__19437);var arg2=cljs.core.first(arglist__19437);arglist__19437=cljs.core.next(arglist__19437);var arg3=cljs.core.first(arglist__19437);var more=cljs.core.rest(arglist__19437);return G__19434__delegate(f,
arg1,arg2,arg3,more)};G__19434.cljs$core$IFn$_invoke$arity$variadic=G__19434__delegate;return G__19434}();partial=function(f,arg1,arg2,arg3,var_args){var more=var_args;switch(arguments.length){case 1:return partial__1.call(this,f);case 2:return partial__2.call(this,f,arg1);case 3:return partial__3.call(this,f,arg1,arg2);case 4:return partial__4.call(this,f,arg1,arg2,arg3);default:return partial__5.cljs$core$IFn$_invoke$arity$variadic(f,arg1,arg2,arg3,cljs.core.array_seq(arguments,4))}throw new Error("Invalid arity: "+
arguments.length);};partial.cljs$lang$maxFixedArity=4;partial.cljs$lang$applyTo=partial__5.cljs$lang$applyTo;partial.cljs$core$IFn$_invoke$arity$1=partial__1;partial.cljs$core$IFn$_invoke$arity$2=partial__2;partial.cljs$core$IFn$_invoke$arity$3=partial__3;partial.cljs$core$IFn$_invoke$arity$4=partial__4;partial.cljs$core$IFn$_invoke$arity$variadic=partial__5.cljs$core$IFn$_invoke$arity$variadic;return partial}();
cljs.core.fnil=function(){var fnil=null;var fnil__2=function(f,x){return function(){var G__19438=null;var G__19438__1=function(a){return f.call(null,a==null?x:a)};var G__19438__2=function(a,b){return f.call(null,a==null?x:a,b)};var G__19438__3=function(a,b,c){return f.call(null,a==null?x:a,b,c)};var G__19438__4=function(){var G__19439__delegate=function(a,b,c,ds){return cljs.core.apply.call(null,f,a==null?x:a,b,c,ds)};var G__19439=function(a,b,c,var_args){var ds=null;if(arguments.length>3)ds=cljs.core.array_seq(Array.prototype.slice.call(arguments,
3),0);return G__19439__delegate.call(this,a,b,c,ds)};G__19439.cljs$lang$maxFixedArity=3;G__19439.cljs$lang$applyTo=function(arglist__19440){var a=cljs.core.first(arglist__19440);arglist__19440=cljs.core.next(arglist__19440);var b=cljs.core.first(arglist__19440);arglist__19440=cljs.core.next(arglist__19440);var c=cljs.core.first(arglist__19440);var ds=cljs.core.rest(arglist__19440);return G__19439__delegate(a,b,c,ds)};G__19439.cljs$core$IFn$_invoke$arity$variadic=G__19439__delegate;return G__19439}();
G__19438=function(a,b,c,var_args){var ds=var_args;switch(arguments.length){case 1:return G__19438__1.call(this,a);case 2:return G__19438__2.call(this,a,b);case 3:return G__19438__3.call(this,a,b,c);default:return G__19438__4.cljs$core$IFn$_invoke$arity$variadic(a,b,c,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};G__19438.cljs$lang$maxFixedArity=3;G__19438.cljs$lang$applyTo=G__19438__4.cljs$lang$applyTo;return G__19438}()};var fnil__3=function(f,x,y){return function(){var G__19441=
null;var G__19441__2=function(a,b){return f.call(null,a==null?x:a,b==null?y:b)};var G__19441__3=function(a,b,c){return f.call(null,a==null?x:a,b==null?y:b,c)};var G__19441__4=function(){var G__19442__delegate=function(a,b,c,ds){return cljs.core.apply.call(null,f,a==null?x:a,b==null?y:b,c,ds)};var G__19442=function(a,b,c,var_args){var ds=null;if(arguments.length>3)ds=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19442__delegate.call(this,a,b,c,ds)};G__19442.cljs$lang$maxFixedArity=
3;G__19442.cljs$lang$applyTo=function(arglist__19443){var a=cljs.core.first(arglist__19443);arglist__19443=cljs.core.next(arglist__19443);var b=cljs.core.first(arglist__19443);arglist__19443=cljs.core.next(arglist__19443);var c=cljs.core.first(arglist__19443);var ds=cljs.core.rest(arglist__19443);return G__19442__delegate(a,b,c,ds)};G__19442.cljs$core$IFn$_invoke$arity$variadic=G__19442__delegate;return G__19442}();G__19441=function(a,b,c,var_args){var ds=var_args;switch(arguments.length){case 2:return G__19441__2.call(this,
a,b);case 3:return G__19441__3.call(this,a,b,c);default:return G__19441__4.cljs$core$IFn$_invoke$arity$variadic(a,b,c,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};G__19441.cljs$lang$maxFixedArity=3;G__19441.cljs$lang$applyTo=G__19441__4.cljs$lang$applyTo;return G__19441}()};var fnil__4=function(f,x,y,z){return function(){var G__19444=null;var G__19444__2=function(a,b){return f.call(null,a==null?x:a,b==null?y:b)};var G__19444__3=function(a,b,c){return f.call(null,
a==null?x:a,b==null?y:b,c==null?z:c)};var G__19444__4=function(){var G__19445__delegate=function(a,b,c,ds){return cljs.core.apply.call(null,f,a==null?x:a,b==null?y:b,c==null?z:c,ds)};var G__19445=function(a,b,c,var_args){var ds=null;if(arguments.length>3)ds=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19445__delegate.call(this,a,b,c,ds)};G__19445.cljs$lang$maxFixedArity=3;G__19445.cljs$lang$applyTo=function(arglist__19446){var a=cljs.core.first(arglist__19446);arglist__19446=
cljs.core.next(arglist__19446);var b=cljs.core.first(arglist__19446);arglist__19446=cljs.core.next(arglist__19446);var c=cljs.core.first(arglist__19446);var ds=cljs.core.rest(arglist__19446);return G__19445__delegate(a,b,c,ds)};G__19445.cljs$core$IFn$_invoke$arity$variadic=G__19445__delegate;return G__19445}();G__19444=function(a,b,c,var_args){var ds=var_args;switch(arguments.length){case 2:return G__19444__2.call(this,a,b);case 3:return G__19444__3.call(this,a,b,c);default:return G__19444__4.cljs$core$IFn$_invoke$arity$variadic(a,
b,c,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};G__19444.cljs$lang$maxFixedArity=3;G__19444.cljs$lang$applyTo=G__19444__4.cljs$lang$applyTo;return G__19444}()};fnil=function(f,x,y,z){switch(arguments.length){case 2:return fnil__2.call(this,f,x);case 3:return fnil__3.call(this,f,x,y);case 4:return fnil__4.call(this,f,x,y,z)}throw new Error("Invalid arity: "+arguments.length);};fnil.cljs$core$IFn$_invoke$arity$2=fnil__2;fnil.cljs$core$IFn$_invoke$arity$3=
fnil__3;fnil.cljs$core$IFn$_invoke$arity$4=fnil__4;return fnil}();
cljs.core.map_indexed=function map_indexed(f,coll){var mapi=function mapi(idx,coll__$1){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll__$1);if(temp__4126__auto__){var s=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s)){var c=cljs.core.chunk_first.call(null,s);var size=cljs.core.count.call(null,c);var b=cljs.core.chunk_buffer.call(null,size);var n__4326__auto___19447=size;var i_19448=0;while(true){if(i_19448<n__4326__auto___19447){cljs.core.chunk_append.call(null,
b,f.call(null,idx+i_19448,cljs.core._nth.call(null,c,i_19448)));var G__19449=i_19448+1;i_19448=G__19449;continue}else;break}return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b),mapi.call(null,idx+size,cljs.core.chunk_rest.call(null,s)))}else return cljs.core.cons.call(null,f.call(null,idx,cljs.core.first.call(null,s)),mapi.call(null,idx+1,cljs.core.rest.call(null,s)))}else return null},null,null)};return mapi.call(null,0,coll)};
cljs.core.keep=function keep(f,coll){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s)){var c=cljs.core.chunk_first.call(null,s);var size=cljs.core.count.call(null,c);var b=cljs.core.chunk_buffer.call(null,size);var n__4326__auto___19450=size;var i_19451=0;while(true){if(i_19451<n__4326__auto___19450){var x_19452=f.call(null,cljs.core._nth.call(null,c,i_19451));
if(x_19452==null);else cljs.core.chunk_append.call(null,b,x_19452);var G__19453=i_19451+1;i_19451=G__19453;continue}else;break}return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b),keep.call(null,f,cljs.core.chunk_rest.call(null,s)))}else{var x=f.call(null,cljs.core.first.call(null,s));if(x==null)return keep.call(null,f,cljs.core.rest.call(null,s));else return cljs.core.cons.call(null,x,keep.call(null,f,cljs.core.rest.call(null,s)))}}else return null},null,null)};
cljs.core.keep_indexed=function keep_indexed(f,coll){var keepi=function keepi(idx,coll__$1){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll__$1);if(temp__4126__auto__){var s=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s)){var c=cljs.core.chunk_first.call(null,s);var size=cljs.core.count.call(null,c);var b=cljs.core.chunk_buffer.call(null,size);var n__4326__auto___19454=size;var i_19455=0;while(true){if(i_19455<n__4326__auto___19454){var x_19456=
f.call(null,idx+i_19455,cljs.core._nth.call(null,c,i_19455));if(x_19456==null);else cljs.core.chunk_append.call(null,b,x_19456);var G__19457=i_19455+1;i_19455=G__19457;continue}else;break}return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b),keepi.call(null,idx+size,cljs.core.chunk_rest.call(null,s)))}else{var x=f.call(null,idx,cljs.core.first.call(null,s));if(x==null)return keepi.call(null,idx+1,cljs.core.rest.call(null,s));else return cljs.core.cons.call(null,x,keepi.call(null,idx+
1,cljs.core.rest.call(null,s)))}}else return null},null,null)};return keepi.call(null,0,coll)};
cljs.core.every_pred=function(){var every_pred=null;var every_pred__1=function(p){return function(){var ep1=null;var ep1__0=function(){return true};var ep1__1=function(x){return cljs.core.boolean$.call(null,p.call(null,x))};var ep1__2=function(x,y){return cljs.core.boolean$.call(null,function(){var and__3466__auto__=p.call(null,x);if(cljs.core.truth_(and__3466__auto__))return p.call(null,y);else return and__3466__auto__}())};var ep1__3=function(x,y,z){return cljs.core.boolean$.call(null,function(){var and__3466__auto__=
p.call(null,x);if(cljs.core.truth_(and__3466__auto__)){var and__3466__auto____$1=p.call(null,y);if(cljs.core.truth_(and__3466__auto____$1))return p.call(null,z);else return and__3466__auto____$1}else return and__3466__auto__}())};var ep1__4=function(){var G__19464__delegate=function(x,y,z,args){return cljs.core.boolean$.call(null,ep1.call(null,x,y,z)&&cljs.core.every_QMARK_.call(null,p,args))};var G__19464=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,
3),0);return G__19464__delegate.call(this,x,y,z,args)};G__19464.cljs$lang$maxFixedArity=3;G__19464.cljs$lang$applyTo=function(arglist__19465){var x=cljs.core.first(arglist__19465);arglist__19465=cljs.core.next(arglist__19465);var y=cljs.core.first(arglist__19465);arglist__19465=cljs.core.next(arglist__19465);var z=cljs.core.first(arglist__19465);var args=cljs.core.rest(arglist__19465);return G__19464__delegate(x,y,z,args)};G__19464.cljs$core$IFn$_invoke$arity$variadic=G__19464__delegate;return G__19464}();
ep1=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return ep1__0.call(this);case 1:return ep1__1.call(this,x);case 2:return ep1__2.call(this,x,y);case 3:return ep1__3.call(this,x,y,z);default:return ep1__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};ep1.cljs$lang$maxFixedArity=3;ep1.cljs$lang$applyTo=ep1__4.cljs$lang$applyTo;ep1.cljs$core$IFn$_invoke$arity$0=ep1__0;ep1.cljs$core$IFn$_invoke$arity$1=
ep1__1;ep1.cljs$core$IFn$_invoke$arity$2=ep1__2;ep1.cljs$core$IFn$_invoke$arity$3=ep1__3;ep1.cljs$core$IFn$_invoke$arity$variadic=ep1__4.cljs$core$IFn$_invoke$arity$variadic;return ep1}()};var every_pred__2=function(p1,p2){return function(){var ep2=null;var ep2__0=function(){return true};var ep2__1=function(x){return cljs.core.boolean$.call(null,function(){var and__3466__auto__=p1.call(null,x);if(cljs.core.truth_(and__3466__auto__))return p2.call(null,x);else return and__3466__auto__}())};var ep2__2=
function(x,y){return cljs.core.boolean$.call(null,function(){var and__3466__auto__=p1.call(null,x);if(cljs.core.truth_(and__3466__auto__)){var and__3466__auto____$1=p1.call(null,y);if(cljs.core.truth_(and__3466__auto____$1)){var and__3466__auto____$2=p2.call(null,x);if(cljs.core.truth_(and__3466__auto____$2))return p2.call(null,y);else return and__3466__auto____$2}else return and__3466__auto____$1}else return and__3466__auto__}())};var ep2__3=function(x,y,z){return cljs.core.boolean$.call(null,function(){var and__3466__auto__=
p1.call(null,x);if(cljs.core.truth_(and__3466__auto__)){var and__3466__auto____$1=p1.call(null,y);if(cljs.core.truth_(and__3466__auto____$1)){var and__3466__auto____$2=p1.call(null,z);if(cljs.core.truth_(and__3466__auto____$2)){var and__3466__auto____$3=p2.call(null,x);if(cljs.core.truth_(and__3466__auto____$3)){var and__3466__auto____$4=p2.call(null,y);if(cljs.core.truth_(and__3466__auto____$4))return p2.call(null,z);else return and__3466__auto____$4}else return and__3466__auto____$3}else return and__3466__auto____$2}else return and__3466__auto____$1}else return and__3466__auto__}())};
var ep2__4=function(){var G__19466__delegate=function(x,y,z,args){return cljs.core.boolean$.call(null,ep2.call(null,x,y,z)&&cljs.core.every_QMARK_.call(null,function(p1__19458_SHARP_){var and__3466__auto__=p1.call(null,p1__19458_SHARP_);if(cljs.core.truth_(and__3466__auto__))return p2.call(null,p1__19458_SHARP_);else return and__3466__auto__},args))};var G__19466=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19466__delegate.call(this,
x,y,z,args)};G__19466.cljs$lang$maxFixedArity=3;G__19466.cljs$lang$applyTo=function(arglist__19467){var x=cljs.core.first(arglist__19467);arglist__19467=cljs.core.next(arglist__19467);var y=cljs.core.first(arglist__19467);arglist__19467=cljs.core.next(arglist__19467);var z=cljs.core.first(arglist__19467);var args=cljs.core.rest(arglist__19467);return G__19466__delegate(x,y,z,args)};G__19466.cljs$core$IFn$_invoke$arity$variadic=G__19466__delegate;return G__19466}();ep2=function(x,y,z,var_args){var args=
var_args;switch(arguments.length){case 0:return ep2__0.call(this);case 1:return ep2__1.call(this,x);case 2:return ep2__2.call(this,x,y);case 3:return ep2__3.call(this,x,y,z);default:return ep2__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};ep2.cljs$lang$maxFixedArity=3;ep2.cljs$lang$applyTo=ep2__4.cljs$lang$applyTo;ep2.cljs$core$IFn$_invoke$arity$0=ep2__0;ep2.cljs$core$IFn$_invoke$arity$1=ep2__1;ep2.cljs$core$IFn$_invoke$arity$2=
ep2__2;ep2.cljs$core$IFn$_invoke$arity$3=ep2__3;ep2.cljs$core$IFn$_invoke$arity$variadic=ep2__4.cljs$core$IFn$_invoke$arity$variadic;return ep2}()};var every_pred__3=function(p1,p2,p3){return function(){var ep3=null;var ep3__0=function(){return true};var ep3__1=function(x){return cljs.core.boolean$.call(null,function(){var and__3466__auto__=p1.call(null,x);if(cljs.core.truth_(and__3466__auto__)){var and__3466__auto____$1=p2.call(null,x);if(cljs.core.truth_(and__3466__auto____$1))return p3.call(null,
x);else return and__3466__auto____$1}else return and__3466__auto__}())};var ep3__2=function(x,y){return cljs.core.boolean$.call(null,function(){var and__3466__auto__=p1.call(null,x);if(cljs.core.truth_(and__3466__auto__)){var and__3466__auto____$1=p2.call(null,x);if(cljs.core.truth_(and__3466__auto____$1)){var and__3466__auto____$2=p3.call(null,x);if(cljs.core.truth_(and__3466__auto____$2)){var and__3466__auto____$3=p1.call(null,y);if(cljs.core.truth_(and__3466__auto____$3)){var and__3466__auto____$4=
p2.call(null,y);if(cljs.core.truth_(and__3466__auto____$4))return p3.call(null,y);else return and__3466__auto____$4}else return and__3466__auto____$3}else return and__3466__auto____$2}else return and__3466__auto____$1}else return and__3466__auto__}())};var ep3__3=function(x,y,z){return cljs.core.boolean$.call(null,function(){var and__3466__auto__=p1.call(null,x);if(cljs.core.truth_(and__3466__auto__)){var and__3466__auto____$1=p2.call(null,x);if(cljs.core.truth_(and__3466__auto____$1)){var and__3466__auto____$2=
p3.call(null,x);if(cljs.core.truth_(and__3466__auto____$2)){var and__3466__auto____$3=p1.call(null,y);if(cljs.core.truth_(and__3466__auto____$3)){var and__3466__auto____$4=p2.call(null,y);if(cljs.core.truth_(and__3466__auto____$4)){var and__3466__auto____$5=p3.call(null,y);if(cljs.core.truth_(and__3466__auto____$5)){var and__3466__auto____$6=p1.call(null,z);if(cljs.core.truth_(and__3466__auto____$6)){var and__3466__auto____$7=p2.call(null,z);if(cljs.core.truth_(and__3466__auto____$7))return p3.call(null,
z);else return and__3466__auto____$7}else return and__3466__auto____$6}else return and__3466__auto____$5}else return and__3466__auto____$4}else return and__3466__auto____$3}else return and__3466__auto____$2}else return and__3466__auto____$1}else return and__3466__auto__}())};var ep3__4=function(){var G__19468__delegate=function(x,y,z,args){return cljs.core.boolean$.call(null,ep3.call(null,x,y,z)&&cljs.core.every_QMARK_.call(null,function(p1__19459_SHARP_){var and__3466__auto__=p1.call(null,p1__19459_SHARP_);
if(cljs.core.truth_(and__3466__auto__)){var and__3466__auto____$1=p2.call(null,p1__19459_SHARP_);if(cljs.core.truth_(and__3466__auto____$1))return p3.call(null,p1__19459_SHARP_);else return and__3466__auto____$1}else return and__3466__auto__},args))};var G__19468=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19468__delegate.call(this,x,y,z,args)};G__19468.cljs$lang$maxFixedArity=3;G__19468.cljs$lang$applyTo=
function(arglist__19469){var x=cljs.core.first(arglist__19469);arglist__19469=cljs.core.next(arglist__19469);var y=cljs.core.first(arglist__19469);arglist__19469=cljs.core.next(arglist__19469);var z=cljs.core.first(arglist__19469);var args=cljs.core.rest(arglist__19469);return G__19468__delegate(x,y,z,args)};G__19468.cljs$core$IFn$_invoke$arity$variadic=G__19468__delegate;return G__19468}();ep3=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return ep3__0.call(this);case 1:return ep3__1.call(this,
x);case 2:return ep3__2.call(this,x,y);case 3:return ep3__3.call(this,x,y,z);default:return ep3__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};ep3.cljs$lang$maxFixedArity=3;ep3.cljs$lang$applyTo=ep3__4.cljs$lang$applyTo;ep3.cljs$core$IFn$_invoke$arity$0=ep3__0;ep3.cljs$core$IFn$_invoke$arity$1=ep3__1;ep3.cljs$core$IFn$_invoke$arity$2=ep3__2;ep3.cljs$core$IFn$_invoke$arity$3=ep3__3;ep3.cljs$core$IFn$_invoke$arity$variadic=
ep3__4.cljs$core$IFn$_invoke$arity$variadic;return ep3}()};var every_pred__4=function(){var G__19470__delegate=function(p1,p2,p3,ps){var ps__$1=cljs.core.list_STAR_.call(null,p1,p2,p3,ps);return function(ps__$1){return function(){var epn=null;var epn__0=function(){return true};var epn__1=function(x){return cljs.core.every_QMARK_.call(null,function(ps__$1){return function(p1__19460_SHARP_){return p1__19460_SHARP_.call(null,x)}}(ps__$1),ps__$1)};var epn__2=function(x,y){return cljs.core.every_QMARK_.call(null,
function(ps__$1){return function(p1__19461_SHARP_){var and__3466__auto__=p1__19461_SHARP_.call(null,x);if(cljs.core.truth_(and__3466__auto__))return p1__19461_SHARP_.call(null,y);else return and__3466__auto__}}(ps__$1),ps__$1)};var epn__3=function(x,y,z){return cljs.core.every_QMARK_.call(null,function(ps__$1){return function(p1__19462_SHARP_){var and__3466__auto__=p1__19462_SHARP_.call(null,x);if(cljs.core.truth_(and__3466__auto__)){var and__3466__auto____$1=p1__19462_SHARP_.call(null,y);if(cljs.core.truth_(and__3466__auto____$1))return p1__19462_SHARP_.call(null,
z);else return and__3466__auto____$1}else return and__3466__auto__}}(ps__$1),ps__$1)};var epn__4=function(){var G__19471__delegate=function(x,y,z,args){return cljs.core.boolean$.call(null,epn.call(null,x,y,z)&&cljs.core.every_QMARK_.call(null,function(ps__$1){return function(p1__19463_SHARP_){return cljs.core.every_QMARK_.call(null,p1__19463_SHARP_,args)}}(ps__$1),ps__$1))};var G__19471=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,
3),0);return G__19471__delegate.call(this,x,y,z,args)};G__19471.cljs$lang$maxFixedArity=3;G__19471.cljs$lang$applyTo=function(arglist__19472){var x=cljs.core.first(arglist__19472);arglist__19472=cljs.core.next(arglist__19472);var y=cljs.core.first(arglist__19472);arglist__19472=cljs.core.next(arglist__19472);var z=cljs.core.first(arglist__19472);var args=cljs.core.rest(arglist__19472);return G__19471__delegate(x,y,z,args)};G__19471.cljs$core$IFn$_invoke$arity$variadic=G__19471__delegate;return G__19471}();
epn=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return epn__0.call(this);case 1:return epn__1.call(this,x);case 2:return epn__2.call(this,x,y);case 3:return epn__3.call(this,x,y,z);default:return epn__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};epn.cljs$lang$maxFixedArity=3;epn.cljs$lang$applyTo=epn__4.cljs$lang$applyTo;epn.cljs$core$IFn$_invoke$arity$0=epn__0;epn.cljs$core$IFn$_invoke$arity$1=
epn__1;epn.cljs$core$IFn$_invoke$arity$2=epn__2;epn.cljs$core$IFn$_invoke$arity$3=epn__3;epn.cljs$core$IFn$_invoke$arity$variadic=epn__4.cljs$core$IFn$_invoke$arity$variadic;return epn}()}(ps__$1)};var G__19470=function(p1,p2,p3,var_args){var ps=null;if(arguments.length>3)ps=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19470__delegate.call(this,p1,p2,p3,ps)};G__19470.cljs$lang$maxFixedArity=3;G__19470.cljs$lang$applyTo=function(arglist__19473){var p1=cljs.core.first(arglist__19473);
arglist__19473=cljs.core.next(arglist__19473);var p2=cljs.core.first(arglist__19473);arglist__19473=cljs.core.next(arglist__19473);var p3=cljs.core.first(arglist__19473);var ps=cljs.core.rest(arglist__19473);return G__19470__delegate(p1,p2,p3,ps)};G__19470.cljs$core$IFn$_invoke$arity$variadic=G__19470__delegate;return G__19470}();every_pred=function(p1,p2,p3,var_args){var ps=var_args;switch(arguments.length){case 1:return every_pred__1.call(this,p1);case 2:return every_pred__2.call(this,p1,p2);case 3:return every_pred__3.call(this,
p1,p2,p3);default:return every_pred__4.cljs$core$IFn$_invoke$arity$variadic(p1,p2,p3,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};every_pred.cljs$lang$maxFixedArity=3;every_pred.cljs$lang$applyTo=every_pred__4.cljs$lang$applyTo;every_pred.cljs$core$IFn$_invoke$arity$1=every_pred__1;every_pred.cljs$core$IFn$_invoke$arity$2=every_pred__2;every_pred.cljs$core$IFn$_invoke$arity$3=every_pred__3;every_pred.cljs$core$IFn$_invoke$arity$variadic=every_pred__4.cljs$core$IFn$_invoke$arity$variadic;
return every_pred}();
cljs.core.some_fn=function(){var some_fn=null;var some_fn__1=function(p){return function(){var sp1=null;var sp1__0=function(){return null};var sp1__1=function(x){return p.call(null,x)};var sp1__2=function(x,y){var or__3478__auto__=p.call(null,x);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return p.call(null,y)};var sp1__3=function(x,y,z){var or__3478__auto__=p.call(null,x);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=p.call(null,
y);if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else return p.call(null,z)}};var sp1__4=function(){var G__19480__delegate=function(x,y,z,args){var or__3478__auto__=sp1.call(null,x,y,z);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return cljs.core.some.call(null,p,args)};var G__19480=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19480__delegate.call(this,x,y,z,
args)};G__19480.cljs$lang$maxFixedArity=3;G__19480.cljs$lang$applyTo=function(arglist__19481){var x=cljs.core.first(arglist__19481);arglist__19481=cljs.core.next(arglist__19481);var y=cljs.core.first(arglist__19481);arglist__19481=cljs.core.next(arglist__19481);var z=cljs.core.first(arglist__19481);var args=cljs.core.rest(arglist__19481);return G__19480__delegate(x,y,z,args)};G__19480.cljs$core$IFn$_invoke$arity$variadic=G__19480__delegate;return G__19480}();sp1=function(x,y,z,var_args){var args=
var_args;switch(arguments.length){case 0:return sp1__0.call(this);case 1:return sp1__1.call(this,x);case 2:return sp1__2.call(this,x,y);case 3:return sp1__3.call(this,x,y,z);default:return sp1__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};sp1.cljs$lang$maxFixedArity=3;sp1.cljs$lang$applyTo=sp1__4.cljs$lang$applyTo;sp1.cljs$core$IFn$_invoke$arity$0=sp1__0;sp1.cljs$core$IFn$_invoke$arity$1=sp1__1;sp1.cljs$core$IFn$_invoke$arity$2=
sp1__2;sp1.cljs$core$IFn$_invoke$arity$3=sp1__3;sp1.cljs$core$IFn$_invoke$arity$variadic=sp1__4.cljs$core$IFn$_invoke$arity$variadic;return sp1}()};var some_fn__2=function(p1,p2){return function(){var sp2=null;var sp2__0=function(){return null};var sp2__1=function(x){var or__3478__auto__=p1.call(null,x);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return p2.call(null,x)};var sp2__2=function(x,y){var or__3478__auto__=p1.call(null,x);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;
else{var or__3478__auto____$1=p1.call(null,y);if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else{var or__3478__auto____$2=p2.call(null,x);if(cljs.core.truth_(or__3478__auto____$2))return or__3478__auto____$2;else return p2.call(null,y)}}};var sp2__3=function(x,y,z){var or__3478__auto__=p1.call(null,x);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=p1.call(null,y);if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;
else{var or__3478__auto____$2=p1.call(null,z);if(cljs.core.truth_(or__3478__auto____$2))return or__3478__auto____$2;else{var or__3478__auto____$3=p2.call(null,x);if(cljs.core.truth_(or__3478__auto____$3))return or__3478__auto____$3;else{var or__3478__auto____$4=p2.call(null,y);if(cljs.core.truth_(or__3478__auto____$4))return or__3478__auto____$4;else return p2.call(null,z)}}}}};var sp2__4=function(){var G__19482__delegate=function(x,y,z,args){var or__3478__auto__=sp2.call(null,x,y,z);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;
else return cljs.core.some.call(null,function(or__3478__auto__){return function(p1__19474_SHARP_){var or__3478__auto____$1=p1.call(null,p1__19474_SHARP_);if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else return p2.call(null,p1__19474_SHARP_)}}(or__3478__auto__),args)};var G__19482=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19482__delegate.call(this,x,y,z,args)};G__19482.cljs$lang$maxFixedArity=
3;G__19482.cljs$lang$applyTo=function(arglist__19483){var x=cljs.core.first(arglist__19483);arglist__19483=cljs.core.next(arglist__19483);var y=cljs.core.first(arglist__19483);arglist__19483=cljs.core.next(arglist__19483);var z=cljs.core.first(arglist__19483);var args=cljs.core.rest(arglist__19483);return G__19482__delegate(x,y,z,args)};G__19482.cljs$core$IFn$_invoke$arity$variadic=G__19482__delegate;return G__19482}();sp2=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return sp2__0.call(this);
case 1:return sp2__1.call(this,x);case 2:return sp2__2.call(this,x,y);case 3:return sp2__3.call(this,x,y,z);default:return sp2__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};sp2.cljs$lang$maxFixedArity=3;sp2.cljs$lang$applyTo=sp2__4.cljs$lang$applyTo;sp2.cljs$core$IFn$_invoke$arity$0=sp2__0;sp2.cljs$core$IFn$_invoke$arity$1=sp2__1;sp2.cljs$core$IFn$_invoke$arity$2=sp2__2;sp2.cljs$core$IFn$_invoke$arity$3=sp2__3;
sp2.cljs$core$IFn$_invoke$arity$variadic=sp2__4.cljs$core$IFn$_invoke$arity$variadic;return sp2}()};var some_fn__3=function(p1,p2,p3){return function(){var sp3=null;var sp3__0=function(){return null};var sp3__1=function(x){var or__3478__auto__=p1.call(null,x);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=p2.call(null,x);if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else return p3.call(null,x)}};var sp3__2=function(x,y){var or__3478__auto__=
p1.call(null,x);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=p2.call(null,x);if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else{var or__3478__auto____$2=p3.call(null,x);if(cljs.core.truth_(or__3478__auto____$2))return or__3478__auto____$2;else{var or__3478__auto____$3=p1.call(null,y);if(cljs.core.truth_(or__3478__auto____$3))return or__3478__auto____$3;else{var or__3478__auto____$4=p2.call(null,y);if(cljs.core.truth_(or__3478__auto____$4))return or__3478__auto____$4;
else return p3.call(null,y)}}}}};var sp3__3=function(x,y,z){var or__3478__auto__=p1.call(null,x);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=p2.call(null,x);if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else{var or__3478__auto____$2=p3.call(null,x);if(cljs.core.truth_(or__3478__auto____$2))return or__3478__auto____$2;else{var or__3478__auto____$3=p1.call(null,y);if(cljs.core.truth_(or__3478__auto____$3))return or__3478__auto____$3;
else{var or__3478__auto____$4=p2.call(null,y);if(cljs.core.truth_(or__3478__auto____$4))return or__3478__auto____$4;else{var or__3478__auto____$5=p3.call(null,y);if(cljs.core.truth_(or__3478__auto____$5))return or__3478__auto____$5;else{var or__3478__auto____$6=p1.call(null,z);if(cljs.core.truth_(or__3478__auto____$6))return or__3478__auto____$6;else{var or__3478__auto____$7=p2.call(null,z);if(cljs.core.truth_(or__3478__auto____$7))return or__3478__auto____$7;else return p3.call(null,z)}}}}}}}};var sp3__4=
function(){var G__19484__delegate=function(x,y,z,args){var or__3478__auto__=sp3.call(null,x,y,z);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return cljs.core.some.call(null,function(or__3478__auto__){return function(p1__19475_SHARP_){var or__3478__auto____$1=p1.call(null,p1__19475_SHARP_);if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else{var or__3478__auto____$2=p2.call(null,p1__19475_SHARP_);if(cljs.core.truth_(or__3478__auto____$2))return or__3478__auto____$2;
else return p3.call(null,p1__19475_SHARP_)}}}(or__3478__auto__),args)};var G__19484=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19484__delegate.call(this,x,y,z,args)};G__19484.cljs$lang$maxFixedArity=3;G__19484.cljs$lang$applyTo=function(arglist__19485){var x=cljs.core.first(arglist__19485);arglist__19485=cljs.core.next(arglist__19485);var y=cljs.core.first(arglist__19485);arglist__19485=cljs.core.next(arglist__19485);
var z=cljs.core.first(arglist__19485);var args=cljs.core.rest(arglist__19485);return G__19484__delegate(x,y,z,args)};G__19484.cljs$core$IFn$_invoke$arity$variadic=G__19484__delegate;return G__19484}();sp3=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return sp3__0.call(this);case 1:return sp3__1.call(this,x);case 2:return sp3__2.call(this,x,y);case 3:return sp3__3.call(this,x,y,z);default:return sp3__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,
3))}throw new Error("Invalid arity: "+arguments.length);};sp3.cljs$lang$maxFixedArity=3;sp3.cljs$lang$applyTo=sp3__4.cljs$lang$applyTo;sp3.cljs$core$IFn$_invoke$arity$0=sp3__0;sp3.cljs$core$IFn$_invoke$arity$1=sp3__1;sp3.cljs$core$IFn$_invoke$arity$2=sp3__2;sp3.cljs$core$IFn$_invoke$arity$3=sp3__3;sp3.cljs$core$IFn$_invoke$arity$variadic=sp3__4.cljs$core$IFn$_invoke$arity$variadic;return sp3}()};var some_fn__4=function(){var G__19486__delegate=function(p1,p2,p3,ps){var ps__$1=cljs.core.list_STAR_.call(null,
p1,p2,p3,ps);return function(ps__$1){return function(){var spn=null;var spn__0=function(){return null};var spn__1=function(x){return cljs.core.some.call(null,function(ps__$1){return function(p1__19476_SHARP_){return p1__19476_SHARP_.call(null,x)}}(ps__$1),ps__$1)};var spn__2=function(x,y){return cljs.core.some.call(null,function(ps__$1){return function(p1__19477_SHARP_){var or__3478__auto__=p1__19477_SHARP_.call(null,x);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return p1__19477_SHARP_.call(null,
y)}}(ps__$1),ps__$1)};var spn__3=function(x,y,z){return cljs.core.some.call(null,function(ps__$1){return function(p1__19478_SHARP_){var or__3478__auto__=p1__19478_SHARP_.call(null,x);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=p1__19478_SHARP_.call(null,y);if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else return p1__19478_SHARP_.call(null,z)}}}(ps__$1),ps__$1)};var spn__4=function(){var G__19487__delegate=function(x,y,z,args){var or__3478__auto__=
spn.call(null,x,y,z);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return cljs.core.some.call(null,function(or__3478__auto__,ps__$1){return function(p1__19479_SHARP_){return cljs.core.some.call(null,p1__19479_SHARP_,args)}}(or__3478__auto__,ps__$1),ps__$1)};var G__19487=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19487__delegate.call(this,x,y,z,args)};G__19487.cljs$lang$maxFixedArity=
3;G__19487.cljs$lang$applyTo=function(arglist__19488){var x=cljs.core.first(arglist__19488);arglist__19488=cljs.core.next(arglist__19488);var y=cljs.core.first(arglist__19488);arglist__19488=cljs.core.next(arglist__19488);var z=cljs.core.first(arglist__19488);var args=cljs.core.rest(arglist__19488);return G__19487__delegate(x,y,z,args)};G__19487.cljs$core$IFn$_invoke$arity$variadic=G__19487__delegate;return G__19487}();spn=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return spn__0.call(this);
case 1:return spn__1.call(this,x);case 2:return spn__2.call(this,x,y);case 3:return spn__3.call(this,x,y,z);default:return spn__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};spn.cljs$lang$maxFixedArity=3;spn.cljs$lang$applyTo=spn__4.cljs$lang$applyTo;spn.cljs$core$IFn$_invoke$arity$0=spn__0;spn.cljs$core$IFn$_invoke$arity$1=spn__1;spn.cljs$core$IFn$_invoke$arity$2=spn__2;spn.cljs$core$IFn$_invoke$arity$3=spn__3;
spn.cljs$core$IFn$_invoke$arity$variadic=spn__4.cljs$core$IFn$_invoke$arity$variadic;return spn}()}(ps__$1)};var G__19486=function(p1,p2,p3,var_args){var ps=null;if(arguments.length>3)ps=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19486__delegate.call(this,p1,p2,p3,ps)};G__19486.cljs$lang$maxFixedArity=3;G__19486.cljs$lang$applyTo=function(arglist__19489){var p1=cljs.core.first(arglist__19489);arglist__19489=cljs.core.next(arglist__19489);var p2=cljs.core.first(arglist__19489);
arglist__19489=cljs.core.next(arglist__19489);var p3=cljs.core.first(arglist__19489);var ps=cljs.core.rest(arglist__19489);return G__19486__delegate(p1,p2,p3,ps)};G__19486.cljs$core$IFn$_invoke$arity$variadic=G__19486__delegate;return G__19486}();some_fn=function(p1,p2,p3,var_args){var ps=var_args;switch(arguments.length){case 1:return some_fn__1.call(this,p1);case 2:return some_fn__2.call(this,p1,p2);case 3:return some_fn__3.call(this,p1,p2,p3);default:return some_fn__4.cljs$core$IFn$_invoke$arity$variadic(p1,
p2,p3,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};some_fn.cljs$lang$maxFixedArity=3;some_fn.cljs$lang$applyTo=some_fn__4.cljs$lang$applyTo;some_fn.cljs$core$IFn$_invoke$arity$1=some_fn__1;some_fn.cljs$core$IFn$_invoke$arity$2=some_fn__2;some_fn.cljs$core$IFn$_invoke$arity$3=some_fn__3;some_fn.cljs$core$IFn$_invoke$arity$variadic=some_fn__4.cljs$core$IFn$_invoke$arity$variadic;return some_fn}();
cljs.core.map=function(){var map=null;var map__2=function(f,coll){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s)){var c=cljs.core.chunk_first.call(null,s);var size=cljs.core.count.call(null,c);var b=cljs.core.chunk_buffer.call(null,size);var n__4326__auto___19491=size;var i_19492=0;while(true){if(i_19492<n__4326__auto___19491){cljs.core.chunk_append.call(null,
b,f.call(null,cljs.core._nth.call(null,c,i_19492)));var G__19493=i_19492+1;i_19492=G__19493;continue}else;break}return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b),map.call(null,f,cljs.core.chunk_rest.call(null,s)))}else return cljs.core.cons.call(null,f.call(null,cljs.core.first.call(null,s)),map.call(null,f,cljs.core.rest.call(null,s)))}else return null},null,null)};var map__3=function(f,c1,c2){return new cljs.core.LazySeq(null,function(){var s1=cljs.core.seq.call(null,c1);var s2=
cljs.core.seq.call(null,c2);if(s1&&s2)return cljs.core.cons.call(null,f.call(null,cljs.core.first.call(null,s1),cljs.core.first.call(null,s2)),map.call(null,f,cljs.core.rest.call(null,s1),cljs.core.rest.call(null,s2)));else return null},null,null)};var map__4=function(f,c1,c2,c3){return new cljs.core.LazySeq(null,function(){var s1=cljs.core.seq.call(null,c1);var s2=cljs.core.seq.call(null,c2);var s3=cljs.core.seq.call(null,c3);if(s1&&(s2&&s3))return cljs.core.cons.call(null,f.call(null,cljs.core.first.call(null,
s1),cljs.core.first.call(null,s2),cljs.core.first.call(null,s3)),map.call(null,f,cljs.core.rest.call(null,s1),cljs.core.rest.call(null,s2),cljs.core.rest.call(null,s3)));else return null},null,null)};var map__5=function(){var G__19494__delegate=function(f,c1,c2,c3,colls){var step=function step(cs){return new cljs.core.LazySeq(null,function(){var ss=map.call(null,cljs.core.seq,cs);if(cljs.core.every_QMARK_.call(null,cljs.core.identity,ss))return cljs.core.cons.call(null,map.call(null,cljs.core.first,
ss),step.call(null,map.call(null,cljs.core.rest,ss)));else return null},null,null)};return map.call(null,function(step){return function(p1__19490_SHARP_){return cljs.core.apply.call(null,f,p1__19490_SHARP_)}}(step),step.call(null,cljs.core.conj.call(null,colls,c3,c2,c1)))};var G__19494=function(f,c1,c2,c3,var_args){var colls=null;if(arguments.length>4)colls=cljs.core.array_seq(Array.prototype.slice.call(arguments,4),0);return G__19494__delegate.call(this,f,c1,c2,c3,colls)};G__19494.cljs$lang$maxFixedArity=
4;G__19494.cljs$lang$applyTo=function(arglist__19495){var f=cljs.core.first(arglist__19495);arglist__19495=cljs.core.next(arglist__19495);var c1=cljs.core.first(arglist__19495);arglist__19495=cljs.core.next(arglist__19495);var c2=cljs.core.first(arglist__19495);arglist__19495=cljs.core.next(arglist__19495);var c3=cljs.core.first(arglist__19495);var colls=cljs.core.rest(arglist__19495);return G__19494__delegate(f,c1,c2,c3,colls)};G__19494.cljs$core$IFn$_invoke$arity$variadic=G__19494__delegate;return G__19494}();
map=function(f,c1,c2,c3,var_args){var colls=var_args;switch(arguments.length){case 2:return map__2.call(this,f,c1);case 3:return map__3.call(this,f,c1,c2);case 4:return map__4.call(this,f,c1,c2,c3);default:return map__5.cljs$core$IFn$_invoke$arity$variadic(f,c1,c2,c3,cljs.core.array_seq(arguments,4))}throw new Error("Invalid arity: "+arguments.length);};map.cljs$lang$maxFixedArity=4;map.cljs$lang$applyTo=map__5.cljs$lang$applyTo;map.cljs$core$IFn$_invoke$arity$2=map__2;map.cljs$core$IFn$_invoke$arity$3=
map__3;map.cljs$core$IFn$_invoke$arity$4=map__4;map.cljs$core$IFn$_invoke$arity$variadic=map__5.cljs$core$IFn$_invoke$arity$variadic;return map}();cljs.core.take=function take(n,coll){return new cljs.core.LazySeq(null,function(){if(n>0){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;return cljs.core.cons.call(null,cljs.core.first.call(null,s),take.call(null,n-1,cljs.core.rest.call(null,s)))}else return null}else return null},null,null)};
cljs.core.drop=function drop(n,coll){var step=function(n__$1,coll__$1){while(true){var s=cljs.core.seq.call(null,coll__$1);if(n__$1>0&&s){var G__19496=n__$1-1;var G__19497=cljs.core.rest.call(null,s);n__$1=G__19496;coll__$1=G__19497;continue}else return s;break}};return new cljs.core.LazySeq(null,function(step){return function(){return step.call(null,n,coll)}}(step),null,null)};
cljs.core.drop_last=function(){var drop_last=null;var drop_last__1=function(s){return drop_last.call(null,1,s)};var drop_last__2=function(n,s){return cljs.core.map.call(null,function(x,_){return x},s,cljs.core.drop.call(null,n,s))};drop_last=function(n,s){switch(arguments.length){case 1:return drop_last__1.call(this,n);case 2:return drop_last__2.call(this,n,s)}throw new Error("Invalid arity: "+arguments.length);};drop_last.cljs$core$IFn$_invoke$arity$1=drop_last__1;drop_last.cljs$core$IFn$_invoke$arity$2=
drop_last__2;return drop_last}();cljs.core.take_last=function take_last(n,coll){var s=cljs.core.seq.call(null,coll);var lead=cljs.core.seq.call(null,cljs.core.drop.call(null,n,coll));while(true){if(lead){var G__19498=cljs.core.next.call(null,s);var G__19499=cljs.core.next.call(null,lead);s=G__19498;lead=G__19499;continue}else return s;break}};
cljs.core.drop_while=function drop_while(pred,coll){var step=function(pred__$1,coll__$1){while(true){var s=cljs.core.seq.call(null,coll__$1);if(cljs.core.truth_(function(){var and__3466__auto__=s;if(and__3466__auto__)return pred__$1.call(null,cljs.core.first.call(null,s));else return and__3466__auto__}())){var G__19500=pred__$1;var G__19501=cljs.core.rest.call(null,s);pred__$1=G__19500;coll__$1=G__19501;continue}else return s;break}};return new cljs.core.LazySeq(null,function(step){return function(){return step.call(null,
pred,coll)}}(step),null,null)};cljs.core.cycle=function cycle(coll){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;return cljs.core.concat.call(null,s,cycle.call(null,s))}else return null},null,null)};cljs.core.split_at=function split_at(n,coll){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.take.call(null,n,coll),cljs.core.drop.call(null,n,coll)],null)};
cljs.core.repeat=function(){var repeat=null;var repeat__1=function(x){return new cljs.core.LazySeq(null,function(){return cljs.core.cons.call(null,x,repeat.call(null,x))},null,null)};var repeat__2=function(n,x){return cljs.core.take.call(null,n,repeat.call(null,x))};repeat=function(n,x){switch(arguments.length){case 1:return repeat__1.call(this,n);case 2:return repeat__2.call(this,n,x)}throw new Error("Invalid arity: "+arguments.length);};repeat.cljs$core$IFn$_invoke$arity$1=repeat__1;repeat.cljs$core$IFn$_invoke$arity$2=
repeat__2;return repeat}();cljs.core.replicate=function replicate(n,x){return cljs.core.take.call(null,n,cljs.core.repeat.call(null,x))};
cljs.core.repeatedly=function(){var repeatedly=null;var repeatedly__1=function(f){return new cljs.core.LazySeq(null,function(){return cljs.core.cons.call(null,f.call(null),repeatedly.call(null,f))},null,null)};var repeatedly__2=function(n,f){return cljs.core.take.call(null,n,repeatedly.call(null,f))};repeatedly=function(n,f){switch(arguments.length){case 1:return repeatedly__1.call(this,n);case 2:return repeatedly__2.call(this,n,f)}throw new Error("Invalid arity: "+arguments.length);};repeatedly.cljs$core$IFn$_invoke$arity$1=
repeatedly__1;repeatedly.cljs$core$IFn$_invoke$arity$2=repeatedly__2;return repeatedly}();cljs.core.iterate=function iterate(f,x){return cljs.core.cons.call(null,x,new cljs.core.LazySeq(null,function(){return iterate.call(null,f,f.call(null,x))},null,null))};
cljs.core.interleave=function(){var interleave=null;var interleave__2=function(c1,c2){return new cljs.core.LazySeq(null,function(){var s1=cljs.core.seq.call(null,c1);var s2=cljs.core.seq.call(null,c2);if(s1&&s2)return cljs.core.cons.call(null,cljs.core.first.call(null,s1),cljs.core.cons.call(null,cljs.core.first.call(null,s2),interleave.call(null,cljs.core.rest.call(null,s1),cljs.core.rest.call(null,s2))));else return null},null,null)};var interleave__3=function(){var G__19502__delegate=function(c1,
c2,colls){return new cljs.core.LazySeq(null,function(){var ss=cljs.core.map.call(null,cljs.core.seq,cljs.core.conj.call(null,colls,c2,c1));if(cljs.core.every_QMARK_.call(null,cljs.core.identity,ss))return cljs.core.concat.call(null,cljs.core.map.call(null,cljs.core.first,ss),cljs.core.apply.call(null,interleave,cljs.core.map.call(null,cljs.core.rest,ss)));else return null},null,null)};var G__19502=function(c1,c2,var_args){var colls=null;if(arguments.length>2)colls=cljs.core.array_seq(Array.prototype.slice.call(arguments,
2),0);return G__19502__delegate.call(this,c1,c2,colls)};G__19502.cljs$lang$maxFixedArity=2;G__19502.cljs$lang$applyTo=function(arglist__19503){var c1=cljs.core.first(arglist__19503);arglist__19503=cljs.core.next(arglist__19503);var c2=cljs.core.first(arglist__19503);var colls=cljs.core.rest(arglist__19503);return G__19502__delegate(c1,c2,colls)};G__19502.cljs$core$IFn$_invoke$arity$variadic=G__19502__delegate;return G__19502}();interleave=function(c1,c2,var_args){var colls=var_args;switch(arguments.length){case 2:return interleave__2.call(this,
c1,c2);default:return interleave__3.cljs$core$IFn$_invoke$arity$variadic(c1,c2,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};interleave.cljs$lang$maxFixedArity=2;interleave.cljs$lang$applyTo=interleave__3.cljs$lang$applyTo;interleave.cljs$core$IFn$_invoke$arity$2=interleave__2;interleave.cljs$core$IFn$_invoke$arity$variadic=interleave__3.cljs$core$IFn$_invoke$arity$variadic;return interleave}();
cljs.core.interpose=function interpose(sep,coll){return cljs.core.drop.call(null,1,cljs.core.interleave.call(null,cljs.core.repeat.call(null,sep),coll))};
cljs.core.flatten1=function flatten1(colls){var cat=function cat(coll,colls__$1){return new cljs.core.LazySeq(null,function(){var temp__4124__auto__=cljs.core.seq.call(null,coll);if(temp__4124__auto__){var coll__$1=temp__4124__auto__;return cljs.core.cons.call(null,cljs.core.first.call(null,coll__$1),cat.call(null,cljs.core.rest.call(null,coll__$1),colls__$1))}else if(cljs.core.seq.call(null,colls__$1))return cat.call(null,cljs.core.first.call(null,colls__$1),cljs.core.rest.call(null,colls__$1));
else return null},null,null)};return cat.call(null,null,colls)};
cljs.core.mapcat=function(){var mapcat=null;var mapcat__2=function(f,coll){return cljs.core.flatten1.call(null,cljs.core.map.call(null,f,coll))};var mapcat__3=function(){var G__19504__delegate=function(f,coll,colls){return cljs.core.flatten1.call(null,cljs.core.apply.call(null,cljs.core.map,f,coll,colls))};var G__19504=function(f,coll,var_args){var colls=null;if(arguments.length>2)colls=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__19504__delegate.call(this,f,coll,colls)};
G__19504.cljs$lang$maxFixedArity=2;G__19504.cljs$lang$applyTo=function(arglist__19505){var f=cljs.core.first(arglist__19505);arglist__19505=cljs.core.next(arglist__19505);var coll=cljs.core.first(arglist__19505);var colls=cljs.core.rest(arglist__19505);return G__19504__delegate(f,coll,colls)};G__19504.cljs$core$IFn$_invoke$arity$variadic=G__19504__delegate;return G__19504}();mapcat=function(f,coll,var_args){var colls=var_args;switch(arguments.length){case 2:return mapcat__2.call(this,f,coll);default:return mapcat__3.cljs$core$IFn$_invoke$arity$variadic(f,
coll,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};mapcat.cljs$lang$maxFixedArity=2;mapcat.cljs$lang$applyTo=mapcat__3.cljs$lang$applyTo;mapcat.cljs$core$IFn$_invoke$arity$2=mapcat__2;mapcat.cljs$core$IFn$_invoke$arity$variadic=mapcat__3.cljs$core$IFn$_invoke$arity$variadic;return mapcat}();
cljs.core.filter=function filter(pred,coll){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s)){var c=cljs.core.chunk_first.call(null,s);var size=cljs.core.count.call(null,c);var b=cljs.core.chunk_buffer.call(null,size);var n__4326__auto___19506=size;var i_19507=0;while(true){if(i_19507<n__4326__auto___19506){if(cljs.core.truth_(pred.call(null,cljs.core._nth.call(null,
c,i_19507))))cljs.core.chunk_append.call(null,b,cljs.core._nth.call(null,c,i_19507));else;var G__19508=i_19507+1;i_19507=G__19508;continue}else;break}return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b),filter.call(null,pred,cljs.core.chunk_rest.call(null,s)))}else{var f=cljs.core.first.call(null,s);var r=cljs.core.rest.call(null,s);if(cljs.core.truth_(pred.call(null,f)))return cljs.core.cons.call(null,f,filter.call(null,pred,r));else return filter.call(null,pred,r)}}else return null},
null,null)};cljs.core.remove=function remove(pred,coll){return cljs.core.filter.call(null,cljs.core.complement.call(null,pred),coll)};cljs.core.tree_seq=function tree_seq(branch_QMARK_,children,root){var walk=function walk(node){return new cljs.core.LazySeq(null,function(){return cljs.core.cons.call(null,node,cljs.core.truth_(branch_QMARK_.call(null,node))?cljs.core.mapcat.call(null,walk,children.call(null,node)):null)},null,null)};return walk.call(null,root)};
cljs.core.flatten=function flatten(x){return cljs.core.filter.call(null,function(p1__19509_SHARP_){return!cljs.core.sequential_QMARK_.call(null,p1__19509_SHARP_)},cljs.core.rest.call(null,cljs.core.tree_seq.call(null,cljs.core.sequential_QMARK_,cljs.core.seq,x)))};
cljs.core.into=function into(to,from){if(!(to==null))if(function(){var G__19511=to;if(G__19511){var bit__4121__auto__=G__19511.cljs$lang$protocol_mask$partition1$&4;if(bit__4121__auto__||G__19511.cljs$core$IEditableCollection$)return true;else return false}else return false}())return cljs.core.persistent_BANG_.call(null,cljs.core.reduce.call(null,cljs.core._conj_BANG_,cljs.core.transient$.call(null,to),from));else return cljs.core.reduce.call(null,cljs.core._conj,to,from);else return cljs.core.reduce.call(null,
cljs.core.conj,cljs.core.List.EMPTY,from)};
cljs.core.mapv=function(){var mapv=null;var mapv__2=function(f,coll){return cljs.core.persistent_BANG_.call(null,cljs.core.reduce.call(null,function(v,o){return cljs.core.conj_BANG_.call(null,v,f.call(null,o))},cljs.core.transient$.call(null,cljs.core.PersistentVector.EMPTY),coll))};var mapv__3=function(f,c1,c2){return cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.map.call(null,f,c1,c2))};var mapv__4=function(f,c1,c2,c3){return cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,
cljs.core.map.call(null,f,c1,c2,c3))};var mapv__5=function(){var G__19512__delegate=function(f,c1,c2,c3,colls){return cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.apply.call(null,cljs.core.map,f,c1,c2,c3,colls))};var G__19512=function(f,c1,c2,c3,var_args){var colls=null;if(arguments.length>4)colls=cljs.core.array_seq(Array.prototype.slice.call(arguments,4),0);return G__19512__delegate.call(this,f,c1,c2,c3,colls)};G__19512.cljs$lang$maxFixedArity=4;G__19512.cljs$lang$applyTo=
function(arglist__19513){var f=cljs.core.first(arglist__19513);arglist__19513=cljs.core.next(arglist__19513);var c1=cljs.core.first(arglist__19513);arglist__19513=cljs.core.next(arglist__19513);var c2=cljs.core.first(arglist__19513);arglist__19513=cljs.core.next(arglist__19513);var c3=cljs.core.first(arglist__19513);var colls=cljs.core.rest(arglist__19513);return G__19512__delegate(f,c1,c2,c3,colls)};G__19512.cljs$core$IFn$_invoke$arity$variadic=G__19512__delegate;return G__19512}();mapv=function(f,
c1,c2,c3,var_args){var colls=var_args;switch(arguments.length){case 2:return mapv__2.call(this,f,c1);case 3:return mapv__3.call(this,f,c1,c2);case 4:return mapv__4.call(this,f,c1,c2,c3);default:return mapv__5.cljs$core$IFn$_invoke$arity$variadic(f,c1,c2,c3,cljs.core.array_seq(arguments,4))}throw new Error("Invalid arity: "+arguments.length);};mapv.cljs$lang$maxFixedArity=4;mapv.cljs$lang$applyTo=mapv__5.cljs$lang$applyTo;mapv.cljs$core$IFn$_invoke$arity$2=mapv__2;mapv.cljs$core$IFn$_invoke$arity$3=
mapv__3;mapv.cljs$core$IFn$_invoke$arity$4=mapv__4;mapv.cljs$core$IFn$_invoke$arity$variadic=mapv__5.cljs$core$IFn$_invoke$arity$variadic;return mapv}();cljs.core.filterv=function filterv(pred,coll){return cljs.core.persistent_BANG_.call(null,cljs.core.reduce.call(null,function(v,o){if(cljs.core.truth_(pred.call(null,o)))return cljs.core.conj_BANG_.call(null,v,o);else return v},cljs.core.transient$.call(null,cljs.core.PersistentVector.EMPTY),coll))};
cljs.core.partition=function(){var partition=null;var partition__2=function(n,coll){return partition.call(null,n,n,coll)};var partition__3=function(n,step,coll){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;var p=cljs.core.take.call(null,n,s);if(n===cljs.core.count.call(null,p))return cljs.core.cons.call(null,p,partition.call(null,n,step,cljs.core.drop.call(null,step,s)));else return null}else return null},
null,null)};var partition__4=function(n,step,pad,coll){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;var p=cljs.core.take.call(null,n,s);if(n===cljs.core.count.call(null,p))return cljs.core.cons.call(null,p,partition.call(null,n,step,pad,cljs.core.drop.call(null,step,s)));else return cljs.core._conj.call(null,cljs.core.List.EMPTY,cljs.core.take.call(null,n,cljs.core.concat.call(null,p,pad)))}else return null},
null,null)};partition=function(n,step,pad,coll){switch(arguments.length){case 2:return partition__2.call(this,n,step);case 3:return partition__3.call(this,n,step,pad);case 4:return partition__4.call(this,n,step,pad,coll)}throw new Error("Invalid arity: "+arguments.length);};partition.cljs$core$IFn$_invoke$arity$2=partition__2;partition.cljs$core$IFn$_invoke$arity$3=partition__3;partition.cljs$core$IFn$_invoke$arity$4=partition__4;return partition}();
cljs.core.get_in=function(){var get_in=null;var get_in__2=function(m,ks){return get_in.call(null,m,ks,null)};var get_in__3=function(m,ks,not_found){var sentinel=cljs.core.lookup_sentinel;var m__$1=m;var ks__$1=cljs.core.seq.call(null,ks);while(true){if(ks__$1)if(!function(){var G__19515=m__$1;if(G__19515){var bit__4128__auto__=G__19515.cljs$lang$protocol_mask$partition0$&256;if(bit__4128__auto__||G__19515.cljs$core$ILookup$)return true;else if(!G__19515.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,
cljs.core.ILookup,G__19515);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.ILookup,G__19515)}())return not_found;else{var m__$2=cljs.core.get.call(null,m__$1,cljs.core.first.call(null,ks__$1),sentinel);if(sentinel===m__$2)return not_found;else{var G__19516=sentinel;var G__19517=m__$2;var G__19518=cljs.core.next.call(null,ks__$1);sentinel=G__19516;m__$1=G__19517;ks__$1=G__19518;continue}}else return m__$1;break}};get_in=function(m,ks,not_found){switch(arguments.length){case 2:return get_in__2.call(this,
m,ks);case 3:return get_in__3.call(this,m,ks,not_found)}throw new Error("Invalid arity: "+arguments.length);};get_in.cljs$core$IFn$_invoke$arity$2=get_in__2;get_in.cljs$core$IFn$_invoke$arity$3=get_in__3;return get_in}();
cljs.core.assoc_in=function assoc_in(m,p__19519,v){var vec__19521=p__19519;var k=cljs.core.nth.call(null,vec__19521,0,null);var ks=cljs.core.nthnext.call(null,vec__19521,1);if(ks)return cljs.core.assoc.call(null,m,k,assoc_in.call(null,cljs.core.get.call(null,m,k),ks,v));else return cljs.core.assoc.call(null,m,k,v)};
cljs.core.update_in=function(){var update_in=null;var update_in__3=function(m,p__19522,f){var vec__19532=p__19522;var k=cljs.core.nth.call(null,vec__19532,0,null);var ks=cljs.core.nthnext.call(null,vec__19532,1);if(ks)return cljs.core.assoc.call(null,m,k,update_in.call(null,cljs.core.get.call(null,m,k),ks,f));else return cljs.core.assoc.call(null,m,k,f.call(null,cljs.core.get.call(null,m,k)))};var update_in__4=function(m,p__19523,f,a){var vec__19533=p__19523;var k=cljs.core.nth.call(null,vec__19533,
0,null);var ks=cljs.core.nthnext.call(null,vec__19533,1);if(ks)return cljs.core.assoc.call(null,m,k,update_in.call(null,cljs.core.get.call(null,m,k),ks,f,a));else return cljs.core.assoc.call(null,m,k,f.call(null,cljs.core.get.call(null,m,k),a))};var update_in__5=function(m,p__19524,f,a,b){var vec__19534=p__19524;var k=cljs.core.nth.call(null,vec__19534,0,null);var ks=cljs.core.nthnext.call(null,vec__19534,1);if(ks)return cljs.core.assoc.call(null,m,k,update_in.call(null,cljs.core.get.call(null,m,
k),ks,f,a,b));else return cljs.core.assoc.call(null,m,k,f.call(null,cljs.core.get.call(null,m,k),a,b))};var update_in__6=function(m,p__19525,f,a,b,c){var vec__19535=p__19525;var k=cljs.core.nth.call(null,vec__19535,0,null);var ks=cljs.core.nthnext.call(null,vec__19535,1);if(ks)return cljs.core.assoc.call(null,m,k,update_in.call(null,cljs.core.get.call(null,m,k),ks,f,a,b,c));else return cljs.core.assoc.call(null,m,k,f.call(null,cljs.core.get.call(null,m,k),a,b,c))};var update_in__7=function(){var G__19537__delegate=
function(m,p__19526,f,a,b,c,args){var vec__19536=p__19526;var k=cljs.core.nth.call(null,vec__19536,0,null);var ks=cljs.core.nthnext.call(null,vec__19536,1);if(ks)return cljs.core.assoc.call(null,m,k,cljs.core.apply.call(null,update_in,cljs.core.get.call(null,m,k),ks,f,a,b,c,args));else return cljs.core.assoc.call(null,m,k,cljs.core.apply.call(null,f,cljs.core.get.call(null,m,k),a,b,c,args))};var G__19537=function(m,p__19526,f,a,b,c,var_args){var args=null;if(arguments.length>6)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,
6),0);return G__19537__delegate.call(this,m,p__19526,f,a,b,c,args)};G__19537.cljs$lang$maxFixedArity=6;G__19537.cljs$lang$applyTo=function(arglist__19538){var m=cljs.core.first(arglist__19538);arglist__19538=cljs.core.next(arglist__19538);var p__19526=cljs.core.first(arglist__19538);arglist__19538=cljs.core.next(arglist__19538);var f=cljs.core.first(arglist__19538);arglist__19538=cljs.core.next(arglist__19538);var a=cljs.core.first(arglist__19538);arglist__19538=cljs.core.next(arglist__19538);var b=
cljs.core.first(arglist__19538);arglist__19538=cljs.core.next(arglist__19538);var c=cljs.core.first(arglist__19538);var args=cljs.core.rest(arglist__19538);return G__19537__delegate(m,p__19526,f,a,b,c,args)};G__19537.cljs$core$IFn$_invoke$arity$variadic=G__19537__delegate;return G__19537}();update_in=function(m,p__19526,f,a,b,c,var_args){var args=var_args;switch(arguments.length){case 3:return update_in__3.call(this,m,p__19526,f);case 4:return update_in__4.call(this,m,p__19526,f,a);case 5:return update_in__5.call(this,
m,p__19526,f,a,b);case 6:return update_in__6.call(this,m,p__19526,f,a,b,c);default:return update_in__7.cljs$core$IFn$_invoke$arity$variadic(m,p__19526,f,a,b,c,cljs.core.array_seq(arguments,6))}throw new Error("Invalid arity: "+arguments.length);};update_in.cljs$lang$maxFixedArity=6;update_in.cljs$lang$applyTo=update_in__7.cljs$lang$applyTo;update_in.cljs$core$IFn$_invoke$arity$3=update_in__3;update_in.cljs$core$IFn$_invoke$arity$4=update_in__4;update_in.cljs$core$IFn$_invoke$arity$5=update_in__5;
update_in.cljs$core$IFn$_invoke$arity$6=update_in__6;update_in.cljs$core$IFn$_invoke$arity$variadic=update_in__7.cljs$core$IFn$_invoke$arity$variadic;return update_in}();cljs.core.VectorNode=function(edit,arr){this.edit=edit;this.arr=arr};cljs.core.VectorNode.cljs$lang$type=true;cljs.core.VectorNode.cljs$lang$ctorStr="cljs.core/VectorNode";
cljs.core.VectorNode.cljs$lang$ctorPrWriter=function(this__4048__auto__,writer__4049__auto__,opts__4050__auto__){return cljs.core._write.call(null,writer__4049__auto__,"cljs.core/VectorNode")};cljs.core.__GT_VectorNode=function __GT_VectorNode(edit,arr){return new cljs.core.VectorNode(edit,arr)};
cljs.core.pv_fresh_node=function pv_fresh_node(edit){return new cljs.core.VectorNode(edit,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])};cljs.core.pv_aget=function pv_aget(node,idx){return node.arr[idx]};cljs.core.pv_aset=function pv_aset(node,idx,val){return node.arr[idx]=val};
cljs.core.pv_clone_node=function pv_clone_node(node){return new cljs.core.VectorNode(node.edit,cljs.core.aclone.call(null,node.arr))};cljs.core.tail_off=function tail_off(pv){var cnt=pv.cnt;if(cnt<32)return 0;else return cnt-1>>>5<<5};
cljs.core.new_path=function new_path(edit,level,node){var ll=level;var ret=node;while(true){if(ll===0)return ret;else{var embed=ret;var r=cljs.core.pv_fresh_node.call(null,edit);var _=cljs.core.pv_aset.call(null,r,0,embed);var G__19539=ll-5;var G__19540=r;ll=G__19539;ret=G__19540;continue}break}};
cljs.core.push_tail=function push_tail(pv,level,parent,tailnode){var ret=cljs.core.pv_clone_node.call(null,parent);var subidx=pv.cnt-1>>>level&31;if(5===level){cljs.core.pv_aset.call(null,ret,subidx,tailnode);return ret}else{var child=cljs.core.pv_aget.call(null,parent,subidx);if(!(child==null)){var node_to_insert=push_tail.call(null,pv,level-5,child,tailnode);cljs.core.pv_aset.call(null,ret,subidx,node_to_insert);return ret}else{var node_to_insert=cljs.core.new_path.call(null,null,level-5,tailnode);
cljs.core.pv_aset.call(null,ret,subidx,node_to_insert);return ret}}};cljs.core.vector_index_out_of_bounds=function vector_index_out_of_bounds(i,cnt){throw new Error([cljs.core.str("No item "),cljs.core.str(i),cljs.core.str(" in vector of length "),cljs.core.str(cnt)].join(""));};
cljs.core.first_array_for_longvec=function first_array_for_longvec(pv){var node=pv.root;var level=pv.shift;while(true){if(level>0){var G__19541=cljs.core.pv_aget.call(null,node,0);var G__19542=level-5;node=G__19541;level=G__19542;continue}else return node.arr;break}};
cljs.core.unchecked_array_for=function unchecked_array_for(pv,i){if(i>=cljs.core.tail_off.call(null,pv))return pv.tail;else{var node=pv.root;var level=pv.shift;while(true){if(level>0){var G__19543=cljs.core.pv_aget.call(null,node,i>>>level&31);var G__19544=level-5;node=G__19543;level=G__19544;continue}else return node.arr;break}}};
cljs.core.array_for=function array_for(pv,i){if(0<=i&&i<pv.cnt)return cljs.core.unchecked_array_for.call(null,pv,i);else return cljs.core.vector_index_out_of_bounds.call(null,i,pv.cnt)};
cljs.core.do_assoc=function do_assoc(pv,level,node,i,val){var ret=cljs.core.pv_clone_node.call(null,node);if(level===0){cljs.core.pv_aset.call(null,ret,i&31,val);return ret}else{var subidx=i>>>level&31;cljs.core.pv_aset.call(null,ret,subidx,do_assoc.call(null,pv,level-5,cljs.core.pv_aget.call(null,node,subidx),i,val));return ret}};
cljs.core.pop_tail=function pop_tail(pv,level,node){var subidx=pv.cnt-2>>>level&31;if(level>5){var new_child=pop_tail.call(null,pv,level-5,cljs.core.pv_aget.call(null,node,subidx));if(new_child==null&&subidx===0)return null;else{var ret=cljs.core.pv_clone_node.call(null,node);cljs.core.pv_aset.call(null,ret,subidx,new_child);return ret}}else if(subidx===0)return null;else if(new cljs.core.Keyword(null,"else","else",1017020587)){var ret=cljs.core.pv_clone_node.call(null,node);cljs.core.pv_aset.call(null,
ret,subidx,null);return ret}else return null};cljs.core.PersistentVector=function(meta,cnt,shift,root,tail,__hash){this.meta=meta;this.cnt=cnt;this.shift=shift;this.root=root;this.tail=tail;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=167668511;this.cljs$lang$protocol_mask$partition1$=8196};cljs.core.PersistentVector.cljs$lang$type=true;cljs.core.PersistentVector.cljs$lang$ctorStr="cljs.core/PersistentVector";
cljs.core.PersistentVector.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/PersistentVector")};cljs.core.PersistentVector.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};
cljs.core.PersistentVector.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.call(null,coll__$1,k,null)};cljs.core.PersistentVector.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;if(typeof k==="number")return cljs.core._nth.call(null,coll__$1,k,not_found);else return not_found};
cljs.core.PersistentVector.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(v,f,init){var self__=this;var v__$1=this;var step_init=[0,init];var i=0;while(true){if(i<self__.cnt){var arr=cljs.core.unchecked_array_for.call(null,v__$1,i);var len=arr.length;var init__$1=function(){var j=0;var init__$1=step_init[1];while(true){if(j<len){var init__$2=f.call(null,init__$1,j+i,arr[j]);if(cljs.core.reduced_QMARK_.call(null,init__$2))return init__$2;else{var G__19546=j+1;var G__19547=init__$2;j=G__19546;
init__$1=G__19547;continue}}else{step_init[0]=len;step_init[1]=init__$1;return init__$1}break}}();if(cljs.core.reduced_QMARK_.call(null,init__$1))return cljs.core.deref.call(null,init__$1);else{var G__19548=i+step_init[0];i=G__19548;continue}}else return step_init[1];break}};cljs.core.PersistentVector.prototype.cljs$core$IIndexed$_nth$arity$2=function(coll,n){var self__=this;var coll__$1=this;return cljs.core.array_for.call(null,coll__$1,n)[n&31]};
cljs.core.PersistentVector.prototype.cljs$core$IIndexed$_nth$arity$3=function(coll,n,not_found){var self__=this;var coll__$1=this;if(0<=n&&n<self__.cnt)return cljs.core.unchecked_array_for.call(null,coll__$1,n)[n&31];else return not_found};
cljs.core.PersistentVector.prototype.cljs$core$IVector$_assoc_n$arity$3=function(coll,n,val){var self__=this;var coll__$1=this;if(0<=n&&n<self__.cnt)if(cljs.core.tail_off.call(null,coll__$1)<=n){var new_tail=cljs.core.aclone.call(null,self__.tail);new_tail[n&31]=val;return new cljs.core.PersistentVector(self__.meta,self__.cnt,self__.shift,self__.root,new_tail,null)}else return new cljs.core.PersistentVector(self__.meta,self__.cnt,self__.shift,cljs.core.do_assoc.call(null,coll__$1,self__.shift,self__.root,
n,val),self__.tail,null);else if(n===self__.cnt)return cljs.core._conj.call(null,coll__$1,val);else if(new cljs.core.Keyword(null,"else","else",1017020587))throw new Error([cljs.core.str("Index "),cljs.core.str(n),cljs.core.str(" out of bounds  [0,"),cljs.core.str(self__.cnt),cljs.core.str("]")].join(""));else return null};cljs.core.PersistentVector.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.PersistentVector.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentVector(self__.meta,self__.cnt,self__.shift,self__.root,self__.tail,self__.__hash)};cljs.core.PersistentVector.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.cnt};
cljs.core.PersistentVector.prototype.cljs$core$IMapEntry$_key$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._nth.call(null,coll__$1,0)};cljs.core.PersistentVector.prototype.cljs$core$IMapEntry$_val$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._nth.call(null,coll__$1,1)};
cljs.core.PersistentVector.prototype.cljs$core$IStack$_peek$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt>0)return cljs.core._nth.call(null,coll__$1,self__.cnt-1);else return null};
cljs.core.PersistentVector.prototype.cljs$core$IStack$_pop$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt===0)throw new Error("Can't pop empty vector");else if(1===self__.cnt)return cljs.core._with_meta.call(null,cljs.core.PersistentVector.EMPTY,self__.meta);else if(1<self__.cnt-cljs.core.tail_off.call(null,coll__$1))return new cljs.core.PersistentVector(self__.meta,self__.cnt-1,self__.shift,self__.root,self__.tail.slice(0,-1),null);else if(new cljs.core.Keyword(null,"else",
"else",1017020587)){var new_tail=cljs.core.unchecked_array_for.call(null,coll__$1,self__.cnt-2);var nr=cljs.core.pop_tail.call(null,coll__$1,self__.shift,self__.root);var new_root=nr==null?cljs.core.PersistentVector.EMPTY_NODE:nr;var cnt_1=self__.cnt-1;if(5<self__.shift&&cljs.core.pv_aget.call(null,new_root,1)==null)return new cljs.core.PersistentVector(self__.meta,cnt_1,self__.shift-5,cljs.core.pv_aget.call(null,new_root,0),new_tail,null);else return new cljs.core.PersistentVector(self__.meta,cnt_1,
self__.shift,new_root,new_tail,null)}else return null};cljs.core.PersistentVector.prototype.cljs$core$IReversible$_rseq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt>0)return new cljs.core.RSeq(coll__$1,self__.cnt-1,null);else return null};
cljs.core.PersistentVector.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.PersistentVector.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};cljs.core.PersistentVector.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.TransientVector(self__.cnt,self__.shift,cljs.core.tv_editable_root.call(null,self__.root),cljs.core.tv_editable_tail.call(null,self__.tail))};
cljs.core.PersistentVector.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.PersistentVector.EMPTY,self__.meta)};cljs.core.PersistentVector.prototype.cljs$core$IReduce$_reduce$arity$2=function(v,f){var self__=this;var v__$1=this;return cljs.core.ci_reduce.call(null,v__$1,f)};
cljs.core.PersistentVector.prototype.cljs$core$IReduce$_reduce$arity$3=function(v,f,start){var self__=this;var v__$1=this;return cljs.core.ci_reduce.call(null,v__$1,f,start)};cljs.core.PersistentVector.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,k,v){var self__=this;var coll__$1=this;if(typeof k==="number")return cljs.core._assoc_n.call(null,coll__$1,k,v);else throw new Error("Vector's key for assoc must be a number.");};
cljs.core.PersistentVector.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt===0)return null;else if(self__.cnt<=32)return new cljs.core.IndexedSeq(self__.tail,0);else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.core.chunked_seq.call(null,coll__$1,cljs.core.first_array_for_longvec.call(null,coll__$1),0,0);else return null};
cljs.core.PersistentVector.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentVector(meta__$1,self__.cnt,self__.shift,self__.root,self__.tail,self__.__hash)};
cljs.core.PersistentVector.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;if(self__.cnt-cljs.core.tail_off.call(null,coll__$1)<32){var len=self__.tail.length;var new_tail=new Array(len+1);var n__4326__auto___19549=len;var i_19550=0;while(true){if(i_19550<n__4326__auto___19549){new_tail[i_19550]=self__.tail[i_19550];var G__19551=i_19550+1;i_19550=G__19551;continue}else;break}new_tail[len]=o;return new cljs.core.PersistentVector(self__.meta,self__.cnt+
1,self__.shift,self__.root,new_tail,null)}else{var root_overflow_QMARK_=self__.cnt>>>5>1<<self__.shift;var new_shift=root_overflow_QMARK_?self__.shift+5:self__.shift;var new_root=root_overflow_QMARK_?function(){var n_r=cljs.core.pv_fresh_node.call(null,null);cljs.core.pv_aset.call(null,n_r,0,self__.root);cljs.core.pv_aset.call(null,n_r,1,cljs.core.new_path.call(null,null,self__.shift,new cljs.core.VectorNode(null,self__.tail)));return n_r}():cljs.core.push_tail.call(null,coll__$1,self__.shift,self__.root,
new cljs.core.VectorNode(null,self__.tail));return new cljs.core.PersistentVector(self__.meta,self__.cnt+1,new_shift,new_root,[o],null)}};
cljs.core.PersistentVector.prototype.call=function(){var G__19552=null;var G__19552__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$IIndexed$_nth$arity$2(null,k)};var G__19552__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$IIndexed$_nth$arity$3(null,k,not_found)};G__19552=function(self__,k,not_found){switch(arguments.length){case 2:return G__19552__2.call(this,self__,k);case 3:return G__19552__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19552}();cljs.core.PersistentVector.prototype.apply=function(self__,args19545){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19545)))};cljs.core.PersistentVector.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$IIndexed$_nth$arity$2(null,k)};
cljs.core.PersistentVector.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$IIndexed$_nth$arity$3(null,k,not_found)};cljs.core.__GT_PersistentVector=function __GT_PersistentVector(meta,cnt,shift,root,tail,__hash){return new cljs.core.PersistentVector(meta,cnt,shift,root,tail,__hash)};
cljs.core.PersistentVector.EMPTY_NODE=new cljs.core.VectorNode(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]);cljs.core.PersistentVector.EMPTY=new cljs.core.PersistentVector(null,0,5,cljs.core.PersistentVector.EMPTY_NODE,[],0);
cljs.core.PersistentVector.fromArray=function(xs,no_clone){var l=xs.length;var xs__$1=no_clone?xs:cljs.core.aclone.call(null,xs);if(l<32)return new cljs.core.PersistentVector(null,l,5,cljs.core.PersistentVector.EMPTY_NODE,xs__$1,null);else{var node=xs__$1.slice(0,32);var v=new cljs.core.PersistentVector(null,32,5,cljs.core.PersistentVector.EMPTY_NODE,node,null);var i=32;var out=cljs.core._as_transient.call(null,v);while(true){if(i<l){var G__19553=i+1;var G__19554=cljs.core.conj_BANG_.call(null,out,
xs__$1[i]);i=G__19553;out=G__19554;continue}else return cljs.core.persistent_BANG_.call(null,out);break}}};cljs.core.vec=function vec(coll){return cljs.core._persistent_BANG_.call(null,cljs.core.reduce.call(null,cljs.core._conj_BANG_,cljs.core._as_transient.call(null,cljs.core.PersistentVector.EMPTY),coll))};
cljs.core.vector=function(){var vector__delegate=function(args){if(args instanceof cljs.core.IndexedSeq&&args.i===0)return cljs.core.PersistentVector.fromArray.call(null,args.arr,true);else return cljs.core.vec.call(null,args)};var vector=function(var_args){var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return vector__delegate.call(this,args)};vector.cljs$lang$maxFixedArity=0;vector.cljs$lang$applyTo=function(arglist__19555){var args=cljs.core.seq(arglist__19555);
return vector__delegate(args)};vector.cljs$core$IFn$_invoke$arity$variadic=vector__delegate;return vector}();cljs.core.ChunkedSeq=function(vec,node,i,off,meta,__hash){this.vec=vec;this.node=node;this.i=i;this.off=off;this.meta=meta;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=32243948;this.cljs$lang$protocol_mask$partition1$=1536};cljs.core.ChunkedSeq.cljs$lang$type=true;cljs.core.ChunkedSeq.cljs$lang$ctorStr="cljs.core/ChunkedSeq";
cljs.core.ChunkedSeq.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/ChunkedSeq")};cljs.core.ChunkedSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};
cljs.core.ChunkedSeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.off+1<self__.node.length){var s=cljs.core.chunked_seq.call(null,self__.vec,self__.node,self__.i,self__.off+1);if(s==null)return null;else return s}else return cljs.core._chunked_next.call(null,coll__$1)};
cljs.core.ChunkedSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};cljs.core.ChunkedSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.ChunkedSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.PersistentVector.EMPTY,self__.meta)};cljs.core.ChunkedSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.ci_reduce.call(null,cljs.core.subvec.call(null,self__.vec,self__.i+self__.off,cljs.core.count.call(null,self__.vec)),f)};
cljs.core.ChunkedSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.ci_reduce.call(null,cljs.core.subvec.call(null,self__.vec,self__.i+self__.off,cljs.core.count.call(null,self__.vec)),f,start)};cljs.core.ChunkedSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.node[self__.off]};
cljs.core.ChunkedSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.off+1<self__.node.length){var s=cljs.core.chunked_seq.call(null,self__.vec,self__.node,self__.i,self__.off+1);if(s==null)return cljs.core.List.EMPTY;else return s}else return cljs.core._chunked_rest.call(null,coll__$1)};cljs.core.ChunkedSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};
cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedSeq$_chunked_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.array_chunk.call(null,self__.node,self__.off)};
cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedSeq$_chunked_rest$arity$1=function(coll){var self__=this;var coll__$1=this;var end=self__.i+self__.node.length;if(end<cljs.core._count.call(null,self__.vec))return cljs.core.chunked_seq.call(null,self__.vec,cljs.core.unchecked_array_for.call(null,self__.vec,end),end,0);else return cljs.core.List.EMPTY};
cljs.core.ChunkedSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,m){var self__=this;var coll__$1=this;return cljs.core.chunked_seq.call(null,self__.vec,self__.node,self__.i,self__.off,m)};cljs.core.ChunkedSeq.prototype.cljs$core$IWithMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.ChunkedSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.call(null,o,coll__$1)};
cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedNext$_chunked_next$arity$1=function(coll){var self__=this;var coll__$1=this;var end=self__.i+self__.node.length;if(end<cljs.core._count.call(null,self__.vec))return cljs.core.chunked_seq.call(null,self__.vec,cljs.core.unchecked_array_for.call(null,self__.vec,end),end,0);else return null};cljs.core.__GT_ChunkedSeq=function __GT_ChunkedSeq(vec,node,i,off,meta,__hash){return new cljs.core.ChunkedSeq(vec,node,i,off,meta,__hash)};
cljs.core.chunked_seq=function(){var chunked_seq=null;var chunked_seq__3=function(vec,i,off){return new cljs.core.ChunkedSeq(vec,cljs.core.array_for.call(null,vec,i),i,off,null,null)};var chunked_seq__4=function(vec,node,i,off){return new cljs.core.ChunkedSeq(vec,node,i,off,null,null)};var chunked_seq__5=function(vec,node,i,off,meta){return new cljs.core.ChunkedSeq(vec,node,i,off,meta,null)};chunked_seq=function(vec,node,i,off,meta){switch(arguments.length){case 3:return chunked_seq__3.call(this,
vec,node,i);case 4:return chunked_seq__4.call(this,vec,node,i,off);case 5:return chunked_seq__5.call(this,vec,node,i,off,meta)}throw new Error("Invalid arity: "+arguments.length);};chunked_seq.cljs$core$IFn$_invoke$arity$3=chunked_seq__3;chunked_seq.cljs$core$IFn$_invoke$arity$4=chunked_seq__4;chunked_seq.cljs$core$IFn$_invoke$arity$5=chunked_seq__5;return chunked_seq}();
cljs.core.Subvec=function(meta,v,start,end,__hash){this.meta=meta;this.v=v;this.start=start;this.end=end;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=166617887;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.Subvec.cljs$lang$type=true;cljs.core.Subvec.cljs$lang$ctorStr="cljs.core/Subvec";cljs.core.Subvec.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/Subvec")};
cljs.core.Subvec.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.Subvec.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.call(null,coll__$1,k,null)};cljs.core.Subvec.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;if(typeof k==="number")return cljs.core._nth.call(null,coll__$1,k,not_found);else return not_found};
cljs.core.Subvec.prototype.cljs$core$IIndexed$_nth$arity$2=function(coll,n){var self__=this;var coll__$1=this;if(n<0||self__.end<=self__.start+n)return cljs.core.vector_index_out_of_bounds.call(null,n,self__.end-self__.start);else return cljs.core._nth.call(null,self__.v,self__.start+n)};
cljs.core.Subvec.prototype.cljs$core$IIndexed$_nth$arity$3=function(coll,n,not_found){var self__=this;var coll__$1=this;if(n<0||self__.end<=self__.start+n)return not_found;else return cljs.core._nth.call(null,self__.v,self__.start+n,not_found)};
cljs.core.Subvec.prototype.cljs$core$IVector$_assoc_n$arity$3=function(coll,n,val){var self__=this;var coll__$1=this;var v_pos=self__.start+n;return cljs.core.build_subvec.call(null,self__.meta,cljs.core.assoc.call(null,self__.v,v_pos,val),self__.start,function(){var x__3785__auto__=self__.end;var y__3786__auto__=v_pos+1;return x__3785__auto__>y__3786__auto__?x__3785__auto__:y__3786__auto__}(),null)};
cljs.core.Subvec.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.Subvec.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.Subvec(self__.meta,self__.v,self__.start,self__.end,self__.__hash)};cljs.core.Subvec.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.end-self__.start};
cljs.core.Subvec.prototype.cljs$core$IStack$_peek$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._nth.call(null,self__.v,self__.end-1)};cljs.core.Subvec.prototype.cljs$core$IStack$_pop$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.start===self__.end)throw new Error("Can't pop empty vector");else return cljs.core.build_subvec.call(null,self__.meta,self__.v,self__.start,self__.end-1,null)};
cljs.core.Subvec.prototype.cljs$core$IReversible$_rseq$arity$1=function(coll){var self__=this;var coll__$1=this;if(!(self__.start===self__.end))return new cljs.core.RSeq(coll__$1,self__.end-self__.start-1,null);else return null};
cljs.core.Subvec.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};cljs.core.Subvec.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.Subvec.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.PersistentVector.EMPTY,self__.meta)};cljs.core.Subvec.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.ci_reduce.call(null,coll__$1,f)};
cljs.core.Subvec.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start__$1){var self__=this;var coll__$1=this;return cljs.core.ci_reduce.call(null,coll__$1,f,start__$1)};cljs.core.Subvec.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,key,val){var self__=this;var coll__$1=this;if(typeof key==="number")return cljs.core._assoc_n.call(null,coll__$1,key,val);else throw new Error("Subvec's key for assoc must be a number.");};
cljs.core.Subvec.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;var subvec_seq=function(coll__$1){return function subvec_seq(i){if(i===self__.end)return null;else return cljs.core.cons.call(null,cljs.core._nth.call(null,self__.v,i),new cljs.core.LazySeq(null,function(coll__$1){return function(){return subvec_seq.call(null,i+1)}}(coll__$1),null,null))}}(coll__$1);return subvec_seq.call(null,self__.start)};
cljs.core.Subvec.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return cljs.core.build_subvec.call(null,meta__$1,self__.v,self__.start,self__.end,self__.__hash)};cljs.core.Subvec.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.build_subvec.call(null,self__.meta,cljs.core._assoc_n.call(null,self__.v,self__.end,o),self__.start,self__.end+1,null)};
cljs.core.Subvec.prototype.call=function(){var G__19557=null;var G__19557__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$IIndexed$_nth$arity$2(null,k)};var G__19557__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$IIndexed$_nth$arity$3(null,k,not_found)};G__19557=function(self__,k,not_found){switch(arguments.length){case 2:return G__19557__2.call(this,self__,k);case 3:return G__19557__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19557}();cljs.core.Subvec.prototype.apply=function(self__,args19556){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19556)))};cljs.core.Subvec.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$IIndexed$_nth$arity$2(null,k)};
cljs.core.Subvec.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$IIndexed$_nth$arity$3(null,k,not_found)};cljs.core.__GT_Subvec=function __GT_Subvec(meta,v,start,end,__hash){return new cljs.core.Subvec(meta,v,start,end,__hash)};
cljs.core.build_subvec=function build_subvec(meta,v,start,end,__hash){while(true){if(v instanceof cljs.core.Subvec){var G__19558=meta;var G__19559=v.v;var G__19560=v.start+start;var G__19561=v.start+end;var G__19562=__hash;meta=G__19558;v=G__19559;start=G__19560;end=G__19561;__hash=G__19562;continue}else{var c=cljs.core.count.call(null,v);if(start<0||(end<0||(start>c||end>c)))throw new Error("Index out of bounds");else;return new cljs.core.Subvec(meta,v,start,end,__hash)}break}};
cljs.core.subvec=function(){var subvec=null;var subvec__2=function(v,start){return subvec.call(null,v,start,cljs.core.count.call(null,v))};var subvec__3=function(v,start,end){return cljs.core.build_subvec.call(null,null,v,start,end,null)};subvec=function(v,start,end){switch(arguments.length){case 2:return subvec__2.call(this,v,start);case 3:return subvec__3.call(this,v,start,end)}throw new Error("Invalid arity: "+arguments.length);};subvec.cljs$core$IFn$_invoke$arity$2=subvec__2;subvec.cljs$core$IFn$_invoke$arity$3=
subvec__3;return subvec}();cljs.core.tv_ensure_editable=function tv_ensure_editable(edit,node){if(edit===node.edit)return node;else return new cljs.core.VectorNode(edit,cljs.core.aclone.call(null,node.arr))};cljs.core.tv_editable_root=function tv_editable_root(node){return new cljs.core.VectorNode(function(){var obj19566={};return obj19566}(),cljs.core.aclone.call(null,node.arr))};
cljs.core.tv_editable_tail=function tv_editable_tail(tl){var ret=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];cljs.core.array_copy.call(null,tl,0,ret,0,tl.length);return ret};
cljs.core.tv_push_tail=function tv_push_tail(tv,level,parent,tail_node){var ret=cljs.core.tv_ensure_editable.call(null,tv.root.edit,parent);var subidx=tv.cnt-1>>>level&31;cljs.core.pv_aset.call(null,ret,subidx,level===5?tail_node:function(){var child=cljs.core.pv_aget.call(null,ret,subidx);if(!(child==null))return tv_push_tail.call(null,tv,level-5,child,tail_node);else return cljs.core.new_path.call(null,tv.root.edit,level-5,tail_node)}());return ret};
cljs.core.tv_pop_tail=function tv_pop_tail(tv,level,node){var node__$1=cljs.core.tv_ensure_editable.call(null,tv.root.edit,node);var subidx=tv.cnt-2>>>level&31;if(level>5){var new_child=tv_pop_tail.call(null,tv,level-5,cljs.core.pv_aget.call(null,node__$1,subidx));if(new_child==null&&subidx===0)return null;else{cljs.core.pv_aset.call(null,node__$1,subidx,new_child);return node__$1}}else if(subidx===0)return null;else if(new cljs.core.Keyword(null,"else","else",1017020587)){cljs.core.pv_aset.call(null,
node__$1,subidx,null);return node__$1}else return null};cljs.core.unchecked_editable_array_for=function unchecked_editable_array_for(tv,i){if(i>=cljs.core.tail_off.call(null,tv))return tv.tail;else{var root=tv.root;var node=root;var level=tv.shift;while(true){if(level>0){var G__19567=cljs.core.tv_ensure_editable.call(null,root.edit,cljs.core.pv_aget.call(null,node,i>>>level&31));var G__19568=level-5;node=G__19567;level=G__19568;continue}else return node.arr;break}}};
cljs.core.TransientVector=function(cnt,shift,root,tail){this.cnt=cnt;this.shift=shift;this.root=root;this.tail=tail;this.cljs$lang$protocol_mask$partition0$=275;this.cljs$lang$protocol_mask$partition1$=88};cljs.core.TransientVector.cljs$lang$type=true;cljs.core.TransientVector.cljs$lang$ctorStr="cljs.core/TransientVector";cljs.core.TransientVector.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/TransientVector")};
cljs.core.TransientVector.prototype.call=function(){var G__19570=null;var G__19570__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__19570__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__19570=function(self__,k,not_found){switch(arguments.length){case 2:return G__19570__2.call(this,self__,k);case 3:return G__19570__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19570}();cljs.core.TransientVector.prototype.apply=function(self__,args19569){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19569)))};cljs.core.TransientVector.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};
cljs.core.TransientVector.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};cljs.core.TransientVector.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.call(null,coll__$1,k,null)};
cljs.core.TransientVector.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;if(typeof k==="number")return cljs.core._nth.call(null,coll__$1,k,not_found);else return not_found};cljs.core.TransientVector.prototype.cljs$core$IIndexed$_nth$arity$2=function(coll,n){var self__=this;var coll__$1=this;if(self__.root.edit)return cljs.core.array_for.call(null,coll__$1,n)[n&31];else throw new Error("nth after persistent!");};
cljs.core.TransientVector.prototype.cljs$core$IIndexed$_nth$arity$3=function(coll,n,not_found){var self__=this;var coll__$1=this;if(0<=n&&n<self__.cnt)return cljs.core._nth.call(null,coll__$1,n);else return not_found};cljs.core.TransientVector.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.root.edit)return self__.cnt;else throw new Error("count after persistent!");};
cljs.core.TransientVector.prototype.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3=function(tcoll,n,val){var self__=this;var tcoll__$1=this;if(self__.root.edit)if(0<=n&&n<self__.cnt)if(cljs.core.tail_off.call(null,tcoll__$1)<=n){self__.tail[n&31]=val;return tcoll__$1}else{var new_root=function(tcoll__$1){return function go(level,node){var node__$1=cljs.core.tv_ensure_editable.call(null,self__.root.edit,node);if(level===0){cljs.core.pv_aset.call(null,node__$1,n&31,val);return node__$1}else{var subidx=
n>>>level&31;cljs.core.pv_aset.call(null,node__$1,subidx,go.call(null,level-5,cljs.core.pv_aget.call(null,node__$1,subidx)));return node__$1}}}(tcoll__$1).call(null,self__.shift,self__.root);self__.root=new_root;return tcoll__$1}else if(n===self__.cnt)return cljs.core._conj_BANG_.call(null,tcoll__$1,val);else if(new cljs.core.Keyword(null,"else","else",1017020587))throw new Error([cljs.core.str("Index "),cljs.core.str(n),cljs.core.str(" out of bounds for TransientVector of length"),cljs.core.str(self__.cnt)].join(""));
else return null;else throw new Error("assoc! after persistent!");};
cljs.core.TransientVector.prototype.cljs$core$ITransientVector$_pop_BANG_$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;if(self__.root.edit)if(self__.cnt===0)throw new Error("Can't pop empty vector");else if(1===self__.cnt){self__.cnt=0;return tcoll__$1}else if((self__.cnt-1&31)>0){self__.cnt=self__.cnt-1;return tcoll__$1}else if(new cljs.core.Keyword(null,"else","else",1017020587)){var new_tail=cljs.core.unchecked_editable_array_for.call(null,tcoll__$1,self__.cnt-2);var new_root=function(){var nr=
cljs.core.tv_pop_tail.call(null,tcoll__$1,self__.shift,self__.root);if(!(nr==null))return nr;else return new cljs.core.VectorNode(self__.root.edit,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}();if(5<self__.shift&&cljs.core.pv_aget.call(null,new_root,1)==null){var new_root__$1=cljs.core.tv_ensure_editable.call(null,self__.root.edit,cljs.core.pv_aget.call(null,new_root,0));self__.root=
new_root__$1;self__.shift=self__.shift-5;self__.cnt=self__.cnt-1;self__.tail=new_tail;return tcoll__$1}else{self__.root=new_root;self__.cnt=self__.cnt-1;self__.tail=new_tail;return tcoll__$1}}else return null;else throw new Error("pop! after persistent!");};
cljs.core.TransientVector.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3=function(tcoll,key,val){var self__=this;var tcoll__$1=this;if(typeof key==="number")return cljs.core._assoc_n_BANG_.call(null,tcoll__$1,key,val);else throw new Error("TransientVector's key for assoc! must be a number.");};
cljs.core.TransientVector.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(tcoll,o){var self__=this;var tcoll__$1=this;if(self__.root.edit)if(self__.cnt-cljs.core.tail_off.call(null,tcoll__$1)<32){self__.tail[self__.cnt&31]=o;self__.cnt=self__.cnt+1;return tcoll__$1}else{var tail_node=new cljs.core.VectorNode(self__.root.edit,self__.tail);var new_tail=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null];new_tail[0]=o;self__.tail=new_tail;if(self__.cnt>>>5>1<<self__.shift){var new_root_array=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];var new_shift=self__.shift+5;new_root_array[0]=self__.root;new_root_array[1]=cljs.core.new_path.call(null,self__.root.edit,self__.shift,tail_node);self__.root=new cljs.core.VectorNode(self__.root.edit,new_root_array);
self__.shift=new_shift;self__.cnt=self__.cnt+1;return tcoll__$1}else{var new_root=cljs.core.tv_push_tail.call(null,tcoll__$1,self__.shift,self__.root,tail_node);self__.root=new_root;self__.cnt=self__.cnt+1;return tcoll__$1}}else throw new Error("conj! after persistent!");};
cljs.core.TransientVector.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;if(self__.root.edit){self__.root.edit=null;var len=self__.cnt-cljs.core.tail_off.call(null,tcoll__$1);var trimmed_tail=new Array(len);cljs.core.array_copy.call(null,self__.tail,0,trimmed_tail,0,len);return new cljs.core.PersistentVector(null,self__.cnt,self__.shift,self__.root,trimmed_tail,null)}else throw new Error("persistent! called twice");};
cljs.core.__GT_TransientVector=function __GT_TransientVector(cnt,shift,root,tail){return new cljs.core.TransientVector(cnt,shift,root,tail)};cljs.core.PersistentQueueSeq=function(meta,front,rear,__hash){this.meta=meta;this.front=front;this.rear=rear;this.__hash=__hash;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=31850572};cljs.core.PersistentQueueSeq.cljs$lang$type=true;cljs.core.PersistentQueueSeq.cljs$lang$ctorStr="cljs.core/PersistentQueueSeq";
cljs.core.PersistentQueueSeq.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/PersistentQueueSeq")};cljs.core.PersistentQueueSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.PersistentQueueSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.PersistentQueueSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.PersistentQueueSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};cljs.core.PersistentQueueSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__.meta)};
cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.first.call(null,self__.front)};
cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;var temp__4124__auto__=cljs.core.next.call(null,self__.front);if(temp__4124__auto__){var f1=temp__4124__auto__;return new cljs.core.PersistentQueueSeq(self__.meta,f1,self__.rear,null)}else if(self__.rear==null)return cljs.core._empty.call(null,coll__$1);else return new cljs.core.PersistentQueueSeq(self__.meta,self__.rear,null,null)};
cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.PersistentQueueSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentQueueSeq(meta__$1,self__.front,self__.rear,self__.__hash)};
cljs.core.PersistentQueueSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.call(null,o,coll__$1)};cljs.core.__GT_PersistentQueueSeq=function __GT_PersistentQueueSeq(meta,front,rear,__hash){return new cljs.core.PersistentQueueSeq(meta,front,rear,__hash)};
cljs.core.PersistentQueue=function(meta,count,front,rear,__hash){this.meta=meta;this.count=count;this.front=front;this.rear=rear;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=31858766;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.PersistentQueue.cljs$lang$type=true;cljs.core.PersistentQueue.cljs$lang$ctorStr="cljs.core/PersistentQueue";
cljs.core.PersistentQueue.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/PersistentQueue")};cljs.core.PersistentQueue.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.PersistentQueue.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.PersistentQueue.prototype.cljs$core$ICloneable$_clone$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.PersistentQueue(self__.meta,self__.count,self__.front,self__.rear,self__.__hash)};cljs.core.PersistentQueue.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.count};
cljs.core.PersistentQueue.prototype.cljs$core$IStack$_peek$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.first.call(null,self__.front)};
cljs.core.PersistentQueue.prototype.cljs$core$IStack$_pop$arity$1=function(coll){var self__=this;var coll__$1=this;if(cljs.core.truth_(self__.front)){var temp__4124__auto__=cljs.core.next.call(null,self__.front);if(temp__4124__auto__){var f1=temp__4124__auto__;return new cljs.core.PersistentQueue(self__.meta,self__.count-1,f1,self__.rear,null)}else return new cljs.core.PersistentQueue(self__.meta,self__.count-1,cljs.core.seq.call(null,self__.rear),cljs.core.PersistentVector.EMPTY,null)}else return coll__$1};
cljs.core.PersistentQueue.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.PersistentQueue.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};cljs.core.PersistentQueue.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.PersistentQueue.EMPTY};
cljs.core.PersistentQueue.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.first.call(null,self__.front)};cljs.core.PersistentQueue.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.rest.call(null,cljs.core.seq.call(null,coll__$1))};
cljs.core.PersistentQueue.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;var rear__$1=cljs.core.seq.call(null,self__.rear);if(cljs.core.truth_(function(){var or__3478__auto__=self__.front;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return rear__$1}()))return new cljs.core.PersistentQueueSeq(null,self__.front,cljs.core.seq.call(null,rear__$1),null);else return null};
cljs.core.PersistentQueue.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentQueue(meta__$1,self__.count,self__.front,self__.rear,self__.__hash)};
cljs.core.PersistentQueue.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;if(cljs.core.truth_(self__.front))return new cljs.core.PersistentQueue(self__.meta,self__.count+1,self__.front,cljs.core.conj.call(null,function(){var or__3478__auto__=self__.rear;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return cljs.core.PersistentVector.EMPTY}(),o),null);else return new cljs.core.PersistentQueue(self__.meta,self__.count+1,cljs.core.conj.call(null,
self__.front,o),cljs.core.PersistentVector.EMPTY,null)};cljs.core.__GT_PersistentQueue=function __GT_PersistentQueue(meta,count,front,rear,__hash){return new cljs.core.PersistentQueue(meta,count,front,rear,__hash)};cljs.core.PersistentQueue.EMPTY=new cljs.core.PersistentQueue(null,0,null,cljs.core.PersistentVector.EMPTY,0);cljs.core.NeverEquiv=function(){this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=2097152};cljs.core.NeverEquiv.cljs$lang$type=true;
cljs.core.NeverEquiv.cljs$lang$ctorStr="cljs.core/NeverEquiv";cljs.core.NeverEquiv.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/NeverEquiv")};cljs.core.NeverEquiv.prototype.cljs$core$IEquiv$_equiv$arity$2=function(o,other){var self__=this;var o__$1=this;return false};cljs.core.__GT_NeverEquiv=function __GT_NeverEquiv(){return new cljs.core.NeverEquiv};cljs.core.never_equiv=new cljs.core.NeverEquiv;
cljs.core.equiv_map=function equiv_map(x,y){return cljs.core.boolean$.call(null,cljs.core.map_QMARK_.call(null,y)?cljs.core.count.call(null,x)===cljs.core.count.call(null,y)?cljs.core.every_QMARK_.call(null,cljs.core.identity,cljs.core.map.call(null,function(xkv){return cljs.core._EQ_.call(null,cljs.core.get.call(null,y,cljs.core.first.call(null,xkv),cljs.core.never_equiv),cljs.core.second.call(null,xkv))},x)):null:null)};
cljs.core.scan_array=function scan_array(incr,k,array){var len=array.length;var i=0;while(true){if(i<len)if(k===array[i])return i;else{var G__19571=i+incr;i=G__19571;continue}else return null;break}};cljs.core.obj_map_compare_keys=function obj_map_compare_keys(a,b){var a__$1=cljs.core.hash.call(null,a);var b__$1=cljs.core.hash.call(null,b);if(a__$1<b__$1)return-1;else if(a__$1>b__$1)return 1;else if(new cljs.core.Keyword(null,"else","else",1017020587))return 0;else return null};
cljs.core.obj_map__GT_hash_map=function obj_map__GT_hash_map(m,k,v){var ks=m.keys;var len=ks.length;var so=m.strobj;var mm=cljs.core.meta.call(null,m);var i=0;var out=cljs.core.transient$.call(null,cljs.core.PersistentHashMap.EMPTY);while(true){if(i<len){var k__$1=ks[i];var G__19572=i+1;var G__19573=cljs.core.assoc_BANG_.call(null,out,k__$1,so[k__$1]);i=G__19572;out=G__19573;continue}else return cljs.core.with_meta.call(null,cljs.core.persistent_BANG_.call(null,cljs.core.assoc_BANG_.call(null,out,
k,v)),mm);break}};cljs.core.obj_clone=function obj_clone(obj,ks){var new_obj=function(){var obj19577={};return obj19577}();var l=ks.length;var i_19578=0;while(true){if(i_19578<l){var k_19579=ks[i_19578];new_obj[k_19579]=obj[k_19579];var G__19580=i_19578+1;i_19578=G__19580;continue}else;break}return new_obj};
cljs.core.ObjMap=function(meta,keys,strobj,update_count,__hash){this.meta=meta;this.keys=keys;this.strobj=strobj;this.update_count=update_count;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=16123663;this.cljs$lang$protocol_mask$partition1$=4};cljs.core.ObjMap.cljs$lang$type=true;cljs.core.ObjMap.cljs$lang$ctorStr="cljs.core/ObjMap";
cljs.core.ObjMap.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/ObjMap")};cljs.core.ObjMap.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.ObjMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.call(null,coll__$1,k,null)};
cljs.core.ObjMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;if(goog.isString(k)&&!(cljs.core.scan_array.call(null,1,k,self__.keys)==null))return self__.strobj[k];else return not_found};
cljs.core.ObjMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(coll,f,init){var self__=this;var coll__$1=this;var len=self__.keys.length;var keys__$1=self__.keys.sort(cljs.core.obj_map_compare_keys);var init__$1=init;while(true){if(cljs.core.seq.call(null,keys__$1)){var k=cljs.core.first.call(null,keys__$1);var init__$2=f.call(null,init__$1,k,self__.strobj[k]);if(cljs.core.reduced_QMARK_.call(null,init__$2))return cljs.core.deref.call(null,init__$2);else{var G__19583=cljs.core.rest.call(null,
keys__$1);var G__19584=init__$2;keys__$1=G__19583;init__$1=G__19584;continue}}else return init__$1;break}};cljs.core.ObjMap.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.ObjMap.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.keys.length};
cljs.core.ObjMap.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_imap.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};cljs.core.ObjMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_map.call(null,coll__$1,other)};
cljs.core.ObjMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.transient$.call(null,cljs.core.into.call(null,cljs.core.PersistentHashMap.EMPTY,coll__$1))};cljs.core.ObjMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.ObjMap.EMPTY,self__.meta)};
cljs.core.ObjMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(coll,k){var self__=this;var coll__$1=this;if(goog.isString(k)&&!(cljs.core.scan_array.call(null,1,k,self__.keys)==null)){var new_keys=cljs.core.aclone.call(null,self__.keys);var new_strobj=cljs.core.obj_clone.call(null,self__.strobj,self__.keys);new_keys.splice(cljs.core.scan_array.call(null,1,k,new_keys),1);delete new_strobj[k];return new cljs.core.ObjMap(self__.meta,new_keys,new_strobj,self__.update_count+1,null)}else return coll__$1};
cljs.core.ObjMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,k,v){var self__=this;var coll__$1=this;if(goog.isString(k))if(self__.update_count>cljs.core.ObjMap.HASHMAP_THRESHOLD||self__.keys.length>=cljs.core.ObjMap.HASHMAP_THRESHOLD)return cljs.core.obj_map__GT_hash_map.call(null,coll__$1,k,v);else if(!(cljs.core.scan_array.call(null,1,k,self__.keys)==null)){var new_strobj=cljs.core.obj_clone.call(null,self__.strobj,self__.keys);new_strobj[k]=v;return new cljs.core.ObjMap(self__.meta,
self__.keys,new_strobj,self__.update_count+1,null)}else{var new_strobj=cljs.core.obj_clone.call(null,self__.strobj,self__.keys);var new_keys=cljs.core.aclone.call(null,self__.keys);new_strobj[k]=v;new_keys.push(k);return new cljs.core.ObjMap(self__.meta,new_keys,new_strobj,self__.update_count+1,null)}else return cljs.core.obj_map__GT_hash_map.call(null,coll__$1,k,v)};
cljs.core.ObjMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(coll,k){var self__=this;var coll__$1=this;if(goog.isString(k)&&!(cljs.core.scan_array.call(null,1,k,self__.keys)==null))return true;else return false};
cljs.core.ObjMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.keys.length>0)return cljs.core.map.call(null,function(coll__$1){return function(p1__19581_SHARP_){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[p1__19581_SHARP_,self__.strobj[p1__19581_SHARP_]],null)}}(coll__$1),self__.keys.sort(cljs.core.obj_map_compare_keys));else return null};
cljs.core.ObjMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.ObjMap(meta__$1,self__.keys,self__.strobj,self__.update_count,self__.__hash)};
cljs.core.ObjMap.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,entry){var self__=this;var coll__$1=this;if(cljs.core.vector_QMARK_.call(null,entry))return cljs.core._assoc.call(null,coll__$1,cljs.core._nth.call(null,entry,0),cljs.core._nth.call(null,entry,1));else return cljs.core.reduce.call(null,cljs.core._conj,coll__$1,entry)};
cljs.core.ObjMap.prototype.call=function(){var G__19585=null;var G__19585__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__19585__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__19585=function(self__,k,not_found){switch(arguments.length){case 2:return G__19585__2.call(this,self__,k);case 3:return G__19585__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19585}();cljs.core.ObjMap.prototype.apply=function(self__,args19582){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19582)))};cljs.core.ObjMap.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};
cljs.core.ObjMap.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};cljs.core.__GT_ObjMap=function __GT_ObjMap(meta,keys,strobj,update_count,__hash){return new cljs.core.ObjMap(meta,keys,strobj,update_count,__hash)};cljs.core.ObjMap.EMPTY=new cljs.core.ObjMap(null,[],function(){var obj19587={};return obj19587}(),0,0);cljs.core.ObjMap.HASHMAP_THRESHOLD=8;
cljs.core.ObjMap.fromObject=function(ks,obj){return new cljs.core.ObjMap(null,ks,obj,0,null)};cljs.core.array_map_index_of_nil_QMARK_=function array_map_index_of_nil_QMARK_(arr,m,k){var len=arr.length;var i=0;while(true){if(len<=i)return-1;else if(arr[i]==null)return i;else if(new cljs.core.Keyword(null,"else","else",1017020587)){var G__19588=i+2;i=G__19588;continue}else return null;break}};
cljs.core.array_map_index_of_keyword_QMARK_=function array_map_index_of_keyword_QMARK_(arr,m,k){var len=arr.length;var kstr=k.fqn;var i=0;while(true){if(len<=i)return-1;else if(function(){var k_SINGLEQUOTE_=arr[i];return k_SINGLEQUOTE_ instanceof cljs.core.Keyword&&kstr===k_SINGLEQUOTE_.fqn}())return i;else if(new cljs.core.Keyword(null,"else","else",1017020587)){var G__19589=i+2;i=G__19589;continue}else return null;break}};
cljs.core.array_map_index_of_symbol_QMARK_=function array_map_index_of_symbol_QMARK_(arr,m,k){var len=arr.length;var kstr=k.str;var i=0;while(true){if(len<=i)return-1;else if(function(){var k_SINGLEQUOTE_=arr[i];return k_SINGLEQUOTE_ instanceof cljs.core.Symbol&&kstr===k_SINGLEQUOTE_.str}())return i;else if(new cljs.core.Keyword(null,"else","else",1017020587)){var G__19590=i+2;i=G__19590;continue}else return null;break}};
cljs.core.array_map_index_of_identical_QMARK_=function array_map_index_of_identical_QMARK_(arr,m,k){var len=arr.length;var i=0;while(true){if(len<=i)return-1;else if(k===arr[i])return i;else if(new cljs.core.Keyword(null,"else","else",1017020587)){var G__19591=i+2;i=G__19591;continue}else return null;break}};
cljs.core.array_map_index_of_equiv_QMARK_=function array_map_index_of_equiv_QMARK_(arr,m,k){var len=arr.length;var i=0;while(true){if(len<=i)return-1;else if(cljs.core._EQ_.call(null,k,arr[i]))return i;else if(new cljs.core.Keyword(null,"else","else",1017020587)){var G__19592=i+2;i=G__19592;continue}else return null;break}};
cljs.core.array_map_index_of=function array_map_index_of(m,k){var arr=m.arr;if(k instanceof cljs.core.Keyword)return cljs.core.array_map_index_of_keyword_QMARK_.call(null,arr,m,k);else if(goog.isString(k)||typeof k==="number")return cljs.core.array_map_index_of_identical_QMARK_.call(null,arr,m,k);else if(k instanceof cljs.core.Symbol)return cljs.core.array_map_index_of_symbol_QMARK_.call(null,arr,m,k);else if(k==null)return cljs.core.array_map_index_of_nil_QMARK_.call(null,arr,m,k);else if(new cljs.core.Keyword(null,
"else","else",1017020587))return cljs.core.array_map_index_of_equiv_QMARK_.call(null,arr,m,k);else return null};cljs.core.array_map_extend_kv=function array_map_extend_kv(m,k,v){var arr=m.arr;var l=arr.length;var narr=new Array(l+2);var i_19593=0;while(true){if(i_19593<l){narr[i_19593]=arr[i_19593];var G__19594=i_19593+1;i_19593=G__19594;continue}else;break}narr[l]=k;narr[l+1]=v;return narr};
cljs.core.PersistentArrayMapSeq=function(arr,i,_meta){this.arr=arr;this.i=i;this._meta=_meta;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=32374990};cljs.core.PersistentArrayMapSeq.cljs$lang$type=true;cljs.core.PersistentArrayMapSeq.cljs$lang$ctorStr="cljs.core/PersistentArrayMapSeq";
cljs.core.PersistentArrayMapSeq.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/PersistentArrayMapSeq")};cljs.core.PersistentArrayMapSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__._meta};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.i<self__.arr.length-2)return new cljs.core.PersistentArrayMapSeq(self__.arr,self__.i+2,self__._meta);else return null};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return(self__.arr.length-self__.i)/2};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.hash_coll.call(null,coll__$1)};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__._meta)};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,coll__$1)};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,start,coll__$1)};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.arr[self__.i],self__.arr[self__.i+1]],null)};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.i<self__.arr.length-2)return new cljs.core.PersistentArrayMapSeq(self__.arr,self__.i+2,self__._meta);else return cljs.core.List.EMPTY};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,new_meta){var self__=this;var coll__$1=this;return new cljs.core.PersistentArrayMapSeq(self__.arr,self__.i,new_meta)};cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.call(null,o,coll__$1)};
cljs.core.__GT_PersistentArrayMapSeq=function __GT_PersistentArrayMapSeq(arr,i,_meta){return new cljs.core.PersistentArrayMapSeq(arr,i,_meta)};cljs.core.persistent_array_map_seq=function persistent_array_map_seq(arr,i,_meta){if(i<=arr.length-2)return new cljs.core.PersistentArrayMapSeq(arr,i,_meta);else return null};
cljs.core.PersistentArrayMap=function(meta,cnt,arr,__hash){this.meta=meta;this.cnt=cnt;this.arr=arr;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=16123663;this.cljs$lang$protocol_mask$partition1$=8196};cljs.core.PersistentArrayMap.cljs$lang$type=true;cljs.core.PersistentArrayMap.cljs$lang$ctorStr="cljs.core/PersistentArrayMap";
cljs.core.PersistentArrayMap.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/PersistentArrayMap")};cljs.core.PersistentArrayMap.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};
cljs.core.PersistentArrayMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.call(null,coll__$1,k,null)};cljs.core.PersistentArrayMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;var idx=cljs.core.array_map_index_of.call(null,coll__$1,k);if(idx===-1)return not_found;else return self__.arr[idx+1]};
cljs.core.PersistentArrayMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(coll,f,init){var self__=this;var coll__$1=this;var len=self__.arr.length;var i=0;var init__$1=init;while(true){if(i<len){var init__$2=f.call(null,init__$1,self__.arr[i],self__.arr[i+1]);if(cljs.core.reduced_QMARK_.call(null,init__$2))return cljs.core.deref.call(null,init__$2);else{var G__19599=i+2;var G__19600=init__$2;i=G__19599;init__$1=G__19600;continue}}else return init__$1;break}};
cljs.core.PersistentArrayMap.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentArrayMap.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentArrayMap(self__.meta,self__.cnt,self__.arr,self__.__hash)};cljs.core.PersistentArrayMap.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.cnt};
cljs.core.PersistentArrayMap.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_imap.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.PersistentArrayMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_map.call(null,coll__$1,other)};cljs.core.PersistentArrayMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.TransientArrayMap(function(){var obj19597={};return obj19597}(),self__.arr.length,cljs.core.aclone.call(null,self__.arr))};
cljs.core.PersistentArrayMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._with_meta.call(null,cljs.core.PersistentArrayMap.EMPTY,self__.meta)};
cljs.core.PersistentArrayMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(coll,k){var self__=this;var coll__$1=this;var idx=cljs.core.array_map_index_of.call(null,coll__$1,k);if(idx>=0){var len=self__.arr.length;var new_len=len-2;if(new_len===0)return cljs.core._empty.call(null,coll__$1);else{var new_arr=new Array(new_len);var s=0;var d=0;while(true){if(s>=len)return new cljs.core.PersistentArrayMap(self__.meta,self__.cnt-1,new_arr,null);else if(cljs.core._EQ_.call(null,k,self__.arr[s])){var G__19601=
s+2;var G__19602=d;s=G__19601;d=G__19602;continue}else if(new cljs.core.Keyword(null,"else","else",1017020587)){new_arr[d]=self__.arr[s];new_arr[d+1]=self__.arr[s+1];var G__19603=s+2;var G__19604=d+2;s=G__19603;d=G__19604;continue}else return null;break}}}else return coll__$1};
cljs.core.PersistentArrayMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,k,v){var self__=this;var coll__$1=this;var idx=cljs.core.array_map_index_of.call(null,coll__$1,k);if(idx===-1)if(self__.cnt<cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD){var arr__$1=cljs.core.array_map_extend_kv.call(null,coll__$1,k,v);return new cljs.core.PersistentArrayMap(self__.meta,self__.cnt+1,arr__$1,null)}else return cljs.core._with_meta.call(null,cljs.core._assoc.call(null,cljs.core.into.call(null,
cljs.core.PersistentHashMap.EMPTY,coll__$1),k,v),self__.meta);else if(v===self__.arr[idx+1])return coll__$1;else if(new cljs.core.Keyword(null,"else","else",1017020587)){var arr__$1=function(){var G__19598=cljs.core.aclone.call(null,self__.arr);G__19598[idx+1]=v;return G__19598}();return new cljs.core.PersistentArrayMap(self__.meta,self__.cnt,arr__$1,null)}else return null};
cljs.core.PersistentArrayMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(coll,k){var self__=this;var coll__$1=this;return!(cljs.core.array_map_index_of.call(null,coll__$1,k)===-1)};cljs.core.PersistentArrayMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.persistent_array_map_seq.call(null,self__.arr,0,null)};
cljs.core.PersistentArrayMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentArrayMap(meta__$1,self__.cnt,self__.arr,self__.__hash)};
cljs.core.PersistentArrayMap.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,entry){var self__=this;var coll__$1=this;if(cljs.core.vector_QMARK_.call(null,entry))return cljs.core._assoc.call(null,coll__$1,cljs.core._nth.call(null,entry,0),cljs.core._nth.call(null,entry,1));else return cljs.core.reduce.call(null,cljs.core._conj,coll__$1,entry)};
cljs.core.PersistentArrayMap.prototype.call=function(){var G__19605=null;var G__19605__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__19605__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__19605=function(self__,k,not_found){switch(arguments.length){case 2:return G__19605__2.call(this,self__,k);case 3:return G__19605__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19605}();cljs.core.PersistentArrayMap.prototype.apply=function(self__,args19595){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19595)))};cljs.core.PersistentArrayMap.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};
cljs.core.PersistentArrayMap.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};cljs.core.__GT_PersistentArrayMap=function __GT_PersistentArrayMap(meta,cnt,arr,__hash){return new cljs.core.PersistentArrayMap(meta,cnt,arr,__hash)};cljs.core.PersistentArrayMap.EMPTY=new cljs.core.PersistentArrayMap(null,0,[],null);cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD=8;
cljs.core.PersistentArrayMap.fromArray=function(arr,no_clone,no_check){var arr__$1=no_clone?arr:cljs.core.aclone.call(null,arr);if(no_check){var cnt=arr__$1.length/2;return new cljs.core.PersistentArrayMap(null,cnt,arr__$1,null)}else{var len=arr__$1.length;var i=0;var ret=cljs.core.transient$.call(null,cljs.core.PersistentArrayMap.EMPTY);while(true){if(i<len){var G__19606=i+2;var G__19607=cljs.core._assoc_BANG_.call(null,ret,arr__$1[i],arr__$1[i+1]);i=G__19606;ret=G__19607;continue}else return cljs.core._persistent_BANG_.call(null,
ret);break}}};cljs.core.TransientArrayMap=function(editable_QMARK_,len,arr){this.editable_QMARK_=editable_QMARK_;this.len=len;this.arr=arr;this.cljs$lang$protocol_mask$partition1$=56;this.cljs$lang$protocol_mask$partition0$=258};cljs.core.TransientArrayMap.cljs$lang$type=true;cljs.core.TransientArrayMap.cljs$lang$ctorStr="cljs.core/TransientArrayMap";
cljs.core.TransientArrayMap.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/TransientArrayMap")};
cljs.core.TransientArrayMap.prototype.cljs$core$ITransientMap$_dissoc_BANG_$arity$2=function(tcoll,key){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_)){var idx=cljs.core.array_map_index_of.call(null,tcoll__$1,key);if(idx>=0){self__.arr[idx]=self__.arr[self__.len-2];self__.arr[idx+1]=self__.arr[self__.len-1];var G__19608_19610=self__.arr;G__19608_19610.pop();G__19608_19610.pop();self__.len=self__.len-2}else;return tcoll__$1}else throw new Error("dissoc! after persistent!");
};
cljs.core.TransientArrayMap.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3=function(tcoll,key,val){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_)){var idx=cljs.core.array_map_index_of.call(null,tcoll__$1,key);if(idx===-1)if(self__.len+2<=2*cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD){self__.len=self__.len+2;self__.arr.push(key);self__.arr.push(val);return tcoll__$1}else return cljs.core.assoc_BANG_.call(null,cljs.core.array__GT_transient_hash_map.call(null,self__.len,
self__.arr),key,val);else if(val===self__.arr[idx+1])return tcoll__$1;else{self__.arr[idx+1]=val;return tcoll__$1}}else throw new Error("assoc! after persistent!");};
cljs.core.TransientArrayMap.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(tcoll,o){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_))if(function(){var G__19609=o;if(G__19609){var bit__4128__auto__=G__19609.cljs$lang$protocol_mask$partition0$&2048;if(bit__4128__auto__||G__19609.cljs$core$IMapEntry$)return true;else if(!G__19609.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IMapEntry,G__19609);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,
cljs.core.IMapEntry,G__19609)}())return cljs.core._assoc_BANG_.call(null,tcoll__$1,cljs.core.key.call(null,o),cljs.core.val.call(null,o));else{var es=cljs.core.seq.call(null,o);var tcoll__$2=tcoll__$1;while(true){var temp__4124__auto__=cljs.core.first.call(null,es);if(cljs.core.truth_(temp__4124__auto__)){var e=temp__4124__auto__;var G__19611=cljs.core.next.call(null,es);var G__19612=cljs.core._assoc_BANG_.call(null,tcoll__$2,cljs.core.key.call(null,e),cljs.core.val.call(null,e));es=G__19611;tcoll__$2=
G__19612;continue}else return tcoll__$2;break}}else throw new Error("conj! after persistent!");};cljs.core.TransientArrayMap.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_)){self__.editable_QMARK_=false;return new cljs.core.PersistentArrayMap(null,cljs.core.quot.call(null,self__.len,2),self__.arr,null)}else throw new Error("persistent! called twice");};
cljs.core.TransientArrayMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(tcoll,k){var self__=this;var tcoll__$1=this;return cljs.core._lookup.call(null,tcoll__$1,k,null)};
cljs.core.TransientArrayMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(tcoll,k,not_found){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_)){var idx=cljs.core.array_map_index_of.call(null,tcoll__$1,k);if(idx===-1)return not_found;else return self__.arr[idx+1]}else throw new Error("lookup after persistent!");};
cljs.core.TransientArrayMap.prototype.cljs$core$ICounted$_count$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;if(cljs.core.truth_(self__.editable_QMARK_))return cljs.core.quot.call(null,self__.len,2);else throw new Error("count after persistent!");};cljs.core.__GT_TransientArrayMap=function __GT_TransientArrayMap(editable_QMARK_,len,arr){return new cljs.core.TransientArrayMap(editable_QMARK_,len,arr)};
cljs.core.array__GT_transient_hash_map=function array__GT_transient_hash_map(len,arr){var out=cljs.core.transient$.call(null,cljs.core.PersistentHashMap.EMPTY);var i=0;while(true){if(i<len){var G__19613=cljs.core.assoc_BANG_.call(null,out,arr[i],arr[i+1]);var G__19614=i+2;out=G__19613;i=G__19614;continue}else return out;break}};cljs.core.Box=function(val){this.val=val};cljs.core.Box.cljs$lang$type=true;cljs.core.Box.cljs$lang$ctorStr="cljs.core/Box";
cljs.core.Box.cljs$lang$ctorPrWriter=function(this__4048__auto__,writer__4049__auto__,opts__4050__auto__){return cljs.core._write.call(null,writer__4049__auto__,"cljs.core/Box")};cljs.core.__GT_Box=function __GT_Box(val){return new cljs.core.Box(val)};
cljs.core.key_test=function key_test(key,other){if(key===other)return true;else if(cljs.core.keyword_identical_QMARK_.call(null,key,other))return true;else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.core._EQ_.call(null,key,other);else return null};cljs.core.mask=function mask(hash,shift){return hash>>>shift&31};
cljs.core.clone_and_set=function(){var clone_and_set=null;var clone_and_set__3=function(arr,i,a){var G__19617=cljs.core.aclone.call(null,arr);G__19617[i]=a;return G__19617};var clone_and_set__5=function(arr,i,a,j,b){var G__19618=cljs.core.aclone.call(null,arr);G__19618[i]=a;G__19618[j]=b;return G__19618};clone_and_set=function(arr,i,a,j,b){switch(arguments.length){case 3:return clone_and_set__3.call(this,arr,i,a);case 5:return clone_and_set__5.call(this,arr,i,a,j,b)}throw new Error("Invalid arity: "+
arguments.length);};clone_and_set.cljs$core$IFn$_invoke$arity$3=clone_and_set__3;clone_and_set.cljs$core$IFn$_invoke$arity$5=clone_and_set__5;return clone_and_set}();cljs.core.remove_pair=function remove_pair(arr,i){var new_arr=new Array(arr.length-2);cljs.core.array_copy.call(null,arr,0,new_arr,0,2*i);cljs.core.array_copy.call(null,arr,2*(i+1),new_arr,2*i,new_arr.length-2*i);return new_arr};
cljs.core.bitmap_indexed_node_index=function bitmap_indexed_node_index(bitmap,bit){return cljs.core.bit_count.call(null,bitmap&bit-1)};cljs.core.bitpos=function bitpos(hash,shift){return 1<<(hash>>>shift&31)};
cljs.core.edit_and_set=function(){var edit_and_set=null;var edit_and_set__4=function(inode,edit,i,a){var editable=inode.ensure_editable(edit);editable.arr[i]=a;return editable};var edit_and_set__6=function(inode,edit,i,a,j,b){var editable=inode.ensure_editable(edit);editable.arr[i]=a;editable.arr[j]=b;return editable};edit_and_set=function(inode,edit,i,a,j,b){switch(arguments.length){case 4:return edit_and_set__4.call(this,inode,edit,i,a);case 6:return edit_and_set__6.call(this,inode,edit,i,a,j,b)}throw new Error("Invalid arity: "+
arguments.length);};edit_and_set.cljs$core$IFn$_invoke$arity$4=edit_and_set__4;edit_and_set.cljs$core$IFn$_invoke$arity$6=edit_and_set__6;return edit_and_set}();
cljs.core.inode_kv_reduce=function inode_kv_reduce(arr,f,init){var len=arr.length;var i=0;var init__$1=init;while(true){if(i<len){var init__$2=function(){var k=arr[i];if(!(k==null))return f.call(null,init__$1,k,arr[i+1]);else{var node=arr[i+1];if(!(node==null))return node.kv_reduce(f,init__$1);else return init__$1}}();if(cljs.core.reduced_QMARK_.call(null,init__$2))return cljs.core.deref.call(null,init__$2);else{var G__19619=i+2;var G__19620=init__$2;i=G__19619;init__$1=G__19620;continue}}else return init__$1;
break}};cljs.core.BitmapIndexedNode=function(edit,bitmap,arr){this.edit=edit;this.bitmap=bitmap;this.arr=arr};cljs.core.BitmapIndexedNode.cljs$lang$type=true;cljs.core.BitmapIndexedNode.cljs$lang$ctorStr="cljs.core/BitmapIndexedNode";cljs.core.BitmapIndexedNode.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/BitmapIndexedNode")};
cljs.core.BitmapIndexedNode.prototype.ensure_editable=function(e){var self__=this;var inode=this;if(e===self__.edit)return inode;else{var n=cljs.core.bit_count.call(null,self__.bitmap);var new_arr=new Array(n<0?4:2*(n+1));cljs.core.array_copy.call(null,self__.arr,0,new_arr,0,2*n);return new cljs.core.BitmapIndexedNode(e,self__.bitmap,new_arr)}};
cljs.core.BitmapIndexedNode.prototype.inode_without_BANG_=function(edit__$1,shift,hash,key,removed_leaf_QMARK_){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);if((self__.bitmap&bit)===0)return inode;else{var idx=cljs.core.bitmap_indexed_node_index.call(null,self__.bitmap,bit);var key_or_nil=self__.arr[2*idx];var val_or_node=self__.arr[2*idx+1];if(key_or_nil==null){var n=val_or_node.inode_without_BANG_(edit__$1,shift+5,hash,key,removed_leaf_QMARK_);if(n===val_or_node)return inode;else if(!(n==
null))return cljs.core.edit_and_set.call(null,inode,edit__$1,2*idx+1,n);else if(self__.bitmap===bit)return null;else if(new cljs.core.Keyword(null,"else","else",1017020587))return inode.edit_and_remove_pair(edit__$1,bit,idx);else return null}else if(cljs.core.key_test.call(null,key,key_or_nil)){removed_leaf_QMARK_[0]=true;return inode.edit_and_remove_pair(edit__$1,bit,idx)}else if(new cljs.core.Keyword(null,"else","else",1017020587))return inode;else return null}};
cljs.core.BitmapIndexedNode.prototype.edit_and_remove_pair=function(e,bit,i){var self__=this;var inode=this;if(self__.bitmap===bit)return null;else{var editable=inode.ensure_editable(e);var earr=editable.arr;var len=earr.length;editable.bitmap=bit^editable.bitmap;cljs.core.array_copy.call(null,earr,2*(i+1),earr,2*i,len-2*(i+1));earr[len-2]=null;earr[len-1]=null;return editable}};
cljs.core.BitmapIndexedNode.prototype.inode_seq=function(){var self__=this;var inode=this;return cljs.core.create_inode_seq.call(null,self__.arr)};cljs.core.BitmapIndexedNode.prototype.kv_reduce=function(f,init){var self__=this;var inode=this;return cljs.core.inode_kv_reduce.call(null,self__.arr,f,init)};
cljs.core.BitmapIndexedNode.prototype.inode_lookup=function(shift,hash,key,not_found){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);if((self__.bitmap&bit)===0)return not_found;else{var idx=cljs.core.bitmap_indexed_node_index.call(null,self__.bitmap,bit);var key_or_nil=self__.arr[2*idx];var val_or_node=self__.arr[2*idx+1];if(key_or_nil==null)return val_or_node.inode_lookup(shift+5,hash,key,not_found);else if(cljs.core.key_test.call(null,key,key_or_nil))return val_or_node;else if(new cljs.core.Keyword(null,
"else","else",1017020587))return not_found;else return null}};
cljs.core.BitmapIndexedNode.prototype.inode_assoc_BANG_=function(edit__$1,shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);var idx=cljs.core.bitmap_indexed_node_index.call(null,self__.bitmap,bit);if((self__.bitmap&bit)===0){var n=cljs.core.bit_count.call(null,self__.bitmap);if(2*n<self__.arr.length){var editable=inode.ensure_editable(edit__$1);var earr=editable.arr;added_leaf_QMARK_.val=true;cljs.core.array_copy_downward.call(null,earr,2*idx,earr,2*
(idx+1),2*(n-idx));earr[2*idx]=key;earr[2*idx+1]=val;editable.bitmap=editable.bitmap|bit;return editable}else if(n>=16){var nodes=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];var jdx=hash>>>shift&31;nodes[jdx]=cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit__$1,shift+5,hash,key,val,added_leaf_QMARK_);var i_19621=0;var j_19622=0;while(true){if(i_19621<32)if((self__.bitmap>>>
i_19621&1)===0){var G__19623=i_19621+1;var G__19624=j_19622;i_19621=G__19623;j_19622=G__19624;continue}else{nodes[i_19621]=!(self__.arr[j_19622]==null)?cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit__$1,shift+5,cljs.core.hash.call(null,self__.arr[j_19622]),self__.arr[j_19622],self__.arr[j_19622+1],added_leaf_QMARK_):self__.arr[j_19622+1];var G__19625=i_19621+1;var G__19626=j_19622+2;i_19621=G__19625;j_19622=G__19626;continue}else;break}return new cljs.core.ArrayNode(edit__$1,n+1,nodes)}else if(new cljs.core.Keyword(null,
"else","else",1017020587)){var new_arr=new Array(2*(n+4));cljs.core.array_copy.call(null,self__.arr,0,new_arr,0,2*idx);new_arr[2*idx]=key;new_arr[2*idx+1]=val;cljs.core.array_copy.call(null,self__.arr,2*idx,new_arr,2*(idx+1),2*(n-idx));added_leaf_QMARK_.val=true;var editable=inode.ensure_editable(edit__$1);editable.arr=new_arr;editable.bitmap=editable.bitmap|bit;return editable}else return null}else{var key_or_nil=self__.arr[2*idx];var val_or_node=self__.arr[2*idx+1];if(key_or_nil==null){var n=val_or_node.inode_assoc_BANG_(edit__$1,
shift+5,hash,key,val,added_leaf_QMARK_);if(n===val_or_node)return inode;else return cljs.core.edit_and_set.call(null,inode,edit__$1,2*idx+1,n)}else if(cljs.core.key_test.call(null,key,key_or_nil))if(val===val_or_node)return inode;else return cljs.core.edit_and_set.call(null,inode,edit__$1,2*idx+1,val);else if(new cljs.core.Keyword(null,"else","else",1017020587)){added_leaf_QMARK_.val=true;return cljs.core.edit_and_set.call(null,inode,edit__$1,2*idx,null,2*idx+1,cljs.core.create_node.call(null,edit__$1,
shift+5,key_or_nil,val_or_node,hash,key,val))}else return null}};
cljs.core.BitmapIndexedNode.prototype.inode_assoc=function(shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);var idx=cljs.core.bitmap_indexed_node_index.call(null,self__.bitmap,bit);if((self__.bitmap&bit)===0){var n=cljs.core.bit_count.call(null,self__.bitmap);if(n>=16){var nodes=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];var jdx=hash>>>
shift&31;nodes[jdx]=cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift+5,hash,key,val,added_leaf_QMARK_);var i_19627=0;var j_19628=0;while(true){if(i_19627<32)if((self__.bitmap>>>i_19627&1)===0){var G__19629=i_19627+1;var G__19630=j_19628;i_19627=G__19629;j_19628=G__19630;continue}else{nodes[i_19627]=!(self__.arr[j_19628]==null)?cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift+5,cljs.core.hash.call(null,self__.arr[j_19628]),self__.arr[j_19628],self__.arr[j_19628+1],added_leaf_QMARK_):self__.arr[j_19628+
1];var G__19631=i_19627+1;var G__19632=j_19628+2;i_19627=G__19631;j_19628=G__19632;continue}else;break}return new cljs.core.ArrayNode(null,n+1,nodes)}else{var new_arr=new Array(2*(n+1));cljs.core.array_copy.call(null,self__.arr,0,new_arr,0,2*idx);new_arr[2*idx]=key;new_arr[2*idx+1]=val;cljs.core.array_copy.call(null,self__.arr,2*idx,new_arr,2*(idx+1),2*(n-idx));added_leaf_QMARK_.val=true;return new cljs.core.BitmapIndexedNode(null,self__.bitmap|bit,new_arr)}}else{var key_or_nil=self__.arr[2*idx];
var val_or_node=self__.arr[2*idx+1];if(key_or_nil==null){var n=val_or_node.inode_assoc(shift+5,hash,key,val,added_leaf_QMARK_);if(n===val_or_node)return inode;else return new cljs.core.BitmapIndexedNode(null,self__.bitmap,cljs.core.clone_and_set.call(null,self__.arr,2*idx+1,n))}else if(cljs.core.key_test.call(null,key,key_or_nil))if(val===val_or_node)return inode;else return new cljs.core.BitmapIndexedNode(null,self__.bitmap,cljs.core.clone_and_set.call(null,self__.arr,2*idx+1,val));else if(new cljs.core.Keyword(null,
"else","else",1017020587)){added_leaf_QMARK_.val=true;return new cljs.core.BitmapIndexedNode(null,self__.bitmap,cljs.core.clone_and_set.call(null,self__.arr,2*idx,null,2*idx+1,cljs.core.create_node.call(null,shift+5,key_or_nil,val_or_node,hash,key,val)))}else return null}};
cljs.core.BitmapIndexedNode.prototype.inode_find=function(shift,hash,key,not_found){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);if((self__.bitmap&bit)===0)return not_found;else{var idx=cljs.core.bitmap_indexed_node_index.call(null,self__.bitmap,bit);var key_or_nil=self__.arr[2*idx];var val_or_node=self__.arr[2*idx+1];if(key_or_nil==null)return val_or_node.inode_find(shift+5,hash,key,not_found);else if(cljs.core.key_test.call(null,key,key_or_nil))return new cljs.core.PersistentVector(null,
2,5,cljs.core.PersistentVector.EMPTY_NODE,[key_or_nil,val_or_node],null);else if(new cljs.core.Keyword(null,"else","else",1017020587))return not_found;else return null}};
cljs.core.BitmapIndexedNode.prototype.inode_without=function(shift,hash,key){var self__=this;var inode=this;var bit=1<<(hash>>>shift&31);if((self__.bitmap&bit)===0)return inode;else{var idx=cljs.core.bitmap_indexed_node_index.call(null,self__.bitmap,bit);var key_or_nil=self__.arr[2*idx];var val_or_node=self__.arr[2*idx+1];if(key_or_nil==null){var n=val_or_node.inode_without(shift+5,hash,key);if(n===val_or_node)return inode;else if(!(n==null))return new cljs.core.BitmapIndexedNode(null,self__.bitmap,
cljs.core.clone_and_set.call(null,self__.arr,2*idx+1,n));else if(self__.bitmap===bit)return null;else if(new cljs.core.Keyword(null,"else","else",1017020587))return new cljs.core.BitmapIndexedNode(null,self__.bitmap^bit,cljs.core.remove_pair.call(null,self__.arr,idx));else return null}else if(cljs.core.key_test.call(null,key,key_or_nil))return new cljs.core.BitmapIndexedNode(null,self__.bitmap^bit,cljs.core.remove_pair.call(null,self__.arr,idx));else if(new cljs.core.Keyword(null,"else","else",1017020587))return inode;
else return null}};cljs.core.__GT_BitmapIndexedNode=function __GT_BitmapIndexedNode(edit,bitmap,arr){return new cljs.core.BitmapIndexedNode(edit,bitmap,arr)};cljs.core.BitmapIndexedNode.EMPTY=new cljs.core.BitmapIndexedNode(null,0,[]);
cljs.core.pack_array_node=function pack_array_node(array_node,edit,idx){var arr=array_node.arr;var len=2*(array_node.cnt-1);var new_arr=new Array(len);var i=0;var j=1;var bitmap=0;while(true){if(i<len)if(!(i===idx)&&!(arr[i]==null)){new_arr[j]=arr[i];var G__19633=i+1;var G__19634=j+2;var G__19635=bitmap|1<<i;i=G__19633;j=G__19634;bitmap=G__19635;continue}else{var G__19636=i+1;var G__19637=j;var G__19638=bitmap;i=G__19636;j=G__19637;bitmap=G__19638;continue}else return new cljs.core.BitmapIndexedNode(edit,
bitmap,new_arr);break}};cljs.core.ArrayNode=function(edit,cnt,arr){this.edit=edit;this.cnt=cnt;this.arr=arr};cljs.core.ArrayNode.cljs$lang$type=true;cljs.core.ArrayNode.cljs$lang$ctorStr="cljs.core/ArrayNode";cljs.core.ArrayNode.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/ArrayNode")};
cljs.core.ArrayNode.prototype.ensure_editable=function(e){var self__=this;var inode=this;if(e===self__.edit)return inode;else return new cljs.core.ArrayNode(e,self__.cnt,cljs.core.aclone.call(null,self__.arr))};
cljs.core.ArrayNode.prototype.inode_without_BANG_=function(edit__$1,shift,hash,key,removed_leaf_QMARK_){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(node==null)return inode;else{var n=node.inode_without_BANG_(edit__$1,shift+5,hash,key,removed_leaf_QMARK_);if(n===node)return inode;else if(n==null)if(self__.cnt<=8)return cljs.core.pack_array_node.call(null,inode,edit__$1,idx);else{var editable=cljs.core.edit_and_set.call(null,inode,edit__$1,idx,n);editable.cnt=
editable.cnt-1;return editable}else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.core.edit_and_set.call(null,inode,edit__$1,idx,n);else return null}};cljs.core.ArrayNode.prototype.inode_seq=function(){var self__=this;var inode=this;return cljs.core.create_array_node_seq.call(null,self__.arr)};
cljs.core.ArrayNode.prototype.kv_reduce=function(f,init){var self__=this;var inode=this;var len=self__.arr.length;var i=0;var init__$1=init;while(true){if(i<len){var node=self__.arr[i];if(!(node==null)){var init__$2=node.kv_reduce(f,init__$1);if(cljs.core.reduced_QMARK_.call(null,init__$2))return cljs.core.deref.call(null,init__$2);else{var G__19639=i+1;var G__19640=init__$2;i=G__19639;init__$1=G__19640;continue}}else{var G__19641=i+1;var G__19642=init__$1;i=G__19641;init__$1=G__19642;continue}}else return init__$1;
break}};cljs.core.ArrayNode.prototype.inode_lookup=function(shift,hash,key,not_found){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(!(node==null))return node.inode_lookup(shift+5,hash,key,not_found);else return not_found};
cljs.core.ArrayNode.prototype.inode_assoc_BANG_=function(edit__$1,shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(node==null){var editable=cljs.core.edit_and_set.call(null,inode,edit__$1,idx,cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit__$1,shift+5,hash,key,val,added_leaf_QMARK_));editable.cnt=editable.cnt+1;return editable}else{var n=node.inode_assoc_BANG_(edit__$1,shift+5,hash,key,val,added_leaf_QMARK_);if(n===node)return inode;
else return cljs.core.edit_and_set.call(null,inode,edit__$1,idx,n)}};
cljs.core.ArrayNode.prototype.inode_assoc=function(shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(node==null)return new cljs.core.ArrayNode(null,self__.cnt+1,cljs.core.clone_and_set.call(null,self__.arr,idx,cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift+5,hash,key,val,added_leaf_QMARK_)));else{var n=node.inode_assoc(shift+5,hash,key,val,added_leaf_QMARK_);if(n===node)return inode;else return new cljs.core.ArrayNode(null,
self__.cnt,cljs.core.clone_and_set.call(null,self__.arr,idx,n))}};cljs.core.ArrayNode.prototype.inode_find=function(shift,hash,key,not_found){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(!(node==null))return node.inode_find(shift+5,hash,key,not_found);else return not_found};
cljs.core.ArrayNode.prototype.inode_without=function(shift,hash,key){var self__=this;var inode=this;var idx=hash>>>shift&31;var node=self__.arr[idx];if(!(node==null)){var n=node.inode_without(shift+5,hash,key);if(n===node)return inode;else if(n==null)if(self__.cnt<=8)return cljs.core.pack_array_node.call(null,inode,null,idx);else return new cljs.core.ArrayNode(null,self__.cnt-1,cljs.core.clone_and_set.call(null,self__.arr,idx,n));else if(new cljs.core.Keyword(null,"else","else",1017020587))return new cljs.core.ArrayNode(null,
self__.cnt,cljs.core.clone_and_set.call(null,self__.arr,idx,n));else return null}else return inode};cljs.core.__GT_ArrayNode=function __GT_ArrayNode(edit,cnt,arr){return new cljs.core.ArrayNode(edit,cnt,arr)};cljs.core.hash_collision_node_find_index=function hash_collision_node_find_index(arr,cnt,key){var lim=2*cnt;var i=0;while(true){if(i<lim)if(cljs.core.key_test.call(null,key,arr[i]))return i;else{var G__19643=i+2;i=G__19643;continue}else return-1;break}};
cljs.core.HashCollisionNode=function(edit,collision_hash,cnt,arr){this.edit=edit;this.collision_hash=collision_hash;this.cnt=cnt;this.arr=arr};cljs.core.HashCollisionNode.cljs$lang$type=true;cljs.core.HashCollisionNode.cljs$lang$ctorStr="cljs.core/HashCollisionNode";cljs.core.HashCollisionNode.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/HashCollisionNode")};
cljs.core.HashCollisionNode.prototype.ensure_editable=function(e){var self__=this;var inode=this;if(e===self__.edit)return inode;else{var new_arr=new Array(2*(self__.cnt+1));cljs.core.array_copy.call(null,self__.arr,0,new_arr,0,2*self__.cnt);return new cljs.core.HashCollisionNode(e,self__.collision_hash,self__.cnt,new_arr)}};
cljs.core.HashCollisionNode.prototype.inode_without_BANG_=function(edit__$1,shift,hash,key,removed_leaf_QMARK_){var self__=this;var inode=this;var idx=cljs.core.hash_collision_node_find_index.call(null,self__.arr,self__.cnt,key);if(idx===-1)return inode;else{removed_leaf_QMARK_[0]=true;if(self__.cnt===1)return null;else{var editable=inode.ensure_editable(edit__$1);var earr=editable.arr;earr[idx]=earr[2*self__.cnt-2];earr[idx+1]=earr[2*self__.cnt-1];earr[2*self__.cnt-1]=null;earr[2*self__.cnt-2]=null;
editable.cnt=editable.cnt-1;return editable}}};cljs.core.HashCollisionNode.prototype.inode_seq=function(){var self__=this;var inode=this;return cljs.core.create_inode_seq.call(null,self__.arr)};cljs.core.HashCollisionNode.prototype.kv_reduce=function(f,init){var self__=this;var inode=this;return cljs.core.inode_kv_reduce.call(null,self__.arr,f,init)};
cljs.core.HashCollisionNode.prototype.inode_lookup=function(shift,hash,key,not_found){var self__=this;var inode=this;var idx=cljs.core.hash_collision_node_find_index.call(null,self__.arr,self__.cnt,key);if(idx<0)return not_found;else if(cljs.core.key_test.call(null,key,self__.arr[idx]))return self__.arr[idx+1];else if(new cljs.core.Keyword(null,"else","else",1017020587))return not_found;else return null};
cljs.core.HashCollisionNode.prototype.inode_assoc_BANG_=function(edit__$1,shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;if(hash===self__.collision_hash){var idx=cljs.core.hash_collision_node_find_index.call(null,self__.arr,self__.cnt,key);if(idx===-1)if(self__.arr.length>2*self__.cnt){var editable=cljs.core.edit_and_set.call(null,inode,edit__$1,2*self__.cnt,key,2*self__.cnt+1,val);added_leaf_QMARK_.val=true;editable.cnt=editable.cnt+1;return editable}else{var len=self__.arr.length;
var new_arr=new Array(len+2);cljs.core.array_copy.call(null,self__.arr,0,new_arr,0,len);new_arr[len]=key;new_arr[len+1]=val;added_leaf_QMARK_.val=true;return inode.ensure_editable_array(edit__$1,self__.cnt+1,new_arr)}else if(self__.arr[idx+1]===val)return inode;else return cljs.core.edit_and_set.call(null,inode,edit__$1,idx+1,val)}else return(new cljs.core.BitmapIndexedNode(edit__$1,1<<(self__.collision_hash>>>shift&31),[null,inode,null,null])).inode_assoc_BANG_(edit__$1,shift,hash,key,val,added_leaf_QMARK_)};
cljs.core.HashCollisionNode.prototype.inode_assoc=function(shift,hash,key,val,added_leaf_QMARK_){var self__=this;var inode=this;if(hash===self__.collision_hash){var idx=cljs.core.hash_collision_node_find_index.call(null,self__.arr,self__.cnt,key);if(idx===-1){var len=2*self__.cnt;var new_arr=new Array(len+2);cljs.core.array_copy.call(null,self__.arr,0,new_arr,0,len);new_arr[len]=key;new_arr[len+1]=val;added_leaf_QMARK_.val=true;return new cljs.core.HashCollisionNode(null,self__.collision_hash,self__.cnt+
1,new_arr)}else if(cljs.core._EQ_.call(null,self__.arr[idx],val))return inode;else return new cljs.core.HashCollisionNode(null,self__.collision_hash,self__.cnt,cljs.core.clone_and_set.call(null,self__.arr,idx+1,val))}else return(new cljs.core.BitmapIndexedNode(null,1<<(self__.collision_hash>>>shift&31),[null,inode])).inode_assoc(shift,hash,key,val,added_leaf_QMARK_)};
cljs.core.HashCollisionNode.prototype.ensure_editable_array=function(e,count,array){var self__=this;var inode=this;if(e===self__.edit){self__.arr=array;self__.cnt=count;return inode}else return new cljs.core.HashCollisionNode(self__.edit,self__.collision_hash,count,array)};
cljs.core.HashCollisionNode.prototype.inode_find=function(shift,hash,key,not_found){var self__=this;var inode=this;var idx=cljs.core.hash_collision_node_find_index.call(null,self__.arr,self__.cnt,key);if(idx<0)return not_found;else if(cljs.core.key_test.call(null,key,self__.arr[idx]))return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.arr[idx],self__.arr[idx+1]],null);else if(new cljs.core.Keyword(null,"else","else",1017020587))return not_found;else return null};
cljs.core.HashCollisionNode.prototype.inode_without=function(shift,hash,key){var self__=this;var inode=this;var idx=cljs.core.hash_collision_node_find_index.call(null,self__.arr,self__.cnt,key);if(idx===-1)return inode;else if(self__.cnt===1)return null;else if(new cljs.core.Keyword(null,"else","else",1017020587))return new cljs.core.HashCollisionNode(null,self__.collision_hash,self__.cnt-1,cljs.core.remove_pair.call(null,self__.arr,cljs.core.quot.call(null,idx,2)));else return null};
cljs.core.__GT_HashCollisionNode=function __GT_HashCollisionNode(edit,collision_hash,cnt,arr){return new cljs.core.HashCollisionNode(edit,collision_hash,cnt,arr)};
cljs.core.create_node=function(){var create_node=null;var create_node__6=function(shift,key1,val1,key2hash,key2,val2){var key1hash=cljs.core.hash.call(null,key1);if(key1hash===key2hash)return new cljs.core.HashCollisionNode(null,key1hash,2,[key1,val1,key2,val2]);else{var added_leaf_QMARK_=new cljs.core.Box(false);return cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(shift,key1hash,key1,val1,added_leaf_QMARK_).inode_assoc(shift,key2hash,key2,val2,added_leaf_QMARK_)}};var create_node__7=function(edit,
shift,key1,val1,key2hash,key2,val2){var key1hash=cljs.core.hash.call(null,key1);if(key1hash===key2hash)return new cljs.core.HashCollisionNode(null,key1hash,2,[key1,val1,key2,val2]);else{var added_leaf_QMARK_=new cljs.core.Box(false);return cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(edit,shift,key1hash,key1,val1,added_leaf_QMARK_).inode_assoc_BANG_(edit,shift,key2hash,key2,val2,added_leaf_QMARK_)}};create_node=function(edit,shift,key1,val1,key2hash,key2,val2){switch(arguments.length){case 6:return create_node__6.call(this,
edit,shift,key1,val1,key2hash,key2);case 7:return create_node__7.call(this,edit,shift,key1,val1,key2hash,key2,val2)}throw new Error("Invalid arity: "+arguments.length);};create_node.cljs$core$IFn$_invoke$arity$6=create_node__6;create_node.cljs$core$IFn$_invoke$arity$7=create_node__7;return create_node}();
cljs.core.NodeSeq=function(meta,nodes,i,s,__hash){this.meta=meta;this.nodes=nodes;this.i=i;this.s=s;this.__hash=__hash;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=32374860};cljs.core.NodeSeq.cljs$lang$type=true;cljs.core.NodeSeq.cljs$lang$ctorStr="cljs.core/NodeSeq";cljs.core.NodeSeq.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/NodeSeq")};
cljs.core.NodeSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.NodeSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.NodeSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};cljs.core.NodeSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.NodeSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__.meta)};cljs.core.NodeSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,coll__$1)};
cljs.core.NodeSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,start,coll__$1)};cljs.core.NodeSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.s==null)return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.nodes[self__.i],self__.nodes[self__.i+1]],null);else return cljs.core.first.call(null,self__.s)};
cljs.core.NodeSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.s==null)return cljs.core.create_inode_seq.call(null,self__.nodes,self__.i+2,null);else return cljs.core.create_inode_seq.call(null,self__.nodes,self__.i,cljs.core.next.call(null,self__.s))};cljs.core.NodeSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(this$){var self__=this;var this$__$1=this;return this$__$1};
cljs.core.NodeSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.NodeSeq(meta__$1,self__.nodes,self__.i,self__.s,self__.__hash)};cljs.core.NodeSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.call(null,o,coll__$1)};cljs.core.__GT_NodeSeq=function __GT_NodeSeq(meta,nodes,i,s,__hash){return new cljs.core.NodeSeq(meta,nodes,i,s,__hash)};
cljs.core.create_inode_seq=function(){var create_inode_seq=null;var create_inode_seq__1=function(nodes){return create_inode_seq.call(null,nodes,0,null)};var create_inode_seq__3=function(nodes,i,s){if(s==null){var len=nodes.length;var j=i;while(true){if(j<len)if(!(nodes[j]==null))return new cljs.core.NodeSeq(null,nodes,j,null,null);else{var temp__4124__auto__=nodes[j+1];if(cljs.core.truth_(temp__4124__auto__)){var node=temp__4124__auto__;var temp__4124__auto____$1=node.inode_seq();if(cljs.core.truth_(temp__4124__auto____$1)){var node_seq=
temp__4124__auto____$1;return new cljs.core.NodeSeq(null,nodes,j+2,node_seq,null)}else{var G__19644=j+2;j=G__19644;continue}}else{var G__19645=j+2;j=G__19645;continue}}else return null;break}}else return new cljs.core.NodeSeq(null,nodes,i,s,null)};create_inode_seq=function(nodes,i,s){switch(arguments.length){case 1:return create_inode_seq__1.call(this,nodes);case 3:return create_inode_seq__3.call(this,nodes,i,s)}throw new Error("Invalid arity: "+arguments.length);};create_inode_seq.cljs$core$IFn$_invoke$arity$1=
create_inode_seq__1;create_inode_seq.cljs$core$IFn$_invoke$arity$3=create_inode_seq__3;return create_inode_seq}();cljs.core.ArrayNodeSeq=function(meta,nodes,i,s,__hash){this.meta=meta;this.nodes=nodes;this.i=i;this.s=s;this.__hash=__hash;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=32374860};cljs.core.ArrayNodeSeq.cljs$lang$type=true;cljs.core.ArrayNodeSeq.cljs$lang$ctorStr="cljs.core/ArrayNodeSeq";
cljs.core.ArrayNodeSeq.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/ArrayNodeSeq")};cljs.core.ArrayNodeSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.ArrayNodeSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};cljs.core.ArrayNodeSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__.meta)};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,coll__$1)};cljs.core.ArrayNodeSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,start,coll__$1)};cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.first.call(null,self__.s)};
cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.create_array_node_seq.call(null,null,self__.nodes,self__.i,cljs.core.next.call(null,self__.s))};cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(this$){var self__=this;var this$__$1=this;return this$__$1};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.ArrayNodeSeq(meta__$1,self__.nodes,self__.i,self__.s,self__.__hash)};cljs.core.ArrayNodeSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.call(null,o,coll__$1)};
cljs.core.__GT_ArrayNodeSeq=function __GT_ArrayNodeSeq(meta,nodes,i,s,__hash){return new cljs.core.ArrayNodeSeq(meta,nodes,i,s,__hash)};
cljs.core.create_array_node_seq=function(){var create_array_node_seq=null;var create_array_node_seq__1=function(nodes){return create_array_node_seq.call(null,null,nodes,0,null)};var create_array_node_seq__4=function(meta,nodes,i,s){if(s==null){var len=nodes.length;var j=i;while(true){if(j<len){var temp__4124__auto__=nodes[j];if(cljs.core.truth_(temp__4124__auto__)){var nj=temp__4124__auto__;var temp__4124__auto____$1=nj.inode_seq();if(cljs.core.truth_(temp__4124__auto____$1)){var ns=temp__4124__auto____$1;
return new cljs.core.ArrayNodeSeq(meta,nodes,j+1,ns,null)}else{var G__19646=j+1;j=G__19646;continue}}else{var G__19647=j+1;j=G__19647;continue}}else return null;break}}else return new cljs.core.ArrayNodeSeq(meta,nodes,i,s,null)};create_array_node_seq=function(meta,nodes,i,s){switch(arguments.length){case 1:return create_array_node_seq__1.call(this,meta);case 4:return create_array_node_seq__4.call(this,meta,nodes,i,s)}throw new Error("Invalid arity: "+arguments.length);};create_array_node_seq.cljs$core$IFn$_invoke$arity$1=
create_array_node_seq__1;create_array_node_seq.cljs$core$IFn$_invoke$arity$4=create_array_node_seq__4;return create_array_node_seq}();cljs.core.PersistentHashMap=function(meta,cnt,root,has_nil_QMARK_,nil_val,__hash){this.meta=meta;this.cnt=cnt;this.root=root;this.has_nil_QMARK_=has_nil_QMARK_;this.nil_val=nil_val;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=16123663;this.cljs$lang$protocol_mask$partition1$=8196};cljs.core.PersistentHashMap.cljs$lang$type=true;
cljs.core.PersistentHashMap.cljs$lang$ctorStr="cljs.core/PersistentHashMap";cljs.core.PersistentHashMap.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/PersistentHashMap")};cljs.core.PersistentHashMap.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};
cljs.core.PersistentHashMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.call(null,coll__$1,k,null)};
cljs.core.PersistentHashMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;if(k==null)if(self__.has_nil_QMARK_)return self__.nil_val;else return not_found;else if(self__.root==null)return not_found;else if(new cljs.core.Keyword(null,"else","else",1017020587))return self__.root.inode_lookup(0,cljs.core.hash.call(null,k),k,not_found);else return null};
cljs.core.PersistentHashMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(coll,f,init){var self__=this;var coll__$1=this;var init__$1=self__.has_nil_QMARK_?f.call(null,init,null,self__.nil_val):init;if(cljs.core.reduced_QMARK_.call(null,init__$1))return cljs.core.deref.call(null,init__$1);else if(!(self__.root==null))return self__.root.kv_reduce(f,init__$1);else if(new cljs.core.Keyword(null,"else","else",1017020587))return init__$1;else return null};
cljs.core.PersistentHashMap.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentHashMap.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentHashMap(self__.meta,self__.cnt,self__.root,self__.has_nil_QMARK_,self__.nil_val,self__.__hash)};
cljs.core.PersistentHashMap.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.cnt};cljs.core.PersistentHashMap.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_imap.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.PersistentHashMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_map.call(null,coll__$1,other)};cljs.core.PersistentHashMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.TransientHashMap(function(){var obj19650={};return obj19650}(),self__.root,self__.cnt,self__.has_nil_QMARK_,self__.nil_val)};
cljs.core.PersistentHashMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._with_meta.call(null,cljs.core.PersistentHashMap.EMPTY,self__.meta)};
cljs.core.PersistentHashMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(coll,k){var self__=this;var coll__$1=this;if(k==null)if(self__.has_nil_QMARK_)return new cljs.core.PersistentHashMap(self__.meta,self__.cnt-1,self__.root,false,null,null);else return coll__$1;else if(self__.root==null)return coll__$1;else if(new cljs.core.Keyword(null,"else","else",1017020587)){var new_root=self__.root.inode_without(0,cljs.core.hash.call(null,k),k);if(new_root===self__.root)return coll__$1;else return new cljs.core.PersistentHashMap(self__.meta,
self__.cnt-1,new_root,self__.has_nil_QMARK_,self__.nil_val,null)}else return null};
cljs.core.PersistentHashMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,k,v){var self__=this;var coll__$1=this;if(k==null)if(self__.has_nil_QMARK_&&v===self__.nil_val)return coll__$1;else return new cljs.core.PersistentHashMap(self__.meta,self__.has_nil_QMARK_?self__.cnt:self__.cnt+1,self__.root,true,v,null);else{var added_leaf_QMARK_=new cljs.core.Box(false);var new_root=(self__.root==null?cljs.core.BitmapIndexedNode.EMPTY:self__.root).inode_assoc(0,cljs.core.hash.call(null,k),
k,v,added_leaf_QMARK_);if(new_root===self__.root)return coll__$1;else return new cljs.core.PersistentHashMap(self__.meta,added_leaf_QMARK_.val?self__.cnt+1:self__.cnt,new_root,self__.has_nil_QMARK_,self__.nil_val,null)}};
cljs.core.PersistentHashMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(coll,k){var self__=this;var coll__$1=this;if(k==null)return self__.has_nil_QMARK_;else if(self__.root==null)return false;else if(new cljs.core.Keyword(null,"else","else",1017020587))return!(self__.root.inode_lookup(0,cljs.core.hash.call(null,k),k,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel);else return null};
cljs.core.PersistentHashMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt>0){var s=!(self__.root==null)?self__.root.inode_seq():null;if(self__.has_nil_QMARK_)return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[null,self__.nil_val],null),s);else return s}else return null};
cljs.core.PersistentHashMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentHashMap(meta__$1,self__.cnt,self__.root,self__.has_nil_QMARK_,self__.nil_val,self__.__hash)};
cljs.core.PersistentHashMap.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,entry){var self__=this;var coll__$1=this;if(cljs.core.vector_QMARK_.call(null,entry))return cljs.core._assoc.call(null,coll__$1,cljs.core._nth.call(null,entry,0),cljs.core._nth.call(null,entry,1));else return cljs.core.reduce.call(null,cljs.core._conj,coll__$1,entry)};
cljs.core.PersistentHashMap.prototype.call=function(){var G__19651=null;var G__19651__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__19651__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__19651=function(self__,k,not_found){switch(arguments.length){case 2:return G__19651__2.call(this,self__,k);case 3:return G__19651__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19651}();cljs.core.PersistentHashMap.prototype.apply=function(self__,args19648){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19648)))};cljs.core.PersistentHashMap.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};
cljs.core.PersistentHashMap.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};cljs.core.__GT_PersistentHashMap=function __GT_PersistentHashMap(meta,cnt,root,has_nil_QMARK_,nil_val,__hash){return new cljs.core.PersistentHashMap(meta,cnt,root,has_nil_QMARK_,nil_val,__hash)};cljs.core.PersistentHashMap.EMPTY=new cljs.core.PersistentHashMap(null,0,null,false,null,0);
cljs.core.PersistentHashMap.fromArrays=function(ks,vs){var len=ks.length;var i=0;var out=cljs.core.transient$.call(null,cljs.core.PersistentHashMap.EMPTY);while(true){if(i<len){var G__19652=i+1;var G__19653=cljs.core._assoc_BANG_.call(null,out,ks[i],vs[i]);i=G__19652;out=G__19653;continue}else return cljs.core.persistent_BANG_.call(null,out);break}};
cljs.core.TransientHashMap=function(edit,root,count,has_nil_QMARK_,nil_val){this.edit=edit;this.root=root;this.count=count;this.has_nil_QMARK_=has_nil_QMARK_;this.nil_val=nil_val;this.cljs$lang$protocol_mask$partition1$=56;this.cljs$lang$protocol_mask$partition0$=258};cljs.core.TransientHashMap.cljs$lang$type=true;cljs.core.TransientHashMap.cljs$lang$ctorStr="cljs.core/TransientHashMap";
cljs.core.TransientHashMap.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/TransientHashMap")};cljs.core.TransientHashMap.prototype.cljs$core$ITransientMap$_dissoc_BANG_$arity$2=function(tcoll,key){var self__=this;var tcoll__$1=this;return tcoll__$1.without_BANG_(key)};
cljs.core.TransientHashMap.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3=function(tcoll,key,val){var self__=this;var tcoll__$1=this;return tcoll__$1.assoc_BANG_(key,val)};cljs.core.TransientHashMap.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(tcoll,val){var self__=this;var tcoll__$1=this;return tcoll__$1.conj_BANG_(val)};
cljs.core.TransientHashMap.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;return tcoll__$1.persistent_BANG_()};cljs.core.TransientHashMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(tcoll,k){var self__=this;var tcoll__$1=this;if(k==null)if(self__.has_nil_QMARK_)return self__.nil_val;else return null;else if(self__.root==null)return null;else return self__.root.inode_lookup(0,cljs.core.hash.call(null,k),k)};
cljs.core.TransientHashMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(tcoll,k,not_found){var self__=this;var tcoll__$1=this;if(k==null)if(self__.has_nil_QMARK_)return self__.nil_val;else return not_found;else if(self__.root==null)return not_found;else return self__.root.inode_lookup(0,cljs.core.hash.call(null,k),k,not_found)};
cljs.core.TransientHashMap.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.edit)return self__.count;else throw new Error("count after persistent!");};
cljs.core.TransientHashMap.prototype.conj_BANG_=function(o){var self__=this;var tcoll=this;if(self__.edit)if(function(){var G__19654=o;if(G__19654){var bit__4128__auto__=G__19654.cljs$lang$protocol_mask$partition0$&2048;if(bit__4128__auto__||G__19654.cljs$core$IMapEntry$)return true;else if(!G__19654.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IMapEntry,G__19654);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IMapEntry,
G__19654)}())return tcoll.assoc_BANG_(cljs.core.key.call(null,o),cljs.core.val.call(null,o));else{var es=cljs.core.seq.call(null,o);var tcoll__$1=tcoll;while(true){var temp__4124__auto__=cljs.core.first.call(null,es);if(cljs.core.truth_(temp__4124__auto__)){var e=temp__4124__auto__;var G__19655=cljs.core.next.call(null,es);var G__19656=tcoll__$1.assoc_BANG_(cljs.core.key.call(null,e),cljs.core.val.call(null,e));es=G__19655;tcoll__$1=G__19656;continue}else return tcoll__$1;break}}else throw new Error("conj! after persistent");
};
cljs.core.TransientHashMap.prototype.assoc_BANG_=function(k,v){var self__=this;var tcoll=this;if(self__.edit)if(k==null){if(self__.nil_val===v);else self__.nil_val=v;if(self__.has_nil_QMARK_);else{self__.count=self__.count+1;self__.has_nil_QMARK_=true}return tcoll}else{var added_leaf_QMARK_=new cljs.core.Box(false);var node=(self__.root==null?cljs.core.BitmapIndexedNode.EMPTY:self__.root).inode_assoc_BANG_(self__.edit,0,cljs.core.hash.call(null,k),k,v,added_leaf_QMARK_);if(node===self__.root);else self__.root=node;
if(added_leaf_QMARK_.val)self__.count=self__.count+1;else;return tcoll}else throw new Error("assoc! after persistent!");};
cljs.core.TransientHashMap.prototype.without_BANG_=function(k){var self__=this;var tcoll=this;if(self__.edit)if(k==null)if(self__.has_nil_QMARK_){self__.has_nil_QMARK_=false;self__.nil_val=null;self__.count=self__.count-1;return tcoll}else return tcoll;else if(self__.root==null)return tcoll;else{var removed_leaf_QMARK_=new cljs.core.Box(false);var node=self__.root.inode_without_BANG_(self__.edit,0,cljs.core.hash.call(null,k),k,removed_leaf_QMARK_);if(node===self__.root);else self__.root=node;if(cljs.core.truth_(removed_leaf_QMARK_[0]))self__.count=
self__.count-1;else;return tcoll}else throw new Error("dissoc! after persistent!");};cljs.core.TransientHashMap.prototype.persistent_BANG_=function(){var self__=this;var tcoll=this;if(self__.edit){self__.edit=null;return new cljs.core.PersistentHashMap(null,self__.count,self__.root,self__.has_nil_QMARK_,self__.nil_val,null)}else throw new Error("persistent! called twice");};
cljs.core.__GT_TransientHashMap=function __GT_TransientHashMap(edit,root,count,has_nil_QMARK_,nil_val){return new cljs.core.TransientHashMap(edit,root,count,has_nil_QMARK_,nil_val)};cljs.core.tree_map_seq_push=function tree_map_seq_push(node,stack,ascending_QMARK_){var t=node;var stack__$1=stack;while(true){if(!(t==null)){var G__19657=ascending_QMARK_?t.left:t.right;var G__19658=cljs.core.conj.call(null,stack__$1,t);t=G__19657;stack__$1=G__19658;continue}else return stack__$1;break}};
cljs.core.PersistentTreeMapSeq=function(meta,stack,ascending_QMARK_,cnt,__hash){this.meta=meta;this.stack=stack;this.ascending_QMARK_=ascending_QMARK_;this.cnt=cnt;this.__hash=__hash;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=32374862};cljs.core.PersistentTreeMapSeq.cljs$lang$type=true;cljs.core.PersistentTreeMapSeq.cljs$lang$ctorStr="cljs.core/PersistentTreeMapSeq";
cljs.core.PersistentTreeMapSeq.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/PersistentTreeMapSeq")};cljs.core.PersistentTreeMapSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt<0)return cljs.core.count.call(null,cljs.core.next.call(null,coll__$1))+1;else return self__.cnt};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__.meta)};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,coll__$1)};cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,start,coll__$1)};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeq$_first$arity$1=function(this$){var self__=this;var this$__$1=this;return cljs.core.peek.call(null,self__.stack)};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(this$){var self__=this;var this$__$1=this;var t=cljs.core.first.call(null,self__.stack);var next_stack=cljs.core.tree_map_seq_push.call(null,self__.ascending_QMARK_?t.right:t.left,cljs.core.next.call(null,self__.stack),self__.ascending_QMARK_);if(!(next_stack==null))return new cljs.core.PersistentTreeMapSeq(null,next_stack,self__.ascending_QMARK_,self__.cnt-1,null);else return cljs.core.List.EMPTY};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(this$){var self__=this;var this$__$1=this;return this$__$1};cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeMapSeq(meta__$1,self__.stack,self__.ascending_QMARK_,self__.cnt,self__.__hash)};
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.call(null,o,coll__$1)};cljs.core.__GT_PersistentTreeMapSeq=function __GT_PersistentTreeMapSeq(meta,stack,ascending_QMARK_,cnt,__hash){return new cljs.core.PersistentTreeMapSeq(meta,stack,ascending_QMARK_,cnt,__hash)};
cljs.core.create_tree_map_seq=function create_tree_map_seq(tree,ascending_QMARK_,cnt){return new cljs.core.PersistentTreeMapSeq(null,cljs.core.tree_map_seq_push.call(null,tree,null,ascending_QMARK_),ascending_QMARK_,cnt,null)};
cljs.core.balance_left=function balance_left(key,val,ins,right){if(ins instanceof cljs.core.RedNode)if(ins.left instanceof cljs.core.RedNode)return new cljs.core.RedNode(ins.key,ins.val,ins.left.blacken(),new cljs.core.BlackNode(key,val,ins.right,right,null),null);else if(ins.right instanceof cljs.core.RedNode)return new cljs.core.RedNode(ins.right.key,ins.right.val,new cljs.core.BlackNode(ins.key,ins.val,ins.left,ins.right.left,null),new cljs.core.BlackNode(key,val,ins.right.right,right,null),null);
else if(new cljs.core.Keyword(null,"else","else",1017020587))return new cljs.core.BlackNode(key,val,ins,right,null);else return null;else return new cljs.core.BlackNode(key,val,ins,right,null)};
cljs.core.balance_right=function balance_right(key,val,left,ins){if(ins instanceof cljs.core.RedNode)if(ins.right instanceof cljs.core.RedNode)return new cljs.core.RedNode(ins.key,ins.val,new cljs.core.BlackNode(key,val,left,ins.left,null),ins.right.blacken(),null);else if(ins.left instanceof cljs.core.RedNode)return new cljs.core.RedNode(ins.left.key,ins.left.val,new cljs.core.BlackNode(key,val,left,ins.left.left,null),new cljs.core.BlackNode(ins.key,ins.val,ins.left.right,ins.right,null),null);
else if(new cljs.core.Keyword(null,"else","else",1017020587))return new cljs.core.BlackNode(key,val,left,ins,null);else return null;else return new cljs.core.BlackNode(key,val,left,ins,null)};
cljs.core.balance_left_del=function balance_left_del(key,val,del,right){if(del instanceof cljs.core.RedNode)return new cljs.core.RedNode(key,val,del.blacken(),right,null);else if(right instanceof cljs.core.BlackNode)return cljs.core.balance_right.call(null,key,val,del,right.redden());else if(right instanceof cljs.core.RedNode&&right.left instanceof cljs.core.BlackNode)return new cljs.core.RedNode(right.left.key,right.left.val,new cljs.core.BlackNode(key,val,del,right.left.left,null),cljs.core.balance_right.call(null,
right.key,right.val,right.left.right,right.right.redden()),null);else if(new cljs.core.Keyword(null,"else","else",1017020587))throw new Error("red-black tree invariant violation");else return null};
cljs.core.balance_right_del=function balance_right_del(key,val,left,del){if(del instanceof cljs.core.RedNode)return new cljs.core.RedNode(key,val,left,del.blacken(),null);else if(left instanceof cljs.core.BlackNode)return cljs.core.balance_left.call(null,key,val,left.redden(),del);else if(left instanceof cljs.core.RedNode&&left.right instanceof cljs.core.BlackNode)return new cljs.core.RedNode(left.right.key,left.right.val,cljs.core.balance_left.call(null,left.key,left.val,left.left.redden(),left.right.left),
new cljs.core.BlackNode(key,val,left.right.right,del,null),null);else if(new cljs.core.Keyword(null,"else","else",1017020587))throw new Error("red-black tree invariant violation");else return null};
cljs.core.tree_map_kv_reduce=function tree_map_kv_reduce(node,f,init){var init__$1=!(node.left==null)?tree_map_kv_reduce.call(null,node.left,f,init):init;if(cljs.core.reduced_QMARK_.call(null,init__$1))return cljs.core.deref.call(null,init__$1);else{var init__$2=f.call(null,init__$1,node.key,node.val);if(cljs.core.reduced_QMARK_.call(null,init__$2))return cljs.core.deref.call(null,init__$2);else{var init__$3=!(node.right==null)?tree_map_kv_reduce.call(null,node.right,f,init__$2):init__$2;if(cljs.core.reduced_QMARK_.call(null,
init__$3))return cljs.core.deref.call(null,init__$3);else return init__$3}}};cljs.core.BlackNode=function(key,val,left,right,__hash){this.key=key;this.val=val;this.left=left;this.right=right;this.__hash=__hash;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=32402207};cljs.core.BlackNode.cljs$lang$type=true;cljs.core.BlackNode.cljs$lang$ctorStr="cljs.core/BlackNode";
cljs.core.BlackNode.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/BlackNode")};cljs.core.BlackNode.prototype.add_right=function(ins){var self__=this;var node=this;return ins.balance_right(node)};cljs.core.BlackNode.prototype.redden=function(){var self__=this;var node=this;return new cljs.core.RedNode(self__.key,self__.val,self__.left,self__.right,null)};
cljs.core.BlackNode.prototype.blacken=function(){var self__=this;var node=this;return node};cljs.core.BlackNode.prototype.add_left=function(ins){var self__=this;var node=this;return ins.balance_left(node)};cljs.core.BlackNode.prototype.replace=function(key__$1,val__$1,left__$1,right__$1){var self__=this;var node=this;return new cljs.core.BlackNode(key__$1,val__$1,left__$1,right__$1,null)};
cljs.core.BlackNode.prototype.balance_left=function(parent){var self__=this;var node=this;return new cljs.core.BlackNode(parent.key,parent.val,node,parent.right,null)};cljs.core.BlackNode.prototype.balance_right=function(parent){var self__=this;var node=this;return new cljs.core.BlackNode(parent.key,parent.val,parent.left,node,null)};cljs.core.BlackNode.prototype.remove_left=function(del){var self__=this;var node=this;return cljs.core.balance_left_del.call(null,self__.key,self__.val,del,self__.right)};
cljs.core.BlackNode.prototype.kv_reduce=function(f,init){var self__=this;var node=this;return cljs.core.tree_map_kv_reduce.call(null,node,f,init)};cljs.core.BlackNode.prototype.remove_right=function(del){var self__=this;var node=this;return cljs.core.balance_right_del.call(null,self__.key,self__.val,self__.left,del)};cljs.core.BlackNode.prototype.cljs$core$ILookup$_lookup$arity$2=function(node,k){var self__=this;var node__$1=this;return cljs.core._nth.call(null,node__$1,k,null)};
cljs.core.BlackNode.prototype.cljs$core$ILookup$_lookup$arity$3=function(node,k,not_found){var self__=this;var node__$1=this;return cljs.core._nth.call(null,node__$1,k,not_found)};cljs.core.BlackNode.prototype.cljs$core$IIndexed$_nth$arity$2=function(node,n){var self__=this;var node__$1=this;if(n===0)return self__.key;else if(n===1)return self__.val;else if(new cljs.core.Keyword(null,"else","else",1017020587))return null;else return null};
cljs.core.BlackNode.prototype.cljs$core$IIndexed$_nth$arity$3=function(node,n,not_found){var self__=this;var node__$1=this;if(n===0)return self__.key;else if(n===1)return self__.val;else if(new cljs.core.Keyword(null,"else","else",1017020587))return not_found;else return null};
cljs.core.BlackNode.prototype.cljs$core$IVector$_assoc_n$arity$3=function(node,n,v){var self__=this;var node__$1=this;return(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null)).cljs$core$IVector$_assoc_n$arity$3(null,n,v)};cljs.core.BlackNode.prototype.cljs$core$IMeta$_meta$arity$1=function(node){var self__=this;var node__$1=this;return null};
cljs.core.BlackNode.prototype.cljs$core$ICounted$_count$arity$1=function(node){var self__=this;var node__$1=this;return 2};cljs.core.BlackNode.prototype.cljs$core$IMapEntry$_key$arity$1=function(node){var self__=this;var node__$1=this;return self__.key};cljs.core.BlackNode.prototype.cljs$core$IMapEntry$_val$arity$1=function(node){var self__=this;var node__$1=this;return self__.val};cljs.core.BlackNode.prototype.cljs$core$IStack$_peek$arity$1=function(node){var self__=this;var node__$1=this;return self__.val};
cljs.core.BlackNode.prototype.cljs$core$IStack$_pop$arity$1=function(node){var self__=this;var node__$1=this;return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key],null)};
cljs.core.BlackNode.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};cljs.core.BlackNode.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.BlackNode.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(node){var self__=this;var node__$1=this;return cljs.core.PersistentVector.EMPTY};cljs.core.BlackNode.prototype.cljs$core$IReduce$_reduce$arity$2=function(node,f){var self__=this;var node__$1=this;return cljs.core.ci_reduce.call(null,node__$1,f)};cljs.core.BlackNode.prototype.cljs$core$IReduce$_reduce$arity$3=function(node,f,start){var self__=this;var node__$1=this;return cljs.core.ci_reduce.call(null,node__$1,f,start)};
cljs.core.BlackNode.prototype.cljs$core$IAssociative$_assoc$arity$3=function(node,k,v){var self__=this;var node__$1=this;return cljs.core.assoc.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null),k,v)};cljs.core.BlackNode.prototype.cljs$core$ISeqable$_seq$arity$1=function(node){var self__=this;var node__$1=this;return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,self__.val),self__.key)};
cljs.core.BlackNode.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(node,meta){var self__=this;var node__$1=this;return cljs.core.with_meta.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null),meta)};
cljs.core.BlackNode.prototype.cljs$core$ICollection$_conj$arity$2=function(node,o){var self__=this;var node__$1=this;return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val,o],null)};
cljs.core.BlackNode.prototype.call=function(){var G__19660=null;var G__19660__2=function(self__,k){var self__=this;var self____$1=this;var node=self____$1;return node.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__19660__3=function(self__,k,not_found){var self__=this;var self____$1=this;var node=self____$1;return node.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__19660=function(self__,k,not_found){switch(arguments.length){case 2:return G__19660__2.call(this,self__,k);case 3:return G__19660__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19660}();cljs.core.BlackNode.prototype.apply=function(self__,args19659){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19659)))};cljs.core.BlackNode.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var node=this;return node.cljs$core$ILookup$_lookup$arity$2(null,k)};
cljs.core.BlackNode.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var node=this;return node.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};cljs.core.__GT_BlackNode=function __GT_BlackNode(key,val,left,right,__hash){return new cljs.core.BlackNode(key,val,left,right,__hash)};
cljs.core.RedNode=function(key,val,left,right,__hash){this.key=key;this.val=val;this.left=left;this.right=right;this.__hash=__hash;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=32402207};cljs.core.RedNode.cljs$lang$type=true;cljs.core.RedNode.cljs$lang$ctorStr="cljs.core/RedNode";cljs.core.RedNode.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/RedNode")};
cljs.core.RedNode.prototype.add_right=function(ins){var self__=this;var node=this;return new cljs.core.RedNode(self__.key,self__.val,self__.left,ins,null)};cljs.core.RedNode.prototype.redden=function(){var self__=this;var node=this;throw new Error("red-black tree invariant violation");};cljs.core.RedNode.prototype.blacken=function(){var self__=this;var node=this;return new cljs.core.BlackNode(self__.key,self__.val,self__.left,self__.right,null)};
cljs.core.RedNode.prototype.add_left=function(ins){var self__=this;var node=this;return new cljs.core.RedNode(self__.key,self__.val,ins,self__.right,null)};cljs.core.RedNode.prototype.replace=function(key__$1,val__$1,left__$1,right__$1){var self__=this;var node=this;return new cljs.core.RedNode(key__$1,val__$1,left__$1,right__$1,null)};
cljs.core.RedNode.prototype.balance_left=function(parent){var self__=this;var node=this;if(self__.left instanceof cljs.core.RedNode)return new cljs.core.RedNode(self__.key,self__.val,self__.left.blacken(),new cljs.core.BlackNode(parent.key,parent.val,self__.right,parent.right,null),null);else if(self__.right instanceof cljs.core.RedNode)return new cljs.core.RedNode(self__.right.key,self__.right.val,new cljs.core.BlackNode(self__.key,self__.val,self__.left,self__.right.left,null),new cljs.core.BlackNode(parent.key,
parent.val,self__.right.right,parent.right,null),null);else if(new cljs.core.Keyword(null,"else","else",1017020587))return new cljs.core.BlackNode(parent.key,parent.val,node,parent.right,null);else return null};
cljs.core.RedNode.prototype.balance_right=function(parent){var self__=this;var node=this;if(self__.right instanceof cljs.core.RedNode)return new cljs.core.RedNode(self__.key,self__.val,new cljs.core.BlackNode(parent.key,parent.val,parent.left,self__.left,null),self__.right.blacken(),null);else if(self__.left instanceof cljs.core.RedNode)return new cljs.core.RedNode(self__.left.key,self__.left.val,new cljs.core.BlackNode(parent.key,parent.val,parent.left,self__.left.left,null),new cljs.core.BlackNode(self__.key,
self__.val,self__.left.right,self__.right,null),null);else if(new cljs.core.Keyword(null,"else","else",1017020587))return new cljs.core.BlackNode(parent.key,parent.val,parent.left,node,null);else return null};cljs.core.RedNode.prototype.remove_left=function(del){var self__=this;var node=this;return new cljs.core.RedNode(self__.key,self__.val,del,self__.right,null)};
cljs.core.RedNode.prototype.kv_reduce=function(f,init){var self__=this;var node=this;return cljs.core.tree_map_kv_reduce.call(null,node,f,init)};cljs.core.RedNode.prototype.remove_right=function(del){var self__=this;var node=this;return new cljs.core.RedNode(self__.key,self__.val,self__.left,del,null)};cljs.core.RedNode.prototype.cljs$core$ILookup$_lookup$arity$2=function(node,k){var self__=this;var node__$1=this;return cljs.core._nth.call(null,node__$1,k,null)};
cljs.core.RedNode.prototype.cljs$core$ILookup$_lookup$arity$3=function(node,k,not_found){var self__=this;var node__$1=this;return cljs.core._nth.call(null,node__$1,k,not_found)};cljs.core.RedNode.prototype.cljs$core$IIndexed$_nth$arity$2=function(node,n){var self__=this;var node__$1=this;if(n===0)return self__.key;else if(n===1)return self__.val;else if(new cljs.core.Keyword(null,"else","else",1017020587))return null;else return null};
cljs.core.RedNode.prototype.cljs$core$IIndexed$_nth$arity$3=function(node,n,not_found){var self__=this;var node__$1=this;if(n===0)return self__.key;else if(n===1)return self__.val;else if(new cljs.core.Keyword(null,"else","else",1017020587))return not_found;else return null};
cljs.core.RedNode.prototype.cljs$core$IVector$_assoc_n$arity$3=function(node,n,v){var self__=this;var node__$1=this;return(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null)).cljs$core$IVector$_assoc_n$arity$3(null,n,v)};cljs.core.RedNode.prototype.cljs$core$IMeta$_meta$arity$1=function(node){var self__=this;var node__$1=this;return null};
cljs.core.RedNode.prototype.cljs$core$ICounted$_count$arity$1=function(node){var self__=this;var node__$1=this;return 2};cljs.core.RedNode.prototype.cljs$core$IMapEntry$_key$arity$1=function(node){var self__=this;var node__$1=this;return self__.key};cljs.core.RedNode.prototype.cljs$core$IMapEntry$_val$arity$1=function(node){var self__=this;var node__$1=this;return self__.val};cljs.core.RedNode.prototype.cljs$core$IStack$_peek$arity$1=function(node){var self__=this;var node__$1=this;return self__.val};
cljs.core.RedNode.prototype.cljs$core$IStack$_pop$arity$1=function(node){var self__=this;var node__$1=this;return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key],null)};
cljs.core.RedNode.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};cljs.core.RedNode.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.RedNode.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(node){var self__=this;var node__$1=this;return cljs.core.PersistentVector.EMPTY};cljs.core.RedNode.prototype.cljs$core$IReduce$_reduce$arity$2=function(node,f){var self__=this;var node__$1=this;return cljs.core.ci_reduce.call(null,node__$1,f)};cljs.core.RedNode.prototype.cljs$core$IReduce$_reduce$arity$3=function(node,f,start){var self__=this;var node__$1=this;return cljs.core.ci_reduce.call(null,node__$1,f,start)};
cljs.core.RedNode.prototype.cljs$core$IAssociative$_assoc$arity$3=function(node,k,v){var self__=this;var node__$1=this;return cljs.core.assoc.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null),k,v)};cljs.core.RedNode.prototype.cljs$core$ISeqable$_seq$arity$1=function(node){var self__=this;var node__$1=this;return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,self__.val),self__.key)};
cljs.core.RedNode.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(node,meta){var self__=this;var node__$1=this;return cljs.core.with_meta.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val],null),meta)};cljs.core.RedNode.prototype.cljs$core$ICollection$_conj$arity$2=function(node,o){var self__=this;var node__$1=this;return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.key,self__.val,o],null)};
cljs.core.RedNode.prototype.call=function(){var G__19662=null;var G__19662__2=function(self__,k){var self__=this;var self____$1=this;var node=self____$1;return node.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__19662__3=function(self__,k,not_found){var self__=this;var self____$1=this;var node=self____$1;return node.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__19662=function(self__,k,not_found){switch(arguments.length){case 2:return G__19662__2.call(this,self__,k);case 3:return G__19662__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19662}();cljs.core.RedNode.prototype.apply=function(self__,args19661){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19661)))};cljs.core.RedNode.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var node=this;return node.cljs$core$ILookup$_lookup$arity$2(null,k)};
cljs.core.RedNode.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var node=this;return node.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};cljs.core.__GT_RedNode=function __GT_RedNode(key,val,left,right,__hash){return new cljs.core.RedNode(key,val,left,right,__hash)};
cljs.core.tree_map_add=function tree_map_add(comp,tree,k,v,found){if(tree==null)return new cljs.core.RedNode(k,v,null,null,null);else{var c=comp.call(null,k,tree.key);if(c===0){found[0]=tree;return null}else if(c<0){var ins=tree_map_add.call(null,comp,tree.left,k,v,found);if(!(ins==null))return tree.add_left(ins);else return null}else if(new cljs.core.Keyword(null,"else","else",1017020587)){var ins=tree_map_add.call(null,comp,tree.right,k,v,found);if(!(ins==null))return tree.add_right(ins);else return null}else return null}};
cljs.core.tree_map_append=function tree_map_append(left,right){if(left==null)return right;else if(right==null)return left;else if(left instanceof cljs.core.RedNode)if(right instanceof cljs.core.RedNode){var app=tree_map_append.call(null,left.right,right.left);if(app instanceof cljs.core.RedNode)return new cljs.core.RedNode(app.key,app.val,new cljs.core.RedNode(left.key,left.val,left.left,app.left,null),new cljs.core.RedNode(right.key,right.val,app.right,right.right,null),null);else return new cljs.core.RedNode(left.key,
left.val,left.left,new cljs.core.RedNode(right.key,right.val,app,right.right,null),null)}else return new cljs.core.RedNode(left.key,left.val,left.left,tree_map_append.call(null,left.right,right),null);else if(right instanceof cljs.core.RedNode)return new cljs.core.RedNode(right.key,right.val,tree_map_append.call(null,left,right.left),right.right,null);else if(new cljs.core.Keyword(null,"else","else",1017020587)){var app=tree_map_append.call(null,left.right,right.left);if(app instanceof cljs.core.RedNode)return new cljs.core.RedNode(app.key,
app.val,new cljs.core.BlackNode(left.key,left.val,left.left,app.left,null),new cljs.core.BlackNode(right.key,right.val,app.right,right.right,null),null);else return cljs.core.balance_left_del.call(null,left.key,left.val,left.left,new cljs.core.BlackNode(right.key,right.val,app,right.right,null))}else return null};
cljs.core.tree_map_remove=function tree_map_remove(comp,tree,k,found){if(!(tree==null)){var c=comp.call(null,k,tree.key);if(c===0){found[0]=tree;return cljs.core.tree_map_append.call(null,tree.left,tree.right)}else if(c<0){var del=tree_map_remove.call(null,comp,tree.left,k,found);if(!(del==null)||!(found[0]==null))if(tree.left instanceof cljs.core.BlackNode)return cljs.core.balance_left_del.call(null,tree.key,tree.val,del,tree.right);else return new cljs.core.RedNode(tree.key,tree.val,del,tree.right,
null);else return null}else if(new cljs.core.Keyword(null,"else","else",1017020587)){var del=tree_map_remove.call(null,comp,tree.right,k,found);if(!(del==null)||!(found[0]==null))if(tree.right instanceof cljs.core.BlackNode)return cljs.core.balance_right_del.call(null,tree.key,tree.val,tree.left,del);else return new cljs.core.RedNode(tree.key,tree.val,tree.left,del,null);else return null}else return null}else return null};
cljs.core.tree_map_replace=function tree_map_replace(comp,tree,k,v){var tk=tree.key;var c=comp.call(null,k,tk);if(c===0)return tree.replace(tk,v,tree.left,tree.right);else if(c<0)return tree.replace(tk,tree.val,tree_map_replace.call(null,comp,tree.left,k,v),tree.right);else if(new cljs.core.Keyword(null,"else","else",1017020587))return tree.replace(tk,tree.val,tree.left,tree_map_replace.call(null,comp,tree.right,k,v));else return null};
cljs.core.PersistentTreeMap=function(comp,tree,cnt,meta,__hash){this.comp=comp;this.tree=tree;this.cnt=cnt;this.meta=meta;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=418776847;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.PersistentTreeMap.cljs$lang$type=true;cljs.core.PersistentTreeMap.cljs$lang$ctorStr="cljs.core/PersistentTreeMap";
cljs.core.PersistentTreeMap.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/PersistentTreeMap")};cljs.core.PersistentTreeMap.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};
cljs.core.PersistentTreeMap.prototype.entry_at=function(k){var self__=this;var coll=this;var t=self__.tree;while(true){if(!(t==null)){var c=self__.comp.call(null,k,t.key);if(c===0)return t;else if(c<0){var G__19664=t.left;t=G__19664;continue}else if(new cljs.core.Keyword(null,"else","else",1017020587)){var G__19665=t.right;t=G__19665;continue}else return null}else return null;break}};
cljs.core.PersistentTreeMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,k){var self__=this;var coll__$1=this;return cljs.core._lookup.call(null,coll__$1,k,null)};cljs.core.PersistentTreeMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,k,not_found){var self__=this;var coll__$1=this;var n=coll__$1.entry_at(k);if(!(n==null))return n.val;else return not_found};
cljs.core.PersistentTreeMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(coll,f,init){var self__=this;var coll__$1=this;if(!(self__.tree==null))return cljs.core.tree_map_kv_reduce.call(null,self__.tree,f,init);else return init};cljs.core.PersistentTreeMap.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};
cljs.core.PersistentTreeMap.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentTreeMap(self__.comp,self__.tree,self__.cnt,self__.meta,self__.__hash)};cljs.core.PersistentTreeMap.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.cnt};
cljs.core.PersistentTreeMap.prototype.cljs$core$IReversible$_rseq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt>0)return cljs.core.create_tree_map_seq.call(null,self__.tree,false,self__.cnt);else return null};
cljs.core.PersistentTreeMap.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_imap.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.PersistentTreeMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_map.call(null,coll__$1,other)};cljs.core.PersistentTreeMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.PersistentTreeMap.EMPTY,self__.meta)};
cljs.core.PersistentTreeMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(coll,k){var self__=this;var coll__$1=this;var found=[null];var t=cljs.core.tree_map_remove.call(null,self__.comp,self__.tree,k,found);if(t==null)if(cljs.core.nth.call(null,found,0)==null)return coll__$1;else return new cljs.core.PersistentTreeMap(self__.comp,null,0,self__.meta,null);else return new cljs.core.PersistentTreeMap(self__.comp,t.blacken(),self__.cnt-1,self__.meta,null)};
cljs.core.PersistentTreeMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(coll,k,v){var self__=this;var coll__$1=this;var found=[null];var t=cljs.core.tree_map_add.call(null,self__.comp,self__.tree,k,v,found);if(t==null){var found_node=cljs.core.nth.call(null,found,0);if(cljs.core._EQ_.call(null,v,found_node.val))return coll__$1;else return new cljs.core.PersistentTreeMap(self__.comp,cljs.core.tree_map_replace.call(null,self__.comp,self__.tree,k,v),self__.cnt,self__.meta,null)}else return new cljs.core.PersistentTreeMap(self__.comp,
t.blacken(),self__.cnt+1,self__.meta,null)};cljs.core.PersistentTreeMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(coll,k){var self__=this;var coll__$1=this;return!(coll__$1.entry_at(k)==null)};cljs.core.PersistentTreeMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;if(self__.cnt>0)return cljs.core.create_tree_map_seq.call(null,self__.tree,true,self__.cnt);else return null};
cljs.core.PersistentTreeMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeMap(self__.comp,self__.tree,self__.cnt,meta__$1,self__.__hash)};
cljs.core.PersistentTreeMap.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,entry){var self__=this;var coll__$1=this;if(cljs.core.vector_QMARK_.call(null,entry))return cljs.core._assoc.call(null,coll__$1,cljs.core._nth.call(null,entry,0),cljs.core._nth.call(null,entry,1));else return cljs.core.reduce.call(null,cljs.core._conj,coll__$1,entry)};
cljs.core.PersistentTreeMap.prototype.call=function(){var G__19666=null;var G__19666__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__19666__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__19666=function(self__,k,not_found){switch(arguments.length){case 2:return G__19666__2.call(this,self__,k);case 3:return G__19666__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19666}();cljs.core.PersistentTreeMap.prototype.apply=function(self__,args19663){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19663)))};cljs.core.PersistentTreeMap.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};
cljs.core.PersistentTreeMap.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_sorted_seq$arity$2=function(coll,ascending_QMARK_){var self__=this;var coll__$1=this;if(self__.cnt>0)return cljs.core.create_tree_map_seq.call(null,self__.tree,ascending_QMARK_,self__.cnt);else return null};
cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_sorted_seq_from$arity$3=function(coll,k,ascending_QMARK_){var self__=this;var coll__$1=this;if(self__.cnt>0){var stack=null;var t=self__.tree;while(true){if(!(t==null)){var c=self__.comp.call(null,k,t.key);if(c===0)return new cljs.core.PersistentTreeMapSeq(null,cljs.core.conj.call(null,stack,t),ascending_QMARK_,-1,null);else if(cljs.core.truth_(ascending_QMARK_))if(c<0){var G__19667=cljs.core.conj.call(null,stack,t);var G__19668=t.left;stack=
G__19667;t=G__19668;continue}else{var G__19669=stack;var G__19670=t.right;stack=G__19669;t=G__19670;continue}else if(new cljs.core.Keyword(null,"else","else",1017020587))if(c>0){var G__19671=cljs.core.conj.call(null,stack,t);var G__19672=t.right;stack=G__19671;t=G__19672;continue}else{var G__19673=stack;var G__19674=t.left;stack=G__19673;t=G__19674;continue}else return null}else if(stack==null)return null;else return new cljs.core.PersistentTreeMapSeq(null,stack,ascending_QMARK_,-1,null);break}}else return null};
cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_entry_key$arity$2=function(coll,entry){var self__=this;var coll__$1=this;return cljs.core.key.call(null,entry)};cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_comparator$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.comp};cljs.core.__GT_PersistentTreeMap=function __GT_PersistentTreeMap(comp,tree,cnt,meta,__hash){return new cljs.core.PersistentTreeMap(comp,tree,cnt,meta,__hash)};
cljs.core.PersistentTreeMap.EMPTY=new cljs.core.PersistentTreeMap(cljs.core.compare,null,0,null,0);
cljs.core.hash_map=function(){var hash_map__delegate=function(keyvals){var in$=cljs.core.seq.call(null,keyvals);var out=cljs.core.transient$.call(null,cljs.core.PersistentHashMap.EMPTY);while(true){if(in$){var G__19675=cljs.core.nnext.call(null,in$);var G__19676=cljs.core.assoc_BANG_.call(null,out,cljs.core.first.call(null,in$),cljs.core.second.call(null,in$));in$=G__19675;out=G__19676;continue}else return cljs.core.persistent_BANG_.call(null,out);break}};var hash_map=function(var_args){var keyvals=
null;if(arguments.length>0)keyvals=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return hash_map__delegate.call(this,keyvals)};hash_map.cljs$lang$maxFixedArity=0;hash_map.cljs$lang$applyTo=function(arglist__19677){var keyvals=cljs.core.seq(arglist__19677);return hash_map__delegate(keyvals)};hash_map.cljs$core$IFn$_invoke$arity$variadic=hash_map__delegate;return hash_map}();
cljs.core.array_map=function(){var array_map__delegate=function(keyvals){return new cljs.core.PersistentArrayMap(null,cljs.core.quot.call(null,cljs.core.count.call(null,keyvals),2),cljs.core.apply.call(null,cljs.core.array,keyvals),null)};var array_map=function(var_args){var keyvals=null;if(arguments.length>0)keyvals=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return array_map__delegate.call(this,keyvals)};array_map.cljs$lang$maxFixedArity=0;array_map.cljs$lang$applyTo=function(arglist__19678){var keyvals=
cljs.core.seq(arglist__19678);return array_map__delegate(keyvals)};array_map.cljs$core$IFn$_invoke$arity$variadic=array_map__delegate;return array_map}();
cljs.core.obj_map=function(){var obj_map__delegate=function(keyvals){var ks=[];var obj=function(){var obj19682={};return obj19682}();var kvs=cljs.core.seq.call(null,keyvals);while(true){if(kvs){ks.push(cljs.core.first.call(null,kvs));obj[cljs.core.first.call(null,kvs)]=cljs.core.second.call(null,kvs);var G__19683=cljs.core.nnext.call(null,kvs);kvs=G__19683;continue}else return cljs.core.ObjMap.fromObject.call(null,ks,obj);break}};var obj_map=function(var_args){var keyvals=null;if(arguments.length>
0)keyvals=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return obj_map__delegate.call(this,keyvals)};obj_map.cljs$lang$maxFixedArity=0;obj_map.cljs$lang$applyTo=function(arglist__19684){var keyvals=cljs.core.seq(arglist__19684);return obj_map__delegate(keyvals)};obj_map.cljs$core$IFn$_invoke$arity$variadic=obj_map__delegate;return obj_map}();
cljs.core.sorted_map=function(){var sorted_map__delegate=function(keyvals){var in$=cljs.core.seq.call(null,keyvals);var out=cljs.core.PersistentTreeMap.EMPTY;while(true){if(in$){var G__19685=cljs.core.nnext.call(null,in$);var G__19686=cljs.core.assoc.call(null,out,cljs.core.first.call(null,in$),cljs.core.second.call(null,in$));in$=G__19685;out=G__19686;continue}else return out;break}};var sorted_map=function(var_args){var keyvals=null;if(arguments.length>0)keyvals=cljs.core.array_seq(Array.prototype.slice.call(arguments,
0),0);return sorted_map__delegate.call(this,keyvals)};sorted_map.cljs$lang$maxFixedArity=0;sorted_map.cljs$lang$applyTo=function(arglist__19687){var keyvals=cljs.core.seq(arglist__19687);return sorted_map__delegate(keyvals)};sorted_map.cljs$core$IFn$_invoke$arity$variadic=sorted_map__delegate;return sorted_map}();
cljs.core.sorted_map_by=function(){var sorted_map_by__delegate=function(comparator,keyvals){var in$=cljs.core.seq.call(null,keyvals);var out=new cljs.core.PersistentTreeMap(cljs.core.fn__GT_comparator.call(null,comparator),null,0,null,0);while(true){if(in$){var G__19688=cljs.core.nnext.call(null,in$);var G__19689=cljs.core.assoc.call(null,out,cljs.core.first.call(null,in$),cljs.core.second.call(null,in$));in$=G__19688;out=G__19689;continue}else return out;break}};var sorted_map_by=function(comparator,
var_args){var keyvals=null;if(arguments.length>1)keyvals=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return sorted_map_by__delegate.call(this,comparator,keyvals)};sorted_map_by.cljs$lang$maxFixedArity=1;sorted_map_by.cljs$lang$applyTo=function(arglist__19690){var comparator=cljs.core.first(arglist__19690);var keyvals=cljs.core.rest(arglist__19690);return sorted_map_by__delegate(comparator,keyvals)};sorted_map_by.cljs$core$IFn$_invoke$arity$variadic=sorted_map_by__delegate;return sorted_map_by}();
cljs.core.KeySeq=function(mseq,_meta){this.mseq=mseq;this._meta=_meta;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=32374988};cljs.core.KeySeq.cljs$lang$type=true;cljs.core.KeySeq.cljs$lang$ctorStr="cljs.core/KeySeq";cljs.core.KeySeq.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/KeySeq")};
cljs.core.KeySeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.KeySeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__._meta};
cljs.core.KeySeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;var nseq=function(){var G__19691=self__.mseq;if(G__19691){var bit__4128__auto__=G__19691.cljs$lang$protocol_mask$partition0$&128;if(bit__4128__auto__||G__19691.cljs$core$INext$)return true;else if(!G__19691.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.INext,G__19691);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.INext,
G__19691)}()?cljs.core._next.call(null,self__.mseq):cljs.core.next.call(null,self__.mseq);if(nseq==null)return null;else return new cljs.core.KeySeq(nseq,self__._meta)};cljs.core.KeySeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.hash_coll.call(null,coll__$1)};cljs.core.KeySeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.KeySeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__._meta)};cljs.core.KeySeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,coll__$1)};
cljs.core.KeySeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,start,coll__$1)};cljs.core.KeySeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;var me=cljs.core._first.call(null,self__.mseq);return cljs.core._key.call(null,me)};
cljs.core.KeySeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;var nseq=function(){var G__19692=self__.mseq;if(G__19692){var bit__4128__auto__=G__19692.cljs$lang$protocol_mask$partition0$&128;if(bit__4128__auto__||G__19692.cljs$core$INext$)return true;else if(!G__19692.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.INext,G__19692);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.INext,
G__19692)}()?cljs.core._next.call(null,self__.mseq):cljs.core.next.call(null,self__.mseq);if(!(nseq==null))return new cljs.core.KeySeq(nseq,self__._meta);else return cljs.core.List.EMPTY};cljs.core.KeySeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.KeySeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,new_meta){var self__=this;var coll__$1=this;return new cljs.core.KeySeq(self__.mseq,new_meta)};
cljs.core.KeySeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.call(null,o,coll__$1)};cljs.core.__GT_KeySeq=function __GT_KeySeq(mseq,_meta){return new cljs.core.KeySeq(mseq,_meta)};cljs.core.keys=function keys(hash_map){var temp__4126__auto__=cljs.core.seq.call(null,hash_map);if(temp__4126__auto__){var mseq=temp__4126__auto__;return new cljs.core.KeySeq(mseq,null)}else return null};
cljs.core.key=function key(map_entry){return cljs.core._key.call(null,map_entry)};cljs.core.ValSeq=function(mseq,_meta){this.mseq=mseq;this._meta=_meta;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=32374988};cljs.core.ValSeq.cljs$lang$type=true;cljs.core.ValSeq.cljs$lang$ctorStr="cljs.core/ValSeq";cljs.core.ValSeq.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/ValSeq")};
cljs.core.ValSeq.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};cljs.core.ValSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__._meta};
cljs.core.ValSeq.prototype.cljs$core$INext$_next$arity$1=function(coll){var self__=this;var coll__$1=this;var nseq=function(){var G__19693=self__.mseq;if(G__19693){var bit__4128__auto__=G__19693.cljs$lang$protocol_mask$partition0$&128;if(bit__4128__auto__||G__19693.cljs$core$INext$)return true;else if(!G__19693.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.INext,G__19693);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.INext,
G__19693)}()?cljs.core._next.call(null,self__.mseq):cljs.core.next.call(null,self__.mseq);if(nseq==null)return null;else return new cljs.core.ValSeq(nseq,self__._meta)};cljs.core.ValSeq.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.hash_coll.call(null,coll__$1)};cljs.core.ValSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.equiv_sequential.call(null,coll__$1,other)};
cljs.core.ValSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__._meta)};cljs.core.ValSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(coll,f){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,coll__$1)};
cljs.core.ValSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(coll,f,start){var self__=this;var coll__$1=this;return cljs.core.seq_reduce.call(null,f,start,coll__$1)};cljs.core.ValSeq.prototype.cljs$core$ISeq$_first$arity$1=function(coll){var self__=this;var coll__$1=this;var me=cljs.core._first.call(null,self__.mseq);return cljs.core._val.call(null,me)};
cljs.core.ValSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(coll){var self__=this;var coll__$1=this;var nseq=function(){var G__19694=self__.mseq;if(G__19694){var bit__4128__auto__=G__19694.cljs$lang$protocol_mask$partition0$&128;if(bit__4128__auto__||G__19694.cljs$core$INext$)return true;else if(!G__19694.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.INext,G__19694);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.INext,
G__19694)}()?cljs.core._next.call(null,self__.mseq):cljs.core.next.call(null,self__.mseq);if(!(nseq==null))return new cljs.core.ValSeq(nseq,self__._meta);else return cljs.core.List.EMPTY};cljs.core.ValSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return coll__$1};cljs.core.ValSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,new_meta){var self__=this;var coll__$1=this;return new cljs.core.ValSeq(self__.mseq,new_meta)};
cljs.core.ValSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return cljs.core.cons.call(null,o,coll__$1)};cljs.core.__GT_ValSeq=function __GT_ValSeq(mseq,_meta){return new cljs.core.ValSeq(mseq,_meta)};cljs.core.vals=function vals(hash_map){var temp__4126__auto__=cljs.core.seq.call(null,hash_map);if(temp__4126__auto__){var mseq=temp__4126__auto__;return new cljs.core.ValSeq(mseq,null)}else return null};
cljs.core.val=function val(map_entry){return cljs.core._val.call(null,map_entry)};
cljs.core.merge=function(){var merge__delegate=function(maps){if(cljs.core.truth_(cljs.core.some.call(null,cljs.core.identity,maps)))return cljs.core.reduce.call(null,function(p1__19695_SHARP_,p2__19696_SHARP_){return cljs.core.conj.call(null,function(){var or__3478__auto__=p1__19695_SHARP_;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return cljs.core.PersistentArrayMap.EMPTY}(),p2__19696_SHARP_)},maps);else return null};var merge=function(var_args){var maps=null;if(arguments.length>
0)maps=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return merge__delegate.call(this,maps)};merge.cljs$lang$maxFixedArity=0;merge.cljs$lang$applyTo=function(arglist__19697){var maps=cljs.core.seq(arglist__19697);return merge__delegate(maps)};merge.cljs$core$IFn$_invoke$arity$variadic=merge__delegate;return merge}();
cljs.core.merge_with=function(){var merge_with__delegate=function(f,maps){if(cljs.core.truth_(cljs.core.some.call(null,cljs.core.identity,maps))){var merge_entry=function(m,e){var k=cljs.core.first.call(null,e);var v=cljs.core.second.call(null,e);if(cljs.core.contains_QMARK_.call(null,m,k))return cljs.core.assoc.call(null,m,k,f.call(null,cljs.core.get.call(null,m,k),v));else return cljs.core.assoc.call(null,m,k,v)};var merge2=function(merge_entry){return function(m1,m2){return cljs.core.reduce.call(null,
merge_entry,function(){var or__3478__auto__=m1;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return cljs.core.PersistentArrayMap.EMPTY}(),cljs.core.seq.call(null,m2))}}(merge_entry);return cljs.core.reduce.call(null,merge2,maps)}else return null};var merge_with=function(f,var_args){var maps=null;if(arguments.length>1)maps=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return merge_with__delegate.call(this,f,maps)};merge_with.cljs$lang$maxFixedArity=1;merge_with.cljs$lang$applyTo=
function(arglist__19698){var f=cljs.core.first(arglist__19698);var maps=cljs.core.rest(arglist__19698);return merge_with__delegate(f,maps)};merge_with.cljs$core$IFn$_invoke$arity$variadic=merge_with__delegate;return merge_with}();
cljs.core.select_keys=function select_keys(map,keyseq){var ret=cljs.core.PersistentArrayMap.EMPTY;var keys=cljs.core.seq.call(null,keyseq);while(true){if(keys){var key=cljs.core.first.call(null,keys);var entry=cljs.core.get.call(null,map,key,new cljs.core.Keyword("cljs.core","not-found","cljs.core/not-found",4155500789));var G__19699=cljs.core.not_EQ_.call(null,entry,new cljs.core.Keyword("cljs.core","not-found","cljs.core/not-found",4155500789))?cljs.core.assoc.call(null,ret,key,entry):ret;var G__19700=
cljs.core.next.call(null,keys);ret=G__19699;keys=G__19700;continue}else return ret;break}};cljs.core.PersistentHashSet=function(meta,hash_map,__hash){this.meta=meta;this.hash_map=hash_map;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=15077647;this.cljs$lang$protocol_mask$partition1$=8196};cljs.core.PersistentHashSet.cljs$lang$type=true;cljs.core.PersistentHashSet.cljs$lang$ctorStr="cljs.core/PersistentHashSet";
cljs.core.PersistentHashSet.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/PersistentHashSet")};cljs.core.PersistentHashSet.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};
cljs.core.PersistentHashSet.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,v){var self__=this;var coll__$1=this;return cljs.core._lookup.call(null,coll__$1,v,null)};cljs.core.PersistentHashSet.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,v,not_found){var self__=this;var coll__$1=this;if(cljs.core._contains_key_QMARK_.call(null,self__.hash_map,v))return v;else return not_found};
cljs.core.PersistentHashSet.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentHashSet.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentHashSet(self__.meta,self__.hash_map,self__.__hash)};cljs.core.PersistentHashSet.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._count.call(null,self__.hash_map)};
cljs.core.PersistentHashSet.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_iset.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.PersistentHashSet.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.set_QMARK_.call(null,other)&&(cljs.core.count.call(null,coll__$1)===cljs.core.count.call(null,other)&&cljs.core.every_QMARK_.call(null,function(coll__$1){return function(p1__19701_SHARP_){return cljs.core.contains_QMARK_.call(null,coll__$1,p1__19701_SHARP_)}}(coll__$1),other))};
cljs.core.PersistentHashSet.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(coll){var self__=this;var coll__$1=this;return new cljs.core.TransientHashSet(cljs.core._as_transient.call(null,self__.hash_map))};cljs.core.PersistentHashSet.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.PersistentHashSet.EMPTY,self__.meta)};
cljs.core.PersistentHashSet.prototype.cljs$core$ISet$_disjoin$arity$2=function(coll,v){var self__=this;var coll__$1=this;return new cljs.core.PersistentHashSet(self__.meta,cljs.core._dissoc.call(null,self__.hash_map,v),null)};cljs.core.PersistentHashSet.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.keys.call(null,self__.hash_map)};
cljs.core.PersistentHashSet.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentHashSet(meta__$1,self__.hash_map,self__.__hash)};cljs.core.PersistentHashSet.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return new cljs.core.PersistentHashSet(self__.meta,cljs.core.assoc.call(null,self__.hash_map,o,null),null)};
cljs.core.PersistentHashSet.prototype.call=function(){var G__19703=null;var G__19703__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__19703__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__19703=function(self__,k,not_found){switch(arguments.length){case 2:return G__19703__2.call(this,self__,k);case 3:return G__19703__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19703}();cljs.core.PersistentHashSet.prototype.apply=function(self__,args19702){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19702)))};cljs.core.PersistentHashSet.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};
cljs.core.PersistentHashSet.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};cljs.core.__GT_PersistentHashSet=function __GT_PersistentHashSet(meta,hash_map,__hash){return new cljs.core.PersistentHashSet(meta,hash_map,__hash)};cljs.core.PersistentHashSet.EMPTY=new cljs.core.PersistentHashSet(null,cljs.core.PersistentArrayMap.EMPTY,0);
cljs.core.PersistentHashSet.fromArray=function(items,no_clone){var len=items.length;if(len<=cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD){var arr=no_clone?items:cljs.core.aclone.call(null,items);var i=0;var out=cljs.core.transient$.call(null,cljs.core.PersistentArrayMap.EMPTY);while(true){if(i<len){var G__19704=i+1;var G__19705=cljs.core._assoc_BANG_.call(null,out,items[i],null);i=G__19704;out=G__19705;continue}else return new cljs.core.PersistentHashSet(null,cljs.core._persistent_BANG_.call(null,
out),null);break}}else{var i=0;var out=cljs.core.transient$.call(null,cljs.core.PersistentHashSet.EMPTY);while(true){if(i<len){var G__19706=i+1;var G__19707=cljs.core._conj_BANG_.call(null,out,items[i]);i=G__19706;out=G__19707;continue}else return cljs.core._persistent_BANG_.call(null,out);break}}};cljs.core.TransientHashSet=function(transient_map){this.transient_map=transient_map;this.cljs$lang$protocol_mask$partition0$=259;this.cljs$lang$protocol_mask$partition1$=136};
cljs.core.TransientHashSet.cljs$lang$type=true;cljs.core.TransientHashSet.cljs$lang$ctorStr="cljs.core/TransientHashSet";cljs.core.TransientHashSet.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/TransientHashSet")};
cljs.core.TransientHashSet.prototype.call=function(){var G__19709=null;var G__19709__2=function(self__,k){var self__=this;var self____$1=this;var tcoll=self____$1;if(cljs.core._lookup.call(null,self__.transient_map,k,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)return null;else return k};var G__19709__3=function(self__,k,not_found){var self__=this;var self____$1=this;var tcoll=self____$1;if(cljs.core._lookup.call(null,self__.transient_map,k,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)return not_found;
else return k};G__19709=function(self__,k,not_found){switch(arguments.length){case 2:return G__19709__2.call(this,self__,k);case 3:return G__19709__3.call(this,self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19709}();cljs.core.TransientHashSet.prototype.apply=function(self__,args19708){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19708)))};
cljs.core.TransientHashSet.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var tcoll=this;if(cljs.core._lookup.call(null,self__.transient_map,k,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)return null;else return k};cljs.core.TransientHashSet.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var tcoll=this;if(cljs.core._lookup.call(null,self__.transient_map,k,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)return not_found;else return k};
cljs.core.TransientHashSet.prototype.cljs$core$ILookup$_lookup$arity$2=function(tcoll,v){var self__=this;var tcoll__$1=this;return cljs.core._lookup.call(null,tcoll__$1,v,null)};cljs.core.TransientHashSet.prototype.cljs$core$ILookup$_lookup$arity$3=function(tcoll,v,not_found){var self__=this;var tcoll__$1=this;if(cljs.core._lookup.call(null,self__.transient_map,v,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel)return not_found;else return v};
cljs.core.TransientHashSet.prototype.cljs$core$ICounted$_count$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;return cljs.core.count.call(null,self__.transient_map)};cljs.core.TransientHashSet.prototype.cljs$core$ITransientSet$_disjoin_BANG_$arity$2=function(tcoll,v){var self__=this;var tcoll__$1=this;self__.transient_map=cljs.core.dissoc_BANG_.call(null,self__.transient_map,v);return tcoll__$1};
cljs.core.TransientHashSet.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(tcoll,o){var self__=this;var tcoll__$1=this;self__.transient_map=cljs.core.assoc_BANG_.call(null,self__.transient_map,o,null);return tcoll__$1};cljs.core.TransientHashSet.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(tcoll){var self__=this;var tcoll__$1=this;return new cljs.core.PersistentHashSet(null,cljs.core.persistent_BANG_.call(null,self__.transient_map),null)};
cljs.core.__GT_TransientHashSet=function __GT_TransientHashSet(transient_map){return new cljs.core.TransientHashSet(transient_map)};cljs.core.PersistentTreeSet=function(meta,tree_map,__hash){this.meta=meta;this.tree_map=tree_map;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=417730831;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.PersistentTreeSet.cljs$lang$type=true;cljs.core.PersistentTreeSet.cljs$lang$ctorStr="cljs.core/PersistentTreeSet";
cljs.core.PersistentTreeSet.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/PersistentTreeSet")};cljs.core.PersistentTreeSet.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};
cljs.core.PersistentTreeSet.prototype.cljs$core$ILookup$_lookup$arity$2=function(coll,v){var self__=this;var coll__$1=this;return cljs.core._lookup.call(null,coll__$1,v,null)};cljs.core.PersistentTreeSet.prototype.cljs$core$ILookup$_lookup$arity$3=function(coll,v,not_found){var self__=this;var coll__$1=this;var n=self__.tree_map.entry_at(v);if(!(n==null))return n.key;else return not_found};
cljs.core.PersistentTreeSet.prototype.cljs$core$IMeta$_meta$arity$1=function(coll){var self__=this;var coll__$1=this;return self__.meta};cljs.core.PersistentTreeSet.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.PersistentTreeSet(self__.meta,self__.tree_map,self__.__hash)};cljs.core.PersistentTreeSet.prototype.cljs$core$ICounted$_count$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.count.call(null,self__.tree_map)};
cljs.core.PersistentTreeSet.prototype.cljs$core$IReversible$_rseq$arity$1=function(coll){var self__=this;var coll__$1=this;if(cljs.core.count.call(null,self__.tree_map)>0)return cljs.core.map.call(null,cljs.core.key,cljs.core.rseq.call(null,self__.tree_map));else return null};
cljs.core.PersistentTreeSet.prototype.cljs$core$IHash$_hash$arity$1=function(coll){var self__=this;var coll__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_iset.call(null,coll__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.PersistentTreeSet.prototype.cljs$core$IEquiv$_equiv$arity$2=function(coll,other){var self__=this;var coll__$1=this;return cljs.core.set_QMARK_.call(null,other)&&(cljs.core.count.call(null,coll__$1)===cljs.core.count.call(null,other)&&cljs.core.every_QMARK_.call(null,function(coll__$1){return function(p1__19710_SHARP_){return cljs.core.contains_QMARK_.call(null,coll__$1,p1__19710_SHARP_)}}(coll__$1),other))};
cljs.core.PersistentTreeSet.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.with_meta.call(null,cljs.core.PersistentTreeSet.EMPTY,self__.meta)};cljs.core.PersistentTreeSet.prototype.cljs$core$ISet$_disjoin$arity$2=function(coll,v){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeSet(self__.meta,cljs.core.dissoc.call(null,self__.tree_map,v),null)};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core.keys.call(null,self__.tree_map)};cljs.core.PersistentTreeSet.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(coll,meta__$1){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeSet(meta__$1,self__.tree_map,self__.__hash)};
cljs.core.PersistentTreeSet.prototype.cljs$core$ICollection$_conj$arity$2=function(coll,o){var self__=this;var coll__$1=this;return new cljs.core.PersistentTreeSet(self__.meta,cljs.core.assoc.call(null,self__.tree_map,o,null),null)};
cljs.core.PersistentTreeSet.prototype.call=function(){var G__19712=null;var G__19712__2=function(self__,k){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};var G__19712__3=function(self__,k,not_found){var self__=this;var self____$1=this;var coll=self____$1;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};G__19712=function(self__,k,not_found){switch(arguments.length){case 2:return G__19712__2.call(this,self__,k);case 3:return G__19712__3.call(this,
self__,k,not_found)}throw new Error("Invalid arity: "+arguments.length);};return G__19712}();cljs.core.PersistentTreeSet.prototype.apply=function(self__,args19711){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args19711)))};cljs.core.PersistentTreeSet.prototype.cljs$core$IFn$_invoke$arity$1=function(k){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$2(null,k)};
cljs.core.PersistentTreeSet.prototype.cljs$core$IFn$_invoke$arity$2=function(k,not_found){var self__=this;var coll=this;return coll.cljs$core$ILookup$_lookup$arity$3(null,k,not_found)};cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_sorted_seq$arity$2=function(coll,ascending_QMARK_){var self__=this;var coll__$1=this;return cljs.core.map.call(null,cljs.core.key,cljs.core._sorted_seq.call(null,self__.tree_map,ascending_QMARK_))};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_sorted_seq_from$arity$3=function(coll,k,ascending_QMARK_){var self__=this;var coll__$1=this;return cljs.core.map.call(null,cljs.core.key,cljs.core._sorted_seq_from.call(null,self__.tree_map,k,ascending_QMARK_))};cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_entry_key$arity$2=function(coll,entry){var self__=this;var coll__$1=this;return entry};
cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_comparator$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._comparator.call(null,self__.tree_map)};cljs.core.__GT_PersistentTreeSet=function __GT_PersistentTreeSet(meta,tree_map,__hash){return new cljs.core.PersistentTreeSet(meta,tree_map,__hash)};cljs.core.PersistentTreeSet.EMPTY=new cljs.core.PersistentTreeSet(null,cljs.core.PersistentTreeMap.EMPTY,0);
cljs.core.set_from_indexed_seq=function set_from_indexed_seq(iseq){var arr=iseq.arr;var ret=function(){var a__4320__auto__=arr;var i=0;var res=cljs.core._as_transient.call(null,cljs.core.PersistentHashSet.EMPTY);while(true){if(i<a__4320__auto__.length){var G__19713=i+1;var G__19714=cljs.core._conj_BANG_.call(null,res,arr[i]);i=G__19713;res=G__19714;continue}else return res;break}}();return cljs.core._persistent_BANG_.call(null,ret)};
cljs.core.set=function set(coll){var in$=cljs.core.seq.call(null,coll);if(in$==null)return cljs.core.PersistentHashSet.EMPTY;else if(in$ instanceof cljs.core.IndexedSeq&&in$.i===0)return cljs.core.set_from_indexed_seq.call(null,in$);else if(new cljs.core.Keyword(null,"else","else",1017020587)){var in$__$1=in$;var out=cljs.core._as_transient.call(null,cljs.core.PersistentHashSet.EMPTY);while(true){if(!(in$__$1==null)){var G__19715=cljs.core._next.call(null,in$__$1);var G__19716=cljs.core._conj_BANG_.call(null,
out,cljs.core._first.call(null,in$__$1));in$__$1=G__19715;out=G__19716;continue}else return cljs.core._persistent_BANG_.call(null,out);break}}else return null};
cljs.core.hash_set=function(){var hash_set=null;var hash_set__0=function(){return cljs.core.PersistentHashSet.EMPTY};var hash_set__1=function(){var G__19717__delegate=function(keys){return cljs.core.set.call(null,keys)};var G__19717=function(var_args){var keys=null;if(arguments.length>0)keys=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__19717__delegate.call(this,keys)};G__19717.cljs$lang$maxFixedArity=0;G__19717.cljs$lang$applyTo=function(arglist__19718){var keys=cljs.core.seq(arglist__19718);
return G__19717__delegate(keys)};G__19717.cljs$core$IFn$_invoke$arity$variadic=G__19717__delegate;return G__19717}();hash_set=function(var_args){var keys=var_args;switch(arguments.length){case 0:return hash_set__0.call(this);default:return hash_set__1.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq(arguments,0))}throw new Error("Invalid arity: "+arguments.length);};hash_set.cljs$lang$maxFixedArity=0;hash_set.cljs$lang$applyTo=hash_set__1.cljs$lang$applyTo;hash_set.cljs$core$IFn$_invoke$arity$0=
hash_set__0;hash_set.cljs$core$IFn$_invoke$arity$variadic=hash_set__1.cljs$core$IFn$_invoke$arity$variadic;return hash_set}();
cljs.core.sorted_set=function(){var sorted_set__delegate=function(keys){return cljs.core.reduce.call(null,cljs.core._conj,cljs.core.PersistentTreeSet.EMPTY,keys)};var sorted_set=function(var_args){var keys=null;if(arguments.length>0)keys=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return sorted_set__delegate.call(this,keys)};sorted_set.cljs$lang$maxFixedArity=0;sorted_set.cljs$lang$applyTo=function(arglist__19719){var keys=cljs.core.seq(arglist__19719);return sorted_set__delegate(keys)};
sorted_set.cljs$core$IFn$_invoke$arity$variadic=sorted_set__delegate;return sorted_set}();
cljs.core.sorted_set_by=function(){var sorted_set_by__delegate=function(comparator,keys){return cljs.core.reduce.call(null,cljs.core._conj,new cljs.core.PersistentTreeSet(null,cljs.core.sorted_map_by.call(null,comparator),0),keys)};var sorted_set_by=function(comparator,var_args){var keys=null;if(arguments.length>1)keys=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return sorted_set_by__delegate.call(this,comparator,keys)};sorted_set_by.cljs$lang$maxFixedArity=1;sorted_set_by.cljs$lang$applyTo=
function(arglist__19720){var comparator=cljs.core.first(arglist__19720);var keys=cljs.core.rest(arglist__19720);return sorted_set_by__delegate(comparator,keys)};sorted_set_by.cljs$core$IFn$_invoke$arity$variadic=sorted_set_by__delegate;return sorted_set_by}();
cljs.core.replace=function replace(smap,coll){if(cljs.core.vector_QMARK_.call(null,coll)){var n=cljs.core.count.call(null,coll);return cljs.core.reduce.call(null,function(n){return function(v,i){var temp__4124__auto__=cljs.core.find.call(null,smap,cljs.core.nth.call(null,v,i));if(cljs.core.truth_(temp__4124__auto__)){var e=temp__4124__auto__;return cljs.core.assoc.call(null,v,i,cljs.core.second.call(null,e))}else return v}}(n),coll,cljs.core.take.call(null,n,cljs.core.iterate.call(null,cljs.core.inc,
0)))}else return cljs.core.map.call(null,function(p1__19721_SHARP_){var temp__4124__auto__=cljs.core.find.call(null,smap,p1__19721_SHARP_);if(cljs.core.truth_(temp__4124__auto__)){var e=temp__4124__auto__;return cljs.core.second.call(null,e)}else return p1__19721_SHARP_},coll)};
cljs.core.distinct=function distinct(coll){var step=function step(xs,seen){return new cljs.core.LazySeq(null,function(){return function(p__19728,seen__$1){while(true){var vec__19729=p__19728;var f=cljs.core.nth.call(null,vec__19729,0,null);var xs__$1=vec__19729;var temp__4126__auto__=cljs.core.seq.call(null,xs__$1);if(temp__4126__auto__){var s=temp__4126__auto__;if(cljs.core.contains_QMARK_.call(null,seen__$1,f)){var G__19730=cljs.core.rest.call(null,s);var G__19731=seen__$1;p__19728=G__19730;seen__$1=
G__19731;continue}else return cljs.core.cons.call(null,f,step.call(null,cljs.core.rest.call(null,s),cljs.core.conj.call(null,seen__$1,f)))}else return null;break}}.call(null,xs,seen)},null,null)};return step.call(null,coll,cljs.core.PersistentHashSet.EMPTY)};
cljs.core.butlast=function butlast(s){var ret=cljs.core.PersistentVector.EMPTY;var s__$1=s;while(true){if(cljs.core.next.call(null,s__$1)){var G__19732=cljs.core.conj.call(null,ret,cljs.core.first.call(null,s__$1));var G__19733=cljs.core.next.call(null,s__$1);ret=G__19732;s__$1=G__19733;continue}else return cljs.core.seq.call(null,ret);break}};
cljs.core.name=function name(x){if(function(){var G__19735=x;if(G__19735){var bit__4121__auto__=G__19735.cljs$lang$protocol_mask$partition1$&4096;if(bit__4121__auto__||G__19735.cljs$core$INamed$)return true;else return false}else return false}())return cljs.core._name.call(null,x);else if(typeof x==="string")return x;else throw new Error([cljs.core.str("Doesn't support name: "),cljs.core.str(x)].join(""));};
cljs.core.zipmap=function zipmap(keys,vals){var map=cljs.core.transient$.call(null,cljs.core.PersistentArrayMap.EMPTY);var ks=cljs.core.seq.call(null,keys);var vs=cljs.core.seq.call(null,vals);while(true){if(ks&&vs){var G__19736=cljs.core.assoc_BANG_.call(null,map,cljs.core.first.call(null,ks),cljs.core.first.call(null,vs));var G__19737=cljs.core.next.call(null,ks);var G__19738=cljs.core.next.call(null,vs);map=G__19736;ks=G__19737;vs=G__19738;continue}else return cljs.core.persistent_BANG_.call(null,
map);break}};
cljs.core.max_key=function(){var max_key=null;var max_key__2=function(k,x){return x};var max_key__3=function(k,x,y){if(k.call(null,x)>k.call(null,y))return x;else return y};var max_key__4=function(){var G__19741__delegate=function(k,x,y,more){return cljs.core.reduce.call(null,function(p1__19739_SHARP_,p2__19740_SHARP_){return max_key.call(null,k,p1__19739_SHARP_,p2__19740_SHARP_)},max_key.call(null,k,x,y),more)};var G__19741=function(k,x,y,var_args){var more=null;if(arguments.length>3)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,
3),0);return G__19741__delegate.call(this,k,x,y,more)};G__19741.cljs$lang$maxFixedArity=3;G__19741.cljs$lang$applyTo=function(arglist__19742){var k=cljs.core.first(arglist__19742);arglist__19742=cljs.core.next(arglist__19742);var x=cljs.core.first(arglist__19742);arglist__19742=cljs.core.next(arglist__19742);var y=cljs.core.first(arglist__19742);var more=cljs.core.rest(arglist__19742);return G__19741__delegate(k,x,y,more)};G__19741.cljs$core$IFn$_invoke$arity$variadic=G__19741__delegate;return G__19741}();
max_key=function(k,x,y,var_args){var more=var_args;switch(arguments.length){case 2:return max_key__2.call(this,k,x);case 3:return max_key__3.call(this,k,x,y);default:return max_key__4.cljs$core$IFn$_invoke$arity$variadic(k,x,y,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};max_key.cljs$lang$maxFixedArity=3;max_key.cljs$lang$applyTo=max_key__4.cljs$lang$applyTo;max_key.cljs$core$IFn$_invoke$arity$2=max_key__2;max_key.cljs$core$IFn$_invoke$arity$3=max_key__3;
max_key.cljs$core$IFn$_invoke$arity$variadic=max_key__4.cljs$core$IFn$_invoke$arity$variadic;return max_key}();
cljs.core.min_key=function(){var min_key=null;var min_key__2=function(k,x){return x};var min_key__3=function(k,x,y){if(k.call(null,x)<k.call(null,y))return x;else return y};var min_key__4=function(){var G__19745__delegate=function(k,x,y,more){return cljs.core.reduce.call(null,function(p1__19743_SHARP_,p2__19744_SHARP_){return min_key.call(null,k,p1__19743_SHARP_,p2__19744_SHARP_)},min_key.call(null,k,x,y),more)};var G__19745=function(k,x,y,var_args){var more=null;if(arguments.length>3)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,
3),0);return G__19745__delegate.call(this,k,x,y,more)};G__19745.cljs$lang$maxFixedArity=3;G__19745.cljs$lang$applyTo=function(arglist__19746){var k=cljs.core.first(arglist__19746);arglist__19746=cljs.core.next(arglist__19746);var x=cljs.core.first(arglist__19746);arglist__19746=cljs.core.next(arglist__19746);var y=cljs.core.first(arglist__19746);var more=cljs.core.rest(arglist__19746);return G__19745__delegate(k,x,y,more)};G__19745.cljs$core$IFn$_invoke$arity$variadic=G__19745__delegate;return G__19745}();
min_key=function(k,x,y,var_args){var more=var_args;switch(arguments.length){case 2:return min_key__2.call(this,k,x);case 3:return min_key__3.call(this,k,x,y);default:return min_key__4.cljs$core$IFn$_invoke$arity$variadic(k,x,y,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};min_key.cljs$lang$maxFixedArity=3;min_key.cljs$lang$applyTo=min_key__4.cljs$lang$applyTo;min_key.cljs$core$IFn$_invoke$arity$2=min_key__2;min_key.cljs$core$IFn$_invoke$arity$3=min_key__3;
min_key.cljs$core$IFn$_invoke$arity$variadic=min_key__4.cljs$core$IFn$_invoke$arity$variadic;return min_key}();
cljs.core.partition_all=function(){var partition_all=null;var partition_all__2=function(n,coll){return partition_all.call(null,n,n,coll)};var partition_all__3=function(n,step,coll){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;return cljs.core.cons.call(null,cljs.core.take.call(null,n,s),partition_all.call(null,n,step,cljs.core.drop.call(null,step,s)))}else return null},null,null)};partition_all=function(n,
step,coll){switch(arguments.length){case 2:return partition_all__2.call(this,n,step);case 3:return partition_all__3.call(this,n,step,coll)}throw new Error("Invalid arity: "+arguments.length);};partition_all.cljs$core$IFn$_invoke$arity$2=partition_all__2;partition_all.cljs$core$IFn$_invoke$arity$3=partition_all__3;return partition_all}();
cljs.core.take_while=function take_while(pred,coll){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;if(cljs.core.truth_(pred.call(null,cljs.core.first.call(null,s))))return cljs.core.cons.call(null,cljs.core.first.call(null,s),take_while.call(null,pred,cljs.core.rest.call(null,s)));else return null}else return null},null,null)};
cljs.core.mk_bound_fn=function mk_bound_fn(sc,test,key){return function(e){var comp=cljs.core._comparator.call(null,sc);return test.call(null,comp.call(null,cljs.core._entry_key.call(null,sc,e),key),0)}};
cljs.core.subseq=function(){var subseq=null;var subseq__3=function(sc,test,key){var include=cljs.core.mk_bound_fn.call(null,sc,test,key);if(cljs.core.truth_(cljs.core.PersistentHashSet.fromArray([cljs.core._GT_,cljs.core._GT__EQ_],true).call(null,test))){var temp__4126__auto__=cljs.core._sorted_seq_from.call(null,sc,key,true);if(cljs.core.truth_(temp__4126__auto__)){var vec__19749=temp__4126__auto__;var e=cljs.core.nth.call(null,vec__19749,0,null);var s=vec__19749;if(cljs.core.truth_(include.call(null,
e)))return s;else return cljs.core.next.call(null,s)}else return null}else return cljs.core.take_while.call(null,include,cljs.core._sorted_seq.call(null,sc,true))};var subseq__5=function(sc,start_test,start_key,end_test,end_key){var temp__4126__auto__=cljs.core._sorted_seq_from.call(null,sc,start_key,true);if(cljs.core.truth_(temp__4126__auto__)){var vec__19750=temp__4126__auto__;var e=cljs.core.nth.call(null,vec__19750,0,null);var s=vec__19750;return cljs.core.take_while.call(null,cljs.core.mk_bound_fn.call(null,
sc,end_test,end_key),cljs.core.truth_(cljs.core.mk_bound_fn.call(null,sc,start_test,start_key).call(null,e))?s:cljs.core.next.call(null,s))}else return null};subseq=function(sc,start_test,start_key,end_test,end_key){switch(arguments.length){case 3:return subseq__3.call(this,sc,start_test,start_key);case 5:return subseq__5.call(this,sc,start_test,start_key,end_test,end_key)}throw new Error("Invalid arity: "+arguments.length);};subseq.cljs$core$IFn$_invoke$arity$3=subseq__3;subseq.cljs$core$IFn$_invoke$arity$5=
subseq__5;return subseq}();
cljs.core.rsubseq=function(){var rsubseq=null;var rsubseq__3=function(sc,test,key){var include=cljs.core.mk_bound_fn.call(null,sc,test,key);if(cljs.core.truth_(cljs.core.PersistentHashSet.fromArray([cljs.core._LT_,cljs.core._LT__EQ_],true).call(null,test))){var temp__4126__auto__=cljs.core._sorted_seq_from.call(null,sc,key,false);if(cljs.core.truth_(temp__4126__auto__)){var vec__19753=temp__4126__auto__;var e=cljs.core.nth.call(null,vec__19753,0,null);var s=vec__19753;if(cljs.core.truth_(include.call(null,e)))return s;
else return cljs.core.next.call(null,s)}else return null}else return cljs.core.take_while.call(null,include,cljs.core._sorted_seq.call(null,sc,false))};var rsubseq__5=function(sc,start_test,start_key,end_test,end_key){var temp__4126__auto__=cljs.core._sorted_seq_from.call(null,sc,end_key,false);if(cljs.core.truth_(temp__4126__auto__)){var vec__19754=temp__4126__auto__;var e=cljs.core.nth.call(null,vec__19754,0,null);var s=vec__19754;return cljs.core.take_while.call(null,cljs.core.mk_bound_fn.call(null,
sc,start_test,start_key),cljs.core.truth_(cljs.core.mk_bound_fn.call(null,sc,end_test,end_key).call(null,e))?s:cljs.core.next.call(null,s))}else return null};rsubseq=function(sc,start_test,start_key,end_test,end_key){switch(arguments.length){case 3:return rsubseq__3.call(this,sc,start_test,start_key);case 5:return rsubseq__5.call(this,sc,start_test,start_key,end_test,end_key)}throw new Error("Invalid arity: "+arguments.length);};rsubseq.cljs$core$IFn$_invoke$arity$3=rsubseq__3;rsubseq.cljs$core$IFn$_invoke$arity$5=
rsubseq__5;return rsubseq}();cljs.core.Range=function(meta,start,end,step,__hash){this.meta=meta;this.start=start;this.end=end;this.step=step;this.__hash=__hash;this.cljs$lang$protocol_mask$partition0$=32375006;this.cljs$lang$protocol_mask$partition1$=8192};cljs.core.Range.cljs$lang$type=true;cljs.core.Range.cljs$lang$ctorStr="cljs.core/Range";
cljs.core.Range.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/Range")};cljs.core.Range.prototype.toString=function(){var self__=this;var coll=this;return cljs.core.pr_str_STAR_.call(null,coll)};
cljs.core.Range.prototype.cljs$core$IIndexed$_nth$arity$2=function(rng,n){var self__=this;var rng__$1=this;if(n<cljs.core._count.call(null,rng__$1))return self__.start+n*self__.step;else if(self__.start>self__.end&&self__.step===0)return self__.start;else throw new Error("Index out of bounds");};
cljs.core.Range.prototype.cljs$core$IIndexed$_nth$arity$3=function(rng,n,not_found){var self__=this;var rng__$1=this;if(n<cljs.core._count.call(null,rng__$1))return self__.start+n*self__.step;else if(self__.start>self__.end&&self__.step===0)return self__.start;else return not_found};cljs.core.Range.prototype.cljs$core$IMeta$_meta$arity$1=function(rng){var self__=this;var rng__$1=this;return self__.meta};
cljs.core.Range.prototype.cljs$core$ICloneable$_clone$arity$1=function(_){var self__=this;var ___$1=this;return new cljs.core.Range(self__.meta,self__.start,self__.end,self__.step,self__.__hash)};
cljs.core.Range.prototype.cljs$core$INext$_next$arity$1=function(rng){var self__=this;var rng__$1=this;if(self__.step>0)if(self__.start+self__.step<self__.end)return new cljs.core.Range(self__.meta,self__.start+self__.step,self__.end,self__.step,null);else return null;else if(self__.start+self__.step>self__.end)return new cljs.core.Range(self__.meta,self__.start+self__.step,self__.end,self__.step,null);else return null};
cljs.core.Range.prototype.cljs$core$ICounted$_count$arity$1=function(rng){var self__=this;var rng__$1=this;if(cljs.core.not.call(null,cljs.core._seq.call(null,rng__$1)))return 0;else return Math.ceil((self__.end-self__.start)/self__.step)};
cljs.core.Range.prototype.cljs$core$IHash$_hash$arity$1=function(rng){var self__=this;var rng__$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_coll.call(null,rng__$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};cljs.core.Range.prototype.cljs$core$IEquiv$_equiv$arity$2=function(rng,other){var self__=this;var rng__$1=this;return cljs.core.equiv_sequential.call(null,rng__$1,other)};
cljs.core.Range.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(rng){var self__=this;var rng__$1=this;return cljs.core.with_meta.call(null,cljs.core.List.EMPTY,self__.meta)};cljs.core.Range.prototype.cljs$core$IReduce$_reduce$arity$2=function(rng,f){var self__=this;var rng__$1=this;return cljs.core.ci_reduce.call(null,rng__$1,f)};
cljs.core.Range.prototype.cljs$core$IReduce$_reduce$arity$3=function(rng,f,s){var self__=this;var rng__$1=this;return cljs.core.ci_reduce.call(null,rng__$1,f,s)};cljs.core.Range.prototype.cljs$core$ISeq$_first$arity$1=function(rng){var self__=this;var rng__$1=this;if(cljs.core._seq.call(null,rng__$1)==null)return null;else return self__.start};
cljs.core.Range.prototype.cljs$core$ISeq$_rest$arity$1=function(rng){var self__=this;var rng__$1=this;if(!(cljs.core._seq.call(null,rng__$1)==null))return new cljs.core.Range(self__.meta,self__.start+self__.step,self__.end,self__.step,null);else return cljs.core.List.EMPTY};
cljs.core.Range.prototype.cljs$core$ISeqable$_seq$arity$1=function(rng){var self__=this;var rng__$1=this;if(self__.step>0)if(self__.start<self__.end)return rng__$1;else return null;else if(self__.start>self__.end)return rng__$1;else return null};cljs.core.Range.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(rng,meta__$1){var self__=this;var rng__$1=this;return new cljs.core.Range(meta__$1,self__.start,self__.end,self__.step,self__.__hash)};
cljs.core.Range.prototype.cljs$core$ICollection$_conj$arity$2=function(rng,o){var self__=this;var rng__$1=this;return cljs.core.cons.call(null,o,rng__$1)};cljs.core.__GT_Range=function __GT_Range(meta,start,end,step,__hash){return new cljs.core.Range(meta,start,end,step,__hash)};
cljs.core.range=function(){var range=null;var range__0=function(){return range.call(null,0,Number.MAX_VALUE,1)};var range__1=function(end){return range.call(null,0,end,1)};var range__2=function(start,end){return range.call(null,start,end,1)};var range__3=function(start,end,step){return new cljs.core.Range(null,start,end,step,null)};range=function(start,end,step){switch(arguments.length){case 0:return range__0.call(this);case 1:return range__1.call(this,start);case 2:return range__2.call(this,start,
end);case 3:return range__3.call(this,start,end,step)}throw new Error("Invalid arity: "+arguments.length);};range.cljs$core$IFn$_invoke$arity$0=range__0;range.cljs$core$IFn$_invoke$arity$1=range__1;range.cljs$core$IFn$_invoke$arity$2=range__2;range.cljs$core$IFn$_invoke$arity$3=range__3;return range}();
cljs.core.take_nth=function take_nth(n,coll){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;return cljs.core.cons.call(null,cljs.core.first.call(null,s),take_nth.call(null,n,cljs.core.drop.call(null,n,s)))}else return null},null,null)};
cljs.core.split_with=function split_with(pred,coll){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.take_while.call(null,pred,coll),cljs.core.drop_while.call(null,pred,coll)],null)};
cljs.core.partition_by=function partition_by(f,coll){return new cljs.core.LazySeq(null,function(){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;var fst=cljs.core.first.call(null,s);var fv=f.call(null,fst);var run=cljs.core.cons.call(null,fst,cljs.core.take_while.call(null,function(fst,fv,s,temp__4126__auto__){return function(p1__19755_SHARP_){return cljs.core._EQ_.call(null,fv,f.call(null,p1__19755_SHARP_))}}(fst,fv,s,temp__4126__auto__),cljs.core.next.call(null,
s)));return cljs.core.cons.call(null,run,partition_by.call(null,f,cljs.core.seq.call(null,cljs.core.drop.call(null,cljs.core.count.call(null,run),s))))}else return null},null,null)};cljs.core.frequencies=function frequencies(coll){return cljs.core.persistent_BANG_.call(null,cljs.core.reduce.call(null,function(counts,x){return cljs.core.assoc_BANG_.call(null,counts,x,cljs.core.get.call(null,counts,x,0)+1)},cljs.core.transient$.call(null,cljs.core.PersistentArrayMap.EMPTY),coll))};
cljs.core.reductions=function(){var reductions=null;var reductions__2=function(f,coll){return new cljs.core.LazySeq(null,function(){var temp__4124__auto__=cljs.core.seq.call(null,coll);if(temp__4124__auto__){var s=temp__4124__auto__;return reductions.call(null,f,cljs.core.first.call(null,s),cljs.core.rest.call(null,s))}else return cljs.core._conj.call(null,cljs.core.List.EMPTY,f.call(null))},null,null)};var reductions__3=function(f,init,coll){return cljs.core.cons.call(null,init,new cljs.core.LazySeq(null,
function(){var temp__4126__auto__=cljs.core.seq.call(null,coll);if(temp__4126__auto__){var s=temp__4126__auto__;return reductions.call(null,f,f.call(null,init,cljs.core.first.call(null,s)),cljs.core.rest.call(null,s))}else return null},null,null))};reductions=function(f,init,coll){switch(arguments.length){case 2:return reductions__2.call(this,f,init);case 3:return reductions__3.call(this,f,init,coll)}throw new Error("Invalid arity: "+arguments.length);};reductions.cljs$core$IFn$_invoke$arity$2=reductions__2;
reductions.cljs$core$IFn$_invoke$arity$3=reductions__3;return reductions}();
cljs.core.juxt=function(){var juxt=null;var juxt__1=function(f){return function(){var G__19766=null;var G__19766__0=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[f.call(null)],null)};var G__19766__1=function(x){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[f.call(null,x)],null)};var G__19766__2=function(x,y){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[f.call(null,x,
y)],null)};var G__19766__3=function(x,y,z){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[f.call(null,x,y,z)],null)};var G__19766__4=function(){var G__19767__delegate=function(x,y,z,args){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.apply.call(null,f,x,y,z,args)],null)};var G__19767=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);
return G__19767__delegate.call(this,x,y,z,args)};G__19767.cljs$lang$maxFixedArity=3;G__19767.cljs$lang$applyTo=function(arglist__19768){var x=cljs.core.first(arglist__19768);arglist__19768=cljs.core.next(arglist__19768);var y=cljs.core.first(arglist__19768);arglist__19768=cljs.core.next(arglist__19768);var z=cljs.core.first(arglist__19768);var args=cljs.core.rest(arglist__19768);return G__19767__delegate(x,y,z,args)};G__19767.cljs$core$IFn$_invoke$arity$variadic=G__19767__delegate;return G__19767}();
G__19766=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__19766__0.call(this);case 1:return G__19766__1.call(this,x);case 2:return G__19766__2.call(this,x,y);case 3:return G__19766__3.call(this,x,y,z);default:return G__19766__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};G__19766.cljs$lang$maxFixedArity=3;G__19766.cljs$lang$applyTo=G__19766__4.cljs$lang$applyTo;return G__19766}()};
var juxt__2=function(f,g){return function(){var G__19769=null;var G__19769__0=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[f.call(null),g.call(null)],null)};var G__19769__1=function(x){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[f.call(null,x),g.call(null,x)],null)};var G__19769__2=function(x,y){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[f.call(null,x,y),g.call(null,
x,y)],null)};var G__19769__3=function(x,y,z){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[f.call(null,x,y,z),g.call(null,x,y,z)],null)};var G__19769__4=function(){var G__19770__delegate=function(x,y,z,args){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.apply.call(null,f,x,y,z,args),cljs.core.apply.call(null,g,x,y,z,args)],null)};var G__19770=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=
cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19770__delegate.call(this,x,y,z,args)};G__19770.cljs$lang$maxFixedArity=3;G__19770.cljs$lang$applyTo=function(arglist__19771){var x=cljs.core.first(arglist__19771);arglist__19771=cljs.core.next(arglist__19771);var y=cljs.core.first(arglist__19771);arglist__19771=cljs.core.next(arglist__19771);var z=cljs.core.first(arglist__19771);var args=cljs.core.rest(arglist__19771);return G__19770__delegate(x,y,z,args)};G__19770.cljs$core$IFn$_invoke$arity$variadic=
G__19770__delegate;return G__19770}();G__19769=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__19769__0.call(this);case 1:return G__19769__1.call(this,x);case 2:return G__19769__2.call(this,x,y);case 3:return G__19769__3.call(this,x,y,z);default:return G__19769__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};G__19769.cljs$lang$maxFixedArity=3;G__19769.cljs$lang$applyTo=G__19769__4.cljs$lang$applyTo;
return G__19769}()};var juxt__3=function(f,g,h){return function(){var G__19772=null;var G__19772__0=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[f.call(null),g.call(null),h.call(null)],null)};var G__19772__1=function(x){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[f.call(null,x),g.call(null,x),h.call(null,x)],null)};var G__19772__2=function(x,y){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,
[f.call(null,x,y),g.call(null,x,y),h.call(null,x,y)],null)};var G__19772__3=function(x,y,z){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[f.call(null,x,y,z),g.call(null,x,y,z),h.call(null,x,y,z)],null)};var G__19772__4=function(){var G__19773__delegate=function(x,y,z,args){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.apply.call(null,f,x,y,z,args),cljs.core.apply.call(null,g,x,y,z,args),cljs.core.apply.call(null,
h,x,y,z,args)],null)};var G__19773=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19773__delegate.call(this,x,y,z,args)};G__19773.cljs$lang$maxFixedArity=3;G__19773.cljs$lang$applyTo=function(arglist__19774){var x=cljs.core.first(arglist__19774);arglist__19774=cljs.core.next(arglist__19774);var y=cljs.core.first(arglist__19774);arglist__19774=cljs.core.next(arglist__19774);var z=cljs.core.first(arglist__19774);
var args=cljs.core.rest(arglist__19774);return G__19773__delegate(x,y,z,args)};G__19773.cljs$core$IFn$_invoke$arity$variadic=G__19773__delegate;return G__19773}();G__19772=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__19772__0.call(this);case 1:return G__19772__1.call(this,x);case 2:return G__19772__2.call(this,x,y);case 3:return G__19772__3.call(this,x,y,z);default:return G__19772__4.cljs$core$IFn$_invoke$arity$variadic(x,y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+
arguments.length);};G__19772.cljs$lang$maxFixedArity=3;G__19772.cljs$lang$applyTo=G__19772__4.cljs$lang$applyTo;return G__19772}()};var juxt__4=function(){var G__19775__delegate=function(f,g,h,fs){var fs__$1=cljs.core.list_STAR_.call(null,f,g,h,fs);return function(fs__$1){return function(){var G__19776=null;var G__19776__0=function(){return cljs.core.reduce.call(null,function(fs__$1){return function(p1__19756_SHARP_,p2__19757_SHARP_){return cljs.core.conj.call(null,p1__19756_SHARP_,p2__19757_SHARP_.call(null))}}(fs__$1),
cljs.core.PersistentVector.EMPTY,fs__$1)};var G__19776__1=function(x){return cljs.core.reduce.call(null,function(fs__$1){return function(p1__19758_SHARP_,p2__19759_SHARP_){return cljs.core.conj.call(null,p1__19758_SHARP_,p2__19759_SHARP_.call(null,x))}}(fs__$1),cljs.core.PersistentVector.EMPTY,fs__$1)};var G__19776__2=function(x,y){return cljs.core.reduce.call(null,function(fs__$1){return function(p1__19760_SHARP_,p2__19761_SHARP_){return cljs.core.conj.call(null,p1__19760_SHARP_,p2__19761_SHARP_.call(null,
x,y))}}(fs__$1),cljs.core.PersistentVector.EMPTY,fs__$1)};var G__19776__3=function(x,y,z){return cljs.core.reduce.call(null,function(fs__$1){return function(p1__19762_SHARP_,p2__19763_SHARP_){return cljs.core.conj.call(null,p1__19762_SHARP_,p2__19763_SHARP_.call(null,x,y,z))}}(fs__$1),cljs.core.PersistentVector.EMPTY,fs__$1)};var G__19776__4=function(){var G__19777__delegate=function(x,y,z,args){return cljs.core.reduce.call(null,function(fs__$1){return function(p1__19764_SHARP_,p2__19765_SHARP_){return cljs.core.conj.call(null,
p1__19764_SHARP_,cljs.core.apply.call(null,p2__19765_SHARP_,x,y,z,args))}}(fs__$1),cljs.core.PersistentVector.EMPTY,fs__$1)};var G__19777=function(x,y,z,var_args){var args=null;if(arguments.length>3)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19777__delegate.call(this,x,y,z,args)};G__19777.cljs$lang$maxFixedArity=3;G__19777.cljs$lang$applyTo=function(arglist__19778){var x=cljs.core.first(arglist__19778);arglist__19778=cljs.core.next(arglist__19778);var y=cljs.core.first(arglist__19778);
arglist__19778=cljs.core.next(arglist__19778);var z=cljs.core.first(arglist__19778);var args=cljs.core.rest(arglist__19778);return G__19777__delegate(x,y,z,args)};G__19777.cljs$core$IFn$_invoke$arity$variadic=G__19777__delegate;return G__19777}();G__19776=function(x,y,z,var_args){var args=var_args;switch(arguments.length){case 0:return G__19776__0.call(this);case 1:return G__19776__1.call(this,x);case 2:return G__19776__2.call(this,x,y);case 3:return G__19776__3.call(this,x,y,z);default:return G__19776__4.cljs$core$IFn$_invoke$arity$variadic(x,
y,z,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};G__19776.cljs$lang$maxFixedArity=3;G__19776.cljs$lang$applyTo=G__19776__4.cljs$lang$applyTo;return G__19776}()}(fs__$1)};var G__19775=function(f,g,h,var_args){var fs=null;if(arguments.length>3)fs=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return G__19775__delegate.call(this,f,g,h,fs)};G__19775.cljs$lang$maxFixedArity=3;G__19775.cljs$lang$applyTo=function(arglist__19779){var f=cljs.core.first(arglist__19779);
arglist__19779=cljs.core.next(arglist__19779);var g=cljs.core.first(arglist__19779);arglist__19779=cljs.core.next(arglist__19779);var h=cljs.core.first(arglist__19779);var fs=cljs.core.rest(arglist__19779);return G__19775__delegate(f,g,h,fs)};G__19775.cljs$core$IFn$_invoke$arity$variadic=G__19775__delegate;return G__19775}();juxt=function(f,g,h,var_args){var fs=var_args;switch(arguments.length){case 1:return juxt__1.call(this,f);case 2:return juxt__2.call(this,f,g);case 3:return juxt__3.call(this,
f,g,h);default:return juxt__4.cljs$core$IFn$_invoke$arity$variadic(f,g,h,cljs.core.array_seq(arguments,3))}throw new Error("Invalid arity: "+arguments.length);};juxt.cljs$lang$maxFixedArity=3;juxt.cljs$lang$applyTo=juxt__4.cljs$lang$applyTo;juxt.cljs$core$IFn$_invoke$arity$1=juxt__1;juxt.cljs$core$IFn$_invoke$arity$2=juxt__2;juxt.cljs$core$IFn$_invoke$arity$3=juxt__3;juxt.cljs$core$IFn$_invoke$arity$variadic=juxt__4.cljs$core$IFn$_invoke$arity$variadic;return juxt}();
cljs.core.dorun=function(){var dorun=null;var dorun__1=function(coll){while(true){if(cljs.core.seq.call(null,coll)){var G__19780=cljs.core.next.call(null,coll);coll=G__19780;continue}else return null;break}};var dorun__2=function(n,coll){while(true){if(cljs.core.seq.call(null,coll)&&n>0){var G__19781=n-1;var G__19782=cljs.core.next.call(null,coll);n=G__19781;coll=G__19782;continue}else return null;break}};dorun=function(n,coll){switch(arguments.length){case 1:return dorun__1.call(this,n);case 2:return dorun__2.call(this,
n,coll)}throw new Error("Invalid arity: "+arguments.length);};dorun.cljs$core$IFn$_invoke$arity$1=dorun__1;dorun.cljs$core$IFn$_invoke$arity$2=dorun__2;return dorun}();
cljs.core.doall=function(){var doall=null;var doall__1=function(coll){cljs.core.dorun.call(null,coll);return coll};var doall__2=function(n,coll){cljs.core.dorun.call(null,n,coll);return coll};doall=function(n,coll){switch(arguments.length){case 1:return doall__1.call(this,n);case 2:return doall__2.call(this,n,coll)}throw new Error("Invalid arity: "+arguments.length);};doall.cljs$core$IFn$_invoke$arity$1=doall__1;doall.cljs$core$IFn$_invoke$arity$2=doall__2;return doall}();
cljs.core.regexp_QMARK_=function regexp_QMARK_(o){return o instanceof RegExp};cljs.core.re_matches=function re_matches(re,s){var matches=re.exec(s);if(cljs.core._EQ_.call(null,cljs.core.first.call(null,matches),s))if(cljs.core.count.call(null,matches)===1)return cljs.core.first.call(null,matches);else return cljs.core.vec.call(null,matches);else return null};
cljs.core.re_find=function re_find(re,s){var matches=re.exec(s);if(matches==null)return null;else if(cljs.core.count.call(null,matches)===1)return cljs.core.first.call(null,matches);else return cljs.core.vec.call(null,matches)};
cljs.core.re_seq=function re_seq(re,s){var match_data=cljs.core.re_find.call(null,re,s);var match_idx=s.search(re);var match_str=cljs.core.coll_QMARK_.call(null,match_data)?cljs.core.first.call(null,match_data):match_data;var post_match=cljs.core.subs.call(null,s,match_idx+cljs.core.count.call(null,match_str));if(cljs.core.truth_(match_data))return new cljs.core.LazySeq(null,function(match_data,match_idx,match_str,post_match){return function(){return cljs.core.cons.call(null,match_data,cljs.core.seq.call(null,
post_match)?re_seq.call(null,re,post_match):null)}}(match_data,match_idx,match_str,post_match),null,null);else return null};cljs.core.re_pattern=function re_pattern(s){var vec__19784=cljs.core.re_find.call(null,/^(?:\(\?([idmsux]*)\))?(.*)/,s);var _=cljs.core.nth.call(null,vec__19784,0,null);var flags=cljs.core.nth.call(null,vec__19784,1,null);var pattern=cljs.core.nth.call(null,vec__19784,2,null);return new RegExp(pattern,flags)};
cljs.core.pr_sequential_writer=function pr_sequential_writer(writer,print_one,begin,sep,end,opts,coll){var _STAR_print_level_STAR_19786=cljs.core._STAR_print_level_STAR_;try{cljs.core._STAR_print_level_STAR_=cljs.core._STAR_print_level_STAR_==null?null:cljs.core._STAR_print_level_STAR_-1;if(!(cljs.core._STAR_print_level_STAR_==null)&&cljs.core._STAR_print_level_STAR_<0)return cljs.core._write.call(null,writer,"#");else{cljs.core._write.call(null,writer,begin);if(cljs.core.seq.call(null,coll))print_one.call(null,
cljs.core.first.call(null,coll),writer,opts);else;var coll_19787__$1=cljs.core.next.call(null,coll);var n_19788=(new cljs.core.Keyword(null,"print-length","print-length",3960797560)).cljs$core$IFn$_invoke$arity$1(opts);while(true){if(coll_19787__$1&&(n_19788==null||!(n_19788===0))){cljs.core._write.call(null,writer,sep);print_one.call(null,cljs.core.first.call(null,coll_19787__$1),writer,opts);var G__19789=cljs.core.next.call(null,coll_19787__$1);var G__19790=n_19788-1;coll_19787__$1=G__19789;n_19788=
G__19790;continue}else;break}if(cljs.core.truth_((new cljs.core.Keyword(null,"print-length","print-length",3960797560)).cljs$core$IFn$_invoke$arity$1(opts))){cljs.core._write.call(null,writer,sep);print_one.call(null,"...",writer,opts)}else;return cljs.core._write.call(null,writer,end)}}finally{cljs.core._STAR_print_level_STAR_=_STAR_print_level_STAR_19786}};
cljs.core.write_all=function(){var write_all__delegate=function(writer,ss){var seq__19795=cljs.core.seq.call(null,ss);var chunk__19796=null;var count__19797=0;var i__19798=0;while(true){if(i__19798<count__19797){var s=cljs.core._nth.call(null,chunk__19796,i__19798);cljs.core._write.call(null,writer,s);var G__19799=seq__19795;var G__19800=chunk__19796;var G__19801=count__19797;var G__19802=i__19798+1;seq__19795=G__19799;chunk__19796=G__19800;count__19797=G__19801;i__19798=G__19802;continue}else{var temp__4126__auto__=
cljs.core.seq.call(null,seq__19795);if(temp__4126__auto__){var seq__19795__$1=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__19795__$1)){var c__4226__auto__=cljs.core.chunk_first.call(null,seq__19795__$1);var G__19803=cljs.core.chunk_rest.call(null,seq__19795__$1);var G__19804=c__4226__auto__;var G__19805=cljs.core.count.call(null,c__4226__auto__);var G__19806=0;seq__19795=G__19803;chunk__19796=G__19804;count__19797=G__19805;i__19798=G__19806;continue}else{var s=cljs.core.first.call(null,
seq__19795__$1);cljs.core._write.call(null,writer,s);var G__19807=cljs.core.next.call(null,seq__19795__$1);var G__19808=null;var G__19809=0;var G__19810=0;seq__19795=G__19807;chunk__19796=G__19808;count__19797=G__19809;i__19798=G__19810;continue}}else return null}break}};var write_all=function(writer,var_args){var ss=null;if(arguments.length>1)ss=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return write_all__delegate.call(this,writer,ss)};write_all.cljs$lang$maxFixedArity=1;write_all.cljs$lang$applyTo=
function(arglist__19811){var writer=cljs.core.first(arglist__19811);var ss=cljs.core.rest(arglist__19811);return write_all__delegate(writer,ss)};write_all.cljs$core$IFn$_invoke$arity$variadic=write_all__delegate;return write_all}();cljs.core.string_print=function string_print(x){cljs.core._STAR_print_fn_STAR_.call(null,x);return null};cljs.core.flush=function flush(){return null};
cljs.core.char_escapes=function(){var obj19813={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};return obj19813}();cljs.core.quote_string=function quote_string(s){return[cljs.core.str('"'),cljs.core.str(s.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(match){return cljs.core.char_escapes[match]})),cljs.core.str('"')].join("")};
cljs.core.pr_writer=function pr_writer(obj,writer,opts){if(obj==null)return cljs.core._write.call(null,writer,"nil");else if(void 0===obj)return cljs.core._write.call(null,writer,"#\x3cundefined\x3e");else if(new cljs.core.Keyword(null,"else","else",1017020587)){if(cljs.core.truth_(function(){var and__3466__auto__=cljs.core.get.call(null,opts,new cljs.core.Keyword(null,"meta","meta",1017252215));if(cljs.core.truth_(and__3466__auto__)){var and__3466__auto____$1=function(){var G__19819=obj;if(G__19819){var bit__4128__auto__=
G__19819.cljs$lang$protocol_mask$partition0$&131072;if(bit__4128__auto__||G__19819.cljs$core$IMeta$)return true;else if(!G__19819.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IMeta,G__19819);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IMeta,G__19819)}();if(and__3466__auto____$1)return cljs.core.meta.call(null,obj);else return and__3466__auto____$1}else return and__3466__auto__}())){cljs.core._write.call(null,
writer,"^");pr_writer.call(null,cljs.core.meta.call(null,obj),writer,opts);cljs.core._write.call(null,writer," ")}else;if(obj==null)return cljs.core._write.call(null,writer,"nil");else if(obj.cljs$lang$type)return obj.cljs$lang$ctorPrWriter(obj,writer,opts);else if(function(){var G__19820=obj;if(G__19820){var bit__4121__auto__=G__19820.cljs$lang$protocol_mask$partition0$&2147483648;if(bit__4121__auto__||G__19820.cljs$core$IPrintWithWriter$)return true;else return false}else return false}())return cljs.core._pr_writer.call(null,
obj,writer,opts);else if(cljs.core.type.call(null,obj)===Boolean||typeof obj==="number")return cljs.core._write.call(null,writer,[cljs.core.str(obj)].join(""));else if(cljs.core.object_QMARK_.call(null,obj)){cljs.core._write.call(null,writer,"#js ");return cljs.core.print_map.call(null,cljs.core.map.call(null,function(k){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.keyword.call(null,k),obj[k]],null)},cljs.core.js_keys.call(null,obj)),pr_writer,writer,
opts)}else if(obj instanceof Array)return cljs.core.pr_sequential_writer.call(null,writer,pr_writer,"#js ["," ","]",opts,obj);else if(goog.isString(obj))if(cljs.core.truth_((new cljs.core.Keyword(null,"readably","readably",4441712502)).cljs$core$IFn$_invoke$arity$1(opts)))return cljs.core._write.call(null,writer,cljs.core.quote_string.call(null,obj));else return cljs.core._write.call(null,writer,obj);else if(cljs.core.fn_QMARK_.call(null,obj))return cljs.core.write_all.call(null,writer,"#\x3c",[cljs.core.str(obj)].join(""),
"\x3e");else if(obj instanceof Date){var normalize=function(n,len){var ns=[cljs.core.str(n)].join("");while(true){if(cljs.core.count.call(null,ns)<len){var G__19822=[cljs.core.str("0"),cljs.core.str(ns)].join("");ns=G__19822;continue}else return ns;break}};return cljs.core.write_all.call(null,writer,'#inst "',[cljs.core.str(obj.getUTCFullYear())].join(""),"-",normalize.call(null,obj.getUTCMonth()+1,2),"-",normalize.call(null,obj.getUTCDate(),2),"T",normalize.call(null,obj.getUTCHours(),2),":",normalize.call(null,
obj.getUTCMinutes(),2),":",normalize.call(null,obj.getUTCSeconds(),2),".",normalize.call(null,obj.getUTCMilliseconds(),3),"-",'00:00"')}else if(cljs.core.regexp_QMARK_.call(null,obj))return cljs.core.write_all.call(null,writer,'#"',obj.source,'"');else if(function(){var G__19821=obj;if(G__19821){var bit__4128__auto__=G__19821.cljs$lang$protocol_mask$partition0$&2147483648;if(bit__4128__auto__||G__19821.cljs$core$IPrintWithWriter$)return true;else if(!G__19821.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,
cljs.core.IPrintWithWriter,G__19821);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IPrintWithWriter,G__19821)}())return cljs.core._pr_writer.call(null,obj,writer,opts);else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.core.write_all.call(null,writer,"#\x3c",[cljs.core.str(obj)].join(""),"\x3e");else return null}else return null};
cljs.core.pr_seq_writer=function pr_seq_writer(objs,writer,opts){cljs.core.pr_writer.call(null,cljs.core.first.call(null,objs),writer,opts);var seq__19827=cljs.core.seq.call(null,cljs.core.next.call(null,objs));var chunk__19828=null;var count__19829=0;var i__19830=0;while(true){if(i__19830<count__19829){var obj=cljs.core._nth.call(null,chunk__19828,i__19830);cljs.core._write.call(null,writer," ");cljs.core.pr_writer.call(null,obj,writer,opts);var G__19831=seq__19827;var G__19832=chunk__19828;var G__19833=
count__19829;var G__19834=i__19830+1;seq__19827=G__19831;chunk__19828=G__19832;count__19829=G__19833;i__19830=G__19834;continue}else{var temp__4126__auto__=cljs.core.seq.call(null,seq__19827);if(temp__4126__auto__){var seq__19827__$1=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__19827__$1)){var c__4226__auto__=cljs.core.chunk_first.call(null,seq__19827__$1);var G__19835=cljs.core.chunk_rest.call(null,seq__19827__$1);var G__19836=c__4226__auto__;var G__19837=cljs.core.count.call(null,
c__4226__auto__);var G__19838=0;seq__19827=G__19835;chunk__19828=G__19836;count__19829=G__19837;i__19830=G__19838;continue}else{var obj=cljs.core.first.call(null,seq__19827__$1);cljs.core._write.call(null,writer," ");cljs.core.pr_writer.call(null,obj,writer,opts);var G__19839=cljs.core.next.call(null,seq__19827__$1);var G__19840=null;var G__19841=0;var G__19842=0;seq__19827=G__19839;chunk__19828=G__19840;count__19829=G__19841;i__19830=G__19842;continue}}else return null}break}};
cljs.core.pr_sb_with_opts=function pr_sb_with_opts(objs,opts){var sb=new goog.string.StringBuffer;var writer=new cljs.core.StringBufferWriter(sb);cljs.core.pr_seq_writer.call(null,objs,writer,opts);cljs.core._flush.call(null,writer);return sb};cljs.core.pr_str_with_opts=function pr_str_with_opts(objs,opts){if(cljs.core.empty_QMARK_.call(null,objs))return"";else return[cljs.core.str(cljs.core.pr_sb_with_opts.call(null,objs,opts))].join("")};
cljs.core.prn_str_with_opts=function prn_str_with_opts(objs,opts){if(cljs.core.empty_QMARK_.call(null,objs))return"\n";else{var sb=cljs.core.pr_sb_with_opts.call(null,objs,opts);sb.append("\n");return[cljs.core.str(sb)].join("")}};cljs.core.pr_with_opts=function pr_with_opts(objs,opts){return cljs.core.string_print.call(null,cljs.core.pr_str_with_opts.call(null,objs,opts))};
cljs.core.newline=function newline(opts){cljs.core.string_print.call(null,"\n");if(cljs.core.truth_(cljs.core.get.call(null,opts,new cljs.core.Keyword(null,"flush-on-newline","flush-on-newline",4338025857))))return cljs.core.flush.call(null);else return null};
cljs.core.pr_str=function(){var pr_str__delegate=function(objs){return cljs.core.pr_str_with_opts.call(null,objs,cljs.core.pr_opts.call(null))};var pr_str=function(var_args){var objs=null;if(arguments.length>0)objs=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return pr_str__delegate.call(this,objs)};pr_str.cljs$lang$maxFixedArity=0;pr_str.cljs$lang$applyTo=function(arglist__19843){var objs=cljs.core.seq(arglist__19843);return pr_str__delegate(objs)};pr_str.cljs$core$IFn$_invoke$arity$variadic=
pr_str__delegate;return pr_str}();
cljs.core.prn_str=function(){var prn_str__delegate=function(objs){return cljs.core.prn_str_with_opts.call(null,objs,cljs.core.pr_opts.call(null))};var prn_str=function(var_args){var objs=null;if(arguments.length>0)objs=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return prn_str__delegate.call(this,objs)};prn_str.cljs$lang$maxFixedArity=0;prn_str.cljs$lang$applyTo=function(arglist__19844){var objs=cljs.core.seq(arglist__19844);return prn_str__delegate(objs)};prn_str.cljs$core$IFn$_invoke$arity$variadic=
prn_str__delegate;return prn_str}();
cljs.core.pr=function(){var pr__delegate=function(objs){return cljs.core.pr_with_opts.call(null,objs,cljs.core.pr_opts.call(null))};var pr=function(var_args){var objs=null;if(arguments.length>0)objs=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return pr__delegate.call(this,objs)};pr.cljs$lang$maxFixedArity=0;pr.cljs$lang$applyTo=function(arglist__19845){var objs=cljs.core.seq(arglist__19845);return pr__delegate(objs)};pr.cljs$core$IFn$_invoke$arity$variadic=pr__delegate;return pr}();
cljs.core.print=function(){var cljs_core_print__delegate=function(objs){return cljs.core.pr_with_opts.call(null,objs,cljs.core.assoc.call(null,cljs.core.pr_opts.call(null),new cljs.core.Keyword(null,"readably","readably",4441712502),false))};var cljs_core_print=function(var_args){var objs=null;if(arguments.length>0)objs=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return cljs_core_print__delegate.call(this,objs)};cljs_core_print.cljs$lang$maxFixedArity=0;cljs_core_print.cljs$lang$applyTo=
function(arglist__19846){var objs=cljs.core.seq(arglist__19846);return cljs_core_print__delegate(objs)};cljs_core_print.cljs$core$IFn$_invoke$arity$variadic=cljs_core_print__delegate;return cljs_core_print}();
cljs.core.print_str=function(){var print_str__delegate=function(objs){return cljs.core.pr_str_with_opts.call(null,objs,cljs.core.assoc.call(null,cljs.core.pr_opts.call(null),new cljs.core.Keyword(null,"readably","readably",4441712502),false))};var print_str=function(var_args){var objs=null;if(arguments.length>0)objs=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return print_str__delegate.call(this,objs)};print_str.cljs$lang$maxFixedArity=0;print_str.cljs$lang$applyTo=function(arglist__19847){var objs=
cljs.core.seq(arglist__19847);return print_str__delegate(objs)};print_str.cljs$core$IFn$_invoke$arity$variadic=print_str__delegate;return print_str}();
cljs.core.println=function(){var println__delegate=function(objs){cljs.core.pr_with_opts.call(null,objs,cljs.core.assoc.call(null,cljs.core.pr_opts.call(null),new cljs.core.Keyword(null,"readably","readably",4441712502),false));if(cljs.core.truth_(cljs.core._STAR_print_newline_STAR_))return cljs.core.newline.call(null,cljs.core.pr_opts.call(null));else return null};var println=function(var_args){var objs=null;if(arguments.length>0)objs=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);
return println__delegate.call(this,objs)};println.cljs$lang$maxFixedArity=0;println.cljs$lang$applyTo=function(arglist__19848){var objs=cljs.core.seq(arglist__19848);return println__delegate(objs)};println.cljs$core$IFn$_invoke$arity$variadic=println__delegate;return println}();
cljs.core.println_str=function(){var println_str__delegate=function(objs){return cljs.core.prn_str_with_opts.call(null,objs,cljs.core.assoc.call(null,cljs.core.pr_opts.call(null),new cljs.core.Keyword(null,"readably","readably",4441712502),false))};var println_str=function(var_args){var objs=null;if(arguments.length>0)objs=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return println_str__delegate.call(this,objs)};println_str.cljs$lang$maxFixedArity=0;println_str.cljs$lang$applyTo=
function(arglist__19849){var objs=cljs.core.seq(arglist__19849);return println_str__delegate(objs)};println_str.cljs$core$IFn$_invoke$arity$variadic=println_str__delegate;return println_str}();
cljs.core.prn=function(){var prn__delegate=function(objs){cljs.core.pr_with_opts.call(null,objs,cljs.core.pr_opts.call(null));if(cljs.core.truth_(cljs.core._STAR_print_newline_STAR_))return cljs.core.newline.call(null,cljs.core.pr_opts.call(null));else return null};var prn=function(var_args){var objs=null;if(arguments.length>0)objs=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return prn__delegate.call(this,objs)};prn.cljs$lang$maxFixedArity=0;prn.cljs$lang$applyTo=function(arglist__19850){var objs=
cljs.core.seq(arglist__19850);return prn__delegate(objs)};prn.cljs$core$IFn$_invoke$arity$variadic=prn__delegate;return prn}();cljs.core.print_map=function print_map(m,print_one,writer,opts){return cljs.core.pr_sequential_writer.call(null,writer,function(e,w,opts__$1){print_one.call(null,cljs.core.key.call(null,e),w,opts__$1);cljs.core._write.call(null,w," ");return print_one.call(null,cljs.core.val.call(null,e),w,opts__$1)},"{",", ","}",opts,cljs.core.seq.call(null,m))};
cljs.core.IndexedSeq.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.IndexedSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.LazySeq.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.LazySeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.NodeSeq.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.NodeSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.BlackNode.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.BlackNode.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"["," ","]",opts,coll__$1)};
cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.PersistentTreeSet.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.PersistentTreeSet.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"#{"," ","}",opts,coll__$1)};cljs.core.ChunkedSeq.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.ChunkedSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.ObjMap.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.ObjMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.print_map.call(null,coll__$1,cljs.core.pr_writer,writer,opts)};
cljs.core.Cons.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.Cons.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.RSeq.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.RSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.PersistentHashMap.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.PersistentHashMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.print_map.call(null,coll__$1,cljs.core.pr_writer,writer,opts)};
cljs.core.ArrayNodeSeq.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.ArrayNodeSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.Subvec.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.Subvec.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"["," ","]",opts,coll__$1)};cljs.core.PersistentTreeMap.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.PersistentTreeMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.print_map.call(null,coll__$1,cljs.core.pr_writer,writer,opts)};
cljs.core.PersistentHashSet.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.PersistentHashSet.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"#{"," ","}",opts,coll__$1)};cljs.core.ChunkedCons.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.ChunkedCons.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.ValSeq.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.ValSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};
cljs.core.RedNode.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.RedNode.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"["," ","]",opts,coll__$1)};cljs.core.PersistentVector.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.PersistentVector.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"["," ","]",opts,coll__$1)};cljs.core.EmptyList.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.EmptyList.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core._write.call(null,writer,"()")};
cljs.core.PersistentQueue.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.PersistentQueue.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"#queue ["," ","]",opts,cljs.core.seq.call(null,coll__$1))};cljs.core.PersistentArrayMap.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.PersistentArrayMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.print_map.call(null,coll__$1,cljs.core.pr_writer,writer,opts)};cljs.core.Range.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.Range.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};
cljs.core.KeySeq.prototype.cljs$core$IPrintWithWriter$=true;cljs.core.KeySeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.List.prototype.cljs$core$IPrintWithWriter$=true;
cljs.core.List.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"("," ",")",opts,coll__$1)};cljs.core.PersistentVector.prototype.cljs$core$IComparable$=true;cljs.core.PersistentVector.prototype.cljs$core$IComparable$_compare$arity$2=function(x,y){var x__$1=this;return cljs.core.compare_indexed.call(null,x__$1,y)};cljs.core.Subvec.prototype.cljs$core$IComparable$=true;
cljs.core.Subvec.prototype.cljs$core$IComparable$_compare$arity$2=function(x,y){var x__$1=this;return cljs.core.compare_indexed.call(null,x__$1,y)};cljs.core.Keyword.prototype.cljs$core$IComparable$=true;cljs.core.Keyword.prototype.cljs$core$IComparable$_compare$arity$2=function(x,y){var x__$1=this;return cljs.core.compare_symbols.call(null,x__$1,y)};cljs.core.Symbol.prototype.cljs$core$IComparable$=true;
cljs.core.Symbol.prototype.cljs$core$IComparable$_compare$arity$2=function(x,y){var x__$1=this;return cljs.core.compare_symbols.call(null,x__$1,y)};cljs.core.IAtom=function(){var obj19852={};return obj19852}();cljs.core.IReset=function(){var obj19854={};return obj19854}();
cljs.core._reset_BANG_=function _reset_BANG_(o,new_value){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$IReset$_reset_BANG_$arity$2;else return and__3466__auto__}())return o.cljs$core$IReset$_reset_BANG_$arity$2(o,new_value);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._reset_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._reset_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IReset.-reset!",o);}}().call(null,o,new_value)}};cljs.core.ISwap=function(){var obj19856={};return obj19856}();
cljs.core._swap_BANG_=function(){var _swap_BANG_=null;var _swap_BANG___2=function(o,f){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$ISwap$_swap_BANG_$arity$2;else return and__3466__auto__}())return o.cljs$core$ISwap$_swap_BANG_$arity$2(o,f);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._swap_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._swap_BANG_["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ISwap.-swap!",o);}}().call(null,o,f)}};var _swap_BANG___3=function(o,f,a){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$ISwap$_swap_BANG_$arity$3;else return and__3466__auto__}())return o.cljs$core$ISwap$_swap_BANG_$arity$3(o,f,a);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._swap_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;
else{var or__3478__auto____$1=cljs.core._swap_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ISwap.-swap!",o);}}().call(null,o,f,a)}};var _swap_BANG___4=function(o,f,a,b){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$ISwap$_swap_BANG_$arity$4;else return and__3466__auto__}())return o.cljs$core$ISwap$_swap_BANG_$arity$4(o,f,a,b);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=
cljs.core._swap_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._swap_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ISwap.-swap!",o);}}().call(null,o,f,a,b)}};var _swap_BANG___5=function(o,f,a,b,xs){if(function(){var and__3466__auto__=o;if(and__3466__auto__)return o.cljs$core$ISwap$_swap_BANG_$arity$5;else return and__3466__auto__}())return o.cljs$core$ISwap$_swap_BANG_$arity$5(o,
f,a,b,xs);else{var x__4105__auto__=o==null?null:o;return function(){var or__3478__auto__=cljs.core._swap_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._swap_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ISwap.-swap!",o);}}().call(null,o,f,a,b,xs)}};_swap_BANG_=function(o,f,a,b,xs){switch(arguments.length){case 2:return _swap_BANG___2.call(this,o,f);case 3:return _swap_BANG___3.call(this,
o,f,a);case 4:return _swap_BANG___4.call(this,o,f,a,b);case 5:return _swap_BANG___5.call(this,o,f,a,b,xs)}throw new Error("Invalid arity: "+arguments.length);};_swap_BANG_.cljs$core$IFn$_invoke$arity$2=_swap_BANG___2;_swap_BANG_.cljs$core$IFn$_invoke$arity$3=_swap_BANG___3;_swap_BANG_.cljs$core$IFn$_invoke$arity$4=_swap_BANG___4;_swap_BANG_.cljs$core$IFn$_invoke$arity$5=_swap_BANG___5;return _swap_BANG_}();
cljs.core.Atom=function(state,meta,validator,watches){this.state=state;this.meta=meta;this.validator=validator;this.watches=watches;this.cljs$lang$protocol_mask$partition0$=2153938944;this.cljs$lang$protocol_mask$partition1$=16386};cljs.core.Atom.cljs$lang$type=true;cljs.core.Atom.cljs$lang$ctorStr="cljs.core/Atom";cljs.core.Atom.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/Atom")};
cljs.core.Atom.prototype.cljs$core$IHash$_hash$arity$1=function(this$){var self__=this;var this$__$1=this;return goog.getUid(this$__$1)};
cljs.core.Atom.prototype.cljs$core$IWatchable$_notify_watches$arity$3=function(this$,oldval,newval){var self__=this;var this$__$1=this;var seq__19857=cljs.core.seq.call(null,self__.watches);var chunk__19858=null;var count__19859=0;var i__19860=0;while(true){if(i__19860<count__19859){var vec__19861=cljs.core._nth.call(null,chunk__19858,i__19860);var key=cljs.core.nth.call(null,vec__19861,0,null);var f=cljs.core.nth.call(null,vec__19861,1,null);f.call(null,key,this$__$1,oldval,newval);var G__19863=
seq__19857;var G__19864=chunk__19858;var G__19865=count__19859;var G__19866=i__19860+1;seq__19857=G__19863;chunk__19858=G__19864;count__19859=G__19865;i__19860=G__19866;continue}else{var temp__4126__auto__=cljs.core.seq.call(null,seq__19857);if(temp__4126__auto__){var seq__19857__$1=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__19857__$1)){var c__4226__auto__=cljs.core.chunk_first.call(null,seq__19857__$1);var G__19867=cljs.core.chunk_rest.call(null,seq__19857__$1);var G__19868=
c__4226__auto__;var G__19869=cljs.core.count.call(null,c__4226__auto__);var G__19870=0;seq__19857=G__19867;chunk__19858=G__19868;count__19859=G__19869;i__19860=G__19870;continue}else{var vec__19862=cljs.core.first.call(null,seq__19857__$1);var key=cljs.core.nth.call(null,vec__19862,0,null);var f=cljs.core.nth.call(null,vec__19862,1,null);f.call(null,key,this$__$1,oldval,newval);var G__19871=cljs.core.next.call(null,seq__19857__$1);var G__19872=null;var G__19873=0;var G__19874=0;seq__19857=G__19871;
chunk__19858=G__19872;count__19859=G__19873;i__19860=G__19874;continue}}else return null}break}};cljs.core.Atom.prototype.cljs$core$IWatchable$_add_watch$arity$3=function(this$,key,f){var self__=this;var this$__$1=this;return this$__$1.watches=cljs.core.assoc.call(null,self__.watches,key,f)};cljs.core.Atom.prototype.cljs$core$IWatchable$_remove_watch$arity$2=function(this$,key){var self__=this;var this$__$1=this;return this$__$1.watches=cljs.core.dissoc.call(null,self__.watches,key)};
cljs.core.Atom.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(a,writer,opts){var self__=this;var a__$1=this;cljs.core._write.call(null,writer,"#\x3cAtom: ");cljs.core.pr_writer.call(null,self__.state,writer,opts);return cljs.core._write.call(null,writer,"\x3e")};cljs.core.Atom.prototype.cljs$core$IMeta$_meta$arity$1=function(_){var self__=this;var ___$1=this;return self__.meta};cljs.core.Atom.prototype.cljs$core$IDeref$_deref$arity$1=function(_){var self__=this;var ___$1=this;return self__.state};
cljs.core.Atom.prototype.cljs$core$IEquiv$_equiv$arity$2=function(o,other){var self__=this;var o__$1=this;return o__$1===other};cljs.core.__GT_Atom=function __GT_Atom(state,meta,validator,watches){return new cljs.core.Atom(state,meta,validator,watches)};
cljs.core.atom=function(){var atom=null;var atom__1=function(x){return new cljs.core.Atom(x,null,null,null)};var atom__2=function(){var G__19878__delegate=function(x,p__19875){var map__19877=p__19875;var map__19877__$1=cljs.core.seq_QMARK_.call(null,map__19877)?cljs.core.apply.call(null,cljs.core.hash_map,map__19877):map__19877;var validator=cljs.core.get.call(null,map__19877__$1,new cljs.core.Keyword(null,"validator","validator",4199087812));var meta=cljs.core.get.call(null,map__19877__$1,new cljs.core.Keyword(null,
"meta","meta",1017252215));return new cljs.core.Atom(x,meta,validator,null)};var G__19878=function(x,var_args){var p__19875=null;if(arguments.length>1)p__19875=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return G__19878__delegate.call(this,x,p__19875)};G__19878.cljs$lang$maxFixedArity=1;G__19878.cljs$lang$applyTo=function(arglist__19879){var x=cljs.core.first(arglist__19879);var p__19875=cljs.core.rest(arglist__19879);return G__19878__delegate(x,p__19875)};G__19878.cljs$core$IFn$_invoke$arity$variadic=
G__19878__delegate;return G__19878}();atom=function(x,var_args){var p__19875=var_args;switch(arguments.length){case 1:return atom__1.call(this,x);default:return atom__2.cljs$core$IFn$_invoke$arity$variadic(x,cljs.core.array_seq(arguments,1))}throw new Error("Invalid arity: "+arguments.length);};atom.cljs$lang$maxFixedArity=1;atom.cljs$lang$applyTo=atom__2.cljs$lang$applyTo;atom.cljs$core$IFn$_invoke$arity$1=atom__1;atom.cljs$core$IFn$_invoke$arity$variadic=atom__2.cljs$core$IFn$_invoke$arity$variadic;
return atom}();
cljs.core.reset_BANG_=function reset_BANG_(a,new_value){if(a instanceof cljs.core.Atom){var validate=a.validator;if(validate==null);else if(cljs.core.truth_(validate.call(null,new_value)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Validator rejected reference state"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"validate","validate",1233162959,null),new cljs.core.Symbol(null,"new-value","new-value",972165309,null))))].join(""));
var old_value=a.state;a.state=new_value;if(a.watches==null);else cljs.core._notify_watches.call(null,a,old_value,new_value);return new_value}else return cljs.core._reset_BANG_.call(null,a,new_value)};cljs.core.deref=function deref(o){return cljs.core._deref.call(null,o)};
cljs.core.swap_BANG_=function(){var swap_BANG_=null;var swap_BANG___2=function(a,f){if(a instanceof cljs.core.Atom)return cljs.core.reset_BANG_.call(null,a,f.call(null,a.state));else return cljs.core._swap_BANG_.call(null,a,f)};var swap_BANG___3=function(a,f,x){if(a instanceof cljs.core.Atom)return cljs.core.reset_BANG_.call(null,a,f.call(null,a.state,x));else return cljs.core._swap_BANG_.call(null,a,f,x)};var swap_BANG___4=function(a,f,x,y){if(a instanceof cljs.core.Atom)return cljs.core.reset_BANG_.call(null,
a,f.call(null,a.state,x,y));else return cljs.core._swap_BANG_.call(null,a,f,x,y)};var swap_BANG___5=function(){var G__19880__delegate=function(a,f,x,y,more){if(a instanceof cljs.core.Atom)return cljs.core.reset_BANG_.call(null,a,cljs.core.apply.call(null,f,a.state,x,y,more));else return cljs.core._swap_BANG_.call(null,a,f,x,y,more)};var G__19880=function(a,f,x,y,var_args){var more=null;if(arguments.length>4)more=cljs.core.array_seq(Array.prototype.slice.call(arguments,4),0);return G__19880__delegate.call(this,
a,f,x,y,more)};G__19880.cljs$lang$maxFixedArity=4;G__19880.cljs$lang$applyTo=function(arglist__19881){var a=cljs.core.first(arglist__19881);arglist__19881=cljs.core.next(arglist__19881);var f=cljs.core.first(arglist__19881);arglist__19881=cljs.core.next(arglist__19881);var x=cljs.core.first(arglist__19881);arglist__19881=cljs.core.next(arglist__19881);var y=cljs.core.first(arglist__19881);var more=cljs.core.rest(arglist__19881);return G__19880__delegate(a,f,x,y,more)};G__19880.cljs$core$IFn$_invoke$arity$variadic=
G__19880__delegate;return G__19880}();swap_BANG_=function(a,f,x,y,var_args){var more=var_args;switch(arguments.length){case 2:return swap_BANG___2.call(this,a,f);case 3:return swap_BANG___3.call(this,a,f,x);case 4:return swap_BANG___4.call(this,a,f,x,y);default:return swap_BANG___5.cljs$core$IFn$_invoke$arity$variadic(a,f,x,y,cljs.core.array_seq(arguments,4))}throw new Error("Invalid arity: "+arguments.length);};swap_BANG_.cljs$lang$maxFixedArity=4;swap_BANG_.cljs$lang$applyTo=swap_BANG___5.cljs$lang$applyTo;
swap_BANG_.cljs$core$IFn$_invoke$arity$2=swap_BANG___2;swap_BANG_.cljs$core$IFn$_invoke$arity$3=swap_BANG___3;swap_BANG_.cljs$core$IFn$_invoke$arity$4=swap_BANG___4;swap_BANG_.cljs$core$IFn$_invoke$arity$variadic=swap_BANG___5.cljs$core$IFn$_invoke$arity$variadic;return swap_BANG_}();cljs.core.compare_and_set_BANG_=function compare_and_set_BANG_(a,oldval,newval){if(cljs.core._EQ_.call(null,a.state,oldval)){cljs.core.reset_BANG_.call(null,a,newval);return true}else return false};
cljs.core.set_validator_BANG_=function set_validator_BANG_(iref,val){return iref.validator=val};cljs.core.get_validator=function get_validator(iref){return iref.validator};
cljs.core.alter_meta_BANG_=function(){var alter_meta_BANG___delegate=function(iref,f,args){return iref.meta=cljs.core.apply.call(null,f,iref.meta,args)};var alter_meta_BANG_=function(iref,f,var_args){var args=null;if(arguments.length>2)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return alter_meta_BANG___delegate.call(this,iref,f,args)};alter_meta_BANG_.cljs$lang$maxFixedArity=2;alter_meta_BANG_.cljs$lang$applyTo=function(arglist__19882){var iref=cljs.core.first(arglist__19882);
arglist__19882=cljs.core.next(arglist__19882);var f=cljs.core.first(arglist__19882);var args=cljs.core.rest(arglist__19882);return alter_meta_BANG___delegate(iref,f,args)};alter_meta_BANG_.cljs$core$IFn$_invoke$arity$variadic=alter_meta_BANG___delegate;return alter_meta_BANG_}();cljs.core.reset_meta_BANG_=function reset_meta_BANG_(iref,m){return iref.meta=m};cljs.core.add_watch=function add_watch(iref,key,f){return cljs.core._add_watch.call(null,iref,key,f)};
cljs.core.remove_watch=function remove_watch(iref,key){return cljs.core._remove_watch.call(null,iref,key)};cljs.core.gensym_counter=null;
cljs.core.gensym=function(){var gensym=null;var gensym__0=function(){return gensym.call(null,"G__")};var gensym__1=function(prefix_string){if(cljs.core.gensym_counter==null)cljs.core.gensym_counter=cljs.core.atom.call(null,0);else;return cljs.core.symbol.call(null,[cljs.core.str(prefix_string),cljs.core.str(cljs.core.swap_BANG_.call(null,cljs.core.gensym_counter,cljs.core.inc))].join(""))};gensym=function(prefix_string){switch(arguments.length){case 0:return gensym__0.call(this);case 1:return gensym__1.call(this,
prefix_string)}throw new Error("Invalid arity: "+arguments.length);};gensym.cljs$core$IFn$_invoke$arity$0=gensym__0;gensym.cljs$core$IFn$_invoke$arity$1=gensym__1;return gensym}();cljs.core.fixture1=1;cljs.core.fixture2=2;cljs.core.Delay=function(state,f){this.state=state;this.f=f;this.cljs$lang$protocol_mask$partition1$=1;this.cljs$lang$protocol_mask$partition0$=32768};cljs.core.Delay.cljs$lang$type=true;cljs.core.Delay.cljs$lang$ctorStr="cljs.core/Delay";
cljs.core.Delay.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/Delay")};cljs.core.Delay.prototype.cljs$core$IPending$_realized_QMARK_$arity$1=function(d){var self__=this;var d__$1=this;return(new cljs.core.Keyword(null,"done","done",1016993524)).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,self__.state))};
cljs.core.Delay.prototype.cljs$core$IDeref$_deref$arity$1=function(_){var self__=this;var ___$1=this;return(new cljs.core.Keyword(null,"value","value",1125876963)).cljs$core$IFn$_invoke$arity$1(cljs.core.swap_BANG_.call(null,self__.state,function(___$1){return function(p__19883){var map__19884=p__19883;var map__19884__$1=cljs.core.seq_QMARK_.call(null,map__19884)?cljs.core.apply.call(null,cljs.core.hash_map,map__19884):map__19884;var curr_state=map__19884__$1;var done=cljs.core.get.call(null,map__19884__$1,
new cljs.core.Keyword(null,"done","done",1016993524));if(cljs.core.truth_(done))return curr_state;else return new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"done","done",1016993524),true,new cljs.core.Keyword(null,"value","value",1125876963),self__.f.call(null)],null)}}(___$1)))};cljs.core.__GT_Delay=function __GT_Delay(state,f){return new cljs.core.Delay(state,f)};cljs.core.delay_QMARK_=function delay_QMARK_(x){return x instanceof cljs.core.Delay};
cljs.core.force=function force(x){if(cljs.core.delay_QMARK_.call(null,x))return cljs.core.deref.call(null,x);else return x};cljs.core.realized_QMARK_=function realized_QMARK_(d){return cljs.core._realized_QMARK_.call(null,d)};cljs.core.IEncodeJS=function(){var obj19886={};return obj19886}();
cljs.core._clj__GT_js=function _clj__GT_js(x){if(function(){var and__3466__auto__=x;if(and__3466__auto__)return x.cljs$core$IEncodeJS$_clj__GT_js$arity$1;else return and__3466__auto__}())return x.cljs$core$IEncodeJS$_clj__GT_js$arity$1(x);else{var x__4105__auto__=x==null?null:x;return function(){var or__3478__auto__=cljs.core._clj__GT_js[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._clj__GT_js["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IEncodeJS.-clj-\x3ejs",x);}}().call(null,x)}};
cljs.core._key__GT_js=function _key__GT_js(x){if(function(){var and__3466__auto__=x;if(and__3466__auto__)return x.cljs$core$IEncodeJS$_key__GT_js$arity$1;else return and__3466__auto__}())return x.cljs$core$IEncodeJS$_key__GT_js$arity$1(x);else{var x__4105__auto__=x==null?null:x;return function(){var or__3478__auto__=cljs.core._key__GT_js[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._key__GT_js["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IEncodeJS.-key-\x3ejs",x);}}().call(null,x)}};
cljs.core.key__GT_js=function key__GT_js(k){if(function(){var G__19888=k;if(G__19888){var bit__4128__auto__=null;if(cljs.core.truth_(function(){var or__3478__auto__=bit__4128__auto__;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return G__19888.cljs$core$IEncodeJS$}()))return true;else if(!G__19888.cljs$lang$protocol_mask$partition$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IEncodeJS,G__19888);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,
cljs.core.IEncodeJS,G__19888)}())return cljs.core._clj__GT_js.call(null,k);else if(typeof k==="string"||(typeof k==="number"||(k instanceof cljs.core.Keyword||k instanceof cljs.core.Symbol)))return cljs.core.clj__GT_js.call(null,k);else return cljs.core.pr_str.call(null,k)};
cljs.core.clj__GT_js=function clj__GT_js(x){if(x==null)return null;else if(function(){var G__19902=x;if(G__19902){var bit__4128__auto__=null;if(cljs.core.truth_(function(){var or__3478__auto__=bit__4128__auto__;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return G__19902.cljs$core$IEncodeJS$}()))return true;else if(!G__19902.cljs$lang$protocol_mask$partition$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IEncodeJS,G__19902);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,
cljs.core.IEncodeJS,G__19902)}())return cljs.core._clj__GT_js.call(null,x);else if(x instanceof cljs.core.Keyword)return cljs.core.name.call(null,x);else if(x instanceof cljs.core.Symbol)return[cljs.core.str(x)].join("");else if(cljs.core.map_QMARK_.call(null,x)){var m=function(){var obj19904={};return obj19904}();var seq__19905_19915=cljs.core.seq.call(null,x);var chunk__19906_19916=null;var count__19907_19917=0;var i__19908_19918=0;while(true){if(i__19908_19918<count__19907_19917){var vec__19909_19919=
cljs.core._nth.call(null,chunk__19906_19916,i__19908_19918);var k_19920=cljs.core.nth.call(null,vec__19909_19919,0,null);var v_19921=cljs.core.nth.call(null,vec__19909_19919,1,null);m[cljs.core.key__GT_js.call(null,k_19920)]=clj__GT_js.call(null,v_19921);var G__19922=seq__19905_19915;var G__19923=chunk__19906_19916;var G__19924=count__19907_19917;var G__19925=i__19908_19918+1;seq__19905_19915=G__19922;chunk__19906_19916=G__19923;count__19907_19917=G__19924;i__19908_19918=G__19925;continue}else{var temp__4126__auto___19926=
cljs.core.seq.call(null,seq__19905_19915);if(temp__4126__auto___19926){var seq__19905_19927__$1=temp__4126__auto___19926;if(cljs.core.chunked_seq_QMARK_.call(null,seq__19905_19927__$1)){var c__4226__auto___19928=cljs.core.chunk_first.call(null,seq__19905_19927__$1);var G__19929=cljs.core.chunk_rest.call(null,seq__19905_19927__$1);var G__19930=c__4226__auto___19928;var G__19931=cljs.core.count.call(null,c__4226__auto___19928);var G__19932=0;seq__19905_19915=G__19929;chunk__19906_19916=G__19930;count__19907_19917=
G__19931;i__19908_19918=G__19932;continue}else{var vec__19910_19933=cljs.core.first.call(null,seq__19905_19927__$1);var k_19934=cljs.core.nth.call(null,vec__19910_19933,0,null);var v_19935=cljs.core.nth.call(null,vec__19910_19933,1,null);m[cljs.core.key__GT_js.call(null,k_19934)]=clj__GT_js.call(null,v_19935);var G__19936=cljs.core.next.call(null,seq__19905_19927__$1);var G__19937=null;var G__19938=0;var G__19939=0;seq__19905_19915=G__19936;chunk__19906_19916=G__19937;count__19907_19917=G__19938;
i__19908_19918=G__19939;continue}}else;}break}return m}else if(cljs.core.coll_QMARK_.call(null,x)){var arr=[];var seq__19911_19940=cljs.core.seq.call(null,cljs.core.map.call(null,clj__GT_js,x));var chunk__19912_19941=null;var count__19913_19942=0;var i__19914_19943=0;while(true){if(i__19914_19943<count__19913_19942){var x_19944__$1=cljs.core._nth.call(null,chunk__19912_19941,i__19914_19943);arr.push(x_19944__$1);var G__19945=seq__19911_19940;var G__19946=chunk__19912_19941;var G__19947=count__19913_19942;
var G__19948=i__19914_19943+1;seq__19911_19940=G__19945;chunk__19912_19941=G__19946;count__19913_19942=G__19947;i__19914_19943=G__19948;continue}else{var temp__4126__auto___19949=cljs.core.seq.call(null,seq__19911_19940);if(temp__4126__auto___19949){var seq__19911_19950__$1=temp__4126__auto___19949;if(cljs.core.chunked_seq_QMARK_.call(null,seq__19911_19950__$1)){var c__4226__auto___19951=cljs.core.chunk_first.call(null,seq__19911_19950__$1);var G__19952=cljs.core.chunk_rest.call(null,seq__19911_19950__$1);
var G__19953=c__4226__auto___19951;var G__19954=cljs.core.count.call(null,c__4226__auto___19951);var G__19955=0;seq__19911_19940=G__19952;chunk__19912_19941=G__19953;count__19913_19942=G__19954;i__19914_19943=G__19955;continue}else{var x_19956__$1=cljs.core.first.call(null,seq__19911_19950__$1);arr.push(x_19956__$1);var G__19957=cljs.core.next.call(null,seq__19911_19950__$1);var G__19958=null;var G__19959=0;var G__19960=0;seq__19911_19940=G__19957;chunk__19912_19941=G__19958;count__19913_19942=G__19959;
i__19914_19943=G__19960;continue}}else;}break}return arr}else if(new cljs.core.Keyword(null,"else","else",1017020587))return x;else return null};cljs.core.IEncodeClojure=function(){var obj19962={};return obj19962}();
cljs.core._js__GT_clj=function _js__GT_clj(x,options){if(function(){var and__3466__auto__=x;if(and__3466__auto__)return x.cljs$core$IEncodeClojure$_js__GT_clj$arity$2;else return and__3466__auto__}())return x.cljs$core$IEncodeClojure$_js__GT_clj$arity$2(x,options);else{var x__4105__auto__=x==null?null:x;return function(){var or__3478__auto__=cljs.core._js__GT_clj[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._js__GT_clj["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IEncodeClojure.-js-\x3eclj",x);}}().call(null,x,options)}};
cljs.core.js__GT_clj=function(){var js__GT_clj=null;var js__GT_clj__1=function(x){return js__GT_clj.call(null,x,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",4191781672),false],null))};var js__GT_clj__2=function(){var G__19983__delegate=function(x,opts){if(function(){var G__19973=x;if(G__19973){var bit__4128__auto__=null;if(cljs.core.truth_(function(){var or__3478__auto__=bit__4128__auto__;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;
else return G__19973.cljs$core$IEncodeClojure$}()))return true;else if(!G__19973.cljs$lang$protocol_mask$partition$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IEncodeClojure,G__19973);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IEncodeClojure,G__19973)}())return cljs.core._js__GT_clj.call(null,x,cljs.core.apply.call(null,cljs.core.array_map,opts));else if(cljs.core.seq.call(null,opts)){var map__19974=opts;var map__19974__$1=cljs.core.seq_QMARK_.call(null,
map__19974)?cljs.core.apply.call(null,cljs.core.hash_map,map__19974):map__19974;var keywordize_keys=cljs.core.get.call(null,map__19974__$1,new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",4191781672));var keyfn=cljs.core.truth_(keywordize_keys)?cljs.core.keyword:cljs.core.str;var f=function(map__19974,map__19974__$1,keywordize_keys,keyfn){return function thisfn(x__$1){if(cljs.core.seq_QMARK_.call(null,x__$1))return cljs.core.doall.call(null,cljs.core.map.call(null,thisfn,x__$1));else if(cljs.core.coll_QMARK_.call(null,
x__$1))return cljs.core.into.call(null,cljs.core.empty.call(null,x__$1),cljs.core.map.call(null,thisfn,x__$1));else if(x__$1 instanceof Array)return cljs.core.vec.call(null,cljs.core.map.call(null,thisfn,x__$1));else if(cljs.core.type.call(null,x__$1)===Object)return cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,function(){var iter__4195__auto__=function(map__19974,map__19974__$1,keywordize_keys,keyfn){return function iter__19979(s__19980){return new cljs.core.LazySeq(null,function(map__19974,
map__19974__$1,keywordize_keys,keyfn){return function(){var s__19980__$1=s__19980;while(true){var temp__4126__auto__=cljs.core.seq.call(null,s__19980__$1);if(temp__4126__auto__){var s__19980__$2=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__19980__$2)){var c__4193__auto__=cljs.core.chunk_first.call(null,s__19980__$2);var size__4194__auto__=cljs.core.count.call(null,c__4193__auto__);var b__19982=cljs.core.chunk_buffer.call(null,size__4194__auto__);if(function(){var i__19981=0;while(true){if(i__19981<
size__4194__auto__){var k=cljs.core._nth.call(null,c__4193__auto__,i__19981);cljs.core.chunk_append.call(null,b__19982,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[keyfn.call(null,k),thisfn.call(null,x__$1[k])],null));var G__19984=i__19981+1;i__19981=G__19984;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__19982),iter__19979.call(null,cljs.core.chunk_rest.call(null,s__19980__$2)));else return cljs.core.chunk_cons.call(null,
cljs.core.chunk.call(null,b__19982),null)}else{var k=cljs.core.first.call(null,s__19980__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[keyfn.call(null,k),thisfn.call(null,x__$1[k])],null),iter__19979.call(null,cljs.core.rest.call(null,s__19980__$2)))}}else return null;break}}}(map__19974,map__19974__$1,keywordize_keys,keyfn),null,null)}}(map__19974,map__19974__$1,keywordize_keys,keyfn);return iter__4195__auto__.call(null,cljs.core.js_keys.call(null,
x__$1))}());else if(new cljs.core.Keyword(null,"else","else",1017020587))return x__$1;else return null}}(map__19974,map__19974__$1,keywordize_keys,keyfn);return f.call(null,x)}else return null};var G__19983=function(x,var_args){var opts=null;if(arguments.length>1)opts=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return G__19983__delegate.call(this,x,opts)};G__19983.cljs$lang$maxFixedArity=1;G__19983.cljs$lang$applyTo=function(arglist__19985){var x=cljs.core.first(arglist__19985);
var opts=cljs.core.rest(arglist__19985);return G__19983__delegate(x,opts)};G__19983.cljs$core$IFn$_invoke$arity$variadic=G__19983__delegate;return G__19983}();js__GT_clj=function(x,var_args){var opts=var_args;switch(arguments.length){case 1:return js__GT_clj__1.call(this,x);default:return js__GT_clj__2.cljs$core$IFn$_invoke$arity$variadic(x,cljs.core.array_seq(arguments,1))}throw new Error("Invalid arity: "+arguments.length);};js__GT_clj.cljs$lang$maxFixedArity=1;js__GT_clj.cljs$lang$applyTo=js__GT_clj__2.cljs$lang$applyTo;
js__GT_clj.cljs$core$IFn$_invoke$arity$1=js__GT_clj__1;js__GT_clj.cljs$core$IFn$_invoke$arity$variadic=js__GT_clj__2.cljs$core$IFn$_invoke$arity$variadic;return js__GT_clj}();
cljs.core.memoize=function memoize(f){var mem=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);return function(mem){return function(){var G__19986__delegate=function(args){var temp__4124__auto__=cljs.core.get.call(null,cljs.core.deref.call(null,mem),args);if(cljs.core.truth_(temp__4124__auto__)){var v=temp__4124__auto__;return v}else{var ret=cljs.core.apply.call(null,f,args);cljs.core.swap_BANG_.call(null,mem,cljs.core.assoc,args,ret);return ret}};var G__19986=function(var_args){var args=
null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__19986__delegate.call(this,args)};G__19986.cljs$lang$maxFixedArity=0;G__19986.cljs$lang$applyTo=function(arglist__19987){var args=cljs.core.seq(arglist__19987);return G__19986__delegate(args)};G__19986.cljs$core$IFn$_invoke$arity$variadic=G__19986__delegate;return G__19986}()}(mem)};
cljs.core.trampoline=function(){var trampoline=null;var trampoline__1=function(f){while(true){var ret=f.call(null);if(cljs.core.fn_QMARK_.call(null,ret)){var G__19988=ret;f=G__19988;continue}else return ret;break}};var trampoline__2=function(){var G__19989__delegate=function(f,args){return trampoline.call(null,function(){return cljs.core.apply.call(null,f,args)})};var G__19989=function(f,var_args){var args=null;if(arguments.length>1)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),
0);return G__19989__delegate.call(this,f,args)};G__19989.cljs$lang$maxFixedArity=1;G__19989.cljs$lang$applyTo=function(arglist__19990){var f=cljs.core.first(arglist__19990);var args=cljs.core.rest(arglist__19990);return G__19989__delegate(f,args)};G__19989.cljs$core$IFn$_invoke$arity$variadic=G__19989__delegate;return G__19989}();trampoline=function(f,var_args){var args=var_args;switch(arguments.length){case 1:return trampoline__1.call(this,f);default:return trampoline__2.cljs$core$IFn$_invoke$arity$variadic(f,
cljs.core.array_seq(arguments,1))}throw new Error("Invalid arity: "+arguments.length);};trampoline.cljs$lang$maxFixedArity=1;trampoline.cljs$lang$applyTo=trampoline__2.cljs$lang$applyTo;trampoline.cljs$core$IFn$_invoke$arity$1=trampoline__1;trampoline.cljs$core$IFn$_invoke$arity$variadic=trampoline__2.cljs$core$IFn$_invoke$arity$variadic;return trampoline}();
cljs.core.rand=function(){var rand=null;var rand__0=function(){return rand.call(null,1)};var rand__1=function(n){return Math.random.call(null)*n};rand=function(n){switch(arguments.length){case 0:return rand__0.call(this);case 1:return rand__1.call(this,n)}throw new Error("Invalid arity: "+arguments.length);};rand.cljs$core$IFn$_invoke$arity$0=rand__0;rand.cljs$core$IFn$_invoke$arity$1=rand__1;return rand}();
cljs.core.rand_int=function rand_int(n){return Math.floor.call(null,Math.random.call(null)*n)};cljs.core.rand_nth=function rand_nth(coll){return cljs.core.nth.call(null,coll,cljs.core.rand_int.call(null,cljs.core.count.call(null,coll)))};
cljs.core.group_by=function group_by(f,coll){return cljs.core.reduce.call(null,function(ret,x){var k=f.call(null,x);return cljs.core.assoc.call(null,ret,k,cljs.core.conj.call(null,cljs.core.get.call(null,ret,k,cljs.core.PersistentVector.EMPTY),x))},cljs.core.PersistentArrayMap.EMPTY,coll)};
cljs.core.make_hierarchy=function make_hierarchy(){return new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"parents","parents",4515496059),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"descendants","descendants",768214664),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"ancestors","ancestors",889955442),cljs.core.PersistentArrayMap.EMPTY],null)};cljs.core._global_hierarchy=null;
cljs.core.get_global_hierarchy=function get_global_hierarchy(){if(cljs.core._global_hierarchy==null)cljs.core._global_hierarchy=cljs.core.atom.call(null,cljs.core.make_hierarchy.call(null));else;return cljs.core._global_hierarchy};
cljs.core.swap_global_hierarchy_BANG_=function(){var swap_global_hierarchy_BANG___delegate=function(f,args){return cljs.core.apply.call(null,cljs.core.swap_BANG_,cljs.core.get_global_hierarchy.call(null),f,args)};var swap_global_hierarchy_BANG_=function(f,var_args){var args=null;if(arguments.length>1)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return swap_global_hierarchy_BANG___delegate.call(this,f,args)};swap_global_hierarchy_BANG_.cljs$lang$maxFixedArity=1;swap_global_hierarchy_BANG_.cljs$lang$applyTo=
function(arglist__19991){var f=cljs.core.first(arglist__19991);var args=cljs.core.rest(arglist__19991);return swap_global_hierarchy_BANG___delegate(f,args)};swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic=swap_global_hierarchy_BANG___delegate;return swap_global_hierarchy_BANG_}();
cljs.core.isa_QMARK_=function(){var isa_QMARK_=null;var isa_QMARK___2=function(child,parent){return isa_QMARK_.call(null,cljs.core.deref.call(null,cljs.core.get_global_hierarchy.call(null)),child,parent)};var isa_QMARK___3=function(h,child,parent){var or__3478__auto__=cljs.core._EQ_.call(null,child,parent);if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.contains_QMARK_.call(null,(new cljs.core.Keyword(null,"ancestors","ancestors",889955442)).cljs$core$IFn$_invoke$arity$1(h).call(null,
child),parent);if(or__3478__auto____$1)return or__3478__auto____$1;else{var and__3466__auto__=cljs.core.vector_QMARK_.call(null,parent);if(and__3466__auto__){var and__3466__auto____$1=cljs.core.vector_QMARK_.call(null,child);if(and__3466__auto____$1){var and__3466__auto____$2=cljs.core.count.call(null,parent)===cljs.core.count.call(null,child);if(and__3466__auto____$2){var ret=true;var i=0;while(true){if(!ret||i===cljs.core.count.call(null,parent))return ret;else{var G__19992=isa_QMARK_.call(null,
h,child.call(null,i),parent.call(null,i));var G__19993=i+1;ret=G__19992;i=G__19993;continue}break}}else return and__3466__auto____$2}else return and__3466__auto____$1}else return and__3466__auto__}}};isa_QMARK_=function(h,child,parent){switch(arguments.length){case 2:return isa_QMARK___2.call(this,h,child);case 3:return isa_QMARK___3.call(this,h,child,parent)}throw new Error("Invalid arity: "+arguments.length);};isa_QMARK_.cljs$core$IFn$_invoke$arity$2=isa_QMARK___2;isa_QMARK_.cljs$core$IFn$_invoke$arity$3=
isa_QMARK___3;return isa_QMARK_}();
cljs.core.parents=function(){var parents=null;var parents__1=function(tag){return parents.call(null,cljs.core.deref.call(null,cljs.core.get_global_hierarchy.call(null)),tag)};var parents__2=function(h,tag){return cljs.core.not_empty.call(null,cljs.core.get.call(null,(new cljs.core.Keyword(null,"parents","parents",4515496059)).cljs$core$IFn$_invoke$arity$1(h),tag))};parents=function(h,tag){switch(arguments.length){case 1:return parents__1.call(this,h);case 2:return parents__2.call(this,h,tag)}throw new Error("Invalid arity: "+
arguments.length);};parents.cljs$core$IFn$_invoke$arity$1=parents__1;parents.cljs$core$IFn$_invoke$arity$2=parents__2;return parents}();
cljs.core.ancestors=function(){var ancestors=null;var ancestors__1=function(tag){return ancestors.call(null,cljs.core.deref.call(null,cljs.core.get_global_hierarchy.call(null)),tag)};var ancestors__2=function(h,tag){return cljs.core.not_empty.call(null,cljs.core.get.call(null,(new cljs.core.Keyword(null,"ancestors","ancestors",889955442)).cljs$core$IFn$_invoke$arity$1(h),tag))};ancestors=function(h,tag){switch(arguments.length){case 1:return ancestors__1.call(this,h);case 2:return ancestors__2.call(this,
h,tag)}throw new Error("Invalid arity: "+arguments.length);};ancestors.cljs$core$IFn$_invoke$arity$1=ancestors__1;ancestors.cljs$core$IFn$_invoke$arity$2=ancestors__2;return ancestors}();
cljs.core.descendants=function(){var descendants=null;var descendants__1=function(tag){return descendants.call(null,cljs.core.deref.call(null,cljs.core.get_global_hierarchy.call(null)),tag)};var descendants__2=function(h,tag){return cljs.core.not_empty.call(null,cljs.core.get.call(null,(new cljs.core.Keyword(null,"descendants","descendants",768214664)).cljs$core$IFn$_invoke$arity$1(h),tag))};descendants=function(h,tag){switch(arguments.length){case 1:return descendants__1.call(this,h);case 2:return descendants__2.call(this,
h,tag)}throw new Error("Invalid arity: "+arguments.length);};descendants.cljs$core$IFn$_invoke$arity$1=descendants__1;descendants.cljs$core$IFn$_invoke$arity$2=descendants__2;return descendants}();
cljs.core.derive=function(){var derive=null;var derive__2=function(tag,parent){if(cljs.core.truth_(cljs.core.namespace.call(null,parent)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"namespace","namespace",-388313324,null),new cljs.core.Symbol(null,"parent","parent",1659011683,null))))].join(""));cljs.core.swap_global_hierarchy_BANG_.call(null,derive,tag,parent);return null};var derive__3=function(h,tag,
parent){if(cljs.core.not_EQ_.call(null,tag,parent));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"not\x3d","not\x3d",-1637144189,null),new cljs.core.Symbol(null,"tag","tag",-1640416941,null),new cljs.core.Symbol(null,"parent","parent",1659011683,null))))].join(""));var tp=(new cljs.core.Keyword(null,"parents","parents",4515496059)).cljs$core$IFn$_invoke$arity$1(h);var td=(new cljs.core.Keyword(null,"descendants",
"descendants",768214664)).cljs$core$IFn$_invoke$arity$1(h);var ta=(new cljs.core.Keyword(null,"ancestors","ancestors",889955442)).cljs$core$IFn$_invoke$arity$1(h);var tf=function(tp,td,ta){return function(m,source,sources,target,targets){return cljs.core.reduce.call(null,function(tp,td,ta){return function(ret,k){return cljs.core.assoc.call(null,ret,k,cljs.core.reduce.call(null,cljs.core.conj,cljs.core.get.call(null,targets,k,cljs.core.PersistentHashSet.EMPTY),cljs.core.cons.call(null,target,targets.call(null,
target))))}}(tp,td,ta),m,cljs.core.cons.call(null,source,sources.call(null,source)))}}(tp,td,ta);var or__3478__auto__=cljs.core.contains_QMARK_.call(null,tp.call(null,tag),parent)?null:function(){if(cljs.core.contains_QMARK_.call(null,ta.call(null,tag),parent))throw new Error([cljs.core.str(tag),cljs.core.str("already has"),cljs.core.str(parent),cljs.core.str("as ancestor")].join(""));else;if(cljs.core.contains_QMARK_.call(null,ta.call(null,parent),tag))throw new Error([cljs.core.str("Cyclic derivation:"),
cljs.core.str(parent),cljs.core.str("has"),cljs.core.str(tag),cljs.core.str("as ancestor")].join(""));else;return new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"parents","parents",4515496059),cljs.core.assoc.call(null,(new cljs.core.Keyword(null,"parents","parents",4515496059)).cljs$core$IFn$_invoke$arity$1(h),tag,cljs.core.conj.call(null,cljs.core.get.call(null,tp,tag,cljs.core.PersistentHashSet.EMPTY),parent)),new cljs.core.Keyword(null,"ancestors","ancestors",889955442),tf.call(null,
(new cljs.core.Keyword(null,"ancestors","ancestors",889955442)).cljs$core$IFn$_invoke$arity$1(h),tag,td,parent,ta),new cljs.core.Keyword(null,"descendants","descendants",768214664),tf.call(null,(new cljs.core.Keyword(null,"descendants","descendants",768214664)).cljs$core$IFn$_invoke$arity$1(h),parent,ta,tag,td)],null)}();if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return h};derive=function(h,tag,parent){switch(arguments.length){case 2:return derive__2.call(this,h,tag);case 3:return derive__3.call(this,
h,tag,parent)}throw new Error("Invalid arity: "+arguments.length);};derive.cljs$core$IFn$_invoke$arity$2=derive__2;derive.cljs$core$IFn$_invoke$arity$3=derive__3;return derive}();
cljs.core.underive=function(){var underive=null;var underive__2=function(tag,parent){cljs.core.swap_global_hierarchy_BANG_.call(null,underive,tag,parent);return null};var underive__3=function(h,tag,parent){var parentMap=(new cljs.core.Keyword(null,"parents","parents",4515496059)).cljs$core$IFn$_invoke$arity$1(h);var childsParents=cljs.core.truth_(parentMap.call(null,tag))?cljs.core.disj.call(null,parentMap.call(null,tag),parent):cljs.core.PersistentHashSet.EMPTY;var newParents=cljs.core.truth_(cljs.core.not_empty.call(null,
childsParents))?cljs.core.assoc.call(null,parentMap,tag,childsParents):cljs.core.dissoc.call(null,parentMap,tag);var deriv_seq=cljs.core.flatten.call(null,cljs.core.map.call(null,function(parentMap,childsParents,newParents){return function(p1__19994_SHARP_){return cljs.core.cons.call(null,cljs.core.first.call(null,p1__19994_SHARP_),cljs.core.interpose.call(null,cljs.core.first.call(null,p1__19994_SHARP_),cljs.core.second.call(null,p1__19994_SHARP_)))}}(parentMap,childsParents,newParents),cljs.core.seq.call(null,
newParents)));if(cljs.core.contains_QMARK_.call(null,parentMap.call(null,tag),parent))return cljs.core.reduce.call(null,function(parentMap,childsParents,newParents,deriv_seq){return function(p1__19995_SHARP_,p2__19996_SHARP_){return cljs.core.apply.call(null,cljs.core.derive,p1__19995_SHARP_,p2__19996_SHARP_)}}(parentMap,childsParents,newParents,deriv_seq),cljs.core.make_hierarchy.call(null),cljs.core.partition.call(null,2,deriv_seq));else return h};underive=function(h,tag,parent){switch(arguments.length){case 2:return underive__2.call(this,
h,tag);case 3:return underive__3.call(this,h,tag,parent)}throw new Error("Invalid arity: "+arguments.length);};underive.cljs$core$IFn$_invoke$arity$2=underive__2;underive.cljs$core$IFn$_invoke$arity$3=underive__3;return underive}();
cljs.core.reset_cache=function reset_cache(method_cache,method_table,cached_hierarchy,hierarchy){cljs.core.swap_BANG_.call(null,method_cache,function(_){return cljs.core.deref.call(null,method_table)});return cljs.core.swap_BANG_.call(null,cached_hierarchy,function(_){return cljs.core.deref.call(null,hierarchy)})};
cljs.core.prefers_STAR_=function prefers_STAR_(x,y,prefer_table){var xprefs=cljs.core.deref.call(null,prefer_table).call(null,x);var or__3478__auto__=cljs.core.truth_(function(){var and__3466__auto__=xprefs;if(cljs.core.truth_(and__3466__auto__))return xprefs.call(null,y);else return and__3466__auto__}())?true:null;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=function(){var ps=cljs.core.parents.call(null,y);while(true){if(cljs.core.count.call(null,ps)>
0){if(cljs.core.truth_(prefers_STAR_.call(null,x,cljs.core.first.call(null,ps),prefer_table)));else;var G__19997=cljs.core.rest.call(null,ps);ps=G__19997;continue}else return null;break}}();if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else{var or__3478__auto____$2=function(){var ps=cljs.core.parents.call(null,x);while(true){if(cljs.core.count.call(null,ps)>0){if(cljs.core.truth_(prefers_STAR_.call(null,cljs.core.first.call(null,ps),y,prefer_table)));else;var G__19998=cljs.core.rest.call(null,
ps);ps=G__19998;continue}else return null;break}}();if(cljs.core.truth_(or__3478__auto____$2))return or__3478__auto____$2;else return false}}};cljs.core.dominates=function dominates(x,y,prefer_table){var or__3478__auto__=cljs.core.prefers_STAR_.call(null,x,y,prefer_table);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return cljs.core.isa_QMARK_.call(null,x,y)};
cljs.core.find_and_cache_best_method=function find_and_cache_best_method(name,dispatch_val,hierarchy,method_table,prefer_table,method_cache,cached_hierarchy){var best_entry=cljs.core.reduce.call(null,function(be,p__20001){var vec__20002=p__20001;var k=cljs.core.nth.call(null,vec__20002,0,null);var _=cljs.core.nth.call(null,vec__20002,1,null);var e=vec__20002;if(cljs.core.isa_QMARK_.call(null,cljs.core.deref.call(null,hierarchy),dispatch_val,k)){var be2=cljs.core.truth_(function(){var or__3478__auto__=
be==null;if(or__3478__auto__)return or__3478__auto__;else return cljs.core.dominates.call(null,k,cljs.core.first.call(null,be),prefer_table)}())?e:be;if(cljs.core.truth_(cljs.core.dominates.call(null,cljs.core.first.call(null,be2),k,prefer_table)));else throw new Error([cljs.core.str("Multiple methods in multimethod '"),cljs.core.str(name),cljs.core.str("' match dispatch value: "),cljs.core.str(dispatch_val),cljs.core.str(" -\x3e "),cljs.core.str(k),cljs.core.str(" and "),cljs.core.str(cljs.core.first.call(null,
be2)),cljs.core.str(", and neither is preferred")].join(""));return be2}else return be},null,cljs.core.deref.call(null,method_table));if(cljs.core.truth_(best_entry))if(cljs.core._EQ_.call(null,cljs.core.deref.call(null,cached_hierarchy),cljs.core.deref.call(null,hierarchy))){cljs.core.swap_BANG_.call(null,method_cache,cljs.core.assoc,dispatch_val,cljs.core.second.call(null,best_entry));return cljs.core.second.call(null,best_entry)}else{cljs.core.reset_cache.call(null,method_cache,method_table,cached_hierarchy,
hierarchy);return find_and_cache_best_method.call(null,name,dispatch_val,hierarchy,method_table,prefer_table,method_cache,cached_hierarchy)}else return null};cljs.core.IMultiFn=function(){var obj20004={};return obj20004}();
cljs.core._reset=function _reset(mf){if(function(){var and__3466__auto__=mf;if(and__3466__auto__)return mf.cljs$core$IMultiFn$_reset$arity$1;else return and__3466__auto__}())return mf.cljs$core$IMultiFn$_reset$arity$1(mf);else{var x__4105__auto__=mf==null?null:mf;return function(){var or__3478__auto__=cljs.core._reset[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._reset["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"IMultiFn.-reset",mf);}}().call(null,mf)}};
cljs.core._add_method=function _add_method(mf,dispatch_val,method){if(function(){var and__3466__auto__=mf;if(and__3466__auto__)return mf.cljs$core$IMultiFn$_add_method$arity$3;else return and__3466__auto__}())return mf.cljs$core$IMultiFn$_add_method$arity$3(mf,dispatch_val,method);else{var x__4105__auto__=mf==null?null:mf;return function(){var or__3478__auto__=cljs.core._add_method[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._add_method["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IMultiFn.-add-method",mf);}}().call(null,mf,dispatch_val,method)}};
cljs.core._remove_method=function _remove_method(mf,dispatch_val){if(function(){var and__3466__auto__=mf;if(and__3466__auto__)return mf.cljs$core$IMultiFn$_remove_method$arity$2;else return and__3466__auto__}())return mf.cljs$core$IMultiFn$_remove_method$arity$2(mf,dispatch_val);else{var x__4105__auto__=mf==null?null:mf;return function(){var or__3478__auto__=cljs.core._remove_method[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._remove_method["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IMultiFn.-remove-method",mf);}}().call(null,mf,dispatch_val)}};
cljs.core._prefer_method=function _prefer_method(mf,dispatch_val,dispatch_val_y){if(function(){var and__3466__auto__=mf;if(and__3466__auto__)return mf.cljs$core$IMultiFn$_prefer_method$arity$3;else return and__3466__auto__}())return mf.cljs$core$IMultiFn$_prefer_method$arity$3(mf,dispatch_val,dispatch_val_y);else{var x__4105__auto__=mf==null?null:mf;return function(){var or__3478__auto__=cljs.core._prefer_method[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core._prefer_method["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IMultiFn.-prefer-method",mf);}}().call(null,mf,dispatch_val,dispatch_val_y)}};
cljs.core._get_method=function _get_method(mf,dispatch_val){if(function(){var and__3466__auto__=mf;if(and__3466__auto__)return mf.cljs$core$IMultiFn$_get_method$arity$2;else return and__3466__auto__}())return mf.cljs$core$IMultiFn$_get_method$arity$2(mf,dispatch_val);else{var x__4105__auto__=mf==null?null:mf;return function(){var or__3478__auto__=cljs.core._get_method[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._get_method["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IMultiFn.-get-method",mf);}}().call(null,mf,dispatch_val)}};
cljs.core._methods=function _methods(mf){if(function(){var and__3466__auto__=mf;if(and__3466__auto__)return mf.cljs$core$IMultiFn$_methods$arity$1;else return and__3466__auto__}())return mf.cljs$core$IMultiFn$_methods$arity$1(mf);else{var x__4105__auto__=mf==null?null:mf;return function(){var or__3478__auto__=cljs.core._methods[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._methods["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IMultiFn.-methods",mf);}}().call(null,mf)}};
cljs.core._prefers=function _prefers(mf){if(function(){var and__3466__auto__=mf;if(and__3466__auto__)return mf.cljs$core$IMultiFn$_prefers$arity$1;else return and__3466__auto__}())return mf.cljs$core$IMultiFn$_prefers$arity$1(mf);else{var x__4105__auto__=mf==null?null:mf;return function(){var or__3478__auto__=cljs.core._prefers[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._prefers["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IMultiFn.-prefers",mf);}}().call(null,mf)}};
cljs.core._dispatch=function _dispatch(mf,args){if(function(){var and__3466__auto__=mf;if(and__3466__auto__)return mf.cljs$core$IMultiFn$_dispatch$arity$2;else return and__3466__auto__}())return mf.cljs$core$IMultiFn$_dispatch$arity$2(mf,args);else{var x__4105__auto__=mf==null?null:mf;return function(){var or__3478__auto__=cljs.core._dispatch[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core._dispatch["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IMultiFn.-dispatch",mf);}}().call(null,mf,args)}};
cljs.core.do_dispatch=function do_dispatch(mf,name,dispatch_fn,args){var dispatch_val=cljs.core.apply.call(null,dispatch_fn,args);var target_fn=cljs.core._get_method.call(null,mf,dispatch_val);if(cljs.core.truth_(target_fn));else throw new Error([cljs.core.str("No method in multimethod '"),cljs.core.str(name),cljs.core.str("' for dispatch value: "),cljs.core.str(dispatch_val)].join(""));return cljs.core.apply.call(null,target_fn,args)};
cljs.core.MultiFn=function(name,dispatch_fn,default_dispatch_val,hierarchy,method_table,prefer_table,method_cache,cached_hierarchy){this.name=name;this.dispatch_fn=dispatch_fn;this.default_dispatch_val=default_dispatch_val;this.hierarchy=hierarchy;this.method_table=method_table;this.prefer_table=prefer_table;this.method_cache=method_cache;this.cached_hierarchy=cached_hierarchy;this.cljs$lang$protocol_mask$partition0$=4194305;this.cljs$lang$protocol_mask$partition1$=256};
cljs.core.MultiFn.cljs$lang$type=true;cljs.core.MultiFn.cljs$lang$ctorStr="cljs.core/MultiFn";cljs.core.MultiFn.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/MultiFn")};cljs.core.MultiFn.prototype.cljs$core$IHash$_hash$arity$1=function(this$){var self__=this;var this$__$1=this;return goog.getUid(this$__$1)};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_reset$arity$1=function(mf){var self__=this;var mf__$1=this;cljs.core.swap_BANG_.call(null,self__.method_table,function(mf__$1){return function(mf__$2){return cljs.core.PersistentArrayMap.EMPTY}}(mf__$1));cljs.core.swap_BANG_.call(null,self__.method_cache,function(mf__$1){return function(mf__$2){return cljs.core.PersistentArrayMap.EMPTY}}(mf__$1));cljs.core.swap_BANG_.call(null,self__.prefer_table,function(mf__$1){return function(mf__$2){return cljs.core.PersistentArrayMap.EMPTY}}(mf__$1));
cljs.core.swap_BANG_.call(null,self__.cached_hierarchy,function(mf__$1){return function(mf__$2){return null}}(mf__$1));return mf__$1};cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_add_method$arity$3=function(mf,dispatch_val,method){var self__=this;var mf__$1=this;cljs.core.swap_BANG_.call(null,self__.method_table,cljs.core.assoc,dispatch_val,method);cljs.core.reset_cache.call(null,self__.method_cache,self__.method_table,self__.cached_hierarchy,self__.hierarchy);return mf__$1};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_remove_method$arity$2=function(mf,dispatch_val){var self__=this;var mf__$1=this;cljs.core.swap_BANG_.call(null,self__.method_table,cljs.core.dissoc,dispatch_val);cljs.core.reset_cache.call(null,self__.method_cache,self__.method_table,self__.cached_hierarchy,self__.hierarchy);return mf__$1};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_get_method$arity$2=function(mf,dispatch_val){var self__=this;var mf__$1=this;if(cljs.core._EQ_.call(null,cljs.core.deref.call(null,self__.cached_hierarchy),cljs.core.deref.call(null,self__.hierarchy)));else cljs.core.reset_cache.call(null,self__.method_cache,self__.method_table,self__.cached_hierarchy,self__.hierarchy);var temp__4124__auto__=cljs.core.deref.call(null,self__.method_cache).call(null,dispatch_val);if(cljs.core.truth_(temp__4124__auto__)){var target_fn=
temp__4124__auto__;return target_fn}else{var temp__4124__auto____$1=cljs.core.find_and_cache_best_method.call(null,self__.name,dispatch_val,self__.hierarchy,self__.method_table,self__.prefer_table,self__.method_cache,self__.cached_hierarchy);if(cljs.core.truth_(temp__4124__auto____$1)){var target_fn=temp__4124__auto____$1;return target_fn}else return cljs.core.deref.call(null,self__.method_table).call(null,self__.default_dispatch_val)}};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_prefer_method$arity$3=function(mf,dispatch_val_x,dispatch_val_y){var self__=this;var mf__$1=this;if(cljs.core.truth_(cljs.core.prefers_STAR_.call(null,dispatch_val_x,dispatch_val_y,self__.prefer_table)))throw new Error([cljs.core.str("Preference conflict in multimethod '"),cljs.core.str(self__.name),cljs.core.str("': "),cljs.core.str(dispatch_val_y),cljs.core.str(" is already preferred to "),cljs.core.str(dispatch_val_x)].join(""));else;cljs.core.swap_BANG_.call(null,
self__.prefer_table,function(mf__$1){return function(old){return cljs.core.assoc.call(null,old,dispatch_val_x,cljs.core.conj.call(null,cljs.core.get.call(null,old,dispatch_val_x,cljs.core.PersistentHashSet.EMPTY),dispatch_val_y))}}(mf__$1));return cljs.core.reset_cache.call(null,self__.method_cache,self__.method_table,self__.cached_hierarchy,self__.hierarchy)};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_methods$arity$1=function(mf){var self__=this;var mf__$1=this;return cljs.core.deref.call(null,self__.method_table)};cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_prefers$arity$1=function(mf){var self__=this;var mf__$1=this;return cljs.core.deref.call(null,self__.prefer_table)};
cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_dispatch$arity$2=function(mf,args){var self__=this;var mf__$1=this;return cljs.core.do_dispatch.call(null,mf__$1,self__.name,self__.dispatch_fn,args)};cljs.core.__GT_MultiFn=function __GT_MultiFn(name,dispatch_fn,default_dispatch_val,hierarchy,method_table,prefer_table,method_cache,cached_hierarchy){return new cljs.core.MultiFn(name,dispatch_fn,default_dispatch_val,hierarchy,method_table,prefer_table,method_cache,cached_hierarchy)};
cljs.core.MultiFn.prototype.call=function(){var G__20005__delegate=function(_,args){var self=this;return cljs.core._dispatch.call(null,self,args)};var G__20005=function(_,var_args){var args=null;if(arguments.length>1)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return G__20005__delegate.call(this,_,args)};G__20005.cljs$lang$maxFixedArity=1;G__20005.cljs$lang$applyTo=function(arglist__20006){var _=cljs.core.first(arglist__20006);var args=cljs.core.rest(arglist__20006);return G__20005__delegate(_,
args)};G__20005.cljs$core$IFn$_invoke$arity$variadic=G__20005__delegate;return G__20005}();cljs.core.MultiFn.prototype.apply=function(_,args){var self=this;return cljs.core._dispatch.call(null,self,args)};cljs.core.remove_all_methods=function remove_all_methods(multifn){return cljs.core._reset.call(null,multifn)};cljs.core.remove_method=function remove_method(multifn,dispatch_val){return cljs.core._remove_method.call(null,multifn,dispatch_val)};
cljs.core.prefer_method=function prefer_method(multifn,dispatch_val_x,dispatch_val_y){return cljs.core._prefer_method.call(null,multifn,dispatch_val_x,dispatch_val_y)};cljs.core.methods$=function methods$(multifn){return cljs.core._methods.call(null,multifn)};cljs.core.get_method=function get_method(multifn,dispatch_val){return cljs.core._get_method.call(null,multifn,dispatch_val)};cljs.core.prefers=function prefers(multifn){return cljs.core._prefers.call(null,multifn)};
cljs.core.UUID=function(uuid){this.uuid=uuid;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=2153775104};cljs.core.UUID.cljs$lang$type=true;cljs.core.UUID.cljs$lang$ctorStr="cljs.core/UUID";cljs.core.UUID.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core/UUID")};
cljs.core.UUID.prototype.cljs$core$IHash$_hash$arity$1=function(this$){var self__=this;var this$__$1=this;return goog.string.hashCode(cljs.core.pr_str.call(null,this$__$1))};cljs.core.UUID.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(_,writer,___$1){var self__=this;var ___$2=this;return cljs.core._write.call(null,writer,[cljs.core.str('#uuid "'),cljs.core.str(self__.uuid),cljs.core.str('"')].join(""))};
cljs.core.UUID.prototype.cljs$core$IEquiv$_equiv$arity$2=function(_,other){var self__=this;var ___$1=this;return other instanceof cljs.core.UUID&&self__.uuid===other.uuid};cljs.core.UUID.prototype.toString=function(){var self__=this;var _=this;return self__.uuid};cljs.core.__GT_UUID=function __GT_UUID(uuid){return new cljs.core.UUID(uuid)};cljs.core.ExceptionInfo=function(message,data,cause){this.message=message;this.data=data;this.cause=cause};cljs.core.ExceptionInfo.cljs$lang$type=true;
cljs.core.ExceptionInfo.cljs$lang$ctorStr="cljs.core/ExceptionInfo";cljs.core.ExceptionInfo.cljs$lang$ctorPrWriter=function(this__4048__auto__,writer__4049__auto__,opts__4050__auto__){return cljs.core._write.call(null,writer__4049__auto__,"cljs.core/ExceptionInfo")};cljs.core.__GT_ExceptionInfo=function __GT_ExceptionInfo(message,data,cause){return new cljs.core.ExceptionInfo(message,data,cause)};cljs.core.ExceptionInfo.prototype=new Error;cljs.core.ExceptionInfo.prototype.constructor=cljs.core.ExceptionInfo;
cljs.core.ex_info=function(){var ex_info=null;var ex_info__2=function(msg,map){return new cljs.core.ExceptionInfo(msg,map,null)};var ex_info__3=function(msg,map,cause){return new cljs.core.ExceptionInfo(msg,map,cause)};ex_info=function(msg,map,cause){switch(arguments.length){case 2:return ex_info__2.call(this,msg,map);case 3:return ex_info__3.call(this,msg,map,cause)}throw new Error("Invalid arity: "+arguments.length);};ex_info.cljs$core$IFn$_invoke$arity$2=ex_info__2;ex_info.cljs$core$IFn$_invoke$arity$3=
ex_info__3;return ex_info}();cljs.core.ex_data=function ex_data(ex){if(ex instanceof cljs.core.ExceptionInfo)return ex.data;else return null};cljs.core.ex_message=function ex_message(ex){if(ex instanceof Error)return ex.message;else return null};cljs.core.ex_cause=function ex_cause(ex){if(ex instanceof cljs.core.ExceptionInfo)return ex.cause;else return null};
cljs.core.comparator=function comparator(pred){return function(x,y){if(cljs.core.truth_(pred.call(null,x,y)))return-1;else if(cljs.core.truth_(pred.call(null,y,x)))return 1;else if(new cljs.core.Keyword(null,"else","else",1017020587))return 0;else return null}};
cljs.core.special_symbol_QMARK_=function special_symbol_QMARK_(x){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,19,[new cljs.core.Symbol(null,"\x26","\x26",-1640531489,null),null,new cljs.core.Symbol(null,"defrecord*","defrecord*",774272013,null),null,new cljs.core.Symbol(null,"try","try",-1640416396,null),null,new cljs.core.Symbol(null,"loop*","loop*",-1537374273,null),null,new cljs.core.Symbol(null,"do","do",-1640528316,null),
null,new cljs.core.Symbol(null,"letfn*","letfn*",1548249632,null),null,new cljs.core.Symbol(null,"if","if",-1640528170,null),null,new cljs.core.Symbol(null,"new","new",-1640422567,null),null,new cljs.core.Symbol(null,"ns","ns",-1640528002,null),null,new cljs.core.Symbol(null,"deftype*","deftype*",-978581244,null),null,new cljs.core.Symbol(null,"let*","let*",-1637213400,null),null,new cljs.core.Symbol(null,"js*","js*",-1640426054,null),null,new cljs.core.Symbol(null,"fn*","fn*",-1640430053,null),null,
new cljs.core.Symbol(null,"recur","recur",-1532142362,null),null,new cljs.core.Symbol(null,"set!","set!",-1637004872,null),null,new cljs.core.Symbol(null,".",".",-1640531481,null),null,new cljs.core.Symbol(null,"quote","quote",-1532577739,null),null,new cljs.core.Symbol(null,"throw","throw",-1530191713,null),null,new cljs.core.Symbol(null,"def","def",-1640432194,null),null],null),null),x)};goog.provide("reagent.impl.reactimport");goog.require("cljs.core");reagent.impl.reactimport.React=React;(function(){var X={};X.createClass=false;X.isValidClass=false;X.setProps=false;X.setState=false;X.replaceState=false;X.forceUpdate=false;X.renderComponent=false;X.unmountComponentAtNode=false;X.renderComponentToString=false;X.getDOMNode=false;X.initializeTouchEvents=false;X.addons=false;X.TransitionGroup=false});goog.provide("reagent.debug");goog.require("cljs.core");goog.provide("clojure.string");goog.require("cljs.core");goog.require("goog.string.StringBuffer");goog.require("goog.string.StringBuffer");goog.require("goog.string");goog.require("goog.string");clojure.string.seq_reverse=function seq_reverse(coll){return cljs.core.reduce.call(null,cljs.core.conj,cljs.core.List.EMPTY,coll)};clojure.string.reverse=function reverse(s){return s.split("").reverse().join("")};
clojure.string.replace=function replace(s,match,replacement){if(typeof match==="string")return s.replace(new RegExp(goog.string.regExpEscape(match),"g"),replacement);else if(cljs.core.truth_(match.hasOwnProperty("source")))return s.replace(new RegExp(match.source,"g"),replacement);else if(new cljs.core.Keyword(null,"else","else",1017020587))throw[cljs.core.str("Invalid match arg: "),cljs.core.str(match)].join("");else return null};
clojure.string.replace_first=function replace_first(s,match,replacement){return s.replace(match,replacement)};
clojure.string.join=function(){var join=null;var join__1=function(coll){return cljs.core.apply.call(null,cljs.core.str,coll)};var join__2=function(separator,coll){return cljs.core.apply.call(null,cljs.core.str,cljs.core.interpose.call(null,separator,coll))};join=function(separator,coll){switch(arguments.length){case 1:return join__1.call(this,separator);case 2:return join__2.call(this,separator,coll)}throw new Error("Invalid arity: "+arguments.length);};join.cljs$core$IFn$_invoke$arity$1=join__1;
join.cljs$core$IFn$_invoke$arity$2=join__2;return join}();clojure.string.upper_case=function upper_case(s){return s.toUpperCase()};clojure.string.lower_case=function lower_case(s){return s.toLowerCase()};
clojure.string.capitalize=function capitalize(s){if(cljs.core.count.call(null,s)<2)return clojure.string.upper_case.call(null,s);else return[cljs.core.str(clojure.string.upper_case.call(null,cljs.core.subs.call(null,s,0,1))),cljs.core.str(clojure.string.lower_case.call(null,cljs.core.subs.call(null,s,1)))].join("")};
clojure.string.pop_last_while_empty=function pop_last_while_empty(v){var v__$1=v;while(true){if(cljs.core._EQ_.call(null,"",cljs.core.peek.call(null,v__$1))){var G__18807=cljs.core.pop.call(null,v__$1);v__$1=G__18807;continue}else return v__$1;break}};clojure.string.discard_trailing_if_needed=function discard_trailing_if_needed(limit,v){if(cljs.core._EQ_.call(null,0,limit))return clojure.string.pop_last_while_empty.call(null,v);else return v};
clojure.string.split_with_empty_regex=function split_with_empty_regex(s,limit){if(limit<=0||limit>=2+cljs.core.count.call(null,s))return cljs.core.conj.call(null,cljs.core.vec.call(null,cljs.core.cons.call(null,"",cljs.core.map.call(null,cljs.core.str,cljs.core.seq.call(null,s)))),"");else{var pred__18811=cljs.core._EQ_;var expr__18812=limit;if(cljs.core.truth_(pred__18811.call(null,1,expr__18812)))return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[s],null);else if(cljs.core.truth_(pred__18811.call(null,
2,expr__18812)))return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["",s],null);else{var c=limit-2;return cljs.core.conj.call(null,cljs.core.vec.call(null,cljs.core.cons.call(null,"",cljs.core.subvec.call(null,cljs.core.vec.call(null,cljs.core.map.call(null,cljs.core.str,cljs.core.seq.call(null,s))),0,c))),cljs.core.subs.call(null,s,c))}}};
clojure.string.split=function(){var split=null;var split__2=function(s,re){return split.call(null,s,re,0)};var split__3=function(s,re,limit){return clojure.string.discard_trailing_if_needed.call(null,limit,cljs.core._EQ_.call(null,[cljs.core.str(re)].join(""),"/(?:)/")?clojure.string.split_with_empty_regex.call(null,s,limit):limit<1?cljs.core.vec.call(null,[cljs.core.str(s)].join("").split(re)):function(){var s__$1=s;var limit__$1=limit;var parts=cljs.core.PersistentVector.EMPTY;while(true){if(cljs.core._EQ_.call(null,
limit__$1,1))return cljs.core.conj.call(null,parts,s__$1);else{var temp__4124__auto__=cljs.core.re_find.call(null,re,s__$1);if(cljs.core.truth_(temp__4124__auto__)){var m=temp__4124__auto__;var index=s__$1.indexOf(m);var G__18814=s__$1.substring(index+cljs.core.count.call(null,m));var G__18815=limit__$1-1;var G__18816=cljs.core.conj.call(null,parts,s__$1.substring(0,index));s__$1=G__18814;limit__$1=G__18815;parts=G__18816;continue}else return cljs.core.conj.call(null,parts,s__$1)}break}}())};split=
function(s,re,limit){switch(arguments.length){case 2:return split__2.call(this,s,re);case 3:return split__3.call(this,s,re,limit)}throw new Error("Invalid arity: "+arguments.length);};split.cljs$core$IFn$_invoke$arity$2=split__2;split.cljs$core$IFn$_invoke$arity$3=split__3;return split}();clojure.string.split_lines=function split_lines(s){return clojure.string.split.call(null,s,/\n|\r\n/)};clojure.string.trim=function trim(s){return goog.string.trim(s)};clojure.string.triml=function triml(s){return goog.string.trimLeft(s)};
clojure.string.trimr=function trimr(s){return goog.string.trimRight(s)};clojure.string.trim_newline=function trim_newline(s){var index=s.length;while(true){if(index===0)return"";else{var ch=cljs.core.get.call(null,s,index-1);if(cljs.core._EQ_.call(null,ch,"\n")||cljs.core._EQ_.call(null,ch,"\r")){var G__18817=index-1;index=G__18817;continue}else return s.substring(0,index)}break}};clojure.string.blank_QMARK_=function blank_QMARK_(s){return goog.string.isEmptySafe(s)};
clojure.string.escape=function escape__$1(s,cmap){var buffer=new goog.string.StringBuffer;var length=s.length;var index=0;while(true){if(cljs.core._EQ_.call(null,length,index))return buffer.toString();else{var ch=s.charAt(index);var temp__4124__auto___18818=cljs.core.get.call(null,cmap,ch);if(cljs.core.truth_(temp__4124__auto___18818)){var replacement_18819=temp__4124__auto___18818;buffer.append([cljs.core.str(replacement_18819)].join(""))}else buffer.append(ch);var G__18820=index+1;index=G__18820;
continue}break}};goog.provide("reagent.impl.util");goog.require("cljs.core");goog.require("clojure.string");goog.require("clojure.string");goog.require("reagent.impl.reactimport");goog.require("reagent.impl.reactimport");goog.require("reagent.debug");reagent.impl.util.is_client=!(function(){try{return window.document}catch(e18948){if(e18948 instanceof Object){var e=e18948;return null}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e18948;else return null}}()==null);reagent.impl.util.React=reagent.impl.reactimport.React;
reagent.impl.util.props="props";reagent.impl.util.cljs_level="cljsLevel";reagent.impl.util.cljs_argv="cljsArgv";reagent.impl.util.js_props=function js_props(C){return C[reagent.impl.util.props]};reagent.impl.util.extract_props=function extract_props(v){var p=cljs.core.get.call(null,v,1);if(cljs.core.map_QMARK_.call(null,p))return p;else return null};
reagent.impl.util.extract_children=function extract_children(v){var p=cljs.core.get.call(null,v,1);var first_child=p==null||cljs.core.map_QMARK_.call(null,p)?2:1;if(cljs.core.count.call(null,v)>first_child)return cljs.core.subvec.call(null,v,first_child);else return null};reagent.impl.util.get_argv=function get_argv(C){return C[reagent.impl.util.props][reagent.impl.util.cljs_argv]};reagent.impl.util.get_props=function get_props(C){return reagent.impl.util.extract_props.call(null,C[reagent.impl.util.props][reagent.impl.util.cljs_argv])};
reagent.impl.util.get_children=function get_children(C){return reagent.impl.util.extract_children.call(null,C[reagent.impl.util.props][reagent.impl.util.cljs_argv])};reagent.impl.util.reagent_component_QMARK_=function reagent_component_QMARK_(C){return!(reagent.impl.util.get_argv.call(null,C)==null)};reagent.impl.util.dont_camel_case=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,["aria",null,"data",null],null),null);
reagent.impl.util.capitalize=function capitalize(s){if(cljs.core.count.call(null,s)<2)return clojure.string.upper_case.call(null,s);else return[cljs.core.str(clojure.string.upper_case.call(null,cljs.core.subs.call(null,s,0,1))),cljs.core.str(cljs.core.subs.call(null,s,1))].join("")};
reagent.impl.util.dash_to_camel=function dash_to_camel(dashed){if(typeof dashed==="string")return dashed;else{var name_str=cljs.core.name.call(null,dashed);var vec__18950=clojure.string.split.call(null,name_str,/-/);var start=cljs.core.nth.call(null,vec__18950,0,null);var parts=cljs.core.nthnext.call(null,vec__18950,1);if(cljs.core.truth_(reagent.impl.util.dont_camel_case.call(null,start)))return name_str;else return cljs.core.apply.call(null,cljs.core.str,start,cljs.core.map.call(null,reagent.impl.util.capitalize,
parts))}};reagent.impl.util.partial_ifn=function(f,args,p){this.f=f;this.args=args;this.p=p;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=6291457};reagent.impl.util.partial_ifn.cljs$lang$type=true;reagent.impl.util.partial_ifn.cljs$lang$ctorStr="reagent.impl.util/partial-ifn";reagent.impl.util.partial_ifn.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"reagent.impl.util/partial-ifn")};
reagent.impl.util.partial_ifn.prototype.cljs$core$IHash$_hash$arity$1=function(_){var self__=this;var ___$1=this;return cljs.core.hash.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.f,self__.args],null))};reagent.impl.util.partial_ifn.prototype.cljs$core$IEquiv$_equiv$arity$2=function(_,other){var self__=this;var ___$1=this;return cljs.core._EQ_.call(null,self__.f,other.f)&&cljs.core._EQ_.call(null,self__.args,other.args)};
reagent.impl.util.partial_ifn.prototype.call=function(){var G__18952__delegate=function(self__,a){var self____$1=this;var _=self____$1;var or__3478__auto___18953=self__.p;if(cljs.core.truth_(or__3478__auto___18953));else self__.p=cljs.core.apply.call(null,cljs.core.partial,self__.f,self__.args);return cljs.core.apply.call(null,self__.p,a)};var G__18952=function(self__,var_args){var self__=this;var a=null;if(arguments.length>1)a=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return G__18952__delegate.call(this,
self__,a)};G__18952.cljs$lang$maxFixedArity=1;G__18952.cljs$lang$applyTo=function(arglist__18954){var self__=cljs.core.first(arglist__18954);var a=cljs.core.rest(arglist__18954);return G__18952__delegate(self__,a)};G__18952.cljs$core$IFn$_invoke$arity$variadic=G__18952__delegate;return G__18952}();reagent.impl.util.partial_ifn.prototype.apply=function(self__,args18951){var self__=this;var self____$1=this;return self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone.call(null,args18951)))};
reagent.impl.util.partial_ifn.prototype.cljs$core$IFn$_invoke$arity$2=function(){var G__18955__delegate=function(a){var _=this;var or__3478__auto___18956=self__.p;if(cljs.core.truth_(or__3478__auto___18956));else self__.p=cljs.core.apply.call(null,cljs.core.partial,self__.f,self__.args);return cljs.core.apply.call(null,self__.p,a)};var G__18955=function(var_args){var self__=this;var a=null;if(arguments.length>0)a=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__18955__delegate.call(this,
a)};G__18955.cljs$lang$maxFixedArity=0;G__18955.cljs$lang$applyTo=function(arglist__18957){var a=cljs.core.seq(arglist__18957);return G__18955__delegate(a)};G__18955.cljs$core$IFn$_invoke$arity$variadic=G__18955__delegate;return G__18955}();reagent.impl.util.__GT_partial_ifn=function __GT_partial_ifn(f,args,p){return new reagent.impl.util.partial_ifn(f,args,p)};
reagent.impl.util.merge_class=function merge_class(p1,p2){var class$=function(){var temp__4126__auto__=(new cljs.core.Keyword(null,"class","class",1108647146)).cljs$core$IFn$_invoke$arity$1(p1);if(cljs.core.truth_(temp__4126__auto__)){var c1=temp__4126__auto__;var temp__4126__auto____$1=(new cljs.core.Keyword(null,"class","class",1108647146)).cljs$core$IFn$_invoke$arity$1(p2);if(cljs.core.truth_(temp__4126__auto____$1)){var c2=temp__4126__auto____$1;return[cljs.core.str(c1),cljs.core.str(" "),cljs.core.str(c2)].join("")}else return null}else return null}();
if(class$==null)return p2;else return cljs.core.assoc.call(null,p2,new cljs.core.Keyword(null,"class","class",1108647146),class$)};
reagent.impl.util.merge_style=function merge_style(p1,p2){var style=function(){var temp__4126__auto__=(new cljs.core.Keyword(null,"style","style",1123684643)).cljs$core$IFn$_invoke$arity$1(p1);if(cljs.core.truth_(temp__4126__auto__)){var s1=temp__4126__auto__;var temp__4126__auto____$1=(new cljs.core.Keyword(null,"style","style",1123684643)).cljs$core$IFn$_invoke$arity$1(p2);if(cljs.core.truth_(temp__4126__auto____$1)){var s2=temp__4126__auto____$1;return cljs.core.merge.call(null,s1,s2)}else return null}else return null}();
if(style==null)return p2;else return cljs.core.assoc.call(null,p2,new cljs.core.Keyword(null,"style","style",1123684643),style)};
reagent.impl.util.merge_props=function merge_props(p1,p2){if(p1==null)return p2;else{if(cljs.core.map_QMARK_.call(null,p1));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"map?","map?",-1637187556,null),new cljs.core.Symbol(null,"p1","p1",-1640528006,null))))].join(""));return reagent.impl.util.merge_style.call(null,p1,reagent.impl.util.merge_class.call(null,p1,cljs.core.merge.call(null,p1,p2)))}};
reagent.impl.util._not_found=function(){var obj18959={};return obj18959}();reagent.impl.util.identical_ish_QMARK_=function identical_ish_QMARK_(x,y){return cljs.core.keyword_identical_QMARK_.call(null,x,y)||(x instanceof cljs.core.Symbol||cljs.core.type.call(null,x)===reagent.impl.util.partial_ifn)&&cljs.core._EQ_.call(null,x,y)};
reagent.impl.util.shallow_equal_maps=function shallow_equal_maps(x,y){var or__3478__auto__=x===y;if(or__3478__auto__)return or__3478__auto__;else{var and__3466__auto__=cljs.core.map_QMARK_.call(null,x);if(and__3466__auto__){var and__3466__auto____$1=cljs.core.map_QMARK_.call(null,y);if(and__3466__auto____$1){var and__3466__auto____$2=cljs.core.count.call(null,x)===cljs.core.count.call(null,y);if(and__3466__auto____$2)return cljs.core.reduce_kv.call(null,function(and__3466__auto____$2,and__3466__auto____$1,
and__3466__auto__,or__3478__auto__){return function(res,k,v){var yv=cljs.core.get.call(null,y,k,reagent.impl.util._not_found);if(cljs.core.truth_(function(){var or__3478__auto____$1=v===yv;if(or__3478__auto____$1)return or__3478__auto____$1;else{var or__3478__auto____$2=reagent.impl.util.identical_ish_QMARK_.call(null,v,yv);if(or__3478__auto____$2)return or__3478__auto____$2;else{var and__3466__auto____$3=cljs.core.keyword_identical_QMARK_.call(null,k,new cljs.core.Keyword(null,"style","style",1123684643));
if(and__3466__auto____$3)return shallow_equal_maps.call(null,v,yv);else return and__3466__auto____$3}}}()))return res;else return cljs.core.reduced.call(null,false)}}(and__3466__auto____$2,and__3466__auto____$1,and__3466__auto__,or__3478__auto__),true,x);else return and__3466__auto____$2}else return and__3466__auto____$1}else return and__3466__auto__}};
reagent.impl.util.equal_args=function equal_args(v1,v2){if(cljs.core.vector_QMARK_.call(null,v1));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"vector?","vector?",-1302740715,null),new cljs.core.Symbol(null,"v1","v1",-1640527820,null))))].join(""));if(cljs.core.vector_QMARK_.call(null,v2));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,
"vector?","vector?",-1302740715,null),new cljs.core.Symbol(null,"v2","v2",-1640527819,null))))].join(""));var or__3478__auto__=v1===v2;if(or__3478__auto__)return or__3478__auto__;else{var and__3466__auto__=cljs.core.count.call(null,v1)===cljs.core.count.call(null,v2);if(and__3466__auto__)return cljs.core.reduce_kv.call(null,function(and__3466__auto__,or__3478__auto__){return function(res,k,v){var v_SINGLEQUOTE_=v2.call(null,k);if(cljs.core.truth_(function(){var or__3478__auto____$1=v===v_SINGLEQUOTE_;
if(or__3478__auto____$1)return or__3478__auto____$1;else{var or__3478__auto____$2=reagent.impl.util.identical_ish_QMARK_.call(null,v,v_SINGLEQUOTE_);if(or__3478__auto____$2)return or__3478__auto____$2;else{var and__3466__auto____$1=cljs.core.map_QMARK_.call(null,v);if(and__3466__auto____$1)return reagent.impl.util.shallow_equal_maps.call(null,v,v_SINGLEQUOTE_);else return and__3466__auto____$1}}}()))return res;else return cljs.core.reduced.call(null,false)}}(and__3466__auto__,or__3478__auto__),true,
v1);else return and__3466__auto__}};goog.provide("reagent.ratom");goog.require("cljs.core");reagent.ratom.debug=false;reagent.ratom._running=cljs.core.atom.call(null,0);reagent.ratom.running=function running(){return cljs.core.deref.call(null,reagent.ratom._running)};
reagent.ratom.capture_derefed=function capture_derefed(f,obj){obj.cljsCaptured=null;var _STAR_ratom_context_STAR_18856=reagent.ratom._STAR_ratom_context_STAR_;try{reagent.ratom._STAR_ratom_context_STAR_=obj;return f.call(null)}finally{reagent.ratom._STAR_ratom_context_STAR_=_STAR_ratom_context_STAR_18856}};reagent.ratom.captured=function captured(obj){var c=obj.cljsCaptured;obj.cljsCaptured=null;return c};
reagent.ratom.notify_deref_watcher_BANG_=function notify_deref_watcher_BANG_(derefable){var obj=reagent.ratom._STAR_ratom_context_STAR_;if(obj==null)return null;else{var captured=obj.cljsCaptured;return obj.cljsCaptured=cljs.core.conj.call(null,captured==null?cljs.core.PersistentHashSet.EMPTY:captured,derefable)}};
reagent.ratom.RAtom=function(state,meta,validator,watches){this.state=state;this.meta=meta;this.validator=validator;this.watches=watches;this.cljs$lang$protocol_mask$partition0$=2153938944;this.cljs$lang$protocol_mask$partition1$=114690};reagent.ratom.RAtom.cljs$lang$type=true;reagent.ratom.RAtom.cljs$lang$ctorStr="reagent.ratom/RAtom";
reagent.ratom.RAtom.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"reagent.ratom/RAtom")};reagent.ratom.RAtom.prototype.cljs$core$IHash$_hash$arity$1=function(this$){var self__=this;var this$__$1=this;return goog.getUid(this$__$1)};
reagent.ratom.RAtom.prototype.cljs$core$IWatchable$_notify_watches$arity$3=function(this$,oldval,newval){var self__=this;var this$__$1=this;return cljs.core.reduce_kv.call(null,function(this$__$1){return function(_,key,f){f.call(null,key,this$__$1,oldval,newval);return null}}(this$__$1),null,self__.watches)};
reagent.ratom.RAtom.prototype.cljs$core$IWatchable$_add_watch$arity$3=function(this$,key,f){var self__=this;var this$__$1=this;return self__.watches=cljs.core.assoc.call(null,self__.watches,key,f)};reagent.ratom.RAtom.prototype.cljs$core$IWatchable$_remove_watch$arity$2=function(this$,key){var self__=this;var this$__$1=this;return self__.watches=cljs.core.dissoc.call(null,self__.watches,key)};
reagent.ratom.RAtom.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(a,writer,opts){var self__=this;var a__$1=this;cljs.core._write.call(null,writer,"#\x3cAtom: ");cljs.core.pr_writer.call(null,self__.state,writer,opts);return cljs.core._write.call(null,writer,"\x3e")};reagent.ratom.RAtom.prototype.cljs$core$IMeta$_meta$arity$1=function(_){var self__=this;var ___$1=this;return self__.meta};
reagent.ratom.RAtom.prototype.cljs$core$ISwap$_swap_BANG_$arity$2=function(a,f){var self__=this;var a__$1=this;return cljs.core._reset_BANG_.call(null,a__$1,f.call(null,self__.state))};reagent.ratom.RAtom.prototype.cljs$core$ISwap$_swap_BANG_$arity$3=function(a,f,x){var self__=this;var a__$1=this;return cljs.core._reset_BANG_.call(null,a__$1,f.call(null,self__.state,x))};
reagent.ratom.RAtom.prototype.cljs$core$ISwap$_swap_BANG_$arity$4=function(a,f,x,y){var self__=this;var a__$1=this;return cljs.core._reset_BANG_.call(null,a__$1,f.call(null,self__.state,x,y))};reagent.ratom.RAtom.prototype.cljs$core$ISwap$_swap_BANG_$arity$5=function(a,f,x,y,more){var self__=this;var a__$1=this;return cljs.core._reset_BANG_.call(null,a__$1,cljs.core.apply.call(null,f,self__.state,x,y,more))};
reagent.ratom.RAtom.prototype.cljs$core$IReset$_reset_BANG_$arity$2=function(a,new_value){var self__=this;var a__$1=this;if(self__.validator==null);else if(cljs.core.truth_(self__.validator.call(null,new_value)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Validator rejected reference state"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"validator","validator",1544652043,null),new cljs.core.Symbol(null,"new-value",
"new-value",972165309,null))))].join(""));var old_value=self__.state;self__.state=new_value;if(self__.watches==null);else cljs.core._notify_watches.call(null,a__$1,old_value,new_value);return new_value};reagent.ratom.RAtom.prototype.cljs$core$IDeref$_deref$arity$1=function(this$){var self__=this;var this$__$1=this;reagent.ratom.notify_deref_watcher_BANG_.call(null,this$__$1);return self__.state};
reagent.ratom.RAtom.prototype.cljs$core$IEquiv$_equiv$arity$2=function(o,other){var self__=this;var o__$1=this;return o__$1===other};reagent.ratom.__GT_RAtom=function __GT_RAtom(state,meta,validator,watches){return new reagent.ratom.RAtom(state,meta,validator,watches)};
reagent.ratom.atom=function(){var atom=null;var atom__1=function(x){return new reagent.ratom.RAtom(x,null,null,null)};var atom__2=function(){var G__18860__delegate=function(x,p__18857){var map__18859=p__18857;var map__18859__$1=cljs.core.seq_QMARK_.call(null,map__18859)?cljs.core.apply.call(null,cljs.core.hash_map,map__18859):map__18859;var validator=cljs.core.get.call(null,map__18859__$1,new cljs.core.Keyword(null,"validator","validator",4199087812));var meta=cljs.core.get.call(null,map__18859__$1,
new cljs.core.Keyword(null,"meta","meta",1017252215));return new reagent.ratom.RAtom(x,meta,validator,null)};var G__18860=function(x,var_args){var p__18857=null;if(arguments.length>1)p__18857=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return G__18860__delegate.call(this,x,p__18857)};G__18860.cljs$lang$maxFixedArity=1;G__18860.cljs$lang$applyTo=function(arglist__18861){var x=cljs.core.first(arglist__18861);var p__18857=cljs.core.rest(arglist__18861);return G__18860__delegate(x,
p__18857)};G__18860.cljs$core$IFn$_invoke$arity$variadic=G__18860__delegate;return G__18860}();atom=function(x,var_args){var p__18857=var_args;switch(arguments.length){case 1:return atom__1.call(this,x);default:return atom__2.cljs$core$IFn$_invoke$arity$variadic(x,cljs.core.array_seq(arguments,1))}throw new Error("Invalid arity: "+arguments.length);};atom.cljs$lang$maxFixedArity=1;atom.cljs$lang$applyTo=atom__2.cljs$lang$applyTo;atom.cljs$core$IFn$_invoke$arity$1=atom__1;atom.cljs$core$IFn$_invoke$arity$variadic=
atom__2.cljs$core$IFn$_invoke$arity$variadic;return atom}();reagent.ratom.IDisposable=function(){var obj18863={};return obj18863}();
reagent.ratom.dispose_BANG_=function dispose_BANG_(this$){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.reagent$ratom$IDisposable$dispose_BANG_$arity$1;else return and__3466__auto__}())return this$.reagent$ratom$IDisposable$dispose_BANG_$arity$1(this$);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=reagent.ratom.dispose_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
reagent.ratom.dispose_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IDisposable.dispose!",this$);}}().call(null,this$)}};reagent.ratom.IRunnable=function(){var obj18865={};return obj18865}();
reagent.ratom.run=function run(this$){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.reagent$ratom$IRunnable$run$arity$1;else return and__3466__auto__}())return this$.reagent$ratom$IRunnable$run$arity$1(this$);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=reagent.ratom.run[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=reagent.ratom.run["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"IRunnable.run",this$);}}().call(null,this$)}};reagent.ratom.IComputedImpl=function(){var obj18867={};return obj18867}();
reagent.ratom._update_watching=function _update_watching(this$,derefed){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.reagent$ratom$IComputedImpl$_update_watching$arity$2;else return and__3466__auto__}())return this$.reagent$ratom$IComputedImpl$_update_watching$arity$2(this$,derefed);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=reagent.ratom._update_watching[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;
else{var or__3478__auto____$1=reagent.ratom._update_watching["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IComputedImpl.-update-watching",this$);}}().call(null,this$,derefed)}};
reagent.ratom._handle_change=function _handle_change(k,sender,oldval,newval){if(function(){var and__3466__auto__=k;if(and__3466__auto__)return k.reagent$ratom$IComputedImpl$_handle_change$arity$4;else return and__3466__auto__}())return k.reagent$ratom$IComputedImpl$_handle_change$arity$4(k,sender,oldval,newval);else{var x__4105__auto__=k==null?null:k;return function(){var or__3478__auto__=reagent.ratom._handle_change[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
reagent.ratom._handle_change["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IComputedImpl.-handle-change",k);}}().call(null,k,sender,oldval,newval)}};reagent.ratom.call_watches=function call_watches(obs,watches,oldval,newval){return cljs.core.reduce_kv.call(null,function(_,key,f){f.call(null,key,obs,oldval,newval);return null},null,watches)};
reagent.ratom.Reaction=function(f,state,dirty_QMARK_,active_QMARK_,watching,watches,auto_run,on_set,on_dispose){this.f=f;this.state=state;this.dirty_QMARK_=dirty_QMARK_;this.active_QMARK_=active_QMARK_;this.watching=watching;this.watches=watches;this.auto_run=auto_run;this.on_set=on_set;this.on_dispose=on_dispose;this.cljs$lang$protocol_mask$partition0$=2153807872;this.cljs$lang$protocol_mask$partition1$=114690};reagent.ratom.Reaction.cljs$lang$type=true;reagent.ratom.Reaction.cljs$lang$ctorStr="reagent.ratom/Reaction";
reagent.ratom.Reaction.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"reagent.ratom/Reaction")};reagent.ratom.Reaction.prototype.reagent$ratom$IComputedImpl$=true;
reagent.ratom.Reaction.prototype.reagent$ratom$IComputedImpl$_handle_change$arity$4=function(this$,sender,oldval,newval){var self__=this;var this$__$1=this;if(cljs.core.truth_(function(){var and__3466__auto__=self__.active_QMARK_;if(cljs.core.truth_(and__3466__auto__))return cljs.core.not.call(null,self__.dirty_QMARK_)&&!(oldval===newval);else return and__3466__auto__}())){self__.dirty_QMARK_=true;return function(){var or__3478__auto__=self__.auto_run;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;
else return reagent.ratom.run}().call(null,this$__$1)}else return null};
reagent.ratom.Reaction.prototype.reagent$ratom$IComputedImpl$_update_watching$arity$2=function(this$,derefed){var self__=this;var this$__$1=this;var seq__18868_18880=cljs.core.seq.call(null,derefed);var chunk__18869_18881=null;var count__18870_18882=0;var i__18871_18883=0;while(true){if(i__18871_18883<count__18870_18882){var w_18884=cljs.core._nth.call(null,chunk__18869_18881,i__18871_18883);if(cljs.core.contains_QMARK_.call(null,self__.watching,w_18884));else cljs.core.add_watch.call(null,w_18884,
this$__$1,reagent.ratom._handle_change);var G__18885=seq__18868_18880;var G__18886=chunk__18869_18881;var G__18887=count__18870_18882;var G__18888=i__18871_18883+1;seq__18868_18880=G__18885;chunk__18869_18881=G__18886;count__18870_18882=G__18887;i__18871_18883=G__18888;continue}else{var temp__4126__auto___18889=cljs.core.seq.call(null,seq__18868_18880);if(temp__4126__auto___18889){var seq__18868_18890__$1=temp__4126__auto___18889;if(cljs.core.chunked_seq_QMARK_.call(null,seq__18868_18890__$1)){var c__4226__auto___18891=
cljs.core.chunk_first.call(null,seq__18868_18890__$1);var G__18892=cljs.core.chunk_rest.call(null,seq__18868_18890__$1);var G__18893=c__4226__auto___18891;var G__18894=cljs.core.count.call(null,c__4226__auto___18891);var G__18895=0;seq__18868_18880=G__18892;chunk__18869_18881=G__18893;count__18870_18882=G__18894;i__18871_18883=G__18895;continue}else{var w_18896=cljs.core.first.call(null,seq__18868_18890__$1);if(cljs.core.contains_QMARK_.call(null,self__.watching,w_18896));else cljs.core.add_watch.call(null,
w_18896,this$__$1,reagent.ratom._handle_change);var G__18897=cljs.core.next.call(null,seq__18868_18890__$1);var G__18898=null;var G__18899=0;var G__18900=0;seq__18868_18880=G__18897;chunk__18869_18881=G__18898;count__18870_18882=G__18899;i__18871_18883=G__18900;continue}}else;}break}var seq__18872_18901=cljs.core.seq.call(null,self__.watching);var chunk__18873_18902=null;var count__18874_18903=0;var i__18875_18904=0;while(true){if(i__18875_18904<count__18874_18903){var w_18905=cljs.core._nth.call(null,
chunk__18873_18902,i__18875_18904);if(cljs.core.contains_QMARK_.call(null,derefed,w_18905));else cljs.core.remove_watch.call(null,w_18905,this$__$1);var G__18906=seq__18872_18901;var G__18907=chunk__18873_18902;var G__18908=count__18874_18903;var G__18909=i__18875_18904+1;seq__18872_18901=G__18906;chunk__18873_18902=G__18907;count__18874_18903=G__18908;i__18875_18904=G__18909;continue}else{var temp__4126__auto___18910=cljs.core.seq.call(null,seq__18872_18901);if(temp__4126__auto___18910){var seq__18872_18911__$1=
temp__4126__auto___18910;if(cljs.core.chunked_seq_QMARK_.call(null,seq__18872_18911__$1)){var c__4226__auto___18912=cljs.core.chunk_first.call(null,seq__18872_18911__$1);var G__18913=cljs.core.chunk_rest.call(null,seq__18872_18911__$1);var G__18914=c__4226__auto___18912;var G__18915=cljs.core.count.call(null,c__4226__auto___18912);var G__18916=0;seq__18872_18901=G__18913;chunk__18873_18902=G__18914;count__18874_18903=G__18915;i__18875_18904=G__18916;continue}else{var w_18917=cljs.core.first.call(null,
seq__18872_18911__$1);if(cljs.core.contains_QMARK_.call(null,derefed,w_18917));else cljs.core.remove_watch.call(null,w_18917,this$__$1);var G__18918=cljs.core.next.call(null,seq__18872_18911__$1);var G__18919=null;var G__18920=0;var G__18921=0;seq__18872_18901=G__18918;chunk__18873_18902=G__18919;count__18874_18903=G__18920;i__18875_18904=G__18921;continue}}else;}break}return self__.watching=derefed};
reagent.ratom.Reaction.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(this$,writer,opts){var self__=this;var this$__$1=this;cljs.core._write.call(null,writer,[cljs.core.str("#\x3cReaction "),cljs.core.str(cljs.core.hash.call(null,this$__$1)),cljs.core.str(": ")].join(""));cljs.core.pr_writer.call(null,self__.state,writer,opts);return cljs.core._write.call(null,writer,"\x3e")};
reagent.ratom.Reaction.prototype.cljs$core$IHash$_hash$arity$1=function(this$){var self__=this;var this$__$1=this;return goog.getUid(this$__$1)};reagent.ratom.Reaction.prototype.cljs$core$IEquiv$_equiv$arity$2=function(o,other){var self__=this;var o__$1=this;return o__$1===other};reagent.ratom.Reaction.prototype.reagent$ratom$IDisposable$=true;
reagent.ratom.Reaction.prototype.reagent$ratom$IDisposable$dispose_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;var seq__18876_18922=cljs.core.seq.call(null,self__.watching);var chunk__18877_18923=null;var count__18878_18924=0;var i__18879_18925=0;while(true){if(i__18879_18925<count__18878_18924){var w_18926=cljs.core._nth.call(null,chunk__18877_18923,i__18879_18925);cljs.core.remove_watch.call(null,w_18926,this$__$1);var G__18927=seq__18876_18922;var G__18928=chunk__18877_18923;
var G__18929=count__18878_18924;var G__18930=i__18879_18925+1;seq__18876_18922=G__18927;chunk__18877_18923=G__18928;count__18878_18924=G__18929;i__18879_18925=G__18930;continue}else{var temp__4126__auto___18931=cljs.core.seq.call(null,seq__18876_18922);if(temp__4126__auto___18931){var seq__18876_18932__$1=temp__4126__auto___18931;if(cljs.core.chunked_seq_QMARK_.call(null,seq__18876_18932__$1)){var c__4226__auto___18933=cljs.core.chunk_first.call(null,seq__18876_18932__$1);var G__18934=cljs.core.chunk_rest.call(null,
seq__18876_18932__$1);var G__18935=c__4226__auto___18933;var G__18936=cljs.core.count.call(null,c__4226__auto___18933);var G__18937=0;seq__18876_18922=G__18934;chunk__18877_18923=G__18935;count__18878_18924=G__18936;i__18879_18925=G__18937;continue}else{var w_18938=cljs.core.first.call(null,seq__18876_18932__$1);cljs.core.remove_watch.call(null,w_18938,this$__$1);var G__18939=cljs.core.next.call(null,seq__18876_18932__$1);var G__18940=null;var G__18941=0;var G__18942=0;seq__18876_18922=G__18939;chunk__18877_18923=
G__18940;count__18878_18924=G__18941;i__18879_18925=G__18942;continue}}else;}break}self__.watching=cljs.core.PersistentHashSet.EMPTY;self__.state=null;self__.dirty_QMARK_=true;if(cljs.core.truth_(self__.active_QMARK_)){if(cljs.core.truth_(reagent.ratom.debug))cljs.core.swap_BANG_.call(null,reagent.ratom._running,cljs.core.dec);else;self__.active_QMARK_=false}else;if(cljs.core.truth_(self__.on_dispose))return self__.on_dispose.call(null);else return null};
reagent.ratom.Reaction.prototype.cljs$core$IReset$_reset_BANG_$arity$2=function(a,new_value){var self__=this;var a__$1=this;var old_value=self__.state;self__.state=new_value;cljs.core._notify_watches.call(null,a__$1,old_value,new_value);return new_value};reagent.ratom.Reaction.prototype.cljs$core$ISwap$_swap_BANG_$arity$2=function(a,f__$1){var self__=this;var a__$1=this;return cljs.core._reset_BANG_.call(null,a__$1,f__$1.call(null,self__.state))};
reagent.ratom.Reaction.prototype.cljs$core$ISwap$_swap_BANG_$arity$3=function(a,f__$1,x){var self__=this;var a__$1=this;return cljs.core._reset_BANG_.call(null,a__$1,f__$1.call(null,self__.state,x))};reagent.ratom.Reaction.prototype.cljs$core$ISwap$_swap_BANG_$arity$4=function(a,f__$1,x,y){var self__=this;var a__$1=this;return cljs.core._reset_BANG_.call(null,a__$1,f__$1.call(null,self__.state,x,y))};
reagent.ratom.Reaction.prototype.cljs$core$ISwap$_swap_BANG_$arity$5=function(a,f__$1,x,y,more){var self__=this;var a__$1=this;return cljs.core._reset_BANG_.call(null,a__$1,cljs.core.apply.call(null,f__$1,self__.state,x,y,more))};reagent.ratom.Reaction.prototype.reagent$ratom$IRunnable$=true;
reagent.ratom.Reaction.prototype.reagent$ratom$IRunnable$run$arity$1=function(this$){var self__=this;var this$__$1=this;var oldstate=self__.state;var res=reagent.ratom.capture_derefed.call(null,self__.f,this$__$1);var derefed=reagent.ratom.captured.call(null,this$__$1);if(cljs.core.not_EQ_.call(null,derefed,self__.watching))reagent.ratom._update_watching.call(null,this$__$1,derefed);else;if(cljs.core.truth_(self__.active_QMARK_));else{if(cljs.core.truth_(reagent.ratom.debug))cljs.core.swap_BANG_.call(null,
reagent.ratom._running,cljs.core.inc);else;self__.active_QMARK_=true}self__.dirty_QMARK_=false;self__.state=res;reagent.ratom.call_watches.call(null,this$__$1,self__.watches,oldstate,self__.state);return res};
reagent.ratom.Reaction.prototype.cljs$core$IWatchable$_notify_watches$arity$3=function(this$,oldval,newval){var self__=this;var this$__$1=this;if(cljs.core.truth_(self__.on_set))self__.on_set.call(null,oldval,newval);else;return reagent.ratom.call_watches.call(null,this$__$1,self__.watches,oldval,newval)};
reagent.ratom.Reaction.prototype.cljs$core$IWatchable$_add_watch$arity$3=function(this$,k,wf){var self__=this;var this$__$1=this;return self__.watches=cljs.core.assoc.call(null,self__.watches,k,wf)};reagent.ratom.Reaction.prototype.cljs$core$IWatchable$_remove_watch$arity$2=function(this$,k){var self__=this;var this$__$1=this;self__.watches=cljs.core.dissoc.call(null,self__.watches,k);if(cljs.core.empty_QMARK_.call(null,self__.watches))return reagent.ratom.dispose_BANG_.call(null,this$__$1);else return null};
reagent.ratom.Reaction.prototype.cljs$core$IDeref$_deref$arity$1=function(this$){var self__=this;var this$__$1=this;if(cljs.core.not.call(null,function(){var or__3478__auto__=self__.auto_run;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return reagent.ratom._STAR_ratom_context_STAR_}())){var x__5881__auto___18943=new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[self__.auto_run,reagent.ratom._STAR_ratom_context_STAR_],null);if(!(console.log==null))console.log([cljs.core.str([cljs.core.str("dbg "),
cljs.core.str("reagent.ratom"),cljs.core.str(":"),cljs.core.str(177),cljs.core.str(": "),cljs.core.str("[auto-run *ratom-context*]"),cljs.core.str(": "),cljs.core.str(cljs.core.pr_str.call(null,x__5881__auto___18943))].join(""))].join(""));else;}else;if(cljs.core.truth_(function(){var or__3478__auto__=self__.auto_run;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return reagent.ratom._STAR_ratom_context_STAR_}()));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Reaction derefed outside auto-running context"),
cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"or","or",-1640527972,null),new cljs.core.Symbol(null,"auto-run","auto-run",-202959066,null),new cljs.core.Symbol(null,"*ratom-context*","*ratom-context*",1304741512,null))))].join(""));reagent.ratom.notify_deref_watcher_BANG_.call(null,this$__$1);if(cljs.core.truth_(self__.dirty_QMARK_))return reagent.ratom.run.call(null,this$__$1);else return self__.state};
reagent.ratom.__GT_Reaction=function __GT_Reaction(f,state,dirty_QMARK_,active_QMARK_,watching,watches,auto_run,on_set,on_dispose){return new reagent.ratom.Reaction(f,state,dirty_QMARK_,active_QMARK_,watching,watches,auto_run,on_set,on_dispose)};
reagent.ratom.make_reaction=function(){var make_reaction__delegate=function(f,p__18944){var map__18946=p__18944;var map__18946__$1=cljs.core.seq_QMARK_.call(null,map__18946)?cljs.core.apply.call(null,cljs.core.hash_map,map__18946):map__18946;var derefed=cljs.core.get.call(null,map__18946__$1,new cljs.core.Keyword(null,"derefed","derefed",2569894915));var on_dispose=cljs.core.get.call(null,map__18946__$1,new cljs.core.Keyword(null,"on-dispose","on-dispose",2213067683));var on_set=cljs.core.get.call(null,
map__18946__$1,new cljs.core.Keyword(null,"on-set","on-set",4294781670));var auto_run=cljs.core.get.call(null,map__18946__$1,new cljs.core.Keyword(null,"auto-run","auto-run",2451476703));var runner=cljs.core._EQ_.call(null,auto_run,true)?reagent.ratom.run:auto_run;var active=!(derefed==null);var dirty=!active;var reaction=new reagent.ratom.Reaction(f,null,dirty,active,null,cljs.core.PersistentArrayMap.EMPTY,runner,on_set,on_dispose);if(derefed==null);else{if(cljs.core.truth_(reagent.ratom.debug))cljs.core.swap_BANG_.call(null,
reagent.ratom._running,cljs.core.inc);else;reagent.ratom._update_watching.call(null,reaction,derefed)}return reaction};var make_reaction=function(f,var_args){var p__18944=null;if(arguments.length>1)p__18944=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return make_reaction__delegate.call(this,f,p__18944)};make_reaction.cljs$lang$maxFixedArity=1;make_reaction.cljs$lang$applyTo=function(arglist__18947){var f=cljs.core.first(arglist__18947);var p__18944=cljs.core.rest(arglist__18947);
return make_reaction__delegate(f,p__18944)};make_reaction.cljs$core$IFn$_invoke$arity$variadic=make_reaction__delegate;return make_reaction}();goog.provide("reagent.impl.batching");goog.require("cljs.core");goog.require("reagent.impl.util");goog.require("clojure.string");goog.require("clojure.string");goog.require("reagent.impl.util");goog.require("reagent.ratom");goog.require("reagent.ratom");goog.require("reagent.debug");reagent.impl.batching.fake_raf=function fake_raf(f){return setTimeout(f,16)};
reagent.impl.batching.next_tick=cljs.core.not.call(null,reagent.impl.util.is_client)?reagent.impl.batching.fake_raf:function(){var w=window;var or__3478__auto__=w.requestAnimationFrame;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=w.webkitRequestAnimationFrame;if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else{var or__3478__auto____$2=w.mozRequestAnimationFrame;if(cljs.core.truth_(or__3478__auto____$2))return or__3478__auto____$2;
else{var or__3478__auto____$3=w.msRequestAnimationFrame;if(cljs.core.truth_(or__3478__auto____$3))return or__3478__auto____$3;else return reagent.impl.batching.fake_raf}}}}();reagent.impl.batching.compare_levels=function compare_levels(c1,c2){return c1["props"][reagent.impl.util.cljs_level]-c2["props"][reagent.impl.util.cljs_level]};
reagent.impl.batching.run_queue=function run_queue(a){a.sort(reagent.impl.batching.compare_levels);var n__4326__auto__=a.length;var i=0;while(true){if(i<n__4326__auto__){var C_18804=a[i];if(cljs.core.truth_(C_18804.cljsIsDirty))C_18804.forceUpdate();else;var G__18805=i+1;i=G__18805;continue}else return null;break}};reagent.impl.batching.RenderQueue=function(queue,scheduled_QMARK_){this.queue=queue;this.scheduled_QMARK_=scheduled_QMARK_};reagent.impl.batching.RenderQueue.cljs$lang$type=true;
reagent.impl.batching.RenderQueue.cljs$lang$ctorStr="reagent.impl.batching/RenderQueue";reagent.impl.batching.RenderQueue.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"reagent.impl.batching/RenderQueue")};reagent.impl.batching.RenderQueue.prototype.queue_render=function(C){var self__=this;var this$=this;self__.queue.push(C);return this$.schedule()};
reagent.impl.batching.RenderQueue.prototype.schedule=function(){var self__=this;var this$=this;if(cljs.core.truth_(self__.scheduled_QMARK_))return null;else{self__.scheduled_QMARK_=true;return reagent.impl.batching.next_tick.call(null,function(this$){return function(){return this$.run_queue()}}(this$))}};
reagent.impl.batching.RenderQueue.prototype.run_queue=function(){var self__=this;var _=this;var q=self__.queue;self__.queue=[];self__.scheduled_QMARK_=false;return reagent.impl.batching.run_queue.call(null,q)};reagent.impl.batching.__GT_RenderQueue=function __GT_RenderQueue(queue,scheduled_QMARK_){return new reagent.impl.batching.RenderQueue(queue,scheduled_QMARK_)};reagent.impl.batching.render_queue=new reagent.impl.batching.RenderQueue([],false);reagent.impl.batching.flush=function flush(){return reagent.impl.batching.render_queue.run_queue()};
reagent.impl.batching.queue_render=function queue_render(C){C.cljsIsDirty=true;return reagent.impl.batching.render_queue.queue_render(C)};reagent.impl.batching.is_reagent_component=function is_reagent_component(C){var and__3466__auto__=!(C==null);if(and__3466__auto__){var and__3466__auto____$1=C["props"];if(cljs.core.truth_(and__3466__auto____$1))return C["props"]["cljsArgv"];else return and__3466__auto____$1}else return and__3466__auto__};
reagent.impl.batching.run_reactively=function run_reactively(C,run){if(cljs.core.truth_(reagent.impl.batching.is_reagent_component.call(null,C)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"is-reagent-component","is-reagent-component",-461933192,null),new cljs.core.Symbol(null,"C","C",-1640531460,null))))].join(""));C.cljsIsDirty=false;var rat=C.cljsRatom;if(rat==null){var res=reagent.ratom.capture_derefed.call(null,
run,C);var derefed=reagent.ratom.captured.call(null,C);if(!(derefed==null))C.cljsRatom=reagent.ratom.make_reaction.call(null,run,new cljs.core.Keyword(null,"auto-run","auto-run",2451476703),function(res,derefed,rat){return function(){return reagent.impl.batching.queue_render.call(null,C)}}(res,derefed,rat),new cljs.core.Keyword(null,"derefed","derefed",2569894915),derefed);else;return res}else return reagent.ratom.run.call(null,rat)};
reagent.impl.batching.dispose=function dispose(C){var ratom_18806=C.cljsRatom;if(!(ratom_18806==null))reagent.ratom.dispose_BANG_.call(null,ratom_18806);else;return C.cljsIsDirty=false};goog.provide("reagent.impl.component");goog.require("cljs.core");goog.require("reagent.impl.util");goog.require("reagent.debug");goog.require("reagent.ratom");goog.require("reagent.ratom");goog.require("reagent.impl.batching");goog.require("reagent.impl.batching");goog.require("reagent.impl.util");goog.require("reagent.impl.util");reagent.impl.component.cljs_state="cljsState";reagent.impl.component.cljs_render="cljsRender";
reagent.impl.component.state_atom=function state_atom(this$){var sa=this$[reagent.impl.component.cljs_state];if(!(sa==null))return sa;else return this$[reagent.impl.component.cljs_state]=reagent.ratom.atom.call(null,null)};reagent.impl.component.state=function state(this$){return cljs.core.deref.call(null,reagent.impl.component.state_atom.call(null,this$))};
reagent.impl.component.replace_state=function replace_state(this$,new_state){return cljs.core.reset_BANG_.call(null,reagent.impl.component.state_atom.call(null,this$),new_state)};reagent.impl.component.set_state=function set_state(this$,new_state){return cljs.core.swap_BANG_.call(null,reagent.impl.component.state_atom.call(null,this$),cljs.core.merge,new_state)};
reagent.impl.component.do_render=function do_render(C){var _STAR_current_component_STAR_18792=reagent.impl.component._STAR_current_component_STAR_;try{reagent.impl.component._STAR_current_component_STAR_=C;var f=C[reagent.impl.component.cljs_render];var _=cljs.core.ifn_QMARK_.call(null,f)?null:function(){throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"ifn?","ifn?",-1637301977,null),new cljs.core.Symbol(null,"f","f",
-1640531425,null))))].join(""));}();var p=reagent.impl.util.js_props.call(null,C);var res=C["componentFunction"]==null?f.call(null,C):function(){var argv=p[reagent.impl.util.cljs_argv];var n=cljs.core.count.call(null,argv);var G__18793=n;if(cljs.core._EQ_.call(null,5,G__18793))return f.call(null,argv.call(null,1),argv.call(null,2),argv.call(null,3),argv.call(null,4));else if(cljs.core._EQ_.call(null,4,G__18793))return f.call(null,argv.call(null,1),argv.call(null,2),argv.call(null,3));else if(cljs.core._EQ_.call(null,
3,G__18793))return f.call(null,argv.call(null,1),argv.call(null,2));else if(cljs.core._EQ_.call(null,2,G__18793))return f.call(null,argv.call(null,1));else if(cljs.core._EQ_.call(null,1,G__18793))return f.call(null);else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.core.apply.call(null,f,cljs.core.subvec.call(null,argv,1));else return null}();if(cljs.core.vector_QMARK_.call(null,res))return C.asComponent(res,p[reagent.impl.util.cljs_level]);else if(cljs.core.ifn_QMARK_.call(null,
res)){C[reagent.impl.component.cljs_render]=res;return do_render.call(null,C)}else return res}finally{reagent.impl.component._STAR_current_component_STAR_=_STAR_current_component_STAR_18792}};
reagent.impl.component.custom_wrapper=function custom_wrapper(key,f){var G__18795=key;if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"componentWillUnmount","componentWillUnmount",4147620643),G__18795))return function(G__18795){return function(){var C=this;reagent.impl.batching.dispose.call(null,C);if(f==null)return null;else return f.call(null,C)}}(G__18795);else if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"componentDidUpdate","componentDidUpdate",4103164189),G__18795))return function(G__18795){return function(oldprops){var C=
this;var old_argv=oldprops[reagent.impl.util.cljs_argv];return f.call(null,C,old_argv)}}(G__18795);else if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"componentWillUpdate","componentWillUpdate",2086388618),G__18795))return function(G__18795){return function(nextprops){var C=this;var next_argv=nextprops[reagent.impl.util.cljs_argv];return f.call(null,C,next_argv)}}(G__18795);else if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"shouldComponentUpdate","shouldComponentUpdate",3193956709),
G__18795))return function(G__18795){return function(nextprops,nextstate){var C=this;var inprops=reagent.impl.util.js_props.call(null,C);var old_argv=inprops[reagent.impl.util.cljs_argv];var new_argv=nextprops[reagent.impl.util.cljs_argv];if(f==null)return cljs.core.not.call(null,reagent.impl.util.equal_args.call(null,old_argv,new_argv));else return f.call(null,C,old_argv,new_argv)}}(G__18795);else if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"componentWillReceiveProps","componentWillReceiveProps",
2122862542),G__18795))return function(G__18795){return function(props){var C=this;return f.call(null,C,props[reagent.impl.util.cljs_argv])}}(G__18795);else if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"getInitialState","getInitialState",2219830677),G__18795))return function(G__18795){return function(){var C=this;return reagent.impl.component.set_state.call(null,C,f.call(null,C))}}(G__18795);else if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"getDefaultProps","getDefaultProps",1976256919),
G__18795))if(false)return null;else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("getDefaultProps not supported yet"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,false))].join(""));else if(new cljs.core.Keyword(null,"else","else",1017020587))return null;else return null};
reagent.impl.component.default_wrapper=function default_wrapper(f){if(cljs.core.ifn_QMARK_.call(null,f))return function(){var G__18796__delegate=function(args){var C=this;return cljs.core.apply.call(null,f,C,args)};var G__18796=function(var_args){var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__18796__delegate.call(this,args)};G__18796.cljs$lang$maxFixedArity=0;G__18796.cljs$lang$applyTo=function(arglist__18797){var args=cljs.core.seq(arglist__18797);
return G__18796__delegate(args)};G__18796.cljs$core$IFn$_invoke$arity$variadic=G__18796__delegate;return G__18796}();else return f};reagent.impl.component.dont_wrap=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"cljsRender","cljsRender",2584602394),null,new cljs.core.Keyword(null,"render","render",4374279432),null,new cljs.core.Keyword(null,"componentFunction","componentFunction",1139645287),null],null),null);
reagent.impl.component.dont_bind=function dont_bind(f){if(cljs.core.ifn_QMARK_.call(null,f)){var G__18799=f;G__18799["__reactDontBind"]=true;return G__18799}else return f};
reagent.impl.component.get_wrapper=function get_wrapper(key,f,name){if(cljs.core.truth_(reagent.impl.component.dont_wrap.call(null,key)))return reagent.impl.component.dont_bind.call(null,f);else{var wrap=reagent.impl.component.custom_wrapper.call(null,key,f);if(cljs.core.truth_(function(){var and__3466__auto__=wrap;if(cljs.core.truth_(and__3466__auto__))return f;else return and__3466__auto__}()))if(cljs.core.ifn_QMARK_.call(null,f));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str([cljs.core.str("Expected function in "),
cljs.core.str(name),cljs.core.str(key),cljs.core.str(" but got "),cljs.core.str(f)].join("")),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"ifn?","ifn?",-1637301977,null),new cljs.core.Symbol(null,"f","f",-1640531425,null))))].join(""));else;var or__3478__auto__=wrap;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return reagent.impl.component.default_wrapper.call(null,f)}};
reagent.impl.component.obligatory=new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"shouldComponentUpdate","shouldComponentUpdate",3193956709),null,new cljs.core.Keyword(null,"componentWillUnmount","componentWillUnmount",4147620643),null],null);reagent.impl.component.dash_to_camel=cljs.core.memoize.call(null,reagent.impl.util.dash_to_camel);
reagent.impl.component.camelify_map_keys=function camelify_map_keys(fun_map){return cljs.core.reduce_kv.call(null,function(m,k,v){return cljs.core.assoc.call(null,m,cljs.core.keyword.call(null,reagent.impl.component.dash_to_camel.call(null,k)),v)},cljs.core.PersistentArrayMap.EMPTY,fun_map)};reagent.impl.component.add_obligatory=function add_obligatory(fun_map){return cljs.core.merge.call(null,reagent.impl.component.obligatory,fun_map)};
reagent.impl.component.add_render=function add_render(fun_map,render_f){return cljs.core.assoc.call(null,fun_map,new cljs.core.Keyword(null,"cljsRender","cljsRender",2584602394),render_f,new cljs.core.Keyword(null,"render","render",4374279432),cljs.core.truth_(reagent.impl.util.is_client)?function(){var C=this;return reagent.impl.batching.run_reactively.call(null,C,function(C){return function(){return reagent.impl.component.do_render.call(null,C)}}(C))}:function(){var C=this;return reagent.impl.component.do_render.call(null,
C)})};
reagent.impl.component.wrap_funs=function wrap_funs(fun_map){var render_fun=function(){var or__3478__auto__=(new cljs.core.Keyword(null,"componentFunction","componentFunction",1139645287)).cljs$core$IFn$_invoke$arity$1(fun_map);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return(new cljs.core.Keyword(null,"render","render",4374279432)).cljs$core$IFn$_invoke$arity$1(fun_map)}();var _=cljs.core.ifn_QMARK_.call(null,render_fun)?null:function(){throw new Error([cljs.core.str("Assert failed: "),cljs.core.str([cljs.core.str("Render must be a function, not "),
cljs.core.str(cljs.core.pr_str.call(null,render_fun))].join("")),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"ifn?","ifn?",-1637301977,null),new cljs.core.Symbol(null,"render-fun","render-fun",-447610239,null))))].join(""));}();var name=function(){var or__3478__auto__=(new cljs.core.Keyword(null,"displayName","displayName",2728053215)).cljs$core$IFn$_invoke$arity$1(fun_map);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=
render_fun.displayName;if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else return render_fun.name}}();var name_SINGLEQUOTE_=cljs.core.empty_QMARK_.call(null,name)?[cljs.core.str(cljs.core.gensym.call(null,"reagent"))].join(""):name;var fmap=reagent.impl.component.add_render.call(null,cljs.core.assoc.call(null,fun_map,new cljs.core.Keyword(null,"displayName","displayName",2728053215),name_SINGLEQUOTE_),render_fun);return cljs.core.reduce_kv.call(null,function(render_fun,_,name,
name_SINGLEQUOTE_,fmap){return function(m,k,v){return cljs.core.assoc.call(null,m,k,reagent.impl.component.get_wrapper.call(null,k,v,name_SINGLEQUOTE_))}}(render_fun,_,name,name_SINGLEQUOTE_,fmap),cljs.core.PersistentArrayMap.EMPTY,fmap)};reagent.impl.component.map_to_js=function map_to_js(m){return cljs.core.reduce_kv.call(null,function(o,k,v){var G__18801=o;G__18801[cljs.core.name.call(null,k)]=v;return G__18801},{},m)};
reagent.impl.component.cljsify=function cljsify(body){return reagent.impl.component.map_to_js.call(null,reagent.impl.component.wrap_funs.call(null,reagent.impl.component.add_obligatory.call(null,reagent.impl.component.camelify_map_keys.call(null,body))))};
reagent.impl.component.create_class=function create_class(body,as_component){if(cljs.core.map_QMARK_.call(null,body));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"map?","map?",-1637187556,null),new cljs.core.Symbol(null,"body","body",-1637502117,null))))].join(""));var spec=reagent.impl.component.cljsify.call(null,body);var _=spec.asComponent=reagent.impl.component.dont_bind.call(null,as_component);var res=
reagent.impl.util.React.createClass(spec);var f=function(spec,_,res){return function(){var G__18802__delegate=function(args){return as_component.call(null,cljs.core.apply.call(null,cljs.core.vector,res,args))};var G__18802=function(var_args){var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__18802__delegate.call(this,args)};G__18802.cljs$lang$maxFixedArity=0;G__18802.cljs$lang$applyTo=function(arglist__18803){var args=cljs.core.seq(arglist__18803);
return G__18802__delegate(args)};G__18802.cljs$core$IFn$_invoke$arity$variadic=G__18802__delegate;return G__18802}()}(spec,_,res);f.cljsReactClass=res;res.cljsReactClass=res;return f};goog.provide("reagent.impl.template");goog.require("cljs.core");goog.require("reagent.impl.util");goog.require("reagent.debug");goog.require("reagent.ratom");goog.require("reagent.ratom");goog.require("reagent.impl.component");goog.require("reagent.impl.component");goog.require("reagent.impl.util");goog.require("reagent.impl.util");goog.require("clojure.string");goog.require("clojure.string");reagent.impl.template.re_tag=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/;reagent.impl.template.DOM=reagent.impl.util.React["DOM"];
reagent.impl.template.attr_aliases=new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"class","class",1108647146),"className",new cljs.core.Keyword(null,"for","for",1014005819),"htmlFor",new cljs.core.Keyword(null,"charset","charset",1752978622),"charSet"],null);reagent.impl.template.hiccup_tag_QMARK_=function hiccup_tag_QMARK_(x){return x instanceof cljs.core.Keyword||(x instanceof cljs.core.Symbol||typeof x==="string")};
reagent.impl.template.valid_tag_QMARK_=function valid_tag_QMARK_(x){return reagent.impl.template.hiccup_tag_QMARK_.call(null,x)||cljs.core.ifn_QMARK_.call(null,x)};reagent.impl.template.map_into_array=function map_into_array(f,arg,coll){var a=cljs.core.into_array.call(null,coll);var n__4326__auto___18821=a.length;var i_18822=0;while(true){if(i_18822<n__4326__auto___18821){a[i_18822]=f.call(null,a[i_18822],arg);var G__18823=i_18822+1;i_18822=G__18823;continue}else;break}return a};
reagent.impl.template.to_js_val=function to_js_val(v){if(!cljs.core.ifn_QMARK_.call(null,v))return v;else if(v instanceof cljs.core.Keyword)return cljs.core.name.call(null,v);else if(v instanceof cljs.core.Symbol)return[cljs.core.str(v)].join("");else if(cljs.core.coll_QMARK_.call(null,v))return cljs.core.clj__GT_js.call(null,v);else if(new cljs.core.Keyword(null,"else","else",1017020587))return function(){var G__18824__delegate=function(args){return cljs.core.apply.call(null,v,args)};var G__18824=
function(var_args){var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__18824__delegate.call(this,args)};G__18824.cljs$lang$maxFixedArity=0;G__18824.cljs$lang$applyTo=function(arglist__18825){var args=cljs.core.seq(arglist__18825);return G__18824__delegate(args)};G__18824.cljs$core$IFn$_invoke$arity$variadic=G__18824__delegate;return G__18824}();else return null};
reagent.impl.template.undash_prop_name=function undash_prop_name(n){var or__3478__auto__=reagent.impl.template.attr_aliases.call(null,n);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return reagent.impl.util.dash_to_camel.call(null,n)};reagent.impl.template.cached_prop_name=cljs.core.memoize.call(null,reagent.impl.template.undash_prop_name);reagent.impl.template.cached_style_name=cljs.core.memoize.call(null,reagent.impl.util.dash_to_camel);
reagent.impl.template.convert_prop_value=function convert_prop_value(val){if(cljs.core.map_QMARK_.call(null,val))return cljs.core.reduce_kv.call(null,function(res,k,v){var G__18829=res;G__18829[reagent.impl.template.cached_prop_name.call(null,k)]=reagent.impl.template.to_js_val.call(null,v);return G__18829},function(){var obj18831={};return obj18831}(),val);else return reagent.impl.template.to_js_val.call(null,val)};
reagent.impl.template.set_id_class=function set_id_class(props,p__18832){var vec__18834=p__18832;var id=cljs.core.nth.call(null,vec__18834,0,null);var class$=cljs.core.nth.call(null,vec__18834,1,null);props["id"]=function(){var or__3478__auto__=props["id"];if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return id}();if(cljs.core.truth_(class$))return props["className"]=function(){var temp__4124__auto__=props["className"];if(cljs.core.truth_(temp__4124__auto__)){var old=temp__4124__auto__;
return[cljs.core.str(class$),cljs.core.str(" "),cljs.core.str(old)].join("")}else return class$}();else return null};
reagent.impl.template.convert_props=function convert_props(props,id_class){if(cljs.core.empty_QMARK_.call(null,props)&&id_class==null)return null;else if(cljs.core.type.call(null,props)===Object)return props;else if(new cljs.core.Keyword(null,"else","else",1017020587)){var objprops=cljs.core.reduce_kv.call(null,function(o,k,v){var pname_18835=reagent.impl.template.cached_prop_name.call(null,k);if(!(pname_18835==="key"))o[pname_18835]=reagent.impl.template.convert_prop_value.call(null,v);else;return o},
{},props);if(id_class==null);else reagent.impl.template.set_id_class.call(null,objprops,id_class);return objprops}else return null};reagent.impl.template.input_initial_state=function input_initial_state(this$){var props=reagent.impl.util.get_props.call(null,this$);return{"checked":(new cljs.core.Keyword(null,"checked","checked",1756218137)).cljs$core$IFn$_invoke$arity$1(props),"value":(new cljs.core.Keyword(null,"value","value",1125876963)).cljs$core$IFn$_invoke$arity$1(props)}};
reagent.impl.template.input_handle_change=function input_handle_change(this$,e){var props=reagent.impl.util.get_props.call(null,this$);var on_change=function(){var or__3478__auto__=props.call(null,new cljs.core.Keyword(null,"on-change","on-change",606853840));if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return props.call(null,"onChange")}();if(on_change==null)return null;else{var target_18836=e.target;this$.setState({"checked":target_18836.checked,"value":target_18836.value});
return on_change.call(null,e)}};reagent.impl.template.input_will_receive_props=function input_will_receive_props(this$,new_props){var props=reagent.impl.util.extract_props.call(null,new_props[reagent.impl.util.cljs_argv]);return this$.setState({"checked":(new cljs.core.Keyword(null,"checked","checked",1756218137)).cljs$core$IFn$_invoke$arity$1(props),"value":(new cljs.core.Keyword(null,"value","value",1125876963)).cljs$core$IFn$_invoke$arity$1(props)})};
reagent.impl.template.input_render_setup=function input_render_setup(this$,jsprops){var state=this$["state"];var G__18838=jsprops;G__18838["value"]=state.value;G__18838["checked"]=state.checked;G__18838["onChange"]=this$["handleChange"];return G__18838};reagent.impl.template.input_components=cljs.core.PersistentHashSet.fromArray([reagent.impl.template.DOM["input"],reagent.impl.template.DOM["textarea"]],true);
reagent.impl.template.wrapped_render=function wrapped_render(this$,comp,id_class,input_setup){var inprops=reagent.impl.util.js_props.call(null,this$);var argv=inprops[reagent.impl.util.cljs_argv];var props=cljs.core.get.call(null,argv,1);var hasprops=props==null||cljs.core.map_QMARK_.call(null,props);var first_child=hasprops?2:1;var children=cljs.core.count.call(null,argv)>first_child?cljs.core.subvec.call(null,argv,first_child):null;var jsargs=reagent.impl.template.map_into_array.call(null,reagent.impl.template.as_component,
inprops[reagent.impl.util.cljs_level]+1,children);var jsprops=reagent.impl.template.convert_props.call(null,hasprops?props:null,id_class);if(input_setup==null);else input_setup.call(null,this$,jsprops);jsargs.unshift(jsprops);return comp.apply(null,jsargs)};
reagent.impl.template.wrapped_should_update=function wrapped_should_update(C,nextprops,nextstate){var inprops=reagent.impl.util.js_props.call(null,C);var a1=inprops[reagent.impl.util.cljs_argv];var a2=nextprops[reagent.impl.util.cljs_argv];return cljs.core.not.call(null,reagent.impl.util.equal_args.call(null,a1,a2))};
reagent.impl.template.add_input_methods=function add_input_methods(spec){var G__18842=spec;G__18842["shouldComponentUpdate"]=null;G__18842["getInitialState"]=function(G__18842){return function(){var C=this;return reagent.impl.template.input_initial_state.call(null,C)}}(G__18842);G__18842["handleChange"]=function(G__18842){return function(p1__18839_SHARP_){var C=this;return reagent.impl.template.input_handle_change.call(null,C,p1__18839_SHARP_)}}(G__18842);G__18842["componentWillReceiveProps"]=function(G__18842){return function(p1__18840_SHARP_){var C=
this;return reagent.impl.template.input_will_receive_props.call(null,C,p1__18840_SHARP_)}}(G__18842);return G__18842};
reagent.impl.template.wrap_component=function wrap_component(comp,extras,name){var input_QMARK_=reagent.impl.template.input_components.call(null,comp);var input_setup=cljs.core.truth_(input_QMARK_)?reagent.impl.template.input_render_setup:null;var spec={"displayName":function(){var or__3478__auto__=name;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return"ComponentWrapper"}(),"shouldComponentUpdate":function(input_QMARK_,input_setup){return function(p1__18843_SHARP_,p2__18844_SHARP_){var C=
this;return reagent.impl.template.wrapped_should_update.call(null,C,p1__18843_SHARP_,p2__18844_SHARP_)}}(input_QMARK_,input_setup),"render":function(input_QMARK_,input_setup){return function(){var C=this;return reagent.impl.template.wrapped_render.call(null,C,comp,extras,input_setup)}}(input_QMARK_,input_setup)};if(cljs.core.truth_(input_QMARK_))reagent.impl.template.add_input_methods.call(null,spec);else;return reagent.impl.util.React.createClass(spec)};
reagent.impl.template.create_class=function create_class(spec){return reagent.impl.component.create_class.call(null,spec,reagent.impl.template.as_component)};
reagent.impl.template.parse_tag=function parse_tag(hiccup_tag){var vec__18846=cljs.core.next.call(null,cljs.core.re_matches.call(null,reagent.impl.template.re_tag,cljs.core.name.call(null,hiccup_tag)));var tag=cljs.core.nth.call(null,vec__18846,0,null);var id=cljs.core.nth.call(null,vec__18846,1,null);var class$=cljs.core.nth.call(null,vec__18846,2,null);var comp=reagent.impl.template.DOM[tag];var class_SINGLEQUOTE_=cljs.core.truth_(class$)?clojure.string.replace.call(null,class$,/\./," "):null;if(cljs.core.truth_(comp));
else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str([cljs.core.str("Unknown tag: '"),cljs.core.str(hiccup_tag),cljs.core.str("'")].join("")),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,new cljs.core.Symbol(null,"comp","comp",-1637472056,null)))].join(""));return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[comp,cljs.core.truth_(function(){var or__3478__auto__=id;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return class_SINGLEQUOTE_}())?
new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[id,class_SINGLEQUOTE_],null):null],null)};reagent.impl.template.get_wrapper=function get_wrapper(tag){var vec__18848=reagent.impl.template.parse_tag.call(null,tag);var comp=cljs.core.nth.call(null,vec__18848,0,null);var id_class=cljs.core.nth.call(null,vec__18848,1,null);return reagent.impl.template.wrap_component.call(null,comp,id_class,[cljs.core.str(tag)].join(""))};
reagent.impl.template.cached_wrapper=cljs.core.memoize.call(null,reagent.impl.template.get_wrapper);reagent.impl.template.fn_to_class=function fn_to_class(f){var spec=cljs.core.meta.call(null,f);var withrender=cljs.core.assoc.call(null,spec,new cljs.core.Keyword(null,"component-function","component-function",4698348058),f);var res=reagent.impl.template.create_class.call(null,withrender);var wrapf=res.cljsReactClass;f.cljsReactClass=wrapf;return wrapf};
reagent.impl.template.as_class=function as_class(tag){if(reagent.impl.template.hiccup_tag_QMARK_.call(null,tag))return reagent.impl.template.cached_wrapper.call(null,tag);else{var cached_class=tag.cljsReactClass;if(!(cached_class==null))return cached_class;else if(cljs.core.truth_(reagent.impl.util.React.isValidClass(tag)))return tag.cljsReactClass=reagent.impl.template.wrap_component.call(null,tag,null,null);else return reagent.impl.template.fn_to_class.call(null,tag)}};
reagent.impl.template.get_key=function get_key(x){if(cljs.core.map_QMARK_.call(null,x))return cljs.core.get.call(null,x,new cljs.core.Keyword(null,"key","key",1014010321));else return null};
reagent.impl.template.vec_to_comp=function vec_to_comp(v,level){if(cljs.core.count.call(null,v)>0);else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Hiccup form should not be empty"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"pos?","pos?",-1637084636,null),cljs.core.list(new cljs.core.Symbol(null,"count","count",-1545680184,null),new cljs.core.Symbol(null,"v","v",-1640531409,null)))))].join(""));if(reagent.impl.template.valid_tag_QMARK_.call(null,
v.call(null,0)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str([cljs.core.str("Invalid Hiccup form: "),cljs.core.str(cljs.core.pr_str.call(null,v))].join("")),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"valid-tag?","valid-tag?",-1732125489,null),cljs.core.list(new cljs.core.Symbol(null,"v","v",-1640531409,null),0))))].join(""));var c=reagent.impl.template.as_class.call(null,v.call(null,0));var jsprops=function(){var obj18852=
{};obj18852[reagent.impl.util.cljs_argv]=v;obj18852[reagent.impl.util.cljs_level]=level;return obj18852}();var k_18853=reagent.impl.template.get_key.call(null,cljs.core.meta.call(null,v));var k_SINGLEQUOTE__18854=k_18853==null?reagent.impl.template.get_key.call(null,cljs.core.get.call(null,v,1)):k_18853;if(k_SINGLEQUOTE__18854==null);else jsprops["key"]=k_SINGLEQUOTE__18854;return c.call(null,jsprops)};reagent.impl.template.tmp={};
reagent.impl.template.warn_on_deref=function warn_on_deref(x){if(cljs.core.truth_(reagent.impl.template.tmp.warned))return null;else{if(!(console.log==null))console.log("Warning: Reactive deref not supported in seq in ",cljs.core.pr_str.call(null,x));else;return reagent.impl.template.tmp.warned=true}};reagent.impl.template.expand_seq=function expand_seq(x,level){return reagent.impl.template.map_into_array.call(null,reagent.impl.template.as_component,level+1,x)};
reagent.impl.template.as_component=function(){var as_component=null;var as_component__1=function(x){return as_component.call(null,x,0)};var as_component__2=function(x,level){if(cljs.core.vector_QMARK_.call(null,x))return reagent.impl.template.vec_to_comp.call(null,x,level);else if(cljs.core.seq_QMARK_.call(null,x))if(!(true&&reagent.ratom._STAR_ratom_context_STAR_==null))return reagent.impl.template.expand_seq.call(null,x,level);else{var s=reagent.ratom.capture_derefed.call(null,function(){return reagent.impl.template.expand_seq.call(null,
x,level)},reagent.impl.template.tmp);if(cljs.core.truth_(reagent.ratom.captured.call(null,reagent.impl.template.tmp)))reagent.impl.template.warn_on_deref.call(null,x);else;return s}else if(true)return x;else return null};as_component=function(x,level){switch(arguments.length){case 1:return as_component__1.call(this,x);case 2:return as_component__2.call(this,x,level)}throw new Error("Invalid arity: "+arguments.length);};as_component.cljs$core$IFn$_invoke$arity$1=as_component__1;as_component.cljs$core$IFn$_invoke$arity$2=
as_component__2;return as_component}();goog.provide("reagent.core");goog.require("cljs.core");goog.require("reagent.impl.util");goog.require("reagent.impl.component");goog.require("reagent.ratom");goog.require("reagent.impl.template");goog.require("reagent.impl.batching");goog.require("reagent.impl.component");goog.require("reagent.impl.util");goog.require("reagent.impl.template");goog.require("reagent.ratom");goog.require("reagent.impl.batching");reagent.core.React=reagent.impl.util.React;reagent.core.is_client=reagent.impl.util.is_client;
reagent.core.as_component=function as_component(form){return reagent.impl.template.as_component.call(null,form)};
reagent.core.render_component=function(){var render_component=null;var render_component__2=function(comp,container){return render_component.call(null,comp,container,null)};var render_component__3=function(comp,container,callback){return reagent.core.React.renderComponent(reagent.core.as_component.call(null,comp),container,callback)};render_component=function(comp,container,callback){switch(arguments.length){case 2:return render_component__2.call(this,comp,container);case 3:return render_component__3.call(this,
comp,container,callback)}throw new Error("Invalid arity: "+arguments.length);};render_component.cljs$core$IFn$_invoke$arity$2=render_component__2;render_component.cljs$core$IFn$_invoke$arity$3=render_component__3;return render_component}();reagent.core.unmount_component_at_node=function unmount_component_at_node(container){return reagent.core.React.unmountComponentAtNode(container)};
reagent.core.render_component_to_string=function render_component_to_string(component){return reagent.core.React.renderComponentToString(reagent.core.as_component.call(null,component))};reagent.core.create_class=function create_class(spec){return reagent.impl.template.create_class.call(null,spec)};reagent.core.current_component=function current_component(){return reagent.impl.component._STAR_current_component_STAR_};
reagent.core.state=function state(this$){if(reagent.impl.util.reagent_component_QMARK_.call(null,this$));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol("util","reagent-component?","util/reagent-component?",-831818476,null),new cljs.core.Symbol(null,"this","this",-1636972457,null))))].join(""));return reagent.impl.component.state.call(null,this$)};
reagent.core.replace_state=function replace_state(this$,new_state){if(reagent.impl.util.reagent_component_QMARK_.call(null,this$));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol("util","reagent-component?","util/reagent-component?",-831818476,null),new cljs.core.Symbol(null,"this","this",-1636972457,null))))].join(""));if(new_state==null||cljs.core.map_QMARK_.call(null,new_state));else throw new Error([cljs.core.str("Assert failed: "),
cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"or","or",-1640527972,null),cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",-1637150201,null),new cljs.core.Symbol(null,"new-state","new-state",969950173,null)),cljs.core.list(new cljs.core.Symbol(null,"map?","map?",-1637187556,null),new cljs.core.Symbol(null,"new-state","new-state",969950173,null)))))].join(""));return reagent.impl.component.replace_state.call(null,this$,new_state)};
reagent.core.set_state=function set_state(this$,new_state){if(reagent.impl.util.reagent_component_QMARK_.call(null,this$));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol("util","reagent-component?","util/reagent-component?",-831818476,null),new cljs.core.Symbol(null,"this","this",-1636972457,null))))].join(""));if(new_state==null||cljs.core.map_QMARK_.call(null,new_state));else throw new Error([cljs.core.str("Assert failed: "),
cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"or","or",-1640527972,null),cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",-1637150201,null),new cljs.core.Symbol(null,"new-state","new-state",969950173,null)),cljs.core.list(new cljs.core.Symbol(null,"map?","map?",-1637187556,null),new cljs.core.Symbol(null,"new-state","new-state",969950173,null)))))].join(""));return reagent.impl.component.set_state.call(null,this$,new_state)};
reagent.core.props=function props(this$){if(reagent.impl.util.reagent_component_QMARK_.call(null,this$));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol("util","reagent-component?","util/reagent-component?",-831818476,null),new cljs.core.Symbol(null,"this","this",-1636972457,null))))].join(""));return reagent.impl.util.get_props.call(null,this$)};
reagent.core.children=function children(this$){if(reagent.impl.util.reagent_component_QMARK_.call(null,this$));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol("util","reagent-component?","util/reagent-component?",-831818476,null),new cljs.core.Symbol(null,"this","this",-1636972457,null))))].join(""));return reagent.impl.util.get_children.call(null,this$)};
reagent.core.argv=function argv(this$){if(reagent.impl.util.reagent_component_QMARK_.call(null,this$));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol("util","reagent-component?","util/reagent-component?",-831818476,null),new cljs.core.Symbol(null,"this","this",-1636972457,null))))].join(""));return reagent.impl.util.get_argv.call(null,this$)};reagent.core.dom_node=function dom_node(this$){return this$.getDOMNode()};
reagent.core.merge_props=function merge_props(defaults,props){return reagent.impl.util.merge_props.call(null,defaults,props)};reagent.core.flush=function flush(){return reagent.impl.batching.flush.call(null)};
reagent.core.atom=function(){var atom=null;var atom__1=function(x){return reagent.ratom.atom.call(null,x)};var atom__2=function(){var G__18787__delegate=function(x,rest){return cljs.core.apply.call(null,reagent.ratom.atom,x,rest)};var G__18787=function(x,var_args){var rest=null;if(arguments.length>1)rest=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return G__18787__delegate.call(this,x,rest)};G__18787.cljs$lang$maxFixedArity=1;G__18787.cljs$lang$applyTo=function(arglist__18788){var x=
cljs.core.first(arglist__18788);var rest=cljs.core.rest(arglist__18788);return G__18787__delegate(x,rest)};G__18787.cljs$core$IFn$_invoke$arity$variadic=G__18787__delegate;return G__18787}();atom=function(x,var_args){var rest=var_args;switch(arguments.length){case 1:return atom__1.call(this,x);default:return atom__2.cljs$core$IFn$_invoke$arity$variadic(x,cljs.core.array_seq(arguments,1))}throw new Error("Invalid arity: "+arguments.length);};atom.cljs$lang$maxFixedArity=1;atom.cljs$lang$applyTo=atom__2.cljs$lang$applyTo;
atom.cljs$core$IFn$_invoke$arity$1=atom__1;atom.cljs$core$IFn$_invoke$arity$variadic=atom__2.cljs$core$IFn$_invoke$arity$variadic;return atom}();reagent.core.next_tick=function next_tick(f){return reagent.impl.batching.next_tick.call(null,f)};
reagent.core.partial=function(){var partial__delegate=function(f,args){return new reagent.impl.util.partial_ifn(f,args,null)};var partial=function(f,var_args){var args=null;if(arguments.length>1)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return partial__delegate.call(this,f,args)};partial.cljs$lang$maxFixedArity=1;partial.cljs$lang$applyTo=function(arglist__18789){var f=cljs.core.first(arglist__18789);var args=cljs.core.rest(arglist__18789);return partial__delegate(f,args)};
partial.cljs$core$IFn$_invoke$arity$variadic=partial__delegate;return partial}();goog.provide("goog.userAgent");goog.require("goog.string");goog.define("goog.userAgent.ASSUME_IE",false);goog.define("goog.userAgent.ASSUME_GECKO",false);goog.define("goog.userAgent.ASSUME_WEBKIT",false);goog.define("goog.userAgent.ASSUME_MOBILE_WEBKIT",false);goog.define("goog.userAgent.ASSUME_OPERA",false);goog.define("goog.userAgent.ASSUME_ANY_VERSION",false);
goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||(goog.userAgent.ASSUME_GECKO||(goog.userAgent.ASSUME_MOBILE_WEBKIT||(goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA)));goog.userAgent.getUserAgentString=function(){return goog.global["navigator"]?goog.global["navigator"].userAgent:null};goog.userAgent.getNavigator=function(){return goog.global["navigator"]};
goog.userAgent.init_=function(){goog.userAgent.detectedOpera_=false;goog.userAgent.detectedIe_=false;goog.userAgent.detectedWebkit_=false;goog.userAgent.detectedMobile_=false;goog.userAgent.detectedGecko_=false;var ua;if(!goog.userAgent.BROWSER_KNOWN_&&(ua=goog.userAgent.getUserAgentString())){var navigator=goog.userAgent.getNavigator();goog.userAgent.detectedOpera_=goog.string.startsWith(ua,"Opera");goog.userAgent.detectedIe_=!goog.userAgent.detectedOpera_&&(goog.string.contains(ua,"MSIE")||goog.string.contains(ua,
"Trident"));goog.userAgent.detectedWebkit_=!goog.userAgent.detectedOpera_&&goog.string.contains(ua,"WebKit");goog.userAgent.detectedMobile_=goog.userAgent.detectedWebkit_&&goog.string.contains(ua,"Mobile");goog.userAgent.detectedGecko_=!goog.userAgent.detectedOpera_&&(!goog.userAgent.detectedWebkit_&&(!goog.userAgent.detectedIe_&&navigator.product=="Gecko"))}};if(!goog.userAgent.BROWSER_KNOWN_)goog.userAgent.init_();goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.userAgent.detectedOpera_;
goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.userAgent.detectedIe_;goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.userAgent.detectedGecko_;goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.userAgent.detectedWebkit_;goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.detectedMobile_;goog.userAgent.SAFARI=goog.userAgent.WEBKIT;
goog.userAgent.determinePlatform_=function(){var navigator=goog.userAgent.getNavigator();return navigator&&navigator.platform||""};goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.define("goog.userAgent.ASSUME_MAC",false);goog.define("goog.userAgent.ASSUME_WINDOWS",false);goog.define("goog.userAgent.ASSUME_LINUX",false);goog.define("goog.userAgent.ASSUME_X11",false);goog.define("goog.userAgent.ASSUME_ANDROID",false);goog.define("goog.userAgent.ASSUME_IPHONE",false);
goog.define("goog.userAgent.ASSUME_IPAD",false);goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||(goog.userAgent.ASSUME_WINDOWS||(goog.userAgent.ASSUME_LINUX||(goog.userAgent.ASSUME_X11||(goog.userAgent.ASSUME_ANDROID||(goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD)))));
goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac");goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win");goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux");goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator()["appVersion"]||"","X11");var ua=goog.userAgent.getUserAgentString();goog.userAgent.detectedAndroid_=!!ua&&
goog.string.contains(ua,"Android");goog.userAgent.detectedIPhone_=!!ua&&goog.string.contains(ua,"iPhone");goog.userAgent.detectedIPad_=!!ua&&goog.string.contains(ua,"iPad")};if(!goog.userAgent.PLATFORM_KNOWN_)goog.userAgent.initPlatform_();goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_;goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_;
goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_;goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_;goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.userAgent.detectedAndroid_;goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.userAgent.detectedIPhone_;
goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.userAgent.detectedIPad_;
goog.userAgent.determineVersion_=function(){var version="",re;if(goog.userAgent.OPERA&&goog.global["opera"]){var operaVersion=goog.global["opera"].version;version=typeof operaVersion=="function"?operaVersion():operaVersion}else{if(goog.userAgent.GECKO)re=/rv\:([^\);]+)(\)|;)/;else if(goog.userAgent.IE)re=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/;else if(goog.userAgent.WEBKIT)re=/WebKit\/(\S+)/;if(re){var arr=re.exec(goog.userAgent.getUserAgentString());version=arr?arr[1]:""}}if(goog.userAgent.IE){var docMode=
goog.userAgent.getDocumentMode_();if(docMode>parseFloat(version))return String(docMode)}return version};goog.userAgent.getDocumentMode_=function(){var doc=goog.global["document"];return doc?doc["documentMode"]:undefined};goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(v1,v2){return goog.string.compareVersions(v1,v2)};goog.userAgent.isVersionOrHigherCache_={};
goog.userAgent.isVersionOrHigher=function(version){return goog.userAgent.ASSUME_ANY_VERSION||(goog.userAgent.isVersionOrHigherCache_[version]||(goog.userAgent.isVersionOrHigherCache_[version]=goog.string.compareVersions(goog.userAgent.VERSION,version)>=0))};goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher;goog.userAgent.isDocumentModeOrHigher=function(documentMode){return goog.userAgent.IE&&goog.userAgent.DOCUMENT_MODE>=documentMode};goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher;
goog.userAgent.DOCUMENT_MODE=function(){var doc=goog.global["document"];if(!doc||!goog.userAgent.IE)return undefined;var mode=goog.userAgent.getDocumentMode_();return mode||(doc["compatMode"]=="CSS1Compat"?parseInt(goog.userAgent.VERSION,10):5)}();goog.provide("goog.dom.BrowserFeature");goog.require("goog.userAgent");
goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||(goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1")),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||(goog.userAgent.OPERA||goog.userAgent.WEBKIT),INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE};goog.provide("goog.dom.TagName");
goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",
DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",
NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",
TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"};goog.provide("goog.dom.classes");goog.require("goog.array");goog.dom.classes.set=function(element,className){element.className=className};goog.dom.classes.get=function(element){var className=element.className;return goog.isString(className)&&className.match(/\S+/g)||[]};
goog.dom.classes.add=function(element,var_args){var classes=goog.dom.classes.get(element);var args=goog.array.slice(arguments,1);var expectedCount=classes.length+args.length;goog.dom.classes.add_(classes,args);goog.dom.classes.set(element,classes.join(" "));return classes.length==expectedCount};
goog.dom.classes.remove=function(element,var_args){var classes=goog.dom.classes.get(element);var args=goog.array.slice(arguments,1);var newClasses=goog.dom.classes.getDifference_(classes,args);goog.dom.classes.set(element,newClasses.join(" "));return newClasses.length==classes.length-args.length};goog.dom.classes.add_=function(classes,args){for(var i=0;i<args.length;i++)if(!goog.array.contains(classes,args[i]))classes.push(args[i])};
goog.dom.classes.getDifference_=function(arr1,arr2){return goog.array.filter(arr1,function(item){return!goog.array.contains(arr2,item)})};goog.dom.classes.swap=function(element,fromClass,toClass){var classes=goog.dom.classes.get(element);var removed=false;for(var i=0;i<classes.length;i++)if(classes[i]==fromClass){goog.array.splice(classes,i--,1);removed=true}if(removed){classes.push(toClass);goog.dom.classes.set(element,classes.join(" "))}return removed};
goog.dom.classes.addRemove=function(element,classesToRemove,classesToAdd){var classes=goog.dom.classes.get(element);if(goog.isString(classesToRemove))goog.array.remove(classes,classesToRemove);else if(goog.isArray(classesToRemove))classes=goog.dom.classes.getDifference_(classes,classesToRemove);if(goog.isString(classesToAdd)&&!goog.array.contains(classes,classesToAdd))classes.push(classesToAdd);else if(goog.isArray(classesToAdd))goog.dom.classes.add_(classes,classesToAdd);goog.dom.classes.set(element,
classes.join(" "))};goog.dom.classes.has=function(element,className){return goog.array.contains(goog.dom.classes.get(element),className)};goog.dom.classes.enable=function(element,className,enabled){if(enabled)goog.dom.classes.add(element,className);else goog.dom.classes.remove(element,className)};goog.dom.classes.toggle=function(element,className){var add=!goog.dom.classes.has(element,className);goog.dom.classes.enable(element,className,add);return add};goog.provide("goog.functions");goog.functions.constant=function(retValue){return function(){return retValue}};goog.functions.FALSE=goog.functions.constant(false);goog.functions.TRUE=goog.functions.constant(true);goog.functions.NULL=goog.functions.constant(null);goog.functions.identity=function(opt_returnValue,var_args){return opt_returnValue};goog.functions.error=function(message){return function(){throw Error(message);}};goog.functions.fail=function(err){return function(){throw err;}};
goog.functions.lock=function(f,opt_numArgs){opt_numArgs=opt_numArgs||0;return function(){return f.apply(this,Array.prototype.slice.call(arguments,0,opt_numArgs))}};goog.functions.nth=function(n){return function(){return arguments[n]}};goog.functions.withReturnValue=function(f,retValue){return goog.functions.sequence(f,goog.functions.constant(retValue))};
goog.functions.compose=function(fn,var_args){var functions=arguments;var length=functions.length;return function(){var result;if(length)result=functions[length-1].apply(this,arguments);for(var i=length-2;i>=0;i--)result=functions[i].call(this,result);return result}};goog.functions.sequence=function(var_args){var functions=arguments;var length=functions.length;return function(){var result;for(var i=0;i<length;i++)result=functions[i].apply(this,arguments);return result}};
goog.functions.and=function(var_args){var functions=arguments;var length=functions.length;return function(){for(var i=0;i<length;i++)if(!functions[i].apply(this,arguments))return false;return true}};goog.functions.or=function(var_args){var functions=arguments;var length=functions.length;return function(){for(var i=0;i<length;i++)if(functions[i].apply(this,arguments))return true;return false}};goog.functions.not=function(f){return function(){return!f.apply(this,arguments)}};
goog.functions.create=function(constructor,var_args){var temp=function(){};temp.prototype=constructor.prototype;var obj=new temp;constructor.apply(obj,Array.prototype.slice.call(arguments,1));return obj};goog.define("goog.functions.CACHE_RETURN_VALUE",true);goog.functions.cacheReturnValue=function(fn){var called=false;var value;return function(){if(!goog.functions.CACHE_RETURN_VALUE)return fn();if(!called){value=fn();called=true}return value}};goog.provide("goog.math");goog.require("goog.array");goog.require("goog.asserts");goog.math.randomInt=function(a){return Math.floor(Math.random()*a)};goog.math.uniformRandom=function(a,b){return a+Math.random()*(b-a)};goog.math.clamp=function(value,min,max){return Math.min(Math.max(value,min),max)};goog.math.modulo=function(a,b){var r=a%b;return r*b<0?r+b:r};goog.math.lerp=function(a,b,x){return a+x*(b-a)};goog.math.nearlyEquals=function(a,b,opt_tolerance){return Math.abs(a-b)<=(opt_tolerance||1E-6)};
goog.math.standardAngle=function(angle){return goog.math.modulo(angle,360)};goog.math.toRadians=function(angleDegrees){return angleDegrees*Math.PI/180};goog.math.toDegrees=function(angleRadians){return angleRadians*180/Math.PI};goog.math.angleDx=function(degrees,radius){return radius*Math.cos(goog.math.toRadians(degrees))};goog.math.angleDy=function(degrees,radius){return radius*Math.sin(goog.math.toRadians(degrees))};
goog.math.angle=function(x1,y1,x2,y2){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(y2-y1,x2-x1)))};goog.math.angleDifference=function(startAngle,endAngle){var d=goog.math.standardAngle(endAngle)-goog.math.standardAngle(startAngle);if(d>180)d=d-360;else if(d<=-180)d=360+d;return d};goog.math.sign=function(x){return x==0?0:x<0?-1:1};
goog.math.longestCommonSubsequence=function(array1,array2,opt_compareFn,opt_collectorFn){var compare=opt_compareFn||function(a,b){return a==b};var collect=opt_collectorFn||function(i1,i2){return array1[i1]};var length1=array1.length;var length2=array2.length;var arr=[];for(var i=0;i<length1+1;i++){arr[i]=[];arr[i][0]=0}for(var j=0;j<length2+1;j++)arr[0][j]=0;for(i=1;i<=length1;i++)for(j=1;j<=length2;j++)if(compare(array1[i-1],array2[j-1]))arr[i][j]=arr[i-1][j-1]+1;else arr[i][j]=Math.max(arr[i-1][j],
arr[i][j-1]);var result=[];var i=length1,j=length2;while(i>0&&j>0)if(compare(array1[i-1],array2[j-1])){result.unshift(collect(i-1,j-1));i--;j--}else if(arr[i-1][j]>arr[i][j-1])i--;else j--;return result};goog.math.sum=function(var_args){return(goog.array.reduce(arguments,function(sum,value){return sum+value},0))};goog.math.average=function(var_args){return goog.math.sum.apply(null,arguments)/arguments.length};
goog.math.sampleVariance=function(var_args){var sampleSize=arguments.length;if(sampleSize<2)return 0;var mean=goog.math.average.apply(null,arguments);var variance=goog.math.sum.apply(null,goog.array.map(arguments,function(val){return Math.pow(val-mean,2)}))/(sampleSize-1);return variance};goog.math.standardDeviation=function(var_args){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))};goog.math.isInt=function(num){return isFinite(num)&&num%1==0};
goog.math.isFiniteNumber=function(num){return isFinite(num)&&!isNaN(num)};goog.math.log10Floor=function(num){if(num>0){var x=Math.round(Math.log(num)*Math.LOG10E);return x-(Math.pow(10,x)>num)}return num==0?-Infinity:NaN};goog.math.safeFloor=function(num,opt_epsilon){goog.asserts.assert(!goog.isDef(opt_epsilon)||opt_epsilon>0);return Math.floor(num+(opt_epsilon||2E-15))};
goog.math.safeCeil=function(num,opt_epsilon){goog.asserts.assert(!goog.isDef(opt_epsilon)||opt_epsilon>0);return Math.ceil(num-(opt_epsilon||2E-15))};goog.provide("goog.math.Coordinate");goog.require("goog.math");goog.math.Coordinate=function(opt_x,opt_y){this.x=goog.isDef(opt_x)?opt_x:0;this.y=goog.isDef(opt_y)?opt_y:0};goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)};if(goog.DEBUG)goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"};goog.math.Coordinate.equals=function(a,b){if(a==b)return true;if(!a||!b)return false;return a.x==b.x&&a.y==b.y};
goog.math.Coordinate.distance=function(a,b){var dx=a.x-b.x;var dy=a.y-b.y;return Math.sqrt(dx*dx+dy*dy)};goog.math.Coordinate.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};goog.math.Coordinate.azimuth=function(a){return goog.math.angle(0,0,a.x,a.y)};goog.math.Coordinate.squaredDistance=function(a,b){var dx=a.x-b.x;var dy=a.y-b.y;return dx*dx+dy*dy};goog.math.Coordinate.difference=function(a,b){return new goog.math.Coordinate(a.x-b.x,a.y-b.y)};
goog.math.Coordinate.sum=function(a,b){return new goog.math.Coordinate(a.x+b.x,a.y+b.y)};goog.math.Coordinate.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};goog.math.Coordinate.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};goog.math.Coordinate.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
goog.math.Coordinate.prototype.translate=function(tx,opt_ty){if(tx instanceof goog.math.Coordinate){this.x+=tx.x;this.y+=tx.y}else{this.x+=tx;if(goog.isNumber(opt_ty))this.y+=opt_ty}return this};goog.math.Coordinate.prototype.scale=function(sx,opt_sy){var sy=goog.isNumber(opt_sy)?opt_sy:sx;this.x*=sx;this.y*=sy;return this};
goog.math.Coordinate.prototype.rotateRadians=function(radians,opt_center){var center=opt_center||new goog.math.Coordinate(0,0);var x=this.x;var y=this.y;var cos=Math.cos(radians);var sin=Math.sin(radians);this.x=(x-center.x)*cos-(y-center.y)*sin+center.x;this.y=(x-center.x)*sin+(y-center.y)*cos+center.y};goog.math.Coordinate.prototype.rotateDegrees=function(degrees,opt_center){this.rotateRadians(goog.math.toRadians(degrees),opt_center)};goog.provide("goog.math.Size");goog.math.Size=function(width,height){this.width=width;this.height=height};goog.math.Size.equals=function(a,b){if(a==b)return true;if(!a||!b)return false;return a.width==b.width&&a.height==b.height};goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)};if(goog.DEBUG)goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)};
goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)};goog.math.Size.prototype.area=function(){return this.width*this.height};goog.math.Size.prototype.perimeter=function(){return(this.width+this.height)*2};goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height};goog.math.Size.prototype.isEmpty=function(){return!this.area()};goog.math.Size.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
goog.math.Size.prototype.fitsInside=function(target){return this.width<=target.width&&this.height<=target.height};goog.math.Size.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};goog.math.Size.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};goog.math.Size.prototype.scale=function(sx,opt_sy){var sy=goog.isNumber(opt_sy)?opt_sy:sx;this.width*=sx;this.height*=sy;return this};
goog.math.Size.prototype.scaleToFit=function(target){var s=this.aspectRatio()>target.aspectRatio()?target.width/this.width:target.height/this.height;return this.scale(s)};goog.provide("goog.dom");goog.provide("goog.dom.Appendable");goog.provide("goog.dom.DomHelper");goog.require("goog.array");goog.require("goog.asserts");goog.require("goog.dom.BrowserFeature");goog.require("goog.dom.NodeType");goog.require("goog.dom.TagName");goog.require("goog.dom.classes");goog.require("goog.functions");goog.require("goog.math.Coordinate");goog.require("goog.math.Size");goog.require("goog.object");goog.require("goog.string");goog.require("goog.userAgent");
goog.define("goog.dom.ASSUME_QUIRKS_MODE",false);goog.define("goog.dom.ASSUME_STANDARDS_MODE",false);goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE;goog.dom.getDomHelper=function(opt_element){return opt_element?new goog.dom.DomHelper(goog.dom.getOwnerDocument(opt_element)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)};goog.dom.defaultDomHelper_;goog.dom.getDocument=function(){return document};
goog.dom.getElement=function(element){return goog.dom.getElementHelper_(document,element)};goog.dom.getElementHelper_=function(doc,element){return goog.isString(element)?doc.getElementById(element):element};goog.dom.getRequiredElement=function(id){return goog.dom.getRequiredElementHelper_(document,id)};
goog.dom.getRequiredElementHelper_=function(doc,id){goog.asserts.assertString(id);var element=goog.dom.getElementHelper_(doc,id);element=goog.asserts.assertElement(element,"No element found with id: "+id);return element};goog.dom.$=goog.dom.getElement;goog.dom.getElementsByTagNameAndClass=function(opt_tag,opt_class,opt_el){return goog.dom.getElementsByTagNameAndClass_(document,opt_tag,opt_class,opt_el)};
goog.dom.getElementsByClass=function(className,opt_el){var parent=opt_el||document;if(goog.dom.canUseQuerySelector_(parent))return parent.querySelectorAll("."+className);return goog.dom.getElementsByTagNameAndClass_(document,"*",className,opt_el)};
goog.dom.getElementByClass=function(className,opt_el){var parent=opt_el||document;var retVal=null;if(goog.dom.canUseQuerySelector_(parent))retVal=parent.querySelector("."+className);else retVal=goog.dom.getElementsByTagNameAndClass_(document,"*",className,opt_el)[0];return retVal||null};goog.dom.getRequiredElementByClass=function(className,opt_root){var retValue=goog.dom.getElementByClass(className,opt_root);return goog.asserts.assert(retValue,"No element found with className: "+className)};
goog.dom.canUseQuerySelector_=function(parent){return!!(parent.querySelectorAll&&parent.querySelector)};
goog.dom.getElementsByTagNameAndClass_=function(doc,opt_tag,opt_class,opt_el){var parent=opt_el||doc;var tagName=opt_tag&&opt_tag!="*"?opt_tag.toUpperCase():"";if(goog.dom.canUseQuerySelector_(parent)&&(tagName||opt_class)){var query=tagName+(opt_class?"."+opt_class:"");return parent.querySelectorAll(query)}if(opt_class&&parent.getElementsByClassName){var els=parent.getElementsByClassName(opt_class);if(tagName){var arrayLike={};var len=0;for(var i=0,el;el=els[i];i++)if(tagName==el.nodeName)arrayLike[len++]=
el;arrayLike.length=len;return arrayLike}else return els}var els=parent.getElementsByTagName(tagName||"*");if(opt_class){var arrayLike={};var len=0;for(var i=0,el;el=els[i];i++){var className=el.className;if(typeof className.split=="function"&&goog.array.contains(className.split(/\s+/),opt_class))arrayLike[len++]=el}arrayLike.length=len;return arrayLike}else return els};goog.dom.$$=goog.dom.getElementsByTagNameAndClass;
goog.dom.setProperties=function(element,properties){goog.object.forEach(properties,function(val,key){if(key=="style")element.style.cssText=val;else if(key=="class")element.className=val;else if(key=="for")element.htmlFor=val;else if(key in goog.dom.DIRECT_ATTRIBUTE_MAP_)element.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[key],val);else if(goog.string.startsWith(key,"aria-")||goog.string.startsWith(key,"data-"))element.setAttribute(key,val);else element[key]=val})};
goog.dom.DIRECT_ATTRIBUTE_MAP_={"cellpadding":"cellPadding","cellspacing":"cellSpacing","colspan":"colSpan","frameborder":"frameBorder","height":"height","maxlength":"maxLength","role":"role","rowspan":"rowSpan","type":"type","usemap":"useMap","valign":"vAlign","width":"width"};goog.dom.getViewportSize=function(opt_window){return goog.dom.getViewportSize_(opt_window||window)};
goog.dom.getViewportSize_=function(win){var doc=win.document;var el=goog.dom.isCss1CompatMode_(doc)?doc.documentElement:doc.body;return new goog.math.Size(el.clientWidth,el.clientHeight)};goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)};
goog.dom.getDocumentHeight_=function(win){var doc=win.document;var height=0;if(doc){var vh=goog.dom.getViewportSize_(win).height;var body=doc.body;var docEl=doc.documentElement;if(goog.dom.isCss1CompatMode_(doc)&&docEl.scrollHeight)height=docEl.scrollHeight!=vh?docEl.scrollHeight:docEl.offsetHeight;else{var sh=docEl.scrollHeight;var oh=docEl.offsetHeight;if(docEl.clientHeight!=oh){sh=body.scrollHeight;oh=body.offsetHeight}if(sh>vh)height=sh>oh?sh:oh;else height=sh<oh?sh:oh}}return height};
goog.dom.getPageScroll=function(opt_window){var win=opt_window||(goog.global||window);return goog.dom.getDomHelper(win.document).getDocumentScroll()};goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)};
goog.dom.getDocumentScroll_=function(doc){var el=goog.dom.getDocumentScrollElement_(doc);var win=goog.dom.getWindow_(doc);if(goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher("10")&&win.pageYOffset!=el.scrollTop))return new goog.math.Coordinate(el.scrollLeft,el.scrollTop);return new goog.math.Coordinate(win.pageXOffset||el.scrollLeft,win.pageYOffset||el.scrollTop)};goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)};
goog.dom.getDocumentScrollElement_=function(doc){if(!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(doc))return doc.documentElement;return doc.body||doc.documentElement};goog.dom.getWindow=function(opt_doc){return opt_doc?goog.dom.getWindow_(opt_doc):window};goog.dom.getWindow_=function(doc){return doc.parentWindow||doc.defaultView};goog.dom.createDom=function(tagName,opt_attributes,var_args){return goog.dom.createDom_(document,arguments)};
goog.dom.createDom_=function(doc,args){var tagName=args[0];var attributes=args[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&(attributes&&(attributes.name||attributes.type))){var tagNameArr=["\x3c",tagName];if(attributes.name)tagNameArr.push(' name\x3d"',goog.string.htmlEscape(attributes.name),'"');if(attributes.type){tagNameArr.push(' type\x3d"',goog.string.htmlEscape(attributes.type),'"');var clone={};goog.object.extend(clone,attributes);delete clone["type"];attributes=clone}tagNameArr.push("\x3e");
tagName=tagNameArr.join("")}var element=doc.createElement(tagName);if(attributes)if(goog.isString(attributes))element.className=attributes;else if(goog.isArray(attributes))goog.dom.classes.add.apply(null,[element].concat(attributes));else goog.dom.setProperties(element,attributes);if(args.length>2)goog.dom.append_(doc,element,args,2);return element};
goog.dom.append_=function(doc,parent,args,startIndex){function childHandler(child){if(child)parent.appendChild(goog.isString(child)?doc.createTextNode(child):child)}for(var i=startIndex;i<args.length;i++){var arg=args[i];if(goog.isArrayLike(arg)&&!goog.dom.isNodeLike(arg))goog.array.forEach(goog.dom.isNodeList(arg)?goog.array.toArray(arg):arg,childHandler);else childHandler(arg)}};goog.dom.$dom=goog.dom.createDom;goog.dom.createElement=function(name){return document.createElement(name)};
goog.dom.createTextNode=function(content){return document.createTextNode(String(content))};goog.dom.createTable=function(rows,columns,opt_fillWithNbsp){return goog.dom.createTable_(document,rows,columns,!!opt_fillWithNbsp)};
goog.dom.createTable_=function(doc,rows,columns,fillWithNbsp){var rowHtml=["\x3ctr\x3e"];for(var i=0;i<columns;i++)rowHtml.push(fillWithNbsp?"\x3ctd\x3e\x26nbsp;\x3c/td\x3e":"\x3ctd\x3e\x3c/td\x3e");rowHtml.push("\x3c/tr\x3e");rowHtml=rowHtml.join("");var totalHtml=["\x3ctable\x3e"];for(i=0;i<rows;i++)totalHtml.push(rowHtml);totalHtml.push("\x3c/table\x3e");var elem=doc.createElement(goog.dom.TagName.DIV);elem.innerHTML=totalHtml.join("");return(elem.removeChild(elem.firstChild))};
goog.dom.htmlToDocumentFragment=function(htmlString){return goog.dom.htmlToDocumentFragment_(document,htmlString)};
goog.dom.htmlToDocumentFragment_=function(doc,htmlString){var tempDiv=doc.createElement("div");if(goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT){tempDiv.innerHTML="\x3cbr\x3e"+htmlString;tempDiv.removeChild(tempDiv.firstChild)}else tempDiv.innerHTML=htmlString;if(tempDiv.childNodes.length==1)return(tempDiv.removeChild(tempDiv.firstChild));else{var fragment=doc.createDocumentFragment();while(tempDiv.firstChild)fragment.appendChild(tempDiv.firstChild);return fragment}};
goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)};goog.dom.isCss1CompatMode_=function(doc){if(goog.dom.COMPAT_MODE_KNOWN_)return goog.dom.ASSUME_STANDARDS_MODE;return doc.compatMode=="CSS1Compat"};goog.dom.canHaveChildren=function(node){if(node.nodeType!=goog.dom.NodeType.ELEMENT)return false;switch(node.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.COMMAND:case goog.dom.TagName.EMBED:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.KEYGEN:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.SOURCE:case goog.dom.TagName.STYLE:case goog.dom.TagName.TRACK:case goog.dom.TagName.WBR:return false}return true};
goog.dom.appendChild=function(parent,child){parent.appendChild(child)};goog.dom.append=function(parent,var_args){goog.dom.append_(goog.dom.getOwnerDocument(parent),parent,arguments,1)};goog.dom.removeChildren=function(node){var child;while(child=node.firstChild)node.removeChild(child)};goog.dom.insertSiblingBefore=function(newNode,refNode){if(refNode.parentNode)refNode.parentNode.insertBefore(newNode,refNode)};
goog.dom.insertSiblingAfter=function(newNode,refNode){if(refNode.parentNode)refNode.parentNode.insertBefore(newNode,refNode.nextSibling)};goog.dom.insertChildAt=function(parent,child,index){parent.insertBefore(child,parent.childNodes[index]||null)};goog.dom.removeNode=function(node){return node&&node.parentNode?node.parentNode.removeChild(node):null};goog.dom.replaceNode=function(newNode,oldNode){var parent=oldNode.parentNode;if(parent)parent.replaceChild(newNode,oldNode)};
goog.dom.flattenElement=function(element){var child,parent=element.parentNode;if(parent&&parent.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT)if(element.removeNode)return(element.removeNode(false));else{while(child=element.firstChild)parent.insertBefore(child,element);return(goog.dom.removeNode(element))}};
goog.dom.getChildren=function(element){if(goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&element.children!=undefined)return element.children;return goog.array.filter(element.childNodes,function(node){return node.nodeType==goog.dom.NodeType.ELEMENT})};goog.dom.getFirstElementChild=function(node){if(node.firstElementChild!=undefined)return(node).firstElementChild;return goog.dom.getNextElementNode_(node.firstChild,true)};
goog.dom.getLastElementChild=function(node){if(node.lastElementChild!=undefined)return(node).lastElementChild;return goog.dom.getNextElementNode_(node.lastChild,false)};goog.dom.getNextElementSibling=function(node){if(node.nextElementSibling!=undefined)return(node).nextElementSibling;return goog.dom.getNextElementNode_(node.nextSibling,true)};
goog.dom.getPreviousElementSibling=function(node){if(node.previousElementSibling!=undefined)return(node).previousElementSibling;return goog.dom.getNextElementNode_(node.previousSibling,false)};goog.dom.getNextElementNode_=function(node,forward){while(node&&node.nodeType!=goog.dom.NodeType.ELEMENT)node=forward?node.nextSibling:node.previousSibling;return(node)};
goog.dom.getNextNode=function(node){if(!node)return null;if(node.firstChild)return node.firstChild;while(node&&!node.nextSibling)node=node.parentNode;return node?node.nextSibling:null};goog.dom.getPreviousNode=function(node){if(!node)return null;if(!node.previousSibling)return node.parentNode;node=node.previousSibling;while(node&&node.lastChild)node=node.lastChild;return node};goog.dom.isNodeLike=function(obj){return goog.isObject(obj)&&obj.nodeType>0};
goog.dom.isElement=function(obj){return goog.isObject(obj)&&obj.nodeType==goog.dom.NodeType.ELEMENT};goog.dom.isWindow=function(obj){return goog.isObject(obj)&&obj["window"]==obj};
goog.dom.getParentElement=function(element){if(goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY){var isIe9=goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10"));if(!(isIe9&&(goog.global["SVGElement"]&&element instanceof goog.global["SVGElement"])))return element.parentElement}var parent=element.parentNode;return goog.dom.isElement(parent)?(parent):null};
goog.dom.contains=function(parent,descendant){if(parent.contains&&descendant.nodeType==goog.dom.NodeType.ELEMENT)return parent==descendant||parent.contains(descendant);if(typeof parent.compareDocumentPosition!="undefined")return parent==descendant||Boolean(parent.compareDocumentPosition(descendant)&16);while(descendant&&parent!=descendant)descendant=descendant.parentNode;return descendant==parent};
goog.dom.compareNodeOrder=function(node1,node2){if(node1==node2)return 0;if(node1.compareDocumentPosition)return node1.compareDocumentPosition(node2)&2?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(node1.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(node2.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in node1||node1.parentNode&&"sourceIndex"in node1.parentNode){var isElement1=node1.nodeType==goog.dom.NodeType.ELEMENT;var isElement2=node2.nodeType==goog.dom.NodeType.ELEMENT;
if(isElement1&&isElement2)return node1.sourceIndex-node2.sourceIndex;else{var parent1=node1.parentNode;var parent2=node2.parentNode;if(parent1==parent2)return goog.dom.compareSiblingOrder_(node1,node2);if(!isElement1&&goog.dom.contains(parent1,node2))return-1*goog.dom.compareParentsDescendantNodeIe_(node1,node2);if(!isElement2&&goog.dom.contains(parent2,node1))return goog.dom.compareParentsDescendantNodeIe_(node2,node1);return(isElement1?node1.sourceIndex:parent1.sourceIndex)-(isElement2?node2.sourceIndex:
parent2.sourceIndex)}}var doc=goog.dom.getOwnerDocument(node1);var range1,range2;range1=doc.createRange();range1.selectNode(node1);range1.collapse(true);range2=doc.createRange();range2.selectNode(node2);range2.collapse(true);return range1.compareBoundaryPoints(goog.global["Range"].START_TO_END,range2)};
goog.dom.compareParentsDescendantNodeIe_=function(textNode,node){var parent=textNode.parentNode;if(parent==node)return-1;var sibling=node;while(sibling.parentNode!=parent)sibling=sibling.parentNode;return goog.dom.compareSiblingOrder_(sibling,textNode)};goog.dom.compareSiblingOrder_=function(node1,node2){var s=node2;while(s=s.previousSibling)if(s==node1)return-1;return 1};
goog.dom.findCommonAncestor=function(var_args){var i,count=arguments.length;if(!count)return null;else if(count==1)return arguments[0];var paths=[];var minLength=Infinity;for(i=0;i<count;i++){var ancestors=[];var node=arguments[i];while(node){ancestors.unshift(node);node=node.parentNode}paths.push(ancestors);minLength=Math.min(minLength,ancestors.length)}var output=null;for(i=0;i<minLength;i++){var first=paths[0][i];for(var j=1;j<count;j++)if(first!=paths[j][i])return output;output=first}return output};
goog.dom.getOwnerDocument=function(node){return(node.nodeType==goog.dom.NodeType.DOCUMENT?node:node.ownerDocument||node.document)};goog.dom.getFrameContentDocument=function(frame){var doc=frame.contentDocument||frame.contentWindow.document;return doc};goog.dom.getFrameContentWindow=function(frame){return frame.contentWindow||goog.dom.getWindow(goog.dom.getFrameContentDocument(frame))};
goog.dom.setTextContent=function(node,text){goog.asserts.assert(node!=null,"goog.dom.setTextContent expects a non-null value for node");if("textContent"in node)node.textContent=text;else if(node.nodeType==goog.dom.NodeType.TEXT)node.data=text;else if(node.firstChild&&node.firstChild.nodeType==goog.dom.NodeType.TEXT){while(node.lastChild!=node.firstChild)node.removeChild(node.lastChild);node.firstChild.data=text}else{goog.dom.removeChildren(node);var doc=goog.dom.getOwnerDocument(node);node.appendChild(doc.createTextNode(String(text)))}};
goog.dom.getOuterHtml=function(element){if("outerHTML"in element)return element.outerHTML;else{var doc=goog.dom.getOwnerDocument(element);var div=doc.createElement("div");div.appendChild(element.cloneNode(true));return div.innerHTML}};goog.dom.findNode=function(root,p){var rv=[];var found=goog.dom.findNodes_(root,p,rv,true);return found?rv[0]:undefined};goog.dom.findNodes=function(root,p){var rv=[];goog.dom.findNodes_(root,p,rv,false);return rv};
goog.dom.findNodes_=function(root,p,rv,findOne){if(root!=null){var child=root.firstChild;while(child){if(p(child)){rv.push(child);if(findOne)return true}if(goog.dom.findNodes_(child,p,rv,findOne))return true;child=child.nextSibling}}return false};goog.dom.TAGS_TO_IGNORE_={"SCRIPT":1,"STYLE":1,"HEAD":1,"IFRAME":1,"OBJECT":1};goog.dom.PREDEFINED_TAG_VALUES_={"IMG":" ","BR":"\n"};goog.dom.isFocusableTabIndex=function(element){return goog.dom.hasSpecifiedTabIndex_(element)&&goog.dom.isTabIndexFocusable_(element)};
goog.dom.setFocusableTabIndex=function(element,enable){if(enable)element.tabIndex=0;else{element.tabIndex=-1;element.removeAttribute("tabIndex")}};goog.dom.isFocusable=function(element){var focusable;if(goog.dom.nativelySupportsFocus_(element))focusable=!element.disabled&&(!goog.dom.hasSpecifiedTabIndex_(element)||goog.dom.isTabIndexFocusable_(element));else focusable=goog.dom.isFocusableTabIndex(element);return focusable&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(element):focusable};
goog.dom.hasSpecifiedTabIndex_=function(element){var attrNode=element.getAttributeNode("tabindex");return goog.isDefAndNotNull(attrNode)&&attrNode.specified};goog.dom.isTabIndexFocusable_=function(element){var index=element.tabIndex;return goog.isNumber(index)&&(index>=0&&index<32768)};
goog.dom.nativelySupportsFocus_=function(element){return element.tagName==goog.dom.TagName.A||(element.tagName==goog.dom.TagName.INPUT||(element.tagName==goog.dom.TagName.TEXTAREA||(element.tagName==goog.dom.TagName.SELECT||element.tagName==goog.dom.TagName.BUTTON)))};
goog.dom.hasNonZeroBoundingRect_=function(element){var rect=goog.isFunction(element["getBoundingClientRect"])?element.getBoundingClientRect():{"height":element.offsetHeight,"width":element.offsetWidth};return goog.isDefAndNotNull(rect)&&(rect.height>0&&rect.width>0)};
goog.dom.getTextContent=function(node){var textContent;if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in node)textContent=goog.string.canonicalizeNewlines(node.innerText);else{var buf=[];goog.dom.getTextContent_(node,buf,true);textContent=buf.join("")}textContent=textContent.replace(/ \xAD /g," ").replace(/\xAD/g,"");textContent=textContent.replace(/\u200B/g,"");if(!goog.dom.BrowserFeature.CAN_USE_INNER_TEXT)textContent=textContent.replace(/ +/g," ");if(textContent!=" ")textContent=textContent.replace(/^\s*/,
"");return textContent};goog.dom.getRawTextContent=function(node){var buf=[];goog.dom.getTextContent_(node,buf,false);return buf.join("")};
goog.dom.getTextContent_=function(node,buf,normalizeWhitespace){if(node.nodeName in goog.dom.TAGS_TO_IGNORE_);else if(node.nodeType==goog.dom.NodeType.TEXT)if(normalizeWhitespace)buf.push(String(node.nodeValue).replace(/(\r\n|\r|\n)/g,""));else buf.push(node.nodeValue);else if(node.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)buf.push(goog.dom.PREDEFINED_TAG_VALUES_[node.nodeName]);else{var child=node.firstChild;while(child){goog.dom.getTextContent_(child,buf,normalizeWhitespace);child=child.nextSibling}}};
goog.dom.getNodeTextLength=function(node){return goog.dom.getTextContent(node).length};goog.dom.getNodeTextOffset=function(node,opt_offsetParent){var root=opt_offsetParent||goog.dom.getOwnerDocument(node).body;var buf=[];while(node&&node!=root){var cur=node;while(cur=cur.previousSibling)buf.unshift(goog.dom.getTextContent(cur));node=node.parentNode}return goog.string.trimLeft(buf.join("")).replace(/ +/g," ").length};
goog.dom.getNodeAtOffset=function(parent,offset,opt_result){var stack=[parent],pos=0,cur=null;while(stack.length>0&&pos<offset){cur=stack.pop();if(cur.nodeName in goog.dom.TAGS_TO_IGNORE_);else if(cur.nodeType==goog.dom.NodeType.TEXT){var text=cur.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");pos+=text.length}else if(cur.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)pos+=goog.dom.PREDEFINED_TAG_VALUES_[cur.nodeName].length;else for(var i=cur.childNodes.length-1;i>=0;i--)stack.push(cur.childNodes[i])}if(goog.isObject(opt_result)){opt_result.remainder=
cur?cur.nodeValue.length+offset-pos-1:0;opt_result.node=cur}return cur};goog.dom.isNodeList=function(val){if(val&&typeof val.length=="number")if(goog.isObject(val))return typeof val.item=="function"||typeof val.item=="string";else if(goog.isFunction(val))return typeof val.item=="function";return false};
goog.dom.getAncestorByTagNameAndClass=function(element,opt_tag,opt_class){if(!opt_tag&&!opt_class)return null;var tagName=opt_tag?opt_tag.toUpperCase():null;return(goog.dom.getAncestor(element,function(node){return(!tagName||node.nodeName==tagName)&&(!opt_class||goog.dom.classes.has(node,opt_class))},true))};goog.dom.getAncestorByClass=function(element,className){return goog.dom.getAncestorByTagNameAndClass(element,null,className)};
goog.dom.getAncestor=function(element,matcher,opt_includeNode,opt_maxSearchSteps){if(!opt_includeNode)element=element.parentNode;var ignoreSearchSteps=opt_maxSearchSteps==null;var steps=0;while(element&&(ignoreSearchSteps||steps<=opt_maxSearchSteps)){if(matcher(element))return element;element=element.parentNode;steps++}return null};goog.dom.getActiveElement=function(doc){try{return doc&&doc.activeElement}catch(e){}return null};goog.dom.devicePixelRatio_;
goog.dom.getPixelRatio=goog.functions.cacheReturnValue(function(){var win=goog.dom.getWindow();var isFirefoxMobile=goog.userAgent.GECKO&&goog.userAgent.MOBILE;if(goog.isDef(win.devicePixelRatio)&&!isFirefoxMobile)return win.devicePixelRatio;else if(win.matchMedia)return goog.dom.matchesPixelRatio_(0.75)||(goog.dom.matchesPixelRatio_(1.5)||(goog.dom.matchesPixelRatio_(2)||(goog.dom.matchesPixelRatio_(3)||1)));return 1});
goog.dom.matchesPixelRatio_=function(pixelRatio){var win=goog.dom.getWindow();var query="(-webkit-min-device-pixel-ratio: "+pixelRatio+"),"+"(min--moz-device-pixel-ratio: "+pixelRatio+"),"+"(min-resolution: "+pixelRatio+"dppx)";return win.matchMedia(query).matches?pixelRatio:0};goog.dom.DomHelper=function(opt_document){this.document_=opt_document||(goog.global.document||document)};goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper;
goog.dom.DomHelper.prototype.setDocument=function(document){this.document_=document};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.getElement=function(element){return goog.dom.getElementHelper_(this.document_,element)};goog.dom.DomHelper.prototype.getRequiredElement=function(id){return goog.dom.getRequiredElementHelper_(this.document_,id)};goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement;
goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(opt_tag,opt_class,opt_el){return goog.dom.getElementsByTagNameAndClass_(this.document_,opt_tag,opt_class,opt_el)};goog.dom.DomHelper.prototype.getElementsByClass=function(className,opt_el){var doc=opt_el||this.document_;return goog.dom.getElementsByClass(className,doc)};goog.dom.DomHelper.prototype.getElementByClass=function(className,opt_el){var doc=opt_el||this.document_;return goog.dom.getElementByClass(className,doc)};
goog.dom.DomHelper.prototype.getRequiredElementByClass=function(className,opt_root){var root=opt_root||this.document_;return goog.dom.getRequiredElementByClass(className,root)};goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties;goog.dom.DomHelper.prototype.getViewportSize=function(opt_window){return goog.dom.getViewportSize(opt_window||this.getWindow())};
goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())};goog.dom.Appendable;goog.dom.DomHelper.prototype.createDom=function(tagName,opt_attributes,var_args){return goog.dom.createDom_(this.document_,arguments)};goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom;goog.dom.DomHelper.prototype.createElement=function(name){return this.document_.createElement(name)};goog.dom.DomHelper.prototype.createTextNode=function(content){return this.document_.createTextNode(String(content))};
goog.dom.DomHelper.prototype.createTable=function(rows,columns,opt_fillWithNbsp){return goog.dom.createTable_(this.document_,rows,columns,!!opt_fillWithNbsp)};goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(htmlString){return goog.dom.htmlToDocumentFragment_(this.document_,htmlString)};goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)};goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)};
goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)};goog.dom.DomHelper.prototype.getActiveElement=function(opt_doc){return goog.dom.getActiveElement(opt_doc||this.document_)};goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild;goog.dom.DomHelper.prototype.append=goog.dom.append;
goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren;goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren;goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore;goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter;goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt;goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode;goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode;
goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement;goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren;goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild;goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild;goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling;goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling;
goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode;goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode;goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike;goog.dom.DomHelper.prototype.isElement=goog.dom.isElement;goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow;goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement;goog.dom.DomHelper.prototype.contains=goog.dom.contains;goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder;
goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor;goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument;goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument;goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow;goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent;goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml;goog.dom.DomHelper.prototype.findNode=goog.dom.findNode;
goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes;goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex;goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex;goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable;goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent;goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength;goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset;
goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset;goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList;goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass;goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass;goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor;goog.provide("goog.structs");goog.require("goog.array");goog.require("goog.object");goog.structs.getCount=function(col){if(typeof col.getCount=="function")return col.getCount();if(goog.isArrayLike(col)||goog.isString(col))return col.length;return goog.object.getCount(col)};
goog.structs.getValues=function(col){if(typeof col.getValues=="function")return col.getValues();if(goog.isString(col))return col.split("");if(goog.isArrayLike(col)){var rv=[];var l=col.length;for(var i=0;i<l;i++)rv.push(col[i]);return rv}return goog.object.getValues(col)};
goog.structs.getKeys=function(col){if(typeof col.getKeys=="function")return col.getKeys();if(typeof col.getValues=="function")return undefined;if(goog.isArrayLike(col)||goog.isString(col)){var rv=[];var l=col.length;for(var i=0;i<l;i++)rv.push(i);return rv}return goog.object.getKeys(col)};
goog.structs.contains=function(col,val){if(typeof col.contains=="function")return col.contains(val);if(typeof col.containsValue=="function")return col.containsValue(val);if(goog.isArrayLike(col)||goog.isString(col))return goog.array.contains((col),val);return goog.object.containsValue(col,val)};goog.structs.isEmpty=function(col){if(typeof col.isEmpty=="function")return col.isEmpty();if(goog.isArrayLike(col)||goog.isString(col))return goog.array.isEmpty((col));return goog.object.isEmpty(col)};
goog.structs.clear=function(col){if(typeof col.clear=="function")col.clear();else if(goog.isArrayLike(col))goog.array.clear((col));else goog.object.clear(col)};
goog.structs.forEach=function(col,f,opt_obj){if(typeof col.forEach=="function")col.forEach(f,opt_obj);else if(goog.isArrayLike(col)||goog.isString(col))goog.array.forEach((col),f,opt_obj);else{var keys=goog.structs.getKeys(col);var values=goog.structs.getValues(col);var l=values.length;for(var i=0;i<l;i++)f.call(opt_obj,values[i],keys&&keys[i],col)}};
goog.structs.filter=function(col,f,opt_obj){if(typeof col.filter=="function")return col.filter(f,opt_obj);if(goog.isArrayLike(col)||goog.isString(col))return goog.array.filter((col),f,opt_obj);var rv;var keys=goog.structs.getKeys(col);var values=goog.structs.getValues(col);var l=values.length;if(keys){rv={};for(var i=0;i<l;i++)if(f.call(opt_obj,values[i],keys[i],col))rv[keys[i]]=values[i]}else{rv=[];for(var i=0;i<l;i++)if(f.call(opt_obj,values[i],undefined,col))rv.push(values[i])}return rv};
goog.structs.map=function(col,f,opt_obj){if(typeof col.map=="function")return col.map(f,opt_obj);if(goog.isArrayLike(col)||goog.isString(col))return goog.array.map((col),f,opt_obj);var rv;var keys=goog.structs.getKeys(col);var values=goog.structs.getValues(col);var l=values.length;if(keys){rv={};for(var i=0;i<l;i++)rv[keys[i]]=f.call(opt_obj,values[i],keys[i],col)}else{rv=[];for(var i=0;i<l;i++)rv[i]=f.call(opt_obj,values[i],undefined,col)}return rv};
goog.structs.some=function(col,f,opt_obj){if(typeof col.some=="function")return col.some(f,opt_obj);if(goog.isArrayLike(col)||goog.isString(col))return goog.array.some((col),f,opt_obj);var keys=goog.structs.getKeys(col);var values=goog.structs.getValues(col);var l=values.length;for(var i=0;i<l;i++)if(f.call(opt_obj,values[i],keys&&keys[i],col))return true;return false};
goog.structs.every=function(col,f,opt_obj){if(typeof col.every=="function")return col.every(f,opt_obj);if(goog.isArrayLike(col)||goog.isString(col))return goog.array.every((col),f,opt_obj);var keys=goog.structs.getKeys(col);var values=goog.structs.getValues(col);var l=values.length;for(var i=0;i<l;i++)if(!f.call(opt_obj,values[i],keys&&keys[i],col))return false;return true};goog.provide("goog.iter");goog.provide("goog.iter.Iterable");goog.provide("goog.iter.Iterator");goog.provide("goog.iter.StopIteration");goog.require("goog.array");goog.require("goog.asserts");goog.require("goog.functions");goog.require("goog.math");goog.iter.Iterable;if("StopIteration"in goog.global)goog.iter.StopIteration=goog.global["StopIteration"];else goog.iter.StopIteration=Error("StopIteration");goog.iter.Iterator=function(){};
goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration;};goog.iter.Iterator.prototype.__iterator__=function(opt_keys){return this};
goog.iter.toIterator=function(iterable){if(iterable instanceof goog.iter.Iterator)return iterable;if(typeof iterable.__iterator__=="function")return iterable.__iterator__(false);if(goog.isArrayLike(iterable)){var i=0;var newIter=new goog.iter.Iterator;newIter.next=function(){while(true){if(i>=iterable.length)throw goog.iter.StopIteration;if(!(i in iterable)){i++;continue}return iterable[i++]}};return newIter}throw Error("Not implemented");};
goog.iter.forEach=function(iterable,f,opt_obj){if(goog.isArrayLike(iterable))try{goog.array.forEach((iterable),f,opt_obj)}catch(ex){if(ex!==goog.iter.StopIteration)throw ex;}else{iterable=goog.iter.toIterator(iterable);try{while(true)f.call(opt_obj,iterable.next(),undefined,iterable)}catch(ex){if(ex!==goog.iter.StopIteration)throw ex;}}};
goog.iter.filter=function(iterable,f,opt_obj){var iterator=goog.iter.toIterator(iterable);var newIter=new goog.iter.Iterator;newIter.next=function(){while(true){var val=iterator.next();if(f.call(opt_obj,val,undefined,iterator))return val}};return newIter};
goog.iter.range=function(startOrStop,opt_stop,opt_step){var start=0;var stop=startOrStop;var step=opt_step||1;if(arguments.length>1){start=startOrStop;stop=opt_stop}if(step==0)throw Error("Range step argument must not be zero");var newIter=new goog.iter.Iterator;newIter.next=function(){if(step>0&&start>=stop||step<0&&start<=stop)throw goog.iter.StopIteration;var rv=start;start+=step;return rv};return newIter};goog.iter.join=function(iterable,deliminator){return goog.iter.toArray(iterable).join(deliminator)};
goog.iter.map=function(iterable,f,opt_obj){var iterator=goog.iter.toIterator(iterable);var newIter=new goog.iter.Iterator;newIter.next=function(){var val=iterator.next();return f.call(opt_obj,val,undefined,iterator)};return newIter};goog.iter.reduce=function(iterable,f,val,opt_obj){var rval=val;goog.iter.forEach(iterable,function(val){rval=f.call(opt_obj,rval,val)});return rval};
goog.iter.some=function(iterable,f,opt_obj){iterable=goog.iter.toIterator(iterable);try{while(true)if(f.call(opt_obj,iterable.next(),undefined,iterable))return true}catch(ex){if(ex!==goog.iter.StopIteration)throw ex;}return false};goog.iter.every=function(iterable,f,opt_obj){iterable=goog.iter.toIterator(iterable);try{while(true)if(!f.call(opt_obj,iterable.next(),undefined,iterable))return false}catch(ex){if(ex!==goog.iter.StopIteration)throw ex;}return true};
goog.iter.chain=function(var_args){var iterator=goog.iter.toIterator(arguments);var iter=new goog.iter.Iterator;var current=null;iter.next=function(){while(true){if(current==null){var it=iterator.next();current=goog.iter.toIterator(it)}try{return current.next()}catch(ex){if(ex!==goog.iter.StopIteration)throw ex;current=null}}};return iter};goog.iter.chainFromIterable=function(iterable){return goog.iter.chain.apply(undefined,iterable)};
goog.iter.dropWhile=function(iterable,f,opt_obj){var iterator=goog.iter.toIterator(iterable);var newIter=new goog.iter.Iterator;var dropping=true;newIter.next=function(){while(true){var val=iterator.next();if(dropping&&f.call(opt_obj,val,undefined,iterator))continue;else dropping=false;return val}};return newIter};
goog.iter.takeWhile=function(iterable,f,opt_obj){var iterator=goog.iter.toIterator(iterable);var newIter=new goog.iter.Iterator;var taking=true;newIter.next=function(){while(true)if(taking){var val=iterator.next();if(f.call(opt_obj,val,undefined,iterator))return val;else taking=false}else throw goog.iter.StopIteration;};return newIter};
goog.iter.toArray=function(iterable){if(goog.isArrayLike(iterable))return goog.array.toArray((iterable));iterable=goog.iter.toIterator(iterable);var array=[];goog.iter.forEach(iterable,function(val){array.push(val)});return array};goog.iter.equals=function(iterable1,iterable2){var fillValue={};var pairs=goog.iter.zipLongest(fillValue,iterable1,iterable2);return goog.iter.every(pairs,function(pair){return pair[0]==pair[1]})};
goog.iter.nextOrValue=function(iterable,defaultValue){try{return goog.iter.toIterator(iterable).next()}catch(e){if(e!=goog.iter.StopIteration)throw e;return defaultValue}};
goog.iter.product=function(var_args){var someArrayEmpty=goog.array.some(arguments,function(arr){return!arr.length});if(someArrayEmpty||!arguments.length)return new goog.iter.Iterator;var iter=new goog.iter.Iterator;var arrays=arguments;var indicies=goog.array.repeat(0,arrays.length);iter.next=function(){if(indicies){var retVal=goog.array.map(indicies,function(valueIndex,arrayIndex){return arrays[arrayIndex][valueIndex]});for(var i=indicies.length-1;i>=0;i--){goog.asserts.assert(indicies);if(indicies[i]<
arrays[i].length-1){indicies[i]++;break}if(i==0){indicies=null;break}indicies[i]=0}return retVal}throw goog.iter.StopIteration;};return iter};
goog.iter.cycle=function(iterable){var baseIterator=goog.iter.toIterator(iterable);var cache=[];var cacheIndex=0;var iter=new goog.iter.Iterator;var useCache=false;iter.next=function(){var returnElement=null;if(!useCache)try{returnElement=baseIterator.next();cache.push(returnElement);return returnElement}catch(e){if(e!=goog.iter.StopIteration||goog.array.isEmpty(cache))throw e;useCache=true}returnElement=cache[cacheIndex];cacheIndex=(cacheIndex+1)%cache.length;return returnElement};return iter};
goog.iter.count=function(opt_start,opt_step){var counter=opt_start||0;var step=goog.isDef(opt_step)?opt_step:1;var iter=new goog.iter.Iterator;iter.next=function(){var returnValue=counter;counter+=step;return returnValue};return iter};goog.iter.repeat=function(value){var iter=new goog.iter.Iterator;iter.next=goog.functions.constant(value);return iter};
goog.iter.accumulate=function(iterable){var iterator=goog.iter.toIterator(iterable);var total=0;var iter=new goog.iter.Iterator;iter.next=function(){total+=iterator.next();return total};return iter};goog.iter.zip=function(var_args){var args=arguments;var iter=new goog.iter.Iterator;if(args.length>0){var iterators=goog.array.map(args,goog.iter.toIterator);iter.next=function(){var arr=goog.array.map(iterators,function(it){return it.next()});return arr}}return iter};
goog.iter.zipLongest=function(fillValue,var_args){var args=goog.array.slice(arguments,1);var iter=new goog.iter.Iterator;if(args.length>0){var iterators=goog.array.map(args,goog.iter.toIterator);iter.next=function(){var iteratorsHaveValues=false;var arr=goog.array.map(iterators,function(it){var returnValue;try{returnValue=it.next();iteratorsHaveValues=true}catch(ex){if(ex!==goog.iter.StopIteration)throw ex;returnValue=fillValue}return returnValue});if(!iteratorsHaveValues)throw goog.iter.StopIteration;
return arr}}return iter};goog.iter.compress=function(iterable,selectors){var selectorIterator=goog.iter.toIterator(selectors);return goog.iter.filter(iterable,function(){return!!selectorIterator.next()})};goog.iter.GroupByIterator_=function(iterable,opt_keyFunc){this.iterator=goog.iter.toIterator(iterable);this.keyFunc=opt_keyFunc||goog.functions.identity;this.targetKey;this.currentKey;this.currentValue};goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator);
goog.iter.GroupByIterator_.prototype.next=function(){while(this.currentKey==this.targetKey){this.currentValue=this.iterator.next();this.currentKey=this.keyFunc(this.currentValue)}this.targetKey=this.currentKey;return[this.currentKey,this.groupItems_(this.targetKey)]};
goog.iter.GroupByIterator_.prototype.groupItems_=function(targetKey){var arr=[];while(this.currentKey==targetKey){arr.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(ex){if(ex!==goog.iter.StopIteration)throw ex;break}this.currentKey=this.keyFunc(this.currentValue)}return arr};goog.iter.groupBy=function(iterable,opt_keyFunc){return new goog.iter.GroupByIterator_(iterable,opt_keyFunc)};
goog.iter.tee=function(iterable,opt_num){var iterator=goog.iter.toIterator(iterable);var num=goog.isNumber(opt_num)?opt_num:2;var buffers=goog.array.map(goog.array.range(num),function(){return[]});var addNextIteratorValueToBuffers=function(){var val=iterator.next();goog.array.forEach(buffers,function(buffer){buffer.push(val)})};var createIterator=function(buffer){var iter=new goog.iter.Iterator;iter.next=function(){if(goog.array.isEmpty(buffer))addNextIteratorValueToBuffers();goog.asserts.assert(!goog.array.isEmpty(buffer));
return buffer.shift()};return iter};return goog.array.map(buffers,createIterator)};goog.iter.enumerate=function(iterable,opt_start){return goog.iter.zip(goog.iter.count(opt_start),iterable)};goog.iter.limit=function(iterable,limitSize){goog.asserts.assert(goog.math.isInt(limitSize)&&limitSize>=0);var iterator=goog.iter.toIterator(iterable);var iter=new goog.iter.Iterator;var remaining=limitSize;iter.next=function(){if(remaining-- >0)return iterator.next();throw goog.iter.StopIteration;};return iter};
goog.iter.consume=function(iterable,count){goog.asserts.assert(goog.math.isInt(count)&&count>=0);var iterator=goog.iter.toIterator(iterable);while(count-- >0)goog.iter.nextOrValue(iterator,null);return iterator};goog.iter.slice=function(iterable,start,opt_end){goog.asserts.assert(goog.math.isInt(start)&&start>=0);var iterator=goog.iter.consume(iterable,start);if(goog.isNumber(opt_end)){goog.asserts.assert(goog.math.isInt((opt_end))&&opt_end>=start);iterator=goog.iter.limit(iterator,opt_end-start)}return iterator};
goog.iter.hasDuplicates_=function(arr){var deduped=[];goog.array.removeDuplicates(arr,deduped);return arr.length!=deduped.length};goog.iter.permutations=function(iterable,opt_length){var elements=goog.iter.toArray(iterable);var length=goog.isNumber(opt_length)?opt_length:elements.length;var sets=goog.array.repeat(elements,length);var product=goog.iter.product.apply(undefined,sets);return goog.iter.filter(product,function(arr){return!goog.iter.hasDuplicates_(arr)})};
goog.iter.combinations=function(iterable,length){var elements=goog.iter.toArray(iterable);var indexes=goog.iter.range(elements.length);var indexIterator=goog.iter.permutations(indexes,length);var sortedIndexIterator=goog.iter.filter(indexIterator,function(arr){return goog.array.isSorted(arr)});var iter=new goog.iter.Iterator;function getIndexFromElements(index){return elements[index]}iter.next=function(){return goog.array.map((sortedIndexIterator.next()),getIndexFromElements)};return iter};
goog.iter.combinationsWithReplacement=function(iterable,length){var elements=goog.iter.toArray(iterable);var indexes=goog.array.range(elements.length);var sets=goog.array.repeat(indexes,length);var indexIterator=goog.iter.product.apply(undefined,sets);var sortedIndexIterator=goog.iter.filter(indexIterator,function(arr){return goog.array.isSorted(arr)});var iter=new goog.iter.Iterator;function getIndexFromElements(index){return elements[index]}iter.next=function(){return goog.array.map((sortedIndexIterator.next()),
getIndexFromElements)};return iter};goog.provide("goog.structs.Map");goog.require("goog.iter.Iterator");goog.require("goog.iter.StopIteration");goog.require("goog.object");goog.structs.Map=function(opt_map,var_args){this.map_={};this.keys_=[];this.count_=0;this.version_=0;var argLength=arguments.length;if(argLength>1){if(argLength%2)throw Error("Uneven number of arguments");for(var i=0;i<argLength;i+=2)this.set(arguments[i],arguments[i+1])}else if(opt_map)this.addAll((opt_map))};goog.structs.Map.prototype.getCount=function(){return this.count_};
goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();var rv=[];for(var i=0;i<this.keys_.length;i++){var key=this.keys_[i];rv.push(this.map_[key])}return rv};goog.structs.Map.prototype.getKeys=function(){this.cleanupKeysArray_();return(this.keys_.concat())};goog.structs.Map.prototype.containsKey=function(key){return goog.structs.Map.hasKey_(this.map_,key)};
goog.structs.Map.prototype.containsValue=function(val){for(var i=0;i<this.keys_.length;i++){var key=this.keys_[i];if(goog.structs.Map.hasKey_(this.map_,key)&&this.map_[key]==val)return true}return false};
goog.structs.Map.prototype.equals=function(otherMap,opt_equalityFn){if(this===otherMap)return true;if(this.count_!=otherMap.getCount())return false;var equalityFn=opt_equalityFn||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var key,i=0;key=this.keys_[i];i++)if(!equalityFn(this.get(key),otherMap.get(key)))return false;return true};goog.structs.Map.defaultEquals=function(a,b){return a===b};goog.structs.Map.prototype.isEmpty=function(){return this.count_==0};
goog.structs.Map.prototype.clear=function(){this.map_={};this.keys_.length=0;this.count_=0;this.version_=0};goog.structs.Map.prototype.remove=function(key){if(goog.structs.Map.hasKey_(this.map_,key)){delete this.map_[key];this.count_--;this.version_++;if(this.keys_.length>2*this.count_)this.cleanupKeysArray_();return true}return false};
goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){var srcIndex=0;var destIndex=0;while(srcIndex<this.keys_.length){var key=this.keys_[srcIndex];if(goog.structs.Map.hasKey_(this.map_,key))this.keys_[destIndex++]=key;srcIndex++}this.keys_.length=destIndex}if(this.count_!=this.keys_.length){var seen={};var srcIndex=0;var destIndex=0;while(srcIndex<this.keys_.length){var key=this.keys_[srcIndex];if(!goog.structs.Map.hasKey_(seen,key)){this.keys_[destIndex++]=key;
seen[key]=1}srcIndex++}this.keys_.length=destIndex}};goog.structs.Map.prototype.get=function(key,opt_val){if(goog.structs.Map.hasKey_(this.map_,key))return this.map_[key];return opt_val};goog.structs.Map.prototype.set=function(key,value){if(!goog.structs.Map.hasKey_(this.map_,key)){this.count_++;this.keys_.push(key);this.version_++}this.map_[key]=value};
goog.structs.Map.prototype.addAll=function(map){var keys,values;if(map instanceof goog.structs.Map){keys=map.getKeys();values=map.getValues()}else{keys=goog.object.getKeys(map);values=goog.object.getValues(map)}for(var i=0;i<keys.length;i++)this.set(keys[i],values[i])};goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)};
goog.structs.Map.prototype.transpose=function(){var transposed=new goog.structs.Map;for(var i=0;i<this.keys_.length;i++){var key=this.keys_[i];var value=this.map_[key];transposed.set(value,key)}return transposed};goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();var obj={};for(var i=0;i<this.keys_.length;i++){var key=this.keys_[i];obj[key]=this.map_[key]}return obj};goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(true)};
goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(false)};
goog.structs.Map.prototype.__iterator__=function(opt_keys){this.cleanupKeysArray_();var i=0;var keys=this.keys_;var map=this.map_;var version=this.version_;var selfObj=this;var newIter=new goog.iter.Iterator;newIter.next=function(){while(true){if(version!=selfObj.version_)throw Error("The map has changed since the iterator was created");if(i>=keys.length)throw goog.iter.StopIteration;var key=keys[i++];return opt_keys?key:map[key]}};return newIter};
goog.structs.Map.hasKey_=function(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)};goog.provide("goog.uri.utils");goog.provide("goog.uri.utils.ComponentIndex");goog.provide("goog.uri.utils.QueryArray");goog.provide("goog.uri.utils.QueryValue");goog.provide("goog.uri.utils.StandardQueryParam");goog.require("goog.asserts");goog.require("goog.string");goog.require("goog.userAgent");goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63};
goog.uri.utils.buildFromEncodedParts=function(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment){var out="";if(opt_scheme)out+=opt_scheme+":";if(opt_domain){out+="//";if(opt_userInfo)out+=opt_userInfo+"@";out+=opt_domain;if(opt_port)out+=":"+opt_port}if(opt_path)out+=opt_path;if(opt_queryData)out+="?"+opt_queryData;if(opt_fragment)out+="#"+opt_fragment;return out};
goog.uri.utils.splitRe_=new RegExp("^"+"(?:"+"([^:/?#.]+)"+":)?"+"(?://"+"(?:([^/?#]*)@)?"+"([^/#?]*?)"+"(?::([0-9]+))?"+"(?\x3d[/#?]|$)"+")?"+"([^?#]+)?"+"(?:\\?([^#]*))?"+"(?:#(.*))?"+"$");goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};goog.uri.utils.split=function(uri){goog.uri.utils.phishingProtection_();return(uri.match(goog.uri.utils.splitRe_))};goog.uri.utils.needsPhishingProtection_=goog.userAgent.WEBKIT;
goog.uri.utils.phishingProtection_=function(){if(goog.uri.utils.needsPhishingProtection_){goog.uri.utils.needsPhishingProtection_=false;var location=goog.global["location"];if(location){var href=location["href"];if(href){var domain=goog.uri.utils.getDomain(href);if(domain&&domain!=location["hostname"]){goog.uri.utils.needsPhishingProtection_=true;throw Error();}}}}};goog.uri.utils.decodeIfPossible_=function(uri){return uri&&decodeURIComponent(uri)};
goog.uri.utils.getComponentByIndex_=function(componentIndex,uri){return goog.uri.utils.split(uri)[componentIndex]||null};goog.uri.utils.getScheme=function(uri){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,uri)};goog.uri.utils.getEffectiveScheme=function(uri){var scheme=goog.uri.utils.getScheme(uri);if(!scheme&&self.location){var protocol=self.location.protocol;scheme=protocol.substr(0,protocol.length-1)}return scheme?scheme.toLowerCase():""};
goog.uri.utils.getUserInfoEncoded=function(uri){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,uri)};goog.uri.utils.getUserInfo=function(uri){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(uri))};goog.uri.utils.getDomainEncoded=function(uri){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,uri)};goog.uri.utils.getDomain=function(uri){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(uri))};
goog.uri.utils.getPort=function(uri){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,uri))||null};goog.uri.utils.getPathEncoded=function(uri){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,uri)};goog.uri.utils.getPath=function(uri){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(uri))};
goog.uri.utils.getQueryData=function(uri){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,uri)};goog.uri.utils.getFragmentEncoded=function(uri){var hashIndex=uri.indexOf("#");return hashIndex<0?null:uri.substr(hashIndex+1)};goog.uri.utils.setFragmentEncoded=function(uri,fragment){return goog.uri.utils.removeFragment(uri)+(fragment?"#"+fragment:"")};goog.uri.utils.getFragment=function(uri){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(uri))};
goog.uri.utils.getHost=function(uri){var pieces=goog.uri.utils.split(uri);return goog.uri.utils.buildFromEncodedParts(pieces[goog.uri.utils.ComponentIndex.SCHEME],pieces[goog.uri.utils.ComponentIndex.USER_INFO],pieces[goog.uri.utils.ComponentIndex.DOMAIN],pieces[goog.uri.utils.ComponentIndex.PORT])};
goog.uri.utils.getPathAndAfter=function(uri){var pieces=goog.uri.utils.split(uri);return goog.uri.utils.buildFromEncodedParts(null,null,null,null,pieces[goog.uri.utils.ComponentIndex.PATH],pieces[goog.uri.utils.ComponentIndex.QUERY_DATA],pieces[goog.uri.utils.ComponentIndex.FRAGMENT])};goog.uri.utils.removeFragment=function(uri){var hashIndex=uri.indexOf("#");return hashIndex<0?uri:uri.substr(0,hashIndex)};
goog.uri.utils.haveSameDomain=function(uri1,uri2){var pieces1=goog.uri.utils.split(uri1);var pieces2=goog.uri.utils.split(uri2);return pieces1[goog.uri.utils.ComponentIndex.DOMAIN]==pieces2[goog.uri.utils.ComponentIndex.DOMAIN]&&(pieces1[goog.uri.utils.ComponentIndex.SCHEME]==pieces2[goog.uri.utils.ComponentIndex.SCHEME]&&pieces1[goog.uri.utils.ComponentIndex.PORT]==pieces2[goog.uri.utils.ComponentIndex.PORT])};
goog.uri.utils.assertNoFragmentsOrQueries_=function(uri){if(goog.DEBUG&&(uri.indexOf("#")>=0||uri.indexOf("?")>=0))throw Error("goog.uri.utils: Fragment or query identifiers are not "+"supported: ["+uri+"]");};goog.uri.utils.QueryValue;goog.uri.utils.QueryArray;
goog.uri.utils.appendQueryData_=function(buffer){if(buffer[1]){var baseUri=(buffer[0]);var hashIndex=baseUri.indexOf("#");if(hashIndex>=0){buffer.push(baseUri.substr(hashIndex));buffer[0]=baseUri=baseUri.substr(0,hashIndex)}var questionIndex=baseUri.indexOf("?");if(questionIndex<0)buffer[1]="?";else if(questionIndex==baseUri.length-1)buffer[1]=undefined}return buffer.join("")};
goog.uri.utils.appendKeyValuePairs_=function(key,value,pairs){if(goog.isArray(value)){goog.asserts.assertArray(value);for(var j=0;j<value.length;j++)goog.uri.utils.appendKeyValuePairs_(key,String(value[j]),pairs)}else if(value!=null)pairs.push("\x26",key,value===""?"":"\x3d",goog.string.urlEncode(value))};
goog.uri.utils.buildQueryDataBuffer_=function(buffer,keysAndValues,opt_startIndex){goog.asserts.assert(Math.max(keysAndValues.length-(opt_startIndex||0),0)%2==0,"goog.uri.utils: Key/value lists must be even in length.");for(var i=opt_startIndex||0;i<keysAndValues.length;i+=2)goog.uri.utils.appendKeyValuePairs_(keysAndValues[i],keysAndValues[i+1],buffer);return buffer};
goog.uri.utils.buildQueryData=function(keysAndValues,opt_startIndex){var buffer=goog.uri.utils.buildQueryDataBuffer_([],keysAndValues,opt_startIndex);buffer[0]="";return buffer.join("")};goog.uri.utils.buildQueryDataBufferFromMap_=function(buffer,map){for(var key in map)goog.uri.utils.appendKeyValuePairs_(key,map[key],buffer);return buffer};goog.uri.utils.buildQueryDataFromMap=function(map){var buffer=goog.uri.utils.buildQueryDataBufferFromMap_([],map);buffer[0]="";return buffer.join("")};
goog.uri.utils.appendParams=function(uri,var_args){return goog.uri.utils.appendQueryData_(arguments.length==2?goog.uri.utils.buildQueryDataBuffer_([uri],arguments[1],0):goog.uri.utils.buildQueryDataBuffer_([uri],arguments,1))};goog.uri.utils.appendParamsFromMap=function(uri,map){return goog.uri.utils.appendQueryData_(goog.uri.utils.buildQueryDataBufferFromMap_([uri],map))};
goog.uri.utils.appendParam=function(uri,key,opt_value){var paramArr=[uri,"\x26",key];if(goog.isDefAndNotNull(opt_value))paramArr.push("\x3d",goog.string.urlEncode(opt_value));return goog.uri.utils.appendQueryData_(paramArr)};
goog.uri.utils.findParam_=function(uri,startIndex,keyEncoded,hashOrEndIndex){var index=startIndex;var keyLength=keyEncoded.length;while((index=uri.indexOf(keyEncoded,index))>=0&&index<hashOrEndIndex){var precedingChar=uri.charCodeAt(index-1);if(precedingChar==goog.uri.utils.CharCode_.AMPERSAND||precedingChar==goog.uri.utils.CharCode_.QUESTION){var followingChar=uri.charCodeAt(index+keyLength);if(!followingChar||(followingChar==goog.uri.utils.CharCode_.EQUAL||(followingChar==goog.uri.utils.CharCode_.AMPERSAND||
followingChar==goog.uri.utils.CharCode_.HASH)))return index}index+=keyLength+1}return-1};goog.uri.utils.hashOrEndRe_=/#|$/;goog.uri.utils.hasParam=function(uri,keyEncoded){return goog.uri.utils.findParam_(uri,0,keyEncoded,uri.search(goog.uri.utils.hashOrEndRe_))>=0};
goog.uri.utils.getParamValue=function(uri,keyEncoded){var hashOrEndIndex=uri.search(goog.uri.utils.hashOrEndRe_);var foundIndex=goog.uri.utils.findParam_(uri,0,keyEncoded,hashOrEndIndex);if(foundIndex<0)return null;else{var endPosition=uri.indexOf("\x26",foundIndex);if(endPosition<0||endPosition>hashOrEndIndex)endPosition=hashOrEndIndex;foundIndex+=keyEncoded.length+1;return goog.string.urlDecode(uri.substr(foundIndex,endPosition-foundIndex))}};
goog.uri.utils.getParamValues=function(uri,keyEncoded){var hashOrEndIndex=uri.search(goog.uri.utils.hashOrEndRe_);var position=0;var foundIndex;var result=[];while((foundIndex=goog.uri.utils.findParam_(uri,position,keyEncoded,hashOrEndIndex))>=0){position=uri.indexOf("\x26",foundIndex);if(position<0||position>hashOrEndIndex)position=hashOrEndIndex;foundIndex+=keyEncoded.length+1;result.push(goog.string.urlDecode(uri.substr(foundIndex,position-foundIndex)))}return result};
goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/;
goog.uri.utils.removeParam=function(uri,keyEncoded){var hashOrEndIndex=uri.search(goog.uri.utils.hashOrEndRe_);var position=0;var foundIndex;var buffer=[];while((foundIndex=goog.uri.utils.findParam_(uri,position,keyEncoded,hashOrEndIndex))>=0){buffer.push(uri.substring(position,foundIndex));position=Math.min(uri.indexOf("\x26",foundIndex)+1||hashOrEndIndex,hashOrEndIndex)}buffer.push(uri.substr(position));return buffer.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")};
goog.uri.utils.setParam=function(uri,keyEncoded,value){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(uri,keyEncoded),keyEncoded,value)};goog.uri.utils.appendPath=function(baseUri,path){goog.uri.utils.assertNoFragmentsOrQueries_(baseUri);if(goog.string.endsWith(baseUri,"/"))baseUri=baseUri.substr(0,baseUri.length-1);if(goog.string.startsWith(path,"/"))path=path.substr(1);return goog.string.buildString(baseUri,"/",path)};
goog.uri.utils.setPath=function(uri,path){if(!goog.string.startsWith(path,"/"))path="/"+path;var parts=goog.uri.utils.split(uri);return goog.uri.utils.buildFromEncodedParts(parts[goog.uri.utils.ComponentIndex.SCHEME],parts[goog.uri.utils.ComponentIndex.USER_INFO],parts[goog.uri.utils.ComponentIndex.DOMAIN],parts[goog.uri.utils.ComponentIndex.PORT],path,parts[goog.uri.utils.ComponentIndex.QUERY_DATA],parts[goog.uri.utils.ComponentIndex.FRAGMENT])};goog.uri.utils.StandardQueryParam={RANDOM:"zx"};
goog.uri.utils.makeUnique=function(uri){return goog.uri.utils.setParam(uri,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())};goog.provide("goog.Uri");goog.provide("goog.Uri.QueryData");goog.require("goog.array");goog.require("goog.string");goog.require("goog.structs");goog.require("goog.structs.Map");goog.require("goog.uri.utils");goog.require("goog.uri.utils.ComponentIndex");goog.require("goog.uri.utils.StandardQueryParam");
goog.Uri=function(opt_uri,opt_ignoreCase){var m;if(opt_uri instanceof goog.Uri){this.ignoreCase_=goog.isDef(opt_ignoreCase)?opt_ignoreCase:opt_uri.getIgnoreCase();this.setScheme(opt_uri.getScheme());this.setUserInfo(opt_uri.getUserInfo());this.setDomain(opt_uri.getDomain());this.setPort(opt_uri.getPort());this.setPath(opt_uri.getPath());this.setQueryData(opt_uri.getQueryData().clone());this.setFragment(opt_uri.getFragment())}else if(opt_uri&&(m=goog.uri.utils.split(String(opt_uri)))){this.ignoreCase_=
!!opt_ignoreCase;this.setScheme(m[goog.uri.utils.ComponentIndex.SCHEME]||"",true);this.setUserInfo(m[goog.uri.utils.ComponentIndex.USER_INFO]||"",true);this.setDomain(m[goog.uri.utils.ComponentIndex.DOMAIN]||"",true);this.setPort(m[goog.uri.utils.ComponentIndex.PORT]);this.setPath(m[goog.uri.utils.ComponentIndex.PATH]||"",true);this.setQueryData(m[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",true);this.setFragment(m[goog.uri.utils.ComponentIndex.FRAGMENT]||"",true)}else{this.ignoreCase_=!!opt_ignoreCase;
this.queryData_=new goog.Uri.QueryData(null,null,this.ignoreCase_)}};goog.Uri.preserveParameterTypesCompatibilityFlag=false;goog.Uri.RANDOM_PARAM=goog.uri.utils.StandardQueryParam.RANDOM;goog.Uri.prototype.scheme_="";goog.Uri.prototype.userInfo_="";goog.Uri.prototype.domain_="";goog.Uri.prototype.port_=null;goog.Uri.prototype.path_="";goog.Uri.prototype.queryData_;goog.Uri.prototype.fragment_="";goog.Uri.prototype.isReadOnly_=false;goog.Uri.prototype.ignoreCase_=false;
goog.Uri.prototype.toString=function(){var out=[];var scheme=this.getScheme();if(scheme)out.push(goog.Uri.encodeSpecialChars_(scheme,goog.Uri.reDisallowedInSchemeOrUserInfo_),":");var domain=this.getDomain();if(domain){out.push("//");var userInfo=this.getUserInfo();if(userInfo)out.push(goog.Uri.encodeSpecialChars_(userInfo,goog.Uri.reDisallowedInSchemeOrUserInfo_),"@");out.push(goog.string.urlEncode(domain));var port=this.getPort();if(port!=null)out.push(":",String(port))}var path=this.getPath();
if(path){if(this.hasDomain()&&path.charAt(0)!="/")out.push("/");out.push(goog.Uri.encodeSpecialChars_(path,path.charAt(0)=="/"?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_))}var query=this.getEncodedQuery();if(query)out.push("?",query);var fragment=this.getFragment();if(fragment)out.push("#",goog.Uri.encodeSpecialChars_(fragment,goog.Uri.reDisallowedInFragment_));return out.join("")};
goog.Uri.prototype.resolve=function(relativeUri){var absoluteUri=this.clone();var overridden=relativeUri.hasScheme();if(overridden)absoluteUri.setScheme(relativeUri.getScheme());else overridden=relativeUri.hasUserInfo();if(overridden)absoluteUri.setUserInfo(relativeUri.getUserInfo());else overridden=relativeUri.hasDomain();if(overridden)absoluteUri.setDomain(relativeUri.getDomain());else overridden=relativeUri.hasPort();var path=relativeUri.getPath();if(overridden)absoluteUri.setPort(relativeUri.getPort());
else{overridden=relativeUri.hasPath();if(overridden){if(path.charAt(0)!="/")if(this.hasDomain()&&!this.hasPath())path="/"+path;else{var lastSlashIndex=absoluteUri.getPath().lastIndexOf("/");if(lastSlashIndex!=-1)path=absoluteUri.getPath().substr(0,lastSlashIndex+1)+path}path=goog.Uri.removeDotSegments(path)}}if(overridden)absoluteUri.setPath(path);else overridden=relativeUri.hasQuery();if(overridden)absoluteUri.setQueryData(relativeUri.getDecodedQuery());else overridden=relativeUri.hasFragment();
if(overridden)absoluteUri.setFragment(relativeUri.getFragment());return absoluteUri};goog.Uri.prototype.clone=function(){return new goog.Uri(this)};goog.Uri.prototype.getScheme=function(){return this.scheme_};goog.Uri.prototype.setScheme=function(newScheme,opt_decode){this.enforceReadOnly();this.scheme_=opt_decode?goog.Uri.decodeOrEmpty_(newScheme):newScheme;if(this.scheme_)this.scheme_=this.scheme_.replace(/:$/,"");return this};goog.Uri.prototype.hasScheme=function(){return!!this.scheme_};
goog.Uri.prototype.getUserInfo=function(){return this.userInfo_};goog.Uri.prototype.setUserInfo=function(newUserInfo,opt_decode){this.enforceReadOnly();this.userInfo_=opt_decode?goog.Uri.decodeOrEmpty_(newUserInfo):newUserInfo;return this};goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_};goog.Uri.prototype.getDomain=function(){return this.domain_};
goog.Uri.prototype.setDomain=function(newDomain,opt_decode){this.enforceReadOnly();this.domain_=opt_decode?goog.Uri.decodeOrEmpty_(newDomain):newDomain;return this};goog.Uri.prototype.hasDomain=function(){return!!this.domain_};goog.Uri.prototype.getPort=function(){return this.port_};goog.Uri.prototype.setPort=function(newPort){this.enforceReadOnly();if(newPort){newPort=Number(newPort);if(isNaN(newPort)||newPort<0)throw Error("Bad port number "+newPort);this.port_=newPort}else this.port_=null;return this};
goog.Uri.prototype.hasPort=function(){return this.port_!=null};goog.Uri.prototype.getPath=function(){return this.path_};goog.Uri.prototype.setPath=function(newPath,opt_decode){this.enforceReadOnly();this.path_=opt_decode?goog.Uri.decodeOrEmpty_(newPath):newPath;return this};goog.Uri.prototype.hasPath=function(){return!!this.path_};goog.Uri.prototype.hasQuery=function(){return this.queryData_.toString()!==""};
goog.Uri.prototype.setQueryData=function(queryData,opt_decode){this.enforceReadOnly();if(queryData instanceof goog.Uri.QueryData){this.queryData_=queryData;this.queryData_.setIgnoreCase(this.ignoreCase_)}else{if(!opt_decode)queryData=goog.Uri.encodeSpecialChars_(queryData,goog.Uri.reDisallowedInQuery_);this.queryData_=new goog.Uri.QueryData(queryData,null,this.ignoreCase_)}return this};goog.Uri.prototype.setQuery=function(newQuery,opt_decode){return this.setQueryData(newQuery,opt_decode)};
goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()};goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()};goog.Uri.prototype.getQueryData=function(){return this.queryData_};goog.Uri.prototype.getQuery=function(){return this.getEncodedQuery()};goog.Uri.prototype.setParameterValue=function(key,value){this.enforceReadOnly();this.queryData_.set(key,value);return this};
goog.Uri.prototype.setParameterValues=function(key,values){this.enforceReadOnly();if(!goog.isArray(values))values=[String(values)];this.queryData_.setValues(key,(values));return this};goog.Uri.prototype.getParameterValues=function(name){return this.queryData_.getValues(name)};goog.Uri.prototype.getParameterValue=function(paramName){return(this.queryData_.get(paramName))};goog.Uri.prototype.getFragment=function(){return this.fragment_};
goog.Uri.prototype.setFragment=function(newFragment,opt_decode){this.enforceReadOnly();this.fragment_=opt_decode?goog.Uri.decodeOrEmpty_(newFragment):newFragment;return this};goog.Uri.prototype.hasFragment=function(){return!!this.fragment_};goog.Uri.prototype.hasSameDomainAs=function(uri2){return(!this.hasDomain()&&!uri2.hasDomain()||this.getDomain()==uri2.getDomain())&&(!this.hasPort()&&!uri2.hasPort()||this.getPort()==uri2.getPort())};
goog.Uri.prototype.makeUnique=function(){this.enforceReadOnly();this.setParameterValue(goog.Uri.RANDOM_PARAM,goog.string.getRandomString());return this};goog.Uri.prototype.removeParameter=function(key){this.enforceReadOnly();this.queryData_.remove(key);return this};goog.Uri.prototype.setReadOnly=function(isReadOnly){this.isReadOnly_=isReadOnly;return this};goog.Uri.prototype.isReadOnly=function(){return this.isReadOnly_};
goog.Uri.prototype.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri");};goog.Uri.prototype.setIgnoreCase=function(ignoreCase){this.ignoreCase_=ignoreCase;if(this.queryData_)this.queryData_.setIgnoreCase(ignoreCase);return this};goog.Uri.prototype.getIgnoreCase=function(){return this.ignoreCase_};goog.Uri.parse=function(uri,opt_ignoreCase){return uri instanceof goog.Uri?uri.clone():new goog.Uri(uri,opt_ignoreCase)};
goog.Uri.create=function(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_query,opt_fragment,opt_ignoreCase){var uri=new goog.Uri(null,opt_ignoreCase);opt_scheme&&uri.setScheme(opt_scheme);opt_userInfo&&uri.setUserInfo(opt_userInfo);opt_domain&&uri.setDomain(opt_domain);opt_port&&uri.setPort(opt_port);opt_path&&uri.setPath(opt_path);opt_query&&uri.setQueryData(opt_query);opt_fragment&&uri.setFragment(opt_fragment);return uri};
goog.Uri.resolve=function(base,rel){if(!(base instanceof goog.Uri))base=goog.Uri.parse(base);if(!(rel instanceof goog.Uri))rel=goog.Uri.parse(rel);return base.resolve(rel)};
goog.Uri.removeDotSegments=function(path){if(path==".."||path==".")return"";else if(!goog.string.contains(path,"./")&&!goog.string.contains(path,"/."))return path;else{var leadingSlash=goog.string.startsWith(path,"/");var segments=path.split("/");var out=[];for(var pos=0;pos<segments.length;){var segment=segments[pos++];if(segment=="."){if(leadingSlash&&pos==segments.length)out.push("")}else if(segment==".."){if(out.length>1||out.length==1&&out[0]!="")out.pop();if(leadingSlash&&pos==segments.length)out.push("")}else{out.push(segment);
leadingSlash=true}}return out.join("/")}};goog.Uri.decodeOrEmpty_=function(val){return val?decodeURIComponent(val):""};goog.Uri.encodeSpecialChars_=function(unescapedPart,extra){if(goog.isString(unescapedPart))return encodeURI(unescapedPart).replace(extra,goog.Uri.encodeChar_);return null};goog.Uri.encodeChar_=function(ch){var n=ch.charCodeAt(0);return"%"+(n>>4&15).toString(16)+(n&15).toString(16)};goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g;goog.Uri.reDisallowedInRelativePath_=/[\#\?:]/g;
goog.Uri.reDisallowedInAbsolutePath_=/[\#\?]/g;goog.Uri.reDisallowedInQuery_=/[\#\?@]/g;goog.Uri.reDisallowedInFragment_=/#/g;goog.Uri.haveSameDomain=function(uri1String,uri2String){var pieces1=goog.uri.utils.split(uri1String);var pieces2=goog.uri.utils.split(uri2String);return pieces1[goog.uri.utils.ComponentIndex.DOMAIN]==pieces2[goog.uri.utils.ComponentIndex.DOMAIN]&&pieces1[goog.uri.utils.ComponentIndex.PORT]==pieces2[goog.uri.utils.ComponentIndex.PORT]};
goog.Uri.QueryData=function(opt_query,opt_uri,opt_ignoreCase){this.encodedQuery_=opt_query||null;this.ignoreCase_=!!opt_ignoreCase};
goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_){this.keyMap_=new goog.structs.Map;this.count_=0;if(this.encodedQuery_){var pairs=this.encodedQuery_.split("\x26");for(var i=0;i<pairs.length;i++){var indexOfEquals=pairs[i].indexOf("\x3d");var name=null;var value=null;if(indexOfEquals>=0){name=pairs[i].substring(0,indexOfEquals);value=pairs[i].substring(indexOfEquals+1)}else name=pairs[i];name=goog.string.urlDecode(name);name=this.getKeyName_(name);this.add(name,value?
goog.string.urlDecode(value):"")}}}};goog.Uri.QueryData.createFromMap=function(map,opt_uri,opt_ignoreCase){var keys=goog.structs.getKeys(map);if(typeof keys=="undefined")throw Error("Keys are undefined");var queryData=new goog.Uri.QueryData(null,null,opt_ignoreCase);var values=goog.structs.getValues(map);for(var i=0;i<keys.length;i++){var key=keys[i];var value=values[i];if(!goog.isArray(value))queryData.add(key,value);else queryData.setValues(key,value)}return queryData};
goog.Uri.QueryData.createFromKeysValues=function(keys,values,opt_uri,opt_ignoreCase){if(keys.length!=values.length)throw Error("Mismatched lengths for keys/values");var queryData=new goog.Uri.QueryData(null,null,opt_ignoreCase);for(var i=0;i<keys.length;i++)queryData.add(keys[i],values[i]);return queryData};goog.Uri.QueryData.prototype.keyMap_=null;goog.Uri.QueryData.prototype.count_=null;goog.Uri.QueryData.prototype.getCount=function(){this.ensureKeyMapInitialized_();return this.count_};
goog.Uri.QueryData.prototype.add=function(key,value){this.ensureKeyMapInitialized_();this.invalidateCache_();key=this.getKeyName_(key);var values=this.keyMap_.get(key);if(!values)this.keyMap_.set(key,values=[]);values.push(value);this.count_++;return this};goog.Uri.QueryData.prototype.remove=function(key){this.ensureKeyMapInitialized_();key=this.getKeyName_(key);if(this.keyMap_.containsKey(key)){this.invalidateCache_();this.count_-=this.keyMap_.get(key).length;return this.keyMap_.remove(key)}return false};
goog.Uri.QueryData.prototype.clear=function(){this.invalidateCache_();this.keyMap_=null;this.count_=0};goog.Uri.QueryData.prototype.isEmpty=function(){this.ensureKeyMapInitialized_();return this.count_==0};goog.Uri.QueryData.prototype.containsKey=function(key){this.ensureKeyMapInitialized_();key=this.getKeyName_(key);return this.keyMap_.containsKey(key)};goog.Uri.QueryData.prototype.containsValue=function(value){var vals=this.getValues();return goog.array.contains(vals,value)};
goog.Uri.QueryData.prototype.getKeys=function(){this.ensureKeyMapInitialized_();var vals=(this.keyMap_.getValues());var keys=this.keyMap_.getKeys();var rv=[];for(var i=0;i<keys.length;i++){var val=vals[i];for(var j=0;j<val.length;j++)rv.push(keys[i])}return rv};
goog.Uri.QueryData.prototype.getValues=function(opt_key){this.ensureKeyMapInitialized_();var rv=[];if(goog.isString(opt_key)){if(this.containsKey(opt_key))rv=goog.array.concat(rv,this.keyMap_.get(this.getKeyName_(opt_key)))}else{var values=(this.keyMap_.getValues());for(var i=0;i<values.length;i++)rv=goog.array.concat(rv,values[i])}return rv};
goog.Uri.QueryData.prototype.set=function(key,value){this.ensureKeyMapInitialized_();this.invalidateCache_();key=this.getKeyName_(key);if(this.containsKey(key))this.count_-=this.keyMap_.get(key).length;this.keyMap_.set(key,[value]);this.count_++;return this};goog.Uri.QueryData.prototype.get=function(key,opt_default){var values=key?this.getValues(key):[];if(goog.Uri.preserveParameterTypesCompatibilityFlag)return values.length>0?values[0]:opt_default;else return values.length>0?String(values[0]):opt_default};
goog.Uri.QueryData.prototype.setValues=function(key,values){this.remove(key);if(values.length>0){this.invalidateCache_();this.keyMap_.set(this.getKeyName_(key),goog.array.clone(values));this.count_+=values.length}};
goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";var sb=[];var keys=this.keyMap_.getKeys();for(var i=0;i<keys.length;i++){var key=keys[i];var encodedKey=goog.string.urlEncode(key);var val=this.getValues(key);for(var j=0;j<val.length;j++){var param=encodedKey;if(val[j]!=="")param+="\x3d"+goog.string.urlEncode(val[j]);sb.push(param)}}return this.encodedQuery_=sb.join("\x26")};goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())};
goog.Uri.QueryData.prototype.invalidateCache_=function(){this.encodedQuery_=null};goog.Uri.QueryData.prototype.filterKeys=function(keys){this.ensureKeyMapInitialized_();goog.structs.forEach(this.keyMap_,function(value,key,map){if(!goog.array.contains(keys,key))this.remove(key)},this);return this};goog.Uri.QueryData.prototype.clone=function(){var rv=new goog.Uri.QueryData;rv.encodedQuery_=this.encodedQuery_;if(this.keyMap_){rv.keyMap_=this.keyMap_.clone();rv.count_=this.count_}return rv};
goog.Uri.QueryData.prototype.getKeyName_=function(arg){var keyName=String(arg);if(this.ignoreCase_)keyName=keyName.toLowerCase();return keyName};
goog.Uri.QueryData.prototype.setIgnoreCase=function(ignoreCase){var resetKeys=ignoreCase&&!this.ignoreCase_;if(resetKeys){this.ensureKeyMapInitialized_();this.invalidateCache_();goog.structs.forEach(this.keyMap_,function(value,key){var lowerCase=key.toLowerCase();if(key!=lowerCase){this.remove(key);this.setValues(lowerCase,value)}},this)}this.ignoreCase_=ignoreCase};
goog.Uri.QueryData.prototype.extend=function(var_args){for(var i=0;i<arguments.length;i++){var data=arguments[i];goog.structs.forEach(data,function(value,key){this.add(key,value)},this)}};goog.provide("clojure.set");goog.require("cljs.core");clojure.set.bubble_max_key=function bubble_max_key(k,coll){var max=cljs.core.apply.call(null,cljs.core.max_key,k,coll);return cljs.core.cons.call(null,max,cljs.core.remove.call(null,function(max){return function(p1__20294_SHARP_){return max===p1__20294_SHARP_}}(max),coll))};
clojure.set.union=function(){var union=null;var union__0=function(){return cljs.core.PersistentHashSet.EMPTY};var union__1=function(s1){return s1};var union__2=function(s1,s2){if(cljs.core.count.call(null,s1)<cljs.core.count.call(null,s2))return cljs.core.reduce.call(null,cljs.core.conj,s2,s1);else return cljs.core.reduce.call(null,cljs.core.conj,s1,s2)};var union__3=function(){var G__20295__delegate=function(s1,s2,sets){var bubbled_sets=clojure.set.bubble_max_key.call(null,cljs.core.count,cljs.core.conj.call(null,
sets,s2,s1));return cljs.core.reduce.call(null,cljs.core.into,cljs.core.first.call(null,bubbled_sets),cljs.core.rest.call(null,bubbled_sets))};var G__20295=function(s1,s2,var_args){var sets=null;if(arguments.length>2)sets=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__20295__delegate.call(this,s1,s2,sets)};G__20295.cljs$lang$maxFixedArity=2;G__20295.cljs$lang$applyTo=function(arglist__20296){var s1=cljs.core.first(arglist__20296);arglist__20296=cljs.core.next(arglist__20296);
var s2=cljs.core.first(arglist__20296);var sets=cljs.core.rest(arglist__20296);return G__20295__delegate(s1,s2,sets)};G__20295.cljs$core$IFn$_invoke$arity$variadic=G__20295__delegate;return G__20295}();union=function(s1,s2,var_args){var sets=var_args;switch(arguments.length){case 0:return union__0.call(this);case 1:return union__1.call(this,s1);case 2:return union__2.call(this,s1,s2);default:return union__3.cljs$core$IFn$_invoke$arity$variadic(s1,s2,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+
arguments.length);};union.cljs$lang$maxFixedArity=2;union.cljs$lang$applyTo=union__3.cljs$lang$applyTo;union.cljs$core$IFn$_invoke$arity$0=union__0;union.cljs$core$IFn$_invoke$arity$1=union__1;union.cljs$core$IFn$_invoke$arity$2=union__2;union.cljs$core$IFn$_invoke$arity$variadic=union__3.cljs$core$IFn$_invoke$arity$variadic;return union}();
clojure.set.intersection=function(){var intersection=null;var intersection__1=function(s1){return s1};var intersection__2=function(s1,s2){while(true){if(cljs.core.count.call(null,s2)<cljs.core.count.call(null,s1)){var G__20298=s2;var G__20299=s1;s1=G__20298;s2=G__20299;continue}else return cljs.core.reduce.call(null,function(s1,s2){return function(result,item){if(cljs.core.contains_QMARK_.call(null,s2,item))return result;else return cljs.core.disj.call(null,result,item)}}(s1,s2),s1,s1);break}};var intersection__3=
function(){var G__20300__delegate=function(s1,s2,sets){var bubbled_sets=clojure.set.bubble_max_key.call(null,function(p1__20297_SHARP_){return-cljs.core.count.call(null,p1__20297_SHARP_)},cljs.core.conj.call(null,sets,s2,s1));return cljs.core.reduce.call(null,intersection,cljs.core.first.call(null,bubbled_sets),cljs.core.rest.call(null,bubbled_sets))};var G__20300=function(s1,s2,var_args){var sets=null;if(arguments.length>2)sets=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__20300__delegate.call(this,
s1,s2,sets)};G__20300.cljs$lang$maxFixedArity=2;G__20300.cljs$lang$applyTo=function(arglist__20301){var s1=cljs.core.first(arglist__20301);arglist__20301=cljs.core.next(arglist__20301);var s2=cljs.core.first(arglist__20301);var sets=cljs.core.rest(arglist__20301);return G__20300__delegate(s1,s2,sets)};G__20300.cljs$core$IFn$_invoke$arity$variadic=G__20300__delegate;return G__20300}();intersection=function(s1,s2,var_args){var sets=var_args;switch(arguments.length){case 1:return intersection__1.call(this,
s1);case 2:return intersection__2.call(this,s1,s2);default:return intersection__3.cljs$core$IFn$_invoke$arity$variadic(s1,s2,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};intersection.cljs$lang$maxFixedArity=2;intersection.cljs$lang$applyTo=intersection__3.cljs$lang$applyTo;intersection.cljs$core$IFn$_invoke$arity$1=intersection__1;intersection.cljs$core$IFn$_invoke$arity$2=intersection__2;intersection.cljs$core$IFn$_invoke$arity$variadic=intersection__3.cljs$core$IFn$_invoke$arity$variadic;
return intersection}();
clojure.set.difference=function(){var difference=null;var difference__1=function(s1){return s1};var difference__2=function(s1,s2){if(cljs.core.count.call(null,s1)<cljs.core.count.call(null,s2))return cljs.core.reduce.call(null,function(result,item){if(cljs.core.contains_QMARK_.call(null,s2,item))return cljs.core.disj.call(null,result,item);else return result},s1,s1);else return cljs.core.reduce.call(null,cljs.core.disj,s1,s2)};var difference__3=function(){var G__20302__delegate=function(s1,s2,sets){return cljs.core.reduce.call(null,
difference,s1,cljs.core.conj.call(null,sets,s2))};var G__20302=function(s1,s2,var_args){var sets=null;if(arguments.length>2)sets=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return G__20302__delegate.call(this,s1,s2,sets)};G__20302.cljs$lang$maxFixedArity=2;G__20302.cljs$lang$applyTo=function(arglist__20303){var s1=cljs.core.first(arglist__20303);arglist__20303=cljs.core.next(arglist__20303);var s2=cljs.core.first(arglist__20303);var sets=cljs.core.rest(arglist__20303);return G__20302__delegate(s1,
s2,sets)};G__20302.cljs$core$IFn$_invoke$arity$variadic=G__20302__delegate;return G__20302}();difference=function(s1,s2,var_args){var sets=var_args;switch(arguments.length){case 1:return difference__1.call(this,s1);case 2:return difference__2.call(this,s1,s2);default:return difference__3.cljs$core$IFn$_invoke$arity$variadic(s1,s2,cljs.core.array_seq(arguments,2))}throw new Error("Invalid arity: "+arguments.length);};difference.cljs$lang$maxFixedArity=2;difference.cljs$lang$applyTo=difference__3.cljs$lang$applyTo;
difference.cljs$core$IFn$_invoke$arity$1=difference__1;difference.cljs$core$IFn$_invoke$arity$2=difference__2;difference.cljs$core$IFn$_invoke$arity$variadic=difference__3.cljs$core$IFn$_invoke$arity$variadic;return difference}();clojure.set.select=function select(pred,xset){return cljs.core.reduce.call(null,function(s,k){if(cljs.core.truth_(pred.call(null,k)))return s;else return cljs.core.disj.call(null,s,k)},xset,xset)};
clojure.set.project=function project(xrel,ks){return cljs.core.set.call(null,cljs.core.map.call(null,function(p1__20304_SHARP_){return cljs.core.select_keys.call(null,p1__20304_SHARP_,ks)},xrel))};
clojure.set.rename_keys=function rename_keys(map,kmap){return cljs.core.reduce.call(null,function(m,p__20307){var vec__20308=p__20307;var old=cljs.core.nth.call(null,vec__20308,0,null);var new$=cljs.core.nth.call(null,vec__20308,1,null);if(cljs.core.not_EQ_.call(null,old,new$)&&cljs.core.contains_QMARK_.call(null,m,old))return cljs.core.dissoc.call(null,cljs.core.assoc.call(null,m,new$,cljs.core.get.call(null,m,old)),old);else return m},map,kmap)};
clojure.set.rename=function rename(xrel,kmap){return cljs.core.set.call(null,cljs.core.map.call(null,function(p1__20309_SHARP_){return clojure.set.rename_keys.call(null,p1__20309_SHARP_,kmap)},xrel))};
clojure.set.index=function index(xrel,ks){return cljs.core.reduce.call(null,function(m,x){var ik=cljs.core.select_keys.call(null,x,ks);return cljs.core.assoc.call(null,m,ik,cljs.core.conj.call(null,cljs.core.get.call(null,m,ik,cljs.core.PersistentHashSet.EMPTY),x))},cljs.core.PersistentArrayMap.EMPTY,xrel)};
clojure.set.map_invert=function map_invert(m){return cljs.core.reduce.call(null,function(m__$1,p__20312){var vec__20313=p__20312;var k=cljs.core.nth.call(null,vec__20313,0,null);var v=cljs.core.nth.call(null,vec__20313,1,null);return cljs.core.assoc.call(null,m__$1,v,k)},cljs.core.PersistentArrayMap.EMPTY,m)};
clojure.set.join=function(){var join=null;var join__2=function(xrel,yrel){if(cljs.core.seq.call(null,xrel)&&cljs.core.seq.call(null,yrel)){var ks=clojure.set.intersection.call(null,cljs.core.set.call(null,cljs.core.keys.call(null,cljs.core.first.call(null,xrel))),cljs.core.set.call(null,cljs.core.keys.call(null,cljs.core.first.call(null,yrel))));var vec__20320=cljs.core.count.call(null,xrel)<=cljs.core.count.call(null,yrel)?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[xrel,yrel],null):new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[yrel,xrel],null);var r=cljs.core.nth.call(null,vec__20320,0,null);var s=cljs.core.nth.call(null,vec__20320,1,null);var idx=clojure.set.index.call(null,r,ks);return cljs.core.reduce.call(null,function(ks,vec__20320,r,s,idx){return function(ret,x){var found=idx.call(null,cljs.core.select_keys.call(null,x,ks));if(cljs.core.truth_(found))return cljs.core.reduce.call(null,function(found,ks,vec__20320,r,s,idx){return function(p1__20314_SHARP_,
p2__20315_SHARP_){return cljs.core.conj.call(null,p1__20314_SHARP_,cljs.core.merge.call(null,p2__20315_SHARP_,x))}}(found,ks,vec__20320,r,s,idx),ret,found);else return ret}}(ks,vec__20320,r,s,idx),cljs.core.PersistentHashSet.EMPTY,s)}else return cljs.core.PersistentHashSet.EMPTY};var join__3=function(xrel,yrel,km){var vec__20321=cljs.core.count.call(null,xrel)<=cljs.core.count.call(null,yrel)?new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[xrel,yrel,clojure.set.map_invert.call(null,
km)],null):new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[yrel,xrel,km],null);var r=cljs.core.nth.call(null,vec__20321,0,null);var s=cljs.core.nth.call(null,vec__20321,1,null);var k=cljs.core.nth.call(null,vec__20321,2,null);var idx=clojure.set.index.call(null,r,cljs.core.vals.call(null,k));return cljs.core.reduce.call(null,function(vec__20321,r,s,k,idx){return function(ret,x){var found=idx.call(null,clojure.set.rename_keys.call(null,cljs.core.select_keys.call(null,
x,cljs.core.keys.call(null,k)),k));if(cljs.core.truth_(found))return cljs.core.reduce.call(null,function(found,vec__20321,r,s,k,idx){return function(p1__20316_SHARP_,p2__20317_SHARP_){return cljs.core.conj.call(null,p1__20316_SHARP_,cljs.core.merge.call(null,p2__20317_SHARP_,x))}}(found,vec__20321,r,s,k,idx),ret,found);else return ret}}(vec__20321,r,s,k,idx),cljs.core.PersistentHashSet.EMPTY,s)};join=function(xrel,yrel,km){switch(arguments.length){case 2:return join__2.call(this,xrel,yrel);case 3:return join__3.call(this,
xrel,yrel,km)}throw new Error("Invalid arity: "+arguments.length);};join.cljs$core$IFn$_invoke$arity$2=join__2;join.cljs$core$IFn$_invoke$arity$3=join__3;return join}();clojure.set.subset_QMARK_=function subset_QMARK_(set1,set2){return cljs.core.count.call(null,set1)<=cljs.core.count.call(null,set2)&&cljs.core.every_QMARK_.call(null,function(p1__20322_SHARP_){return cljs.core.contains_QMARK_.call(null,set2,p1__20322_SHARP_)},set1)};
clojure.set.superset_QMARK_=function superset_QMARK_(set1,set2){return cljs.core.count.call(null,set1)>=cljs.core.count.call(null,set2)&&cljs.core.every_QMARK_.call(null,function(p1__20323_SHARP_){return cljs.core.contains_QMARK_.call(null,set1,p1__20323_SHARP_)},set2)};goog.provide("clojure.walk");goog.require("cljs.core");clojure.walk.walk=function walk(inner,outer,form){if(cljs.core.seq_QMARK_.call(null,form))return outer.call(null,cljs.core.doall.call(null,cljs.core.map.call(null,inner,form)));else if(cljs.core.coll_QMARK_.call(null,form))return outer.call(null,cljs.core.into.call(null,cljs.core.empty.call(null,form),cljs.core.map.call(null,inner,form)));else if(new cljs.core.Keyword(null,"else","else",1017020587))return outer.call(null,form);else return null};
clojure.walk.postwalk=function postwalk(f,form){return clojure.walk.walk.call(null,cljs.core.partial.call(null,postwalk,f),f,form)};clojure.walk.prewalk=function prewalk(f,form){return clojure.walk.walk.call(null,cljs.core.partial.call(null,prewalk,f),cljs.core.identity,f.call(null,form))};
clojure.walk.keywordize_keys=function keywordize_keys(m){var f=function(p__20262){var vec__20263=p__20262;var k=cljs.core.nth.call(null,vec__20263,0,null);var v=cljs.core.nth.call(null,vec__20263,1,null);if(typeof k==="string")return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.keyword.call(null,k),v],null);else return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[k,v],null)};return clojure.walk.postwalk.call(null,function(f){return function(x){if(cljs.core.map_QMARK_.call(null,
x))return cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.map.call(null,f,x));else return x}}(f),m)};
clojure.walk.stringify_keys=function stringify_keys(m){var f=function(p__20266){var vec__20267=p__20266;var k=cljs.core.nth.call(null,vec__20267,0,null);var v=cljs.core.nth.call(null,vec__20267,1,null);if(k instanceof cljs.core.Keyword)return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.name.call(null,k),v],null);else return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[k,v],null)};return clojure.walk.postwalk.call(null,
function(f){return function(x){if(cljs.core.map_QMARK_.call(null,x))return cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.map.call(null,f,x));else return x}}(f),m)};clojure.walk.prewalk_replace=function prewalk_replace(smap,form){return clojure.walk.prewalk.call(null,function(x){if(cljs.core.contains_QMARK_.call(null,smap,x))return smap.call(null,x);else return x},form)};
clojure.walk.postwalk_replace=function postwalk_replace(smap,form){return clojure.walk.postwalk.call(null,function(x){if(cljs.core.contains_QMARK_.call(null,smap,x))return smap.call(null,x);else return x},form)};goog.provide("sablono.util");goog.require("cljs.core");goog.require("clojure.set");goog.require("clojure.string");goog.require("clojure.walk");goog.require("clojure.walk");goog.require("clojure.string");goog.require("clojure.set");goog.require("goog.Uri");sablono.util._STAR_base_url_STAR_=null;sablono.util.ToString=function(){var obj20273={};return obj20273}();
sablono.util.to_str=function to_str(x){if(function(){var and__3466__auto__=x;if(and__3466__auto__)return x.sablono$util$ToString$to_str$arity$1;else return and__3466__auto__}())return x.sablono$util$ToString$to_str$arity$1(x);else{var x__4105__auto__=x==null?null:x;return function(){var or__3478__auto__=sablono.util.to_str[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=sablono.util.to_str["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"ToString.to-str",x);}}().call(null,x)}};sablono.util.ToURI=function(){var obj20275={};return obj20275}();
sablono.util.to_uri=function to_uri(x){if(function(){var and__3466__auto__=x;if(and__3466__auto__)return x.sablono$util$ToURI$to_uri$arity$1;else return and__3466__auto__}())return x.sablono$util$ToURI$to_uri$arity$1(x);else{var x__4105__auto__=x==null?null:x;return function(){var or__3478__auto__=sablono.util.to_uri[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=sablono.util.to_uri["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,
"ToURI.to-uri",x);}}().call(null,x)}};
sablono.util.as_str=function(){var as_str__delegate=function(xs){return cljs.core.apply.call(null,cljs.core.str,cljs.core.map.call(null,sablono.util.to_str,xs))};var as_str=function(var_args){var xs=null;if(arguments.length>0)xs=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return as_str__delegate.call(this,xs)};as_str.cljs$lang$maxFixedArity=0;as_str.cljs$lang$applyTo=function(arglist__20276){var xs=cljs.core.seq(arglist__20276);return as_str__delegate(xs)};as_str.cljs$core$IFn$_invoke$arity$variadic=
as_str__delegate;return as_str}();
sablono.util.camel_case=function camel_case(k){if(cljs.core.truth_(k)){var vec__20278=clojure.string.split.call(null,cljs.core.name.call(null,k),/-/);var first_word=cljs.core.nth.call(null,vec__20278,0,null);var words=cljs.core.nthnext.call(null,vec__20278,1);if(cljs.core.empty_QMARK_.call(null,words)||(cljs.core._EQ_.call(null,"aria",first_word)||cljs.core._EQ_.call(null,"data",first_word)))return k;else return cljs.core.keyword.call(null,clojure.string.join.call(null,cljs.core.conj.call(null,cljs.core.map.call(null,
clojure.string.capitalize,words),first_word)))}else return null};
sablono.util.camel_case_keys=function camel_case_keys(m){var f=function(p__20281){var vec__20282=p__20281;var k=cljs.core.nth.call(null,vec__20282,0,null);var v=cljs.core.nth.call(null,vec__20282,1,null);if(k instanceof cljs.core.Keyword)return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[sablono.util.camel_case.call(null,k),v],null);else return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[k,v],null)};return clojure.walk.postwalk.call(null,
function(f){return function(x){if(cljs.core.map_QMARK_.call(null,x))return cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.map.call(null,f,x));else return x}}(f),m)};
sablono.util.html_to_dom_attrs=function html_to_dom_attrs(attrs){return clojure.set.rename_keys.call(null,sablono.util.camel_case_keys.call(null,attrs),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"className","className",1004015509),new cljs.core.Keyword(null,"for","for",1014005819),new cljs.core.Keyword(null,"htmlFor","htmlFor",2249940112)],null))};
sablono.util.compact_map=function compact_map(m){return cljs.core.reduce.call(null,function(m__$1,k){var v=cljs.core.get.call(null,m__$1,k);if(cljs.core.empty_QMARK_.call(null,v))return cljs.core.dissoc.call(null,m__$1,k);else return m__$1},m,cljs.core.keys.call(null,m))};
sablono.util.merge_with_class=function(){var merge_with_class__delegate=function(maps){var classes=cljs.core.vec.call(null,cljs.core.remove.call(null,cljs.core.nil_QMARK_,cljs.core.mapcat.call(null,function(p1__20283_SHARP_){if(cljs.core.list_QMARK_.call(null,p1__20283_SHARP_))return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[p1__20283_SHARP_],null);else if(cljs.core.sequential_QMARK_.call(null,p1__20283_SHARP_))return p1__20283_SHARP_;else if(new cljs.core.Keyword(null,
"else","else",1017020587))return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[p1__20283_SHARP_],null);else return null},cljs.core.map.call(null,new cljs.core.Keyword(null,"class","class",1108647146),maps))));var maps__$1=cljs.core.apply.call(null,cljs.core.merge,maps);if(cljs.core.empty_QMARK_.call(null,classes))return maps__$1;else return cljs.core.assoc.call(null,maps__$1,new cljs.core.Keyword(null,"class","class",1108647146),classes)};var merge_with_class=function(var_args){var maps=
null;if(arguments.length>0)maps=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return merge_with_class__delegate.call(this,maps)};merge_with_class.cljs$lang$maxFixedArity=0;merge_with_class.cljs$lang$applyTo=function(arglist__20284){var maps=cljs.core.seq(arglist__20284);return merge_with_class__delegate(maps)};merge_with_class.cljs$core$IFn$_invoke$arity$variadic=merge_with_class__delegate;return merge_with_class}();
sablono.util.strip_css=function strip_css(s){if(cljs.core.truth_(s))return clojure.string.replace.call(null,s,/^[.#]/,"");else return null};
sablono.util.match_tag=function match_tag(s){var matches=cljs.core.re_seq.call(null,/[#.]?[^#.]+/,cljs.core.name.call(null,s));var vec__20288=cljs.core.empty_QMARK_.call(null,matches)?function(){throw cljs.core.ex_info.call(null,[cljs.core.str("Can't match CSS tag: "),cljs.core.str(s)].join(""),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",1014018828),s],null));}():cljs.core.truth_((new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,["#",
null,".",null],null),null)).call(null,cljs.core.ffirst.call(null,matches)))?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["div",matches],null):new cljs.core.Keyword(null,"default","default",2558708147)?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.first.call(null,matches),cljs.core.rest.call(null,matches)],null):null;var tag_name=cljs.core.nth.call(null,vec__20288,0,null);var names=cljs.core.nth.call(null,vec__20288,1,null);
return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[tag_name,cljs.core.first.call(null,cljs.core.map.call(null,sablono.util.strip_css,cljs.core.filter.call(null,function(matches,vec__20288,tag_name,names){return function(p1__20285_SHARP_){return cljs.core._EQ_.call(null,"#",cljs.core.first.call(null,p1__20285_SHARP_))}}(matches,vec__20288,tag_name,names),names))),cljs.core.vec.call(null,cljs.core.map.call(null,sablono.util.strip_css,cljs.core.filter.call(null,function(matches,
vec__20288,tag_name,names){return function(p1__20286_SHARP_){return cljs.core._EQ_.call(null,".",cljs.core.first.call(null,p1__20286_SHARP_))}}(matches,vec__20288,tag_name,names),names)))],null)};
sablono.util.normalize_element=function normalize_element(p__20289){var vec__20292=p__20289;var tag=cljs.core.nth.call(null,vec__20292,0,null);var content=cljs.core.nthnext.call(null,vec__20292,1);if(!(tag instanceof cljs.core.Keyword||(tag instanceof cljs.core.Symbol||typeof tag==="string")))throw cljs.core.ex_info.call(null,[cljs.core.str(tag),cljs.core.str(" is not a valid element name.")].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"tag","tag",1014018828),tag,
new cljs.core.Keyword(null,"content","content",1965434859),content],null));else;var vec__20293=sablono.util.match_tag.call(null,tag);var tag__$1=cljs.core.nth.call(null,vec__20293,0,null);var id=cljs.core.nth.call(null,vec__20293,1,null);var class$=cljs.core.nth.call(null,vec__20293,2,null);var tag_attrs=sablono.util.compact_map.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"id","id",1013907597),id,new cljs.core.Keyword(null,"class","class",1108647146),class$],null));
var map_attrs=cljs.core.first.call(null,content);if(cljs.core.map_QMARK_.call(null,map_attrs))return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[tag__$1,sablono.util.merge_with_class.call(null,tag_attrs,map_attrs),cljs.core.next.call(null,content)],null);else return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[tag__$1,tag_attrs,content],null)};
sablono.util.join_classes=function join_classes(classes){return clojure.string.join.call(null," ",cljs.core.flatten.call(null,classes))};sablono.util.react_symbol=function react_symbol(tag){return cljs.core.symbol.call(null,"js",[cljs.core.str("React.DOM."),cljs.core.str(cljs.core.name.call(null,tag))].join(""))};
sablono.util.react_fn=function react_fn(tag){if(cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"textarea","textarea",4305627820),null,new cljs.core.Keyword(null,"option","option",4298734567),null,new cljs.core.Keyword(null,"input","input",1114262332),null],null),null),cljs.core.keyword.call(null,tag)))return cljs.core.symbol.call(null,"sablono.interpreter",cljs.core.name.call(null,tag));else return sablono.util.react_symbol.call(null,
tag)};sablono.util.attr_pattern=function attr_pattern(attr){return cljs.core.re_pattern.call(null,[cljs.core.str("\\s+"),cljs.core.str(cljs.core.name.call(null,attr)),cljs.core.str("\\s*\x3d\\s*['\"][^\"']+['\"]")].join(""))};sablono.util.strip_attr=function strip_attr(s,attr){if(cljs.core.truth_(s))return clojure.string.replace.call(null,s,sablono.util.attr_pattern.call(null,attr),"");else return null};
sablono.util.strip_outer=function strip_outer(s){if(cljs.core.truth_(s))return clojure.string.replace.call(null,clojure.string.replace.call(null,s,/^\s*<[^>]+>\s*/,""),/\s*<\/[^>]+>\s*$/,"");else return null};sablono.util.ToString["_"]=true;sablono.util.to_str["_"]=function(x){return[cljs.core.str(x)].join("")};sablono.util.ToString["number"]=true;sablono.util.to_str["number"]=function(x){return[cljs.core.str(x)].join("")};sablono.util.ToString["null"]=true;sablono.util.to_str["null"]=function(_){return""};
goog.Uri.prototype.sablono$util$ToString$=true;
goog.Uri.prototype.sablono$util$ToString$to_str$arity$1=function(x){var x__$1=this;if(cljs.core.truth_(function(){var or__3478__auto__=x__$1.hasDomain();if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return x__$1.getPath()==null||cljs.core.not.call(null,cljs.core.re_matches.call(null,/^\/.*/,x__$1.getPath()))}()))return[cljs.core.str(x__$1)].join("");else{var base=[cljs.core.str(sablono.util._STAR_base_url_STAR_)].join("");if(cljs.core.truth_(cljs.core.re_matches.call(null,/.*\/$/,
base)))return[cljs.core.str(cljs.core.subs.call(null,base,0,cljs.core.count.call(null,base)-1)),cljs.core.str(x__$1)].join("");else return[cljs.core.str(base),cljs.core.str(x__$1)].join("")}};cljs.core.Keyword.prototype.sablono$util$ToString$=true;cljs.core.Keyword.prototype.sablono$util$ToString$to_str$arity$1=function(x){var x__$1=this;return cljs.core.name.call(null,x__$1)};sablono.util.ToURI["_"]=true;sablono.util.to_uri["_"]=function(x){return new goog.Uri([cljs.core.str(x)].join(""))};
goog.Uri.prototype.sablono$util$ToURI$=true;goog.Uri.prototype.sablono$util$ToURI$to_uri$arity$1=function(x){var x__$1=this;return x__$1};goog.provide("sablono.interpreter");goog.require("cljs.core");goog.require("sablono.util");goog.require("clojure.string");goog.require("sablono.util");goog.require("clojure.string");sablono.interpreter.IInterpreter=function(){var obj20269={};return obj20269}();
sablono.interpreter.interpret=function interpret(this$){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.sablono$interpreter$IInterpreter$interpret$arity$1;else return and__3466__auto__}())return this$.sablono$interpreter$IInterpreter$interpret$arity$1(this$);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=sablono.interpreter.interpret[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
sablono.interpreter.interpret["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"IInterpreter.interpret",this$);}}().call(null,this$)}};
sablono.interpreter.wrap_form_element=function wrap_form_element(ctor,display_name){return React.createClass({"render":function(){var this$=this;return this$.transferPropsTo(ctor.call(null,{"children":this$.props["children"],"onChange":this$["onChange"],"value":this$.state["value"]}))},"componentWillReceiveProps":function(new_props){var this$=this;return this$.setState({"value":new_props["value"]})},"onChange":function(e){var this$=this;var handler=this$.props["onChange"];if(handler==null)return null;
else{handler.call(null,e);return this$.setState({"value":e.target.value})}},"getInitialState":function(){var this$=this;return{"value":this$.props["value"]}},"getDisplayName":function(){return display_name}})};sablono.interpreter.input=sablono.interpreter.wrap_form_element.call(null,React.DOM.input,"input");sablono.interpreter.option=sablono.interpreter.wrap_form_element.call(null,React.DOM.option,"option");
sablono.interpreter.textarea=sablono.interpreter.wrap_form_element.call(null,React.DOM.textarea,"textarea");
sablono.interpreter.dom_fn=function dom_fn(tag){var temp__4124__auto__=React.DOM[cljs.core.name.call(null,tag)];if(cljs.core.truth_(temp__4124__auto__)){var dom_fn__$1=temp__4124__auto__;return cljs.core.get.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"input","input",1114262332),sablono.interpreter.input,new cljs.core.Keyword(null,"option","option",4298734567),sablono.interpreter.option,new cljs.core.Keyword(null,"textarea","textarea",4305627820),sablono.interpreter.textarea],
null),cljs.core.keyword.call(null,tag),dom_fn__$1)}else throw cljs.core.ex_info.call(null,[cljs.core.str("Unsupported HTML tag: "),cljs.core.str(cljs.core.name.call(null,tag))].join(""),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",1014018828),tag],null));};
sablono.interpreter.attributes=function attributes(attrs){var attrs__$1=cljs.core.clj__GT_js.call(null,sablono.util.html_to_dom_attrs.call(null,attrs));var class$=attrs__$1.className;var class$__$1=class$ instanceof Array?clojure.string.join.call(null," ",class$):class$;if(cljs.core.truth_(clojure.string.blank_QMARK_.call(null,class$__$1)))delete attrs__$1["className"];else attrs__$1.className=class$__$1;return attrs__$1};
sablono.interpreter.element=function element(element__$1){var vec__20271=sablono.util.normalize_element.call(null,element__$1);var tag=cljs.core.nth.call(null,vec__20271,0,null);var attrs=cljs.core.nth.call(null,vec__20271,1,null);var content=cljs.core.nth.call(null,vec__20271,2,null);var f=sablono.interpreter.dom_fn.call(null,tag);var js_attrs=sablono.interpreter.attributes.call(null,attrs);if(cljs.core.sequential_QMARK_.call(null,content)&&cljs.core._EQ_.call(null,1,cljs.core.count.call(null,content)))return f.call(null,
js_attrs,sablono.interpreter.interpret.call(null,cljs.core.first.call(null,content)));else if(cljs.core.truth_(content))return cljs.core.apply.call(null,f,js_attrs,sablono.interpreter.interpret.call(null,content));else if(new cljs.core.Keyword(null,"else","else",1017020587))return f.call(null,js_attrs,null);else return null};sablono.interpreter.interpret_seq=function interpret_seq(s){return cljs.core.into_array.call(null,cljs.core.map.call(null,sablono.interpreter.interpret,s))};
sablono.interpreter.IInterpreter["null"]=true;sablono.interpreter.interpret["null"]=function(this$){return null};sablono.interpreter.IInterpreter["_"]=true;sablono.interpreter.interpret["_"]=function(this$){return this$};cljs.core.PersistentVector.prototype.sablono$interpreter$IInterpreter$=true;cljs.core.PersistentVector.prototype.sablono$interpreter$IInterpreter$interpret$arity$1=function(this$){var this$__$1=this;return sablono.interpreter.element.call(null,this$__$1)};
cljs.core.IndexedSeq.prototype.sablono$interpreter$IInterpreter$=true;cljs.core.IndexedSeq.prototype.sablono$interpreter$IInterpreter$interpret$arity$1=function(this$){var this$__$1=this;return sablono.interpreter.interpret_seq.call(null,this$__$1)};cljs.core.List.prototype.sablono$interpreter$IInterpreter$=true;cljs.core.List.prototype.sablono$interpreter$IInterpreter$interpret$arity$1=function(this$){var this$__$1=this;return sablono.interpreter.interpret_seq.call(null,this$__$1)};
cljs.core.LazySeq.prototype.sablono$interpreter$IInterpreter$=true;cljs.core.LazySeq.prototype.sablono$interpreter$IInterpreter$interpret$arity$1=function(this$){var this$__$1=this;return sablono.interpreter.interpret_seq.call(null,this$__$1)};cljs.core.ChunkedSeq.prototype.sablono$interpreter$IInterpreter$=true;cljs.core.ChunkedSeq.prototype.sablono$interpreter$IInterpreter$interpret$arity$1=function(this$){var this$__$1=this;return sablono.interpreter.interpret_seq.call(null,this$__$1)};
cljs.core.Cons.prototype.sablono$interpreter$IInterpreter$=true;cljs.core.Cons.prototype.sablono$interpreter$IInterpreter$interpret$arity$1=function(this$){var this$__$1=this;return sablono.interpreter.interpret_seq.call(null,this$__$1)};goog.provide("sablono.core");goog.require("cljs.core");goog.require("clojure.walk");goog.require("clojure.string");goog.require("sablono.util");goog.require("goog.dom");goog.require("goog.dom");goog.require("sablono.interpreter");goog.require("sablono.interpreter");goog.require("sablono.util");goog.require("clojure.walk");goog.require("clojure.string");
sablono.core.wrap_attrs=function wrap_attrs(func){return function(){var G__20160__delegate=function(args){if(cljs.core.map_QMARK_.call(null,cljs.core.first.call(null,args))){var vec__20159=cljs.core.apply.call(null,func,cljs.core.rest.call(null,args));var tag=cljs.core.nth.call(null,vec__20159,0,null);var body=cljs.core.nthnext.call(null,vec__20159,1);if(cljs.core.map_QMARK_.call(null,cljs.core.first.call(null,body)))return cljs.core.apply.call(null,cljs.core.vector,tag,cljs.core.merge.call(null,
cljs.core.first.call(null,body),cljs.core.first.call(null,args)),cljs.core.rest.call(null,body));else return cljs.core.apply.call(null,cljs.core.vector,tag,cljs.core.first.call(null,args),body)}else return cljs.core.apply.call(null,func,args)};var G__20160=function(var_args){var args=null;if(arguments.length>0)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return G__20160__delegate.call(this,args)};G__20160.cljs$lang$maxFixedArity=0;G__20160.cljs$lang$applyTo=function(arglist__20161){var args=
cljs.core.seq(arglist__20161);return G__20160__delegate(args)};G__20160.cljs$core$IFn$_invoke$arity$variadic=G__20160__delegate;return G__20160}()};
sablono.core.update_arglists=function update_arglists(arglists){var iter__4195__auto__=function iter__20166(s__20167){return new cljs.core.LazySeq(null,function(){var s__20167__$1=s__20167;while(true){var temp__4126__auto__=cljs.core.seq.call(null,s__20167__$1);if(temp__4126__auto__){var s__20167__$2=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__20167__$2)){var c__4193__auto__=cljs.core.chunk_first.call(null,s__20167__$2);var size__4194__auto__=cljs.core.count.call(null,c__4193__auto__);
var b__20169=cljs.core.chunk_buffer.call(null,size__4194__auto__);if(function(){var i__20168=0;while(true){if(i__20168<size__4194__auto__){var args=cljs.core._nth.call(null,c__4193__auto__,i__20168);cljs.core.chunk_append.call(null,b__20169,cljs.core.vec.call(null,cljs.core.cons.call(null,new cljs.core.Symbol(null,"attr-map?","attr-map?",-1682549128,null),args)));var G__20170=i__20168+1;i__20168=G__20170;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,
b__20169),iter__20166.call(null,cljs.core.chunk_rest.call(null,s__20167__$2)));else return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__20169),null)}else{var args=cljs.core.first.call(null,s__20167__$2);return cljs.core.cons.call(null,cljs.core.vec.call(null,cljs.core.cons.call(null,new cljs.core.Symbol(null,"attr-map?","attr-map?",-1682549128,null),args)),iter__20166.call(null,cljs.core.rest.call(null,s__20167__$2)))}}else return null;break}},null,null)};return iter__4195__auto__.call(null,
arglists)};sablono.core.render=function render(component){return React.renderComponentToString(component)};
sablono.core.include_css=function(){var include_css__delegate=function(styles){var iter__4195__auto__=function iter__20175(s__20176){return new cljs.core.LazySeq(null,function(){var s__20176__$1=s__20176;while(true){var temp__4126__auto__=cljs.core.seq.call(null,s__20176__$1);if(temp__4126__auto__){var s__20176__$2=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__20176__$2)){var c__4193__auto__=cljs.core.chunk_first.call(null,s__20176__$2);var size__4194__auto__=cljs.core.count.call(null,
c__4193__auto__);var b__20178=cljs.core.chunk_buffer.call(null,size__4194__auto__);if(function(){var i__20177=0;while(true){if(i__20177<size__4194__auto__){var style=cljs.core._nth.call(null,c__4193__auto__,i__20177);cljs.core.chunk_append.call(null,b__20178,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"link","link",1017226092),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"type","type",1017479852),"text/css",new cljs.core.Keyword(null,
"href","href",1017115293),sablono.util.as_str.call(null,style),new cljs.core.Keyword(null,"rel","rel",1014017035),"stylesheet"],null)],null));var G__20179=i__20177+1;i__20177=G__20179;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__20178),iter__20175.call(null,cljs.core.chunk_rest.call(null,s__20176__$2)));else return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__20178),null)}else{var style=cljs.core.first.call(null,s__20176__$2);
return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"link","link",1017226092),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"type","type",1017479852),"text/css",new cljs.core.Keyword(null,"href","href",1017115293),sablono.util.as_str.call(null,style),new cljs.core.Keyword(null,"rel","rel",1014017035),"stylesheet"],null)],null),iter__20175.call(null,cljs.core.rest.call(null,s__20176__$2)))}}else return null;
break}},null,null)};return iter__4195__auto__.call(null,styles)};var include_css=function(var_args){var styles=null;if(arguments.length>0)styles=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return include_css__delegate.call(this,styles)};include_css.cljs$lang$maxFixedArity=0;include_css.cljs$lang$applyTo=function(arglist__20180){var styles=cljs.core.seq(arglist__20180);return include_css__delegate(styles)};include_css.cljs$core$IFn$_invoke$arity$variadic=include_css__delegate;return include_css}();
sablono.core.include_js=function include_js(src){return goog.dom.appendChild(goog.dom.getDocument().body,goog.dom.createDom("script",{"src":src}))};sablono.core.include_react=function include_react(){return sablono.core.include_js.call(null,"http://fb.me/react-0.9.0.js")};
sablono.core.link_to20181=function(){var link_to20181__delegate=function(url,content){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"a","a",1013904339),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"href","href",1017115293),sablono.util.as_str.call(null,url)],null),content],null)};var link_to20181=function(url,var_args){var content=null;if(arguments.length>1)content=cljs.core.array_seq(Array.prototype.slice.call(arguments,
1),0);return link_to20181__delegate.call(this,url,content)};link_to20181.cljs$lang$maxFixedArity=1;link_to20181.cljs$lang$applyTo=function(arglist__20182){var url=cljs.core.first(arglist__20182);var content=cljs.core.rest(arglist__20182);return link_to20181__delegate(url,content)};link_to20181.cljs$core$IFn$_invoke$arity$variadic=link_to20181__delegate;return link_to20181}();sablono.core.link_to=sablono.core.wrap_attrs.call(null,sablono.core.link_to20181);
sablono.core.mail_to20183=function(){var mail_to20183__delegate=function(e_mail,p__20184){var vec__20186=p__20184;var content=cljs.core.nth.call(null,vec__20186,0,null);return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"a","a",1013904339),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"href","href",1017115293),[cljs.core.str("mailto:"),cljs.core.str(e_mail)].join("")],null),function(){var or__3478__auto__=content;
if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return e_mail}()],null)};var mail_to20183=function(e_mail,var_args){var p__20184=null;if(arguments.length>1)p__20184=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return mail_to20183__delegate.call(this,e_mail,p__20184)};mail_to20183.cljs$lang$maxFixedArity=1;mail_to20183.cljs$lang$applyTo=function(arglist__20187){var e_mail=cljs.core.first(arglist__20187);var p__20184=cljs.core.rest(arglist__20187);return mail_to20183__delegate(e_mail,
p__20184)};mail_to20183.cljs$core$IFn$_invoke$arity$variadic=mail_to20183__delegate;return mail_to20183}();sablono.core.mail_to=sablono.core.wrap_attrs.call(null,sablono.core.mail_to20183);
sablono.core.unordered_list20188=function unordered_list20188(coll){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"ul","ul",1013907977),function(){var iter__4195__auto__=function iter__20193(s__20194){return new cljs.core.LazySeq(null,function(){var s__20194__$1=s__20194;while(true){var temp__4126__auto__=cljs.core.seq.call(null,s__20194__$1);if(temp__4126__auto__){var s__20194__$2=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,
s__20194__$2)){var c__4193__auto__=cljs.core.chunk_first.call(null,s__20194__$2);var size__4194__auto__=cljs.core.count.call(null,c__4193__auto__);var b__20196=cljs.core.chunk_buffer.call(null,size__4194__auto__);if(function(){var i__20195=0;while(true){if(i__20195<size__4194__auto__){var x=cljs.core._nth.call(null,c__4193__auto__,i__20195);cljs.core.chunk_append.call(null,b__20196,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"li","li",
1013907695),x],null));var G__20197=i__20195+1;i__20195=G__20197;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__20196),iter__20193.call(null,cljs.core.chunk_rest.call(null,s__20194__$2)));else return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__20196),null)}else{var x=cljs.core.first.call(null,s__20194__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,
"li","li",1013907695),x],null),iter__20193.call(null,cljs.core.rest.call(null,s__20194__$2)))}}else return null;break}},null,null)};return iter__4195__auto__.call(null,coll)}()],null)};sablono.core.unordered_list=sablono.core.wrap_attrs.call(null,sablono.core.unordered_list20188);
sablono.core.ordered_list20198=function ordered_list20198(coll){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"ol","ol",1013907791),function(){var iter__4195__auto__=function iter__20203(s__20204){return new cljs.core.LazySeq(null,function(){var s__20204__$1=s__20204;while(true){var temp__4126__auto__=cljs.core.seq.call(null,s__20204__$1);if(temp__4126__auto__){var s__20204__$2=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,
s__20204__$2)){var c__4193__auto__=cljs.core.chunk_first.call(null,s__20204__$2);var size__4194__auto__=cljs.core.count.call(null,c__4193__auto__);var b__20206=cljs.core.chunk_buffer.call(null,size__4194__auto__);if(function(){var i__20205=0;while(true){if(i__20205<size__4194__auto__){var x=cljs.core._nth.call(null,c__4193__auto__,i__20205);cljs.core.chunk_append.call(null,b__20206,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"li","li",
1013907695),x],null));var G__20207=i__20205+1;i__20205=G__20207;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__20206),iter__20203.call(null,cljs.core.chunk_rest.call(null,s__20204__$2)));else return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__20206),null)}else{var x=cljs.core.first.call(null,s__20204__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,
"li","li",1013907695),x],null),iter__20203.call(null,cljs.core.rest.call(null,s__20204__$2)))}}else return null;break}},null,null)};return iter__4195__auto__.call(null,coll)}()],null)};sablono.core.ordered_list=sablono.core.wrap_attrs.call(null,sablono.core.ordered_list20198);
sablono.core.image20208=function(){var image20208=null;var image20208__1=function(src){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"img","img",1014008629),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"src","src",1014018390),sablono.util.as_str.call(null,src)],null)],null)};var image20208__2=function(src,alt){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,
"img","img",1014008629),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"src","src",1014018390),sablono.util.as_str.call(null,src),new cljs.core.Keyword(null,"alt","alt",1014000923),alt],null)],null)};image20208=function(src,alt){switch(arguments.length){case 1:return image20208__1.call(this,src);case 2:return image20208__2.call(this,src,alt)}throw new Error("Invalid arity: "+arguments.length);};image20208.cljs$core$IFn$_invoke$arity$1=image20208__1;image20208.cljs$core$IFn$_invoke$arity$2=
image20208__2;return image20208}();sablono.core.image=sablono.core.wrap_attrs.call(null,sablono.core.image20208);sablono.core._STAR_group_STAR_=cljs.core.PersistentVector.EMPTY;
sablono.core.make_name=function make_name(name){return cljs.core.reduce.call(null,function(p1__20209_SHARP_,p2__20210_SHARP_){return[cljs.core.str(p1__20209_SHARP_),cljs.core.str("["),cljs.core.str(p2__20210_SHARP_),cljs.core.str("]")].join("")},cljs.core.conj.call(null,sablono.core._STAR_group_STAR_,sablono.util.as_str.call(null,name)))};
sablono.core.make_id=function make_id(name){return cljs.core.reduce.call(null,function(p1__20211_SHARP_,p2__20212_SHARP_){return[cljs.core.str(p1__20211_SHARP_),cljs.core.str("-"),cljs.core.str(p2__20212_SHARP_)].join("")},cljs.core.conj.call(null,sablono.core._STAR_group_STAR_,sablono.util.as_str.call(null,name)))};
sablono.core.input_field_STAR_=function input_field_STAR_(type,name,value){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"type","type",1017479852),type,new cljs.core.Keyword(null,"name","name",1017277949),sablono.core.make_name.call(null,name),new cljs.core.Keyword(null,"id","id",1013907597),sablono.core.make_id.call(null,name),new cljs.core.Keyword(null,
"value","value",1125876963),value],null)],null)};
sablono.core.color_field20213=function(){var color_field20213=null;var color_field20213__1=function(name__6546__auto__){return color_field20213.call(null,name__6546__auto__,null)};var color_field20213__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"color","color",-1545688804,null))].join(""),name__6546__auto__,value__6547__auto__)};color_field20213=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return color_field20213__1.call(this,
name__6546__auto__);case 2:return color_field20213__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};color_field20213.cljs$core$IFn$_invoke$arity$1=color_field20213__1;color_field20213.cljs$core$IFn$_invoke$arity$2=color_field20213__2;return color_field20213}();sablono.core.color_field=sablono.core.wrap_attrs.call(null,sablono.core.color_field20213);
sablono.core.date_field20214=function(){var date_field20214=null;var date_field20214__1=function(name__6546__auto__){return date_field20214.call(null,name__6546__auto__,null)};var date_field20214__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"date","date",-1637455513,null))].join(""),name__6546__auto__,value__6547__auto__)};date_field20214=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return date_field20214__1.call(this,
name__6546__auto__);case 2:return date_field20214__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};date_field20214.cljs$core$IFn$_invoke$arity$1=date_field20214__1;date_field20214.cljs$core$IFn$_invoke$arity$2=date_field20214__2;return date_field20214}();sablono.core.date_field=sablono.core.wrap_attrs.call(null,sablono.core.date_field20214);
sablono.core.datetime_field20215=function(){var datetime_field20215=null;var datetime_field20215__1=function(name__6546__auto__){return datetime_field20215.call(null,name__6546__auto__,null)};var datetime_field20215__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"datetime","datetime",153171252,null))].join(""),name__6546__auto__,value__6547__auto__)};datetime_field20215=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return datetime_field20215__1.call(this,
name__6546__auto__);case 2:return datetime_field20215__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};datetime_field20215.cljs$core$IFn$_invoke$arity$1=datetime_field20215__1;datetime_field20215.cljs$core$IFn$_invoke$arity$2=datetime_field20215__2;return datetime_field20215}();sablono.core.datetime_field=sablono.core.wrap_attrs.call(null,sablono.core.datetime_field20215);
sablono.core.datetime_local_field20216=function(){var datetime_local_field20216=null;var datetime_local_field20216__1=function(name__6546__auto__){return datetime_local_field20216.call(null,name__6546__auto__,null)};var datetime_local_field20216__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"datetime-local","datetime-local",1631019090,null))].join(""),name__6546__auto__,value__6547__auto__)};datetime_local_field20216=
function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return datetime_local_field20216__1.call(this,name__6546__auto__);case 2:return datetime_local_field20216__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};datetime_local_field20216.cljs$core$IFn$_invoke$arity$1=datetime_local_field20216__1;datetime_local_field20216.cljs$core$IFn$_invoke$arity$2=datetime_local_field20216__2;return datetime_local_field20216}();
sablono.core.datetime_local_field=sablono.core.wrap_attrs.call(null,sablono.core.datetime_local_field20216);
sablono.core.email_field20217=function(){var email_field20217=null;var email_field20217__1=function(name__6546__auto__){return email_field20217.call(null,name__6546__auto__,null)};var email_field20217__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"email","email",-1543912107,null))].join(""),name__6546__auto__,value__6547__auto__)};email_field20217=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return email_field20217__1.call(this,
name__6546__auto__);case 2:return email_field20217__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};email_field20217.cljs$core$IFn$_invoke$arity$1=email_field20217__1;email_field20217.cljs$core$IFn$_invoke$arity$2=email_field20217__2;return email_field20217}();sablono.core.email_field=sablono.core.wrap_attrs.call(null,sablono.core.email_field20217);
sablono.core.file_field20218=function(){var file_field20218=null;var file_field20218__1=function(name__6546__auto__){return file_field20218.call(null,name__6546__auto__,null)};var file_field20218__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"file","file",-1637388491,null))].join(""),name__6546__auto__,value__6547__auto__)};file_field20218=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return file_field20218__1.call(this,
name__6546__auto__);case 2:return file_field20218__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};file_field20218.cljs$core$IFn$_invoke$arity$1=file_field20218__1;file_field20218.cljs$core$IFn$_invoke$arity$2=file_field20218__2;return file_field20218}();sablono.core.file_field=sablono.core.wrap_attrs.call(null,sablono.core.file_field20218);
sablono.core.hidden_field20219=function(){var hidden_field20219=null;var hidden_field20219__1=function(name__6546__auto__){return hidden_field20219.call(null,name__6546__auto__,null)};var hidden_field20219__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"hidden","hidden",1436948323,null))].join(""),name__6546__auto__,value__6547__auto__)};hidden_field20219=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return hidden_field20219__1.call(this,
name__6546__auto__);case 2:return hidden_field20219__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};hidden_field20219.cljs$core$IFn$_invoke$arity$1=hidden_field20219__1;hidden_field20219.cljs$core$IFn$_invoke$arity$2=hidden_field20219__2;return hidden_field20219}();sablono.core.hidden_field=sablono.core.wrap_attrs.call(null,sablono.core.hidden_field20219);
sablono.core.month_field20220=function(){var month_field20220=null;var month_field20220__1=function(name__6546__auto__){return month_field20220.call(null,name__6546__auto__,null)};var month_field20220__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"month","month",-1536451527,null))].join(""),name__6546__auto__,value__6547__auto__)};month_field20220=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return month_field20220__1.call(this,
name__6546__auto__);case 2:return month_field20220__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};month_field20220.cljs$core$IFn$_invoke$arity$1=month_field20220__1;month_field20220.cljs$core$IFn$_invoke$arity$2=month_field20220__2;return month_field20220}();sablono.core.month_field=sablono.core.wrap_attrs.call(null,sablono.core.month_field20220);
sablono.core.number_field20221=function(){var number_field20221=null;var number_field20221__1=function(name__6546__auto__){return number_field20221.call(null,name__6546__auto__,null)};var number_field20221__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"number","number",1620071682,null))].join(""),name__6546__auto__,value__6547__auto__)};number_field20221=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return number_field20221__1.call(this,
name__6546__auto__);case 2:return number_field20221__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};number_field20221.cljs$core$IFn$_invoke$arity$1=number_field20221__1;number_field20221.cljs$core$IFn$_invoke$arity$2=number_field20221__2;return number_field20221}();sablono.core.number_field=sablono.core.wrap_attrs.call(null,sablono.core.number_field20221);
sablono.core.password_field20222=function(){var password_field20222=null;var password_field20222__1=function(name__6546__auto__){return password_field20222.call(null,name__6546__auto__,null)};var password_field20222__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"password","password",-423545772,null))].join(""),name__6546__auto__,value__6547__auto__)};password_field20222=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return password_field20222__1.call(this,
name__6546__auto__);case 2:return password_field20222__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};password_field20222.cljs$core$IFn$_invoke$arity$1=password_field20222__1;password_field20222.cljs$core$IFn$_invoke$arity$2=password_field20222__2;return password_field20222}();sablono.core.password_field=sablono.core.wrap_attrs.call(null,sablono.core.password_field20222);
sablono.core.range_field20223=function(){var range_field20223=null;var range_field20223__1=function(name__6546__auto__){return range_field20223.call(null,name__6546__auto__,null)};var range_field20223__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"range","range",-1532251402,null))].join(""),name__6546__auto__,value__6547__auto__)};range_field20223=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return range_field20223__1.call(this,
name__6546__auto__);case 2:return range_field20223__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};range_field20223.cljs$core$IFn$_invoke$arity$1=range_field20223__1;range_field20223.cljs$core$IFn$_invoke$arity$2=range_field20223__2;return range_field20223}();sablono.core.range_field=sablono.core.wrap_attrs.call(null,sablono.core.range_field20223);
sablono.core.search_field20224=function(){var search_field20224=null;var search_field20224__1=function(name__6546__auto__){return search_field20224.call(null,name__6546__auto__,null)};var search_field20224__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"search","search",1748098913,null))].join(""),name__6546__auto__,value__6547__auto__)};search_field20224=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return search_field20224__1.call(this,
name__6546__auto__);case 2:return search_field20224__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};search_field20224.cljs$core$IFn$_invoke$arity$1=search_field20224__1;search_field20224.cljs$core$IFn$_invoke$arity$2=search_field20224__2;return search_field20224}();sablono.core.search_field=sablono.core.wrap_attrs.call(null,sablono.core.search_field20224);
sablono.core.tel_field20225=function(){var tel_field20225=null;var tel_field20225__1=function(name__6546__auto__){return tel_field20225.call(null,name__6546__auto__,null)};var tel_field20225__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"tel","tel",-1640416812,null))].join(""),name__6546__auto__,value__6547__auto__)};tel_field20225=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return tel_field20225__1.call(this,
name__6546__auto__);case 2:return tel_field20225__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};tel_field20225.cljs$core$IFn$_invoke$arity$1=tel_field20225__1;tel_field20225.cljs$core$IFn$_invoke$arity$2=tel_field20225__2;return tel_field20225}();sablono.core.tel_field=sablono.core.wrap_attrs.call(null,sablono.core.tel_field20225);
sablono.core.text_field20226=function(){var text_field20226=null;var text_field20226__1=function(name__6546__auto__){return text_field20226.call(null,name__6546__auto__,null)};var text_field20226__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"text","text",-1636974874,null))].join(""),name__6546__auto__,value__6547__auto__)};text_field20226=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return text_field20226__1.call(this,
name__6546__auto__);case 2:return text_field20226__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};text_field20226.cljs$core$IFn$_invoke$arity$1=text_field20226__1;text_field20226.cljs$core$IFn$_invoke$arity$2=text_field20226__2;return text_field20226}();sablono.core.text_field=sablono.core.wrap_attrs.call(null,sablono.core.text_field20226);
sablono.core.time_field20227=function(){var time_field20227=null;var time_field20227__1=function(name__6546__auto__){return time_field20227.call(null,name__6546__auto__,null)};var time_field20227__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"time","time",-1636971386,null))].join(""),name__6546__auto__,value__6547__auto__)};time_field20227=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return time_field20227__1.call(this,
name__6546__auto__);case 2:return time_field20227__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};time_field20227.cljs$core$IFn$_invoke$arity$1=time_field20227__1;time_field20227.cljs$core$IFn$_invoke$arity$2=time_field20227__2;return time_field20227}();sablono.core.time_field=sablono.core.wrap_attrs.call(null,sablono.core.time_field20227);
sablono.core.url_field20228=function(){var url_field20228=null;var url_field20228__1=function(name__6546__auto__){return url_field20228.call(null,name__6546__auto__,null)};var url_field20228__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"url","url",-1640415448,null))].join(""),name__6546__auto__,value__6547__auto__)};url_field20228=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return url_field20228__1.call(this,
name__6546__auto__);case 2:return url_field20228__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};url_field20228.cljs$core$IFn$_invoke$arity$1=url_field20228__1;url_field20228.cljs$core$IFn$_invoke$arity$2=url_field20228__2;return url_field20228}();sablono.core.url_field=sablono.core.wrap_attrs.call(null,sablono.core.url_field20228);
sablono.core.week_field20229=function(){var week_field20229=null;var week_field20229__1=function(name__6546__auto__){return week_field20229.call(null,name__6546__auto__,null)};var week_field20229__2=function(name__6546__auto__,value__6547__auto__){return sablono.core.input_field_STAR_.call(null,[cljs.core.str(new cljs.core.Symbol(null,"week","week",-1636886099,null))].join(""),name__6546__auto__,value__6547__auto__)};week_field20229=function(name__6546__auto__,value__6547__auto__){switch(arguments.length){case 1:return week_field20229__1.call(this,
name__6546__auto__);case 2:return week_field20229__2.call(this,name__6546__auto__,value__6547__auto__)}throw new Error("Invalid arity: "+arguments.length);};week_field20229.cljs$core$IFn$_invoke$arity$1=week_field20229__1;week_field20229.cljs$core$IFn$_invoke$arity$2=week_field20229__2;return week_field20229}();sablono.core.week_field=sablono.core.wrap_attrs.call(null,sablono.core.week_field20229);sablono.core.file_upload=sablono.core.file_field;
sablono.core.check_box20230=function(){var check_box20230=null;var check_box20230__1=function(name){return check_box20230.call(null,name,null)};var check_box20230__2=function(name,checked_QMARK_){return check_box20230.call(null,name,checked_QMARK_,"true")};var check_box20230__3=function(name,checked_QMARK_,value){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,
"type","type",1017479852),"checkbox",new cljs.core.Keyword(null,"name","name",1017277949),sablono.core.make_name.call(null,name),new cljs.core.Keyword(null,"id","id",1013907597),sablono.core.make_id.call(null,name),new cljs.core.Keyword(null,"value","value",1125876963),value,new cljs.core.Keyword(null,"checked","checked",1756218137),checked_QMARK_],null)],null)};check_box20230=function(name,checked_QMARK_,value){switch(arguments.length){case 1:return check_box20230__1.call(this,name);case 2:return check_box20230__2.call(this,
name,checked_QMARK_);case 3:return check_box20230__3.call(this,name,checked_QMARK_,value)}throw new Error("Invalid arity: "+arguments.length);};check_box20230.cljs$core$IFn$_invoke$arity$1=check_box20230__1;check_box20230.cljs$core$IFn$_invoke$arity$2=check_box20230__2;check_box20230.cljs$core$IFn$_invoke$arity$3=check_box20230__3;return check_box20230}();sablono.core.check_box=sablono.core.wrap_attrs.call(null,sablono.core.check_box20230);
sablono.core.radio_button20231=function(){var radio_button20231=null;var radio_button20231__1=function(group){return radio_button20231.call(null,group,null)};var radio_button20231__2=function(group,checked_QMARK_){return radio_button20231.call(null,group,checked_QMARK_,"true")};var radio_button20231__3=function(group,checked_QMARK_,value){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null,
5,[new cljs.core.Keyword(null,"type","type",1017479852),"radio",new cljs.core.Keyword(null,"name","name",1017277949),sablono.core.make_name.call(null,group),new cljs.core.Keyword(null,"id","id",1013907597),sablono.core.make_id.call(null,[cljs.core.str(sablono.util.as_str.call(null,group)),cljs.core.str("-"),cljs.core.str(sablono.util.as_str.call(null,value))].join("")),new cljs.core.Keyword(null,"value","value",1125876963),value,new cljs.core.Keyword(null,"checked","checked",1756218137),checked_QMARK_],
null)],null)};radio_button20231=function(group,checked_QMARK_,value){switch(arguments.length){case 1:return radio_button20231__1.call(this,group);case 2:return radio_button20231__2.call(this,group,checked_QMARK_);case 3:return radio_button20231__3.call(this,group,checked_QMARK_,value)}throw new Error("Invalid arity: "+arguments.length);};radio_button20231.cljs$core$IFn$_invoke$arity$1=radio_button20231__1;radio_button20231.cljs$core$IFn$_invoke$arity$2=radio_button20231__2;radio_button20231.cljs$core$IFn$_invoke$arity$3=
radio_button20231__3;return radio_button20231}();sablono.core.radio_button=sablono.core.wrap_attrs.call(null,sablono.core.radio_button20231);
sablono.core.select_options20232=function(){var select_options20232=null;var select_options20232__1=function(coll){return select_options20232.call(null,coll,null)};var select_options20232__2=function(coll,selected){var iter__4195__auto__=function iter__20241(s__20242){return new cljs.core.LazySeq(null,function(){var s__20242__$1=s__20242;while(true){var temp__4126__auto__=cljs.core.seq.call(null,s__20242__$1);if(temp__4126__auto__){var s__20242__$2=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,
s__20242__$2)){var c__4193__auto__=cljs.core.chunk_first.call(null,s__20242__$2);var size__4194__auto__=cljs.core.count.call(null,c__4193__auto__);var b__20244=cljs.core.chunk_buffer.call(null,size__4194__auto__);if(function(){var i__20243=0;while(true){if(i__20243<size__4194__auto__){var x=cljs.core._nth.call(null,c__4193__auto__,i__20243);cljs.core.chunk_append.call(null,b__20244,cljs.core.sequential_QMARK_.call(null,x)?function(){var vec__20247=x;var text=cljs.core.nth.call(null,vec__20247,0,null);
var val=cljs.core.nth.call(null,vec__20247,1,null);var disabled_QMARK_=cljs.core.nth.call(null,vec__20247,2,null);var disabled_QMARK___$1=cljs.core.boolean$.call(null,disabled_QMARK_);if(cljs.core.sequential_QMARK_.call(null,val))return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"optgroup","optgroup",933131038),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"label","label",1116631654),text],null),select_options20232.call(null,
val,selected)],null);else return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"option","option",4298734567),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"value","value",1125876963),val,new cljs.core.Keyword(null,"selected","selected",2205476365),cljs.core._EQ_.call(null,val,selected),new cljs.core.Keyword(null,"disabled","disabled",1284845038),disabled_QMARK___$1],null),text],null)}():new cljs.core.PersistentVector(null,
3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"option","option",4298734567),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"selected","selected",2205476365),cljs.core._EQ_.call(null,x,selected)],null),x],null));var G__20249=i__20243+1;i__20243=G__20249;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__20244),iter__20241.call(null,cljs.core.chunk_rest.call(null,s__20242__$2)));else return cljs.core.chunk_cons.call(null,
cljs.core.chunk.call(null,b__20244),null)}else{var x=cljs.core.first.call(null,s__20242__$2);return cljs.core.cons.call(null,cljs.core.sequential_QMARK_.call(null,x)?function(){var vec__20248=x;var text=cljs.core.nth.call(null,vec__20248,0,null);var val=cljs.core.nth.call(null,vec__20248,1,null);var disabled_QMARK_=cljs.core.nth.call(null,vec__20248,2,null);var disabled_QMARK___$1=cljs.core.boolean$.call(null,disabled_QMARK_);if(cljs.core.sequential_QMARK_.call(null,val))return new cljs.core.PersistentVector(null,
3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"optgroup","optgroup",933131038),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"label","label",1116631654),text],null),select_options20232.call(null,val,selected)],null);else return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"option","option",4298734567),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"value","value",1125876963),
val,new cljs.core.Keyword(null,"selected","selected",2205476365),cljs.core._EQ_.call(null,val,selected),new cljs.core.Keyword(null,"disabled","disabled",1284845038),disabled_QMARK___$1],null),text],null)}():new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"option","option",4298734567),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"selected","selected",2205476365),cljs.core._EQ_.call(null,x,selected)],null),x],null),iter__20241.call(null,
cljs.core.rest.call(null,s__20242__$2)))}}else return null;break}},null,null)};return iter__4195__auto__.call(null,coll)};select_options20232=function(coll,selected){switch(arguments.length){case 1:return select_options20232__1.call(this,coll);case 2:return select_options20232__2.call(this,coll,selected)}throw new Error("Invalid arity: "+arguments.length);};select_options20232.cljs$core$IFn$_invoke$arity$1=select_options20232__1;select_options20232.cljs$core$IFn$_invoke$arity$2=select_options20232__2;
return select_options20232}();sablono.core.select_options=sablono.core.wrap_attrs.call(null,sablono.core.select_options20232);
sablono.core.drop_down20250=function(){var drop_down20250=null;var drop_down20250__2=function(name,options){return drop_down20250.call(null,name,options,null)};var drop_down20250__3=function(name,options,selected){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"select","select",4402849902),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"name","name",1017277949),sablono.core.make_name.call(null,name),new cljs.core.Keyword(null,
"id","id",1013907597),sablono.core.make_id.call(null,name)],null),sablono.core.select_options.call(null,options,selected)],null)};drop_down20250=function(name,options,selected){switch(arguments.length){case 2:return drop_down20250__2.call(this,name,options);case 3:return drop_down20250__3.call(this,name,options,selected)}throw new Error("Invalid arity: "+arguments.length);};drop_down20250.cljs$core$IFn$_invoke$arity$2=drop_down20250__2;drop_down20250.cljs$core$IFn$_invoke$arity$3=drop_down20250__3;
return drop_down20250}();sablono.core.drop_down=sablono.core.wrap_attrs.call(null,sablono.core.drop_down20250);
sablono.core.text_area20251=function(){var text_area20251=null;var text_area20251__1=function(name){return text_area20251.call(null,name,null)};var text_area20251__2=function(name,value){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"textarea","textarea",4305627820),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"name","name",1017277949),sablono.core.make_name.call(null,name),new cljs.core.Keyword(null,"id","id",
1013907597),sablono.core.make_id.call(null,name),new cljs.core.Keyword(null,"value","value",1125876963),value],null)],null)};text_area20251=function(name,value){switch(arguments.length){case 1:return text_area20251__1.call(this,name);case 2:return text_area20251__2.call(this,name,value)}throw new Error("Invalid arity: "+arguments.length);};text_area20251.cljs$core$IFn$_invoke$arity$1=text_area20251__1;text_area20251.cljs$core$IFn$_invoke$arity$2=text_area20251__2;return text_area20251}();
sablono.core.text_area=sablono.core.wrap_attrs.call(null,sablono.core.text_area20251);sablono.core.label20252=function label20252(name,text){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"label","label",1116631654),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"htmlFor","htmlFor",2249940112),sablono.core.make_id.call(null,name)],null),text],null)};sablono.core.label=sablono.core.wrap_attrs.call(null,sablono.core.label20252);
sablono.core.submit_button20253=function submit_button20253(text){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"type","type",1017479852),"submit",new cljs.core.Keyword(null,"value","value",1125876963),text],null)],null)};sablono.core.submit_button=sablono.core.wrap_attrs.call(null,sablono.core.submit_button20253);
sablono.core.reset_button20254=function reset_button20254(text){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"input","input",1114262332),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"type","type",1017479852),"reset",new cljs.core.Keyword(null,"value","value",1125876963),text],null)],null)};sablono.core.reset_button=sablono.core.wrap_attrs.call(null,sablono.core.reset_button20254);
sablono.core.form_to20255=function(){var form_to20255__delegate=function(p__20256,body){var vec__20258=p__20256;var method=cljs.core.nth.call(null,vec__20258,0,null);var action=cljs.core.nth.call(null,vec__20258,1,null);var method_str=clojure.string.upper_case.call(null,cljs.core.name.call(null,method));var action_uri=sablono.util.to_uri.call(null,action);return cljs.core.vec.call(null,cljs.core.concat.call(null,cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,
2,[new cljs.core.Keyword(null,"get","get",1014006472),null,new cljs.core.Keyword(null,"post","post",1017351186),null],null),null),method)?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"form","form",1017053238),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"method","method",4231316563),method_str,new cljs.core.Keyword(null,"action","action",3885920680),action_uri],null)],null):new cljs.core.PersistentVector(null,3,5,
cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"form","form",1017053238),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"method","method",4231316563),"POST",new cljs.core.Keyword(null,"action","action",3885920680),action_uri],null),sablono.core.hidden_field.call(null,"_method",method_str)],null),body))};var form_to20255=function(p__20256,var_args){var body=null;if(arguments.length>1)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return form_to20255__delegate.call(this,
p__20256,body)};form_to20255.cljs$lang$maxFixedArity=1;form_to20255.cljs$lang$applyTo=function(arglist__20259){var p__20256=cljs.core.first(arglist__20259);var body=cljs.core.rest(arglist__20259);return form_to20255__delegate(p__20256,body)};form_to20255.cljs$core$IFn$_invoke$arity$variadic=form_to20255__delegate;return form_to20255}();sablono.core.form_to=sablono.core.wrap_attrs.call(null,sablono.core.form_to20255);goog.provide("kioo.util");goog.require("cljs.core");goog.require("clojure.string");goog.require("clojure.string");kioo.util._STAR_component_STAR_=null;
kioo.util.WrapComponent=React.createClass({"componentWillMount":function(){var this$=this;var temp__4126__auto__=function(){var or__3478__auto__=this$.props["willMount"];if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return this$.props["onWillMount"]}();if(cljs.core.truth_(temp__4126__auto__)){var f=temp__4126__auto__;var _STAR_component_STAR_20054=kioo.util._STAR_component_STAR_;try{kioo.util._STAR_component_STAR_=this$;return f.call(null,this$)}finally{kioo.util._STAR_component_STAR_=
_STAR_component_STAR_20054}}else return null},"componentDidMount":function(){var this$=this;var temp__4126__auto__=function(){var or__3478__auto__=this$.props["didMount"];if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=this$.props["onMount"];if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else return this$.props["onRender"]}}();if(cljs.core.truth_(temp__4126__auto__)){var f=temp__4126__auto__;var _STAR_component_STAR_20053=kioo.util._STAR_component_STAR_;
try{kioo.util._STAR_component_STAR_=this$;return f.call(null,this$)}finally{kioo.util._STAR_component_STAR_=_STAR_component_STAR_20053}}else return null},"getInitialState":function(){var this$=this;var temp__4126__auto__=this$.props["initState"];if(cljs.core.truth_(temp__4126__auto__)){var f=temp__4126__auto__;var _STAR_component_STAR_20052=kioo.util._STAR_component_STAR_;try{kioo.util._STAR_component_STAR_=this$;return f.call(null,this$)}finally{kioo.util._STAR_component_STAR_=_STAR_component_STAR_20052}}else return null},
"componentWillUpdate":function(next_props,next_state){var this$=this;var temp__4126__auto__=function(){var or__3478__auto__=this$.props["willUpdate"];if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return this$.props["onWillUpdate"]}();if(cljs.core.truth_(temp__4126__auto__)){var f=temp__4126__auto__;var _STAR_component_STAR_20051=kioo.util._STAR_component_STAR_;try{kioo.util._STAR_component_STAR_=this$;return f.call(null,this$,next_props,next_state)}finally{kioo.util._STAR_component_STAR_=
_STAR_component_STAR_20051}}else return null},"render":function(){var this$=this;return this$.props["wrappee"]},"componentShouldUpdate":function(next_props,next_state){var this$=this;var temp__4126__auto__=this$.props["shouldUpdate"];if(cljs.core.truth_(temp__4126__auto__)){var f=temp__4126__auto__;var _STAR_component_STAR_20050=kioo.util._STAR_component_STAR_;try{kioo.util._STAR_component_STAR_=this$;return f.call(null,this$,next_props,next_state)}finally{kioo.util._STAR_component_STAR_=_STAR_component_STAR_20050}}else return null},
"componentWillReceiveProps":function(next_props){var this$=this;var temp__4126__auto__=function(){var or__3478__auto__=this$.props["willReceiveProps"];if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return this$.props["onWillReceiveProps"]}();if(cljs.core.truth_(temp__4126__auto__)){var f=temp__4126__auto__;var _STAR_component_STAR_20049=kioo.util._STAR_component_STAR_;try{kioo.util._STAR_component_STAR_=this$;return f.call(null,this$,next_props)}finally{kioo.util._STAR_component_STAR_=
_STAR_component_STAR_20049}}else return null},"componentWillUnmount":function(){var this$=this;var temp__4126__auto__=function(){var or__3478__auto__=this$.props["willUnmount"];if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return this$.props["onUnmount"]}();if(cljs.core.truth_(temp__4126__auto__)){var f=temp__4126__auto__;var _STAR_component_STAR_20048=kioo.util._STAR_component_STAR_;try{kioo.util._STAR_component_STAR_=this$;return f.call(null,this$)}finally{kioo.util._STAR_component_STAR_=
_STAR_component_STAR_20048}}else return null},"componentDidUpdate":function(prev_props,prev_state){var this$=this;var temp__4126__auto__=function(){var or__3478__auto__=this$.props["didUpdate"];if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=this$.props["onUpdate"];if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;else return this$.props["onRender"]}}();if(cljs.core.truth_(temp__4126__auto__)){var f=temp__4126__auto__;var _STAR_component_STAR_20047=
kioo.util._STAR_component_STAR_;try{kioo.util._STAR_component_STAR_=this$;return f.call(null,this$,prev_props,prev_state)}finally{kioo.util._STAR_component_STAR_=_STAR_component_STAR_20047}}else return null}});kioo.util.dont_camel_case=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,["aria",null,"data",null],null),null);
kioo.util.camel_case=function camel_case(dashed){if(typeof dashed==="string")return dashed;else{var name_str=cljs.core.name.call(null,dashed);var vec__20056=clojure.string.split.call(null,name_str,/-/);var start=cljs.core.nth.call(null,vec__20056,0,null);var parts=cljs.core.nthnext.call(null,vec__20056,1);if(cljs.core.truth_(kioo.util.dont_camel_case.call(null,start)))return name_str;else return cljs.core.apply.call(null,cljs.core.str,start,cljs.core.map.call(null,clojure.string.capitalize,parts))}};
kioo.util.attribute_map=cljs.core.assoc.call(null,cljs.core.reduce.call(null,function(p1__20057_SHARP_,p2__20058_SHARP_){return cljs.core.assoc.call(null,p1__20057_SHARP_,cljs.core.keyword.call(null,cljs.core.name.call(null,p2__20058_SHARP_).toLowerCase()),p2__20058_SHARP_)},cljs.core.PersistentArrayMap.EMPTY,cljs.core.PersistentVector.fromArray([new cljs.core.Keyword(null,"accessKey","accessKey",3193813453),new cljs.core.Keyword(null,"allowFullScreen","allowFullScreen",4370862966),new cljs.core.Keyword(null,
"allowTransparency","allowTransparency",1093898419),new cljs.core.Keyword(null,"autoComplete","autoComplete",4535568250),new cljs.core.Keyword(null,"autoFocus","autoFocus",2651959259),new cljs.core.Keyword(null,"autoPlay","autoPlay",2452513013),new cljs.core.Keyword(null,"cellPadding","cellPadding",3303033793),new cljs.core.Keyword(null,"cellSpacing","cellSpacing",2097214451),new cljs.core.Keyword(null,"charSet","charSet",1752947870),new cljs.core.Keyword(null,"colSpan","colSpan",1962614876),new cljs.core.Keyword(null,
"contentEditable","contentEditable",745009519),new cljs.core.Keyword(null,"contextMenu","contextMenu",910836512),new cljs.core.Keyword(null,"dateTime","dateTime",2806653709),new cljs.core.Keyword(null,"encType","encType",3700720294),new cljs.core.Keyword(null,"formNoValidate","formNoValidate",3746099533),new cljs.core.Keyword(null,"frameBorder","frameBorder",4678186859),new cljs.core.Keyword(null,"htmlFor","htmlFor",2249940112),new cljs.core.Keyword(null,"httpEquiv","httpEquiv",1169651712),new cljs.core.Keyword(null,
"maxLength","maxLength",4517471452),new cljs.core.Keyword(null,"noValidate","noValidate",751644009),new cljs.core.Keyword(null,"radioGroup","radioGroup",989670070),new cljs.core.Keyword(null,"readOnly","readOnly",4441187796),new cljs.core.Keyword(null,"rowSpan","rowSpan",2400426934),new cljs.core.Keyword(null,"scrollLeft","scrollLeft",1079951334),new cljs.core.Keyword(null,"scrollTop","scrollTop",1431684794),new cljs.core.Keyword(null,"spellCheck","spellCheck",3766575154),new cljs.core.Keyword(null,
"srcDoc","srcDoc",4414556198),new cljs.core.Keyword(null,"tabIndex","tabIndex",4381401519),new cljs.core.Keyword(null,"gradientTransform","gradientTransform",2836569486),new cljs.core.Keyword(null,"gradientUnits","gradientUnits",3376636305),new cljs.core.Keyword(null,"spreadMethod","spreadMethod",2892660646),new cljs.core.Keyword(null,"stopColor","stopColor",2618022899),new cljs.core.Keyword(null,"stopOpacity","stopOpacity",2756891931),new cljs.core.Keyword(null,"strokeLinecap","strokeLinecap",2041479544),
new cljs.core.Keyword(null,"strokeWidth","strokeWidth",2937970144),new cljs.core.Keyword(null,"textAnchor","textAnchor",2344456628),new cljs.core.Keyword(null,"viewBox","viewBox",1468104792)],true)),new cljs.core.Keyword(null,"class","class",1108647146),new cljs.core.Keyword(null,"className","className",1004015509));
kioo.util.transform_keys=function transform_keys(attrs){return cljs.core.reduce.call(null,function(m,p__20061){var vec__20062=p__20061;var k=cljs.core.nth.call(null,vec__20062,0,null);var v=cljs.core.nth.call(null,vec__20062,1,null);return cljs.core.assoc.call(null,m,function(){var or__3478__auto__=kioo.util.attribute_map.call(null,k);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return k}(),v)},cljs.core.PersistentArrayMap.EMPTY,attrs)};
kioo.util.convert_attrs=function convert_attrs(attrs){var style=cljs.core.truth_((new cljs.core.Keyword(null,"style","style",1123684643)).cljs$core$IFn$_invoke$arity$1(attrs))?function(){var vals=cljs.core.re_seq.call(null,/\s*([^:;]*)[:][\s]*([^;]+)/,(new cljs.core.Keyword(null,"style","style",1123684643)).cljs$core$IFn$_invoke$arity$1(attrs));return cljs.core.reduce.call(null,function(vals){return function(m,p__20065){var vec__20066=p__20065;var _=cljs.core.nth.call(null,vec__20066,0,null);var k=
cljs.core.nth.call(null,vec__20066,1,null);var v=cljs.core.nth.call(null,vec__20066,2,null);return cljs.core.assoc.call(null,m,k,v.trim())}}(vals),cljs.core.PersistentArrayMap.EMPTY,vals)}():null;var class_name=(new cljs.core.Keyword(null,"class","class",1108647146)).cljs$core$IFn$_invoke$arity$1(attrs);return cljs.core.assoc.call(null,kioo.util.transform_keys.call(null,attrs),new cljs.core.Keyword(null,"style","style",1123684643),style)};
kioo.util.flatten_nodes=function flatten_nodes(nodes){return cljs.core.reduce.call(null,function(p1__20068_SHARP_,p2__20067_SHARP_){if(cljs.core.seq_QMARK_.call(null,p2__20067_SHARP_))return cljs.core.concat.call(null,p2__20067_SHARP_,p1__20068_SHARP_);else return cljs.core.conj.call(null,p1__20068_SHARP_,p2__20067_SHARP_)},cljs.core.List.EMPTY,cljs.core.reverse.call(null,nodes))};
kioo.util.attr_pattern=function attr_pattern(attr){return cljs.core.re_pattern.call(null,[cljs.core.str("\\s+"),cljs.core.str(cljs.core.name.call(null,attr)),cljs.core.str("\\s*\x3d\\s*['\"][^\"']+['\"]")].join(""))};kioo.util.strip_attr=function strip_attr(s,attr){if(cljs.core.truth_(s))return clojure.string.replace.call(null,s,kioo.util.attr_pattern.call(null,attr),"");else return null};goog.provide("kioo.common");goog.require("cljs.core");goog.require("kioo.util");goog.require("clojure.string");goog.require("clojure.string");goog.require("kioo.util");
kioo.common.content=function(){var content__delegate=function(body){return function(node){return cljs.core.assoc.call(null,node,new cljs.core.Keyword(null,"content","content",1965434859),body)}};var content=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return content__delegate.call(this,body)};content.cljs$lang$maxFixedArity=0;content.cljs$lang$applyTo=function(arglist__20127){var body=cljs.core.seq(arglist__20127);return content__delegate(body)};
content.cljs$core$IFn$_invoke$arity$variadic=content__delegate;return content}();
kioo.common.append=function(){var append__delegate=function(body){return function(node){return cljs.core.assoc.call(null,node,new cljs.core.Keyword(null,"content","content",1965434859),cljs.core.concat.call(null,(new cljs.core.Keyword(null,"content","content",1965434859)).cljs$core$IFn$_invoke$arity$1(node),body))}};var append=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return append__delegate.call(this,body)};append.cljs$lang$maxFixedArity=
0;append.cljs$lang$applyTo=function(arglist__20128){var body=cljs.core.seq(arglist__20128);return append__delegate(body)};append.cljs$core$IFn$_invoke$arity$variadic=append__delegate;return append}();
kioo.common.prepend=function(){var prepend__delegate=function(body){return function(node){return cljs.core.assoc.call(null,node,new cljs.core.Keyword(null,"content","content",1965434859),cljs.core.concat.call(null,body,(new cljs.core.Keyword(null,"content","content",1965434859)).cljs$core$IFn$_invoke$arity$1(node)))}};var prepend=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return prepend__delegate.call(this,body)};prepend.cljs$lang$maxFixedArity=
0;prepend.cljs$lang$applyTo=function(arglist__20129){var body=cljs.core.seq(arglist__20129);return prepend__delegate(body)};prepend.cljs$core$IFn$_invoke$arity$variadic=prepend__delegate;return prepend}();
kioo.common.substitute=function(){var substitute__delegate=function(body){return function(node){return body}};var substitute=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return substitute__delegate.call(this,body)};substitute.cljs$lang$maxFixedArity=0;substitute.cljs$lang$applyTo=function(arglist__20130){var body=cljs.core.seq(arglist__20130);return substitute__delegate(body)};substitute.cljs$core$IFn$_invoke$arity$variadic=
substitute__delegate;return substitute}();
kioo.common.set_attr=function(){var set_attr__delegate=function(body){var els=cljs.core.partition.call(null,2,body);return function(els){return function(node){return cljs.core.assoc.call(null,node,new cljs.core.Keyword(null,"attrs","attrs",1107056660),cljs.core.reduce.call(null,function(els){return function(n,p__20133){var vec__20134=p__20133;var k=cljs.core.nth.call(null,vec__20134,0,null);var v=cljs.core.nth.call(null,vec__20134,1,null);return cljs.core.assoc.call(null,n,k,v)}}(els),(new cljs.core.Keyword(null,
"attrs","attrs",1107056660)).cljs$core$IFn$_invoke$arity$1(node),els))}}(els)};var set_attr=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return set_attr__delegate.call(this,body)};set_attr.cljs$lang$maxFixedArity=0;set_attr.cljs$lang$applyTo=function(arglist__20135){var body=cljs.core.seq(arglist__20135);return set_attr__delegate(body)};set_attr.cljs$core$IFn$_invoke$arity$variadic=set_attr__delegate;return set_attr}();
kioo.common.remove_attr=function(){var remove_attr__delegate=function(body){return function(node){return cljs.core.assoc.call(null,node,new cljs.core.Keyword(null,"attrs","attrs",1107056660),cljs.core.reduce.call(null,function(n,k){return cljs.core.dissoc.call(null,n,k)},(new cljs.core.Keyword(null,"attrs","attrs",1107056660)).cljs$core$IFn$_invoke$arity$1(node),body))}};var remove_attr=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,
0),0);return remove_attr__delegate.call(this,body)};remove_attr.cljs$lang$maxFixedArity=0;remove_attr.cljs$lang$applyTo=function(arglist__20136){var body=cljs.core.seq(arglist__20136);return remove_attr__delegate(body)};remove_attr.cljs$core$IFn$_invoke$arity$variadic=remove_attr__delegate;return remove_attr}();
kioo.common.do__GT_=function(){var do__GT___delegate=function(body){return function(node){return cljs.core.reduce.call(null,function(p1__20138_SHARP_,p2__20137_SHARP_){return p2__20137_SHARP_.call(null,p1__20138_SHARP_)},node,body)}};var do__GT_=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return do__GT___delegate.call(this,body)};do__GT_.cljs$lang$maxFixedArity=0;do__GT_.cljs$lang$applyTo=function(arglist__20139){var body=
cljs.core.seq(arglist__20139);return do__GT___delegate(body)};do__GT_.cljs$core$IFn$_invoke$arity$variadic=do__GT___delegate;return do__GT_}();
kioo.common.set_style=function(){var set_style__delegate=function(body){var els=cljs.core.partition.call(null,2,body);var mp=cljs.core.reduce.call(null,function(els){return function(m,p__20143){var vec__20144=p__20143;var k=cljs.core.nth.call(null,vec__20144,0,null);var v=cljs.core.nth.call(null,vec__20144,1,null);return cljs.core.assoc.call(null,m,k,v)}}(els),cljs.core.PersistentArrayMap.EMPTY,els);return function(els,mp){return function(node){return cljs.core.update_in.call(null,node,new cljs.core.PersistentVector(null,
2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attrs","attrs",1107056660),new cljs.core.Keyword(null,"style","style",1123684643)],null),function(els,mp){return function(p1__20140_SHARP_){return cljs.core.merge.call(null,p1__20140_SHARP_,mp)}}(els,mp))}}(els,mp)};var set_style=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return set_style__delegate.call(this,body)};set_style.cljs$lang$maxFixedArity=
0;set_style.cljs$lang$applyTo=function(arglist__20145){var body=cljs.core.seq(arglist__20145);return set_style__delegate(body)};set_style.cljs$core$IFn$_invoke$arity$variadic=set_style__delegate;return set_style}();
kioo.common.remove_style=function(){var remove_style__delegate=function(body){return function(node){var style=cljs.core.reduce.call(null,function(p1__20146_SHARP_,p2__20147_SHARP_){return cljs.core.dissoc.call(null,p1__20146_SHARP_,cljs.core.name.call(null,p2__20147_SHARP_),p2__20147_SHARP_)},cljs.core.get_in.call(null,node,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attrs","attrs",1107056660),new cljs.core.Keyword(null,"style","style",
1123684643)],null)),body);return cljs.core.assoc_in.call(null,node,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attrs","attrs",1107056660),new cljs.core.Keyword(null,"style","style",1123684643)],null),style)}};var remove_style=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return remove_style__delegate.call(this,body)};remove_style.cljs$lang$maxFixedArity=0;remove_style.cljs$lang$applyTo=
function(arglist__20148){var body=cljs.core.seq(arglist__20148);return remove_style__delegate(body)};remove_style.cljs$core$IFn$_invoke$arity$variadic=remove_style__delegate;return remove_style}();kioo.common.get_class_regex=function get_class_regex(cls){return new RegExp([cljs.core.str("(\\s|^)"),cljs.core.str(cls),cljs.core.str("(\\s|$)")].join(""))};
kioo.common.has_class_QMARK_=function has_class_QMARK_(cur_cls,cls){var and__3466__auto__=cur_cls;if(cljs.core.truth_(and__3466__auto__))return cljs.core.re_find.call(null,kioo.common.get_class_regex.call(null,cls),cur_cls);else return and__3466__auto__};
kioo.common.set_class=function(){var set_class__delegate=function(values){return function(node){var new_class=cljs.core.reduce.call(null,function(p1__20149_SHARP_,p2__20150_SHARP_){if(cljs.core.truth_(kioo.common.has_class_QMARK_.call(null,p1__20149_SHARP_,p2__20150_SHARP_)))return p1__20149_SHARP_;else return[cljs.core.str(p1__20149_SHARP_),cljs.core.str(" "),cljs.core.str(p2__20150_SHARP_)].join("")},"",values);return cljs.core.assoc_in.call(null,node,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[new cljs.core.Keyword(null,"attrs","attrs",1107056660),new cljs.core.Keyword(null,"className","className",1004015509)],null),new_class)}};var set_class=function(var_args){var values=null;if(arguments.length>0)values=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return set_class__delegate.call(this,values)};set_class.cljs$lang$maxFixedArity=0;set_class.cljs$lang$applyTo=function(arglist__20151){var values=cljs.core.seq(arglist__20151);return set_class__delegate(values)};set_class.cljs$core$IFn$_invoke$arity$variadic=
set_class__delegate;return set_class}();
kioo.common.add_class=function(){var add_class__delegate=function(values){return function(node){var new_class=cljs.core.reduce.call(null,function(p1__20152_SHARP_,p2__20153_SHARP_){if(cljs.core.truth_(kioo.common.has_class_QMARK_.call(null,p1__20152_SHARP_,p2__20153_SHARP_)))return p1__20152_SHARP_;else return[cljs.core.str(p1__20152_SHARP_),cljs.core.str(" "),cljs.core.str(p2__20153_SHARP_)].join("")},cljs.core.get_in.call(null,node,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[new cljs.core.Keyword(null,"attrs","attrs",1107056660),new cljs.core.Keyword(null,"className","className",1004015509)],null)),values);return cljs.core.assoc_in.call(null,node,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attrs","attrs",1107056660),new cljs.core.Keyword(null,"className","className",1004015509)],null),new_class)}};var add_class=function(var_args){var values=null;if(arguments.length>0)values=cljs.core.array_seq(Array.prototype.slice.call(arguments,
0),0);return add_class__delegate.call(this,values)};add_class.cljs$lang$maxFixedArity=0;add_class.cljs$lang$applyTo=function(arglist__20154){var values=cljs.core.seq(arglist__20154);return add_class__delegate(values)};add_class.cljs$core$IFn$_invoke$arity$variadic=add_class__delegate;return add_class}();
kioo.common.remove_class=function(){var remove_class__delegate=function(values){return function(node){var new_class=cljs.core.reduce.call(null,function(p1__20155_SHARP_,p2__20156_SHARP_){if(cljs.core.truth_(kioo.common.has_class_QMARK_.call(null,p1__20155_SHARP_,p2__20156_SHARP_)))return clojure.string.replace.call(null,p1__20155_SHARP_,kioo.common.get_class_regex.call(null,p2__20156_SHARP_)," ");else return p1__20155_SHARP_},cljs.core.get_in.call(null,node,new cljs.core.PersistentVector(null,2,5,
cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attrs","attrs",1107056660),new cljs.core.Keyword(null,"className","className",1004015509)],null)),values);return cljs.core.assoc_in.call(null,node,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attrs","attrs",1107056660),new cljs.core.Keyword(null,"className","className",1004015509)],null),new_class)}};var remove_class=function(var_args){var values=null;if(arguments.length>
0)values=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return remove_class__delegate.call(this,values)};remove_class.cljs$lang$maxFixedArity=0;remove_class.cljs$lang$applyTo=function(arglist__20157){var values=cljs.core.seq(arglist__20157);return remove_class__delegate(values)};remove_class.cljs$core$IFn$_invoke$arity$variadic=remove_class__delegate;return remove_class}();kioo.common.unwrap=function unwrap(node){return(new cljs.core.Keyword(null,"content","content",1965434859)).cljs$core$IFn$_invoke$arity$1(node)};goog.provide("clojure.zip");goog.require("cljs.core");
clojure.zip.zipper=function zipper(branch_QMARK_,children,make_node,root){return cljs.core.with_meta(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[root,null],null),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword("zip","make-node","zip/make-node",2241612572),make_node,new cljs.core.Keyword("zip","children","zip/children",2681289882),children,new cljs.core.Keyword("zip","branch?","zip/branch?",1159334776),branch_QMARK_],null))};
clojure.zip.seq_zip=function seq_zip(root){return clojure.zip.zipper.call(null,cljs.core.seq_QMARK_,cljs.core.identity,function(node,children){return cljs.core.with_meta.call(null,children,cljs.core.meta.call(null,node))},root)};clojure.zip.vector_zip=function vector_zip(root){return clojure.zip.zipper.call(null,cljs.core.vector_QMARK_,cljs.core.seq,function(node,children){return cljs.core.with_meta.call(null,cljs.core.vec.call(null,children),cljs.core.meta.call(null,node))},root)};
clojure.zip.xml_zip=function xml_zip(root){return clojure.zip.zipper.call(null,cljs.core.complement.call(null,cljs.core.string_QMARK_),cljs.core.comp.call(null,cljs.core.seq,new cljs.core.Keyword(null,"content","content",1965434859)),function(node,children){return cljs.core.assoc.call(null,node,new cljs.core.Keyword(null,"content","content",1965434859),function(){var and__3466__auto__=children;if(cljs.core.truth_(and__3466__auto__))return cljs.core.apply.call(null,cljs.core.vector,children);else return and__3466__auto__}())},
root)};clojure.zip.node=function node(loc){return loc.call(null,0)};clojure.zip.branch_QMARK_=function branch_QMARK_(loc){return(new cljs.core.Keyword("zip","branch?","zip/branch?",1159334776)).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null,loc)).call(null,clojure.zip.node.call(null,loc))};
clojure.zip.children=function children(loc){if(cljs.core.truth_(clojure.zip.branch_QMARK_.call(null,loc)))return(new cljs.core.Keyword("zip","children","zip/children",2681289882)).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null,loc)).call(null,clojure.zip.node.call(null,loc));else throw"called children on a leaf node";};
clojure.zip.make_node=function make_node(loc,node,children){return(new cljs.core.Keyword("zip","make-node","zip/make-node",2241612572)).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null,loc)).call(null,node,children)};clojure.zip.path=function path(loc){return(new cljs.core.Keyword(null,"pnodes","pnodes",4325362611)).cljs$core$IFn$_invoke$arity$1(loc.call(null,1))};
clojure.zip.lefts=function lefts(loc){return cljs.core.seq.call(null,(new cljs.core.Keyword(null,"l","l",1013904350)).cljs$core$IFn$_invoke$arity$1(loc.call(null,1)))};clojure.zip.rights=function rights(loc){return(new cljs.core.Keyword(null,"r","r",1013904356)).cljs$core$IFn$_invoke$arity$1(loc.call(null,1))};
clojure.zip.down=function down(loc){if(cljs.core.truth_(clojure.zip.branch_QMARK_.call(null,loc))){var vec__20084=loc;var node=cljs.core.nth.call(null,vec__20084,0,null);var path=cljs.core.nth.call(null,vec__20084,1,null);var vec__20085=clojure.zip.children.call(null,loc);var c=cljs.core.nth.call(null,vec__20085,0,null);var cnext=cljs.core.nthnext.call(null,vec__20085,1);var cs=vec__20085;if(cljs.core.truth_(cs))return cljs.core.with_meta.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[c,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"l","l",1013904350),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"pnodes","pnodes",4325362611),cljs.core.truth_(path)?cljs.core.conj.call(null,(new cljs.core.Keyword(null,"pnodes","pnodes",4325362611)).cljs$core$IFn$_invoke$arity$1(path),node):new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[node],null),new cljs.core.Keyword(null,"ppath","ppath",1120772103),path,new cljs.core.Keyword(null,
"r","r",1013904356),cnext],null)],null),cljs.core.meta.call(null,loc));else return null}else return null};
clojure.zip.up=function up(loc){var vec__20088=loc;var node=cljs.core.nth.call(null,vec__20088,0,null);var map__20089=cljs.core.nth.call(null,vec__20088,1,null);var map__20089__$1=cljs.core.seq_QMARK_.call(null,map__20089)?cljs.core.apply.call(null,cljs.core.hash_map,map__20089):map__20089;var path=map__20089__$1;var l=cljs.core.get.call(null,map__20089__$1,new cljs.core.Keyword(null,"l","l",1013904350));var ppath=cljs.core.get.call(null,map__20089__$1,new cljs.core.Keyword(null,"ppath","ppath",1120772103));
var pnodes=cljs.core.get.call(null,map__20089__$1,new cljs.core.Keyword(null,"pnodes","pnodes",4325362611));var r=cljs.core.get.call(null,map__20089__$1,new cljs.core.Keyword(null,"r","r",1013904356));var changed_QMARK_=cljs.core.get.call(null,map__20089__$1,new cljs.core.Keyword(null,"changed?","changed?",2446321533));if(cljs.core.truth_(pnodes)){var pnode=cljs.core.peek.call(null,pnodes);return cljs.core.with_meta.call(null,cljs.core.truth_(changed_QMARK_)?new cljs.core.PersistentVector(null,2,
5,cljs.core.PersistentVector.EMPTY_NODE,[clojure.zip.make_node.call(null,loc,pnode,cljs.core.concat.call(null,l,cljs.core.cons.call(null,node,r))),function(){var and__3466__auto__=ppath;if(cljs.core.truth_(and__3466__auto__))return cljs.core.assoc.call(null,ppath,new cljs.core.Keyword(null,"changed?","changed?",2446321533),true);else return and__3466__auto__}()],null):new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[pnode,ppath],null),cljs.core.meta.call(null,loc))}else return null};
clojure.zip.root=function root(loc){while(true){if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"end","end",1014004813),loc.call(null,1)))return clojure.zip.node.call(null,loc);else{var p=clojure.zip.up.call(null,loc);if(cljs.core.truth_(p)){var G__20090=p;loc=G__20090;continue}else return clojure.zip.node.call(null,loc)}break}};
clojure.zip.right=function right(loc){var vec__20094=loc;var node=cljs.core.nth.call(null,vec__20094,0,null);var map__20095=cljs.core.nth.call(null,vec__20094,1,null);var map__20095__$1=cljs.core.seq_QMARK_.call(null,map__20095)?cljs.core.apply.call(null,cljs.core.hash_map,map__20095):map__20095;var path=map__20095__$1;var l=cljs.core.get.call(null,map__20095__$1,new cljs.core.Keyword(null,"l","l",1013904350));var vec__20096=cljs.core.get.call(null,map__20095__$1,new cljs.core.Keyword(null,"r","r",
1013904356));var r=cljs.core.nth.call(null,vec__20096,0,null);var rnext=cljs.core.nthnext.call(null,vec__20096,1);var rs=vec__20096;if(cljs.core.truth_(function(){var and__3466__auto__=path;if(cljs.core.truth_(and__3466__auto__))return rs;else return and__3466__auto__}()))return cljs.core.with_meta.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[r,cljs.core.assoc.call(null,path,new cljs.core.Keyword(null,"l","l",1013904350),cljs.core.conj.call(null,l,node),
new cljs.core.Keyword(null,"r","r",1013904356),rnext)],null),cljs.core.meta.call(null,loc));else return null};
clojure.zip.rightmost=function rightmost(loc){var vec__20099=loc;var node=cljs.core.nth.call(null,vec__20099,0,null);var map__20100=cljs.core.nth.call(null,vec__20099,1,null);var map__20100__$1=cljs.core.seq_QMARK_.call(null,map__20100)?cljs.core.apply.call(null,cljs.core.hash_map,map__20100):map__20100;var path=map__20100__$1;var l=cljs.core.get.call(null,map__20100__$1,new cljs.core.Keyword(null,"l","l",1013904350));var r=cljs.core.get.call(null,map__20100__$1,new cljs.core.Keyword(null,"r","r",
1013904356));if(cljs.core.truth_(function(){var and__3466__auto__=path;if(cljs.core.truth_(and__3466__auto__))return r;else return and__3466__auto__}()))return cljs.core.with_meta.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.last.call(null,r),cljs.core.assoc.call(null,path,new cljs.core.Keyword(null,"l","l",1013904350),cljs.core.apply.call(null,cljs.core.conj,l,node,cljs.core.butlast.call(null,r)),new cljs.core.Keyword(null,"r","r",1013904356),
null)],null),cljs.core.meta.call(null,loc));else return loc};
clojure.zip.left=function left(loc){var vec__20103=loc;var node=cljs.core.nth.call(null,vec__20103,0,null);var map__20104=cljs.core.nth.call(null,vec__20103,1,null);var map__20104__$1=cljs.core.seq_QMARK_.call(null,map__20104)?cljs.core.apply.call(null,cljs.core.hash_map,map__20104):map__20104;var path=map__20104__$1;var l=cljs.core.get.call(null,map__20104__$1,new cljs.core.Keyword(null,"l","l",1013904350));var r=cljs.core.get.call(null,map__20104__$1,new cljs.core.Keyword(null,"r","r",1013904356));
if(cljs.core.truth_(function(){var and__3466__auto__=path;if(cljs.core.truth_(and__3466__auto__))return cljs.core.seq.call(null,l);else return and__3466__auto__}()))return cljs.core.with_meta.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.peek.call(null,l),cljs.core.assoc.call(null,path,new cljs.core.Keyword(null,"l","l",1013904350),cljs.core.pop.call(null,l),new cljs.core.Keyword(null,"r","r",1013904356),cljs.core.cons.call(null,node,r))],null),
cljs.core.meta.call(null,loc));else return null};
clojure.zip.leftmost=function leftmost(loc){var vec__20107=loc;var node=cljs.core.nth.call(null,vec__20107,0,null);var map__20108=cljs.core.nth.call(null,vec__20107,1,null);var map__20108__$1=cljs.core.seq_QMARK_.call(null,map__20108)?cljs.core.apply.call(null,cljs.core.hash_map,map__20108):map__20108;var path=map__20108__$1;var l=cljs.core.get.call(null,map__20108__$1,new cljs.core.Keyword(null,"l","l",1013904350));var r=cljs.core.get.call(null,map__20108__$1,new cljs.core.Keyword(null,"r","r",1013904356));
if(cljs.core.truth_(function(){var and__3466__auto__=path;if(cljs.core.truth_(and__3466__auto__))return cljs.core.seq.call(null,l);else return and__3466__auto__}()))return cljs.core.with_meta.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.first.call(null,l),cljs.core.assoc.call(null,path,new cljs.core.Keyword(null,"l","l",1013904350),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"r","r",1013904356),cljs.core.concat.call(null,cljs.core.rest.call(null,
l),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[node],null),r))],null),cljs.core.meta.call(null,loc));else return loc};
clojure.zip.insert_left=function insert_left(loc,item){var vec__20111=loc;var node=cljs.core.nth.call(null,vec__20111,0,null);var map__20112=cljs.core.nth.call(null,vec__20111,1,null);var map__20112__$1=cljs.core.seq_QMARK_.call(null,map__20112)?cljs.core.apply.call(null,cljs.core.hash_map,map__20112):map__20112;var path=map__20112__$1;var l=cljs.core.get.call(null,map__20112__$1,new cljs.core.Keyword(null,"l","l",1013904350));if(path==null)throw"Insert at top";else return cljs.core.with_meta.call(null,
new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[node,cljs.core.assoc.call(null,path,new cljs.core.Keyword(null,"l","l",1013904350),cljs.core.conj.call(null,l,item),new cljs.core.Keyword(null,"changed?","changed?",2446321533),true)],null),cljs.core.meta.call(null,loc))};
clojure.zip.insert_right=function insert_right(loc,item){var vec__20115=loc;var node=cljs.core.nth.call(null,vec__20115,0,null);var map__20116=cljs.core.nth.call(null,vec__20115,1,null);var map__20116__$1=cljs.core.seq_QMARK_.call(null,map__20116)?cljs.core.apply.call(null,cljs.core.hash_map,map__20116):map__20116;var path=map__20116__$1;var r=cljs.core.get.call(null,map__20116__$1,new cljs.core.Keyword(null,"r","r",1013904356));if(path==null)throw"Insert at top";else return cljs.core.with_meta.call(null,
new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[node,cljs.core.assoc.call(null,path,new cljs.core.Keyword(null,"r","r",1013904356),cljs.core.cons.call(null,item,r),new cljs.core.Keyword(null,"changed?","changed?",2446321533),true)],null),cljs.core.meta.call(null,loc))};
clojure.zip.replace=function replace(loc,node){var vec__20118=loc;var _=cljs.core.nth.call(null,vec__20118,0,null);var path=cljs.core.nth.call(null,vec__20118,1,null);return cljs.core.with_meta.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[node,cljs.core.assoc.call(null,path,new cljs.core.Keyword(null,"changed?","changed?",2446321533),true)],null),cljs.core.meta.call(null,loc))};
clojure.zip.edit=function(){var edit__delegate=function(loc,f,args){return clojure.zip.replace.call(null,loc,cljs.core.apply.call(null,f,clojure.zip.node.call(null,loc),args))};var edit=function(loc,f,var_args){var args=null;if(arguments.length>2)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,2),0);return edit__delegate.call(this,loc,f,args)};edit.cljs$lang$maxFixedArity=2;edit.cljs$lang$applyTo=function(arglist__20119){var loc=cljs.core.first(arglist__20119);arglist__20119=cljs.core.next(arglist__20119);
var f=cljs.core.first(arglist__20119);var args=cljs.core.rest(arglist__20119);return edit__delegate(loc,f,args)};edit.cljs$core$IFn$_invoke$arity$variadic=edit__delegate;return edit}();clojure.zip.insert_child=function insert_child(loc,item){return clojure.zip.replace.call(null,loc,clojure.zip.make_node.call(null,loc,clojure.zip.node.call(null,loc),cljs.core.cons.call(null,item,clojure.zip.children.call(null,loc))))};
clojure.zip.append_child=function append_child(loc,item){return clojure.zip.replace.call(null,loc,clojure.zip.make_node.call(null,loc,clojure.zip.node.call(null,loc),cljs.core.concat.call(null,clojure.zip.children.call(null,loc),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[item],null))))};
clojure.zip.next=function next(loc){if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"end","end",1014004813),loc.call(null,1)))return loc;else{var or__3478__auto__=function(){var and__3466__auto__=clojure.zip.branch_QMARK_.call(null,loc);if(cljs.core.truth_(and__3466__auto__))return clojure.zip.down.call(null,loc);else return and__3466__auto__}();if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var or__3478__auto____$1=clojure.zip.right.call(null,loc);if(cljs.core.truth_(or__3478__auto____$1))return or__3478__auto____$1;
else{var p=loc;while(true){if(cljs.core.truth_(clojure.zip.up.call(null,p))){var or__3478__auto____$2=clojure.zip.right.call(null,clojure.zip.up.call(null,p));if(cljs.core.truth_(or__3478__auto____$2))return or__3478__auto____$2;else{var G__20120=clojure.zip.up.call(null,p);p=G__20120;continue}}else return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[clojure.zip.node.call(null,p),new cljs.core.Keyword(null,"end","end",1014004813)],null);break}}}}};
clojure.zip.prev=function prev(loc){var temp__4124__auto__=clojure.zip.left.call(null,loc);if(cljs.core.truth_(temp__4124__auto__)){var lloc=temp__4124__auto__;var loc__$1=lloc;while(true){var temp__4124__auto____$1=function(){var and__3466__auto__=clojure.zip.branch_QMARK_.call(null,loc__$1);if(cljs.core.truth_(and__3466__auto__))return clojure.zip.down.call(null,loc__$1);else return and__3466__auto__}();if(cljs.core.truth_(temp__4124__auto____$1)){var child=temp__4124__auto____$1;var G__20121=clojure.zip.rightmost.call(null,
child);loc__$1=G__20121;continue}else return loc__$1;break}}else return clojure.zip.up.call(null,loc)};clojure.zip.end_QMARK_=function end_QMARK_(loc){return cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"end","end",1014004813),loc.call(null,1))};
clojure.zip.remove=function remove(loc){var vec__20124=loc;var node=cljs.core.nth.call(null,vec__20124,0,null);var map__20125=cljs.core.nth.call(null,vec__20124,1,null);var map__20125__$1=cljs.core.seq_QMARK_.call(null,map__20125)?cljs.core.apply.call(null,cljs.core.hash_map,map__20125):map__20125;var path=map__20125__$1;var l=cljs.core.get.call(null,map__20125__$1,new cljs.core.Keyword(null,"l","l",1013904350));var ppath=cljs.core.get.call(null,map__20125__$1,new cljs.core.Keyword(null,"ppath","ppath",
1120772103));var pnodes=cljs.core.get.call(null,map__20125__$1,new cljs.core.Keyword(null,"pnodes","pnodes",4325362611));var rs=cljs.core.get.call(null,map__20125__$1,new cljs.core.Keyword(null,"r","r",1013904356));if(path==null)throw"Remove at top";else if(cljs.core.count.call(null,l)>0){var loc__$1=cljs.core.with_meta.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.peek.call(null,l),cljs.core.assoc.call(null,path,new cljs.core.Keyword(null,"l",
"l",1013904350),cljs.core.pop.call(null,l),new cljs.core.Keyword(null,"changed?","changed?",2446321533),true)],null),cljs.core.meta.call(null,loc));while(true){var temp__4124__auto__=function(){var and__3466__auto__=clojure.zip.branch_QMARK_.call(null,loc__$1);if(cljs.core.truth_(and__3466__auto__))return clojure.zip.down.call(null,loc__$1);else return and__3466__auto__}();if(cljs.core.truth_(temp__4124__auto__)){var child=temp__4124__auto__;var G__20126=clojure.zip.rightmost.call(null,child);loc__$1=
G__20126;continue}else return loc__$1;break}}else return cljs.core.with_meta.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[clojure.zip.make_node.call(null,loc,cljs.core.peek.call(null,pnodes),rs),function(){var and__3466__auto__=ppath;if(cljs.core.truth_(and__3466__auto__))return cljs.core.assoc.call(null,ppath,new cljs.core.Keyword(null,"changed?","changed?",2446321533),true);else return and__3466__auto__}()],null),cljs.core.meta.call(null,loc))};goog.provide("hickory.utils");goog.require("cljs.core");goog.require("goog.string");goog.require("goog.string");goog.require("clojure.string");goog.require("clojure.string");
hickory.utils.void_element=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,16,[new cljs.core.Keyword(null,"hr","hr",1013907580),null,new cljs.core.Keyword(null,"meta","meta",1017252215),null,new cljs.core.Keyword(null,"wbr","wbr",1014021753),null,new cljs.core.Keyword(null,"command","command",1964298941),null,new cljs.core.Keyword(null,"source","source",4412365709),null,new cljs.core.Keyword(null,"param","param",1120340991),null,new cljs.core.Keyword(null,"link","link",
1017226092),null,new cljs.core.Keyword(null,"col","col",1014002930),null,new cljs.core.Keyword(null,"area","area",1016906751),null,new cljs.core.Keyword(null,"br","br",1013907394),null,new cljs.core.Keyword(null,"input","input",1114262332),null,new cljs.core.Keyword(null,"base","base",1016920643),null,new cljs.core.Keyword(null,"embed","embed",1110524491),null,new cljs.core.Keyword(null,"keygen","keygen",4174205955),null,new cljs.core.Keyword(null,"img","img",1014008629),null,new cljs.core.Keyword(null,
"track","track",1124525245),null],null),null);hickory.utils.unescapable_content=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"script","script",4401185853),null,new cljs.core.Keyword(null,"style","style",1123684643),null],null),null);hickory.utils.html_escape=function html_escape(s){return goog.string.htmlEscape(s)};hickory.utils.starts_with=function starts_with(s,prefix){return goog.string.startsWith(s,prefix)};
hickory.utils.lower_case_keyword=function lower_case_keyword(s){return cljs.core.keyword.call(null,clojure.string.lower_case.call(null,s))};
hickory.utils.render_doctype=function render_doctype(name,publicid,systemid){return[cljs.core.str("\x3c!DOCTYPE "),cljs.core.str(name),cljs.core.str(cljs.core.truth_(cljs.core.not_empty.call(null,publicid))?[cljs.core.str(' PUBLIC "'),cljs.core.str(publicid),cljs.core.str('"')].join(""):null),cljs.core.str(cljs.core.truth_(cljs.core.not_empty.call(null,systemid))?[cljs.core.str(' "'),cljs.core.str(systemid),cljs.core.str('"')].join(""):null),cljs.core.str("\x3e")].join("")};goog.provide("hickory.core");goog.require("cljs.core");goog.require("goog.string");goog.require("goog.string");goog.require("clojure.zip");goog.require("clojure.zip");goog.require("hickory.utils");goog.require("hickory.utils");hickory.core.HiccupRepresentable=function(){var obj20070={};return obj20070}();
hickory.core.as_hiccup=function as_hiccup(this$){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.hickory$core$HiccupRepresentable$as_hiccup$arity$1;else return and__3466__auto__}())return this$.hickory$core$HiccupRepresentable$as_hiccup$arity$1(this$);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=hickory.core.as_hiccup[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=hickory.core.as_hiccup["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"HiccupRepresentable.as-hiccup",this$);}}().call(null,this$)}};hickory.core.HickoryRepresentable=function(){var obj20072={};return obj20072}();
hickory.core.as_hickory=function as_hickory(this$){if(function(){var and__3466__auto__=this$;if(and__3466__auto__)return this$.hickory$core$HickoryRepresentable$as_hickory$arity$1;else return and__3466__auto__}())return this$.hickory$core$HickoryRepresentable$as_hickory$arity$1(this$);else{var x__4105__auto__=this$==null?null:this$;return function(){var or__3478__auto__=hickory.core.as_hickory[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
hickory.core.as_hickory["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"HickoryRepresentable.as-hickory",this$);}}().call(null,this$)}};hickory.core.node_type=function node_type(type){return Node[[cljs.core.str(type),cljs.core.str("_NODE")].join("")]};hickory.core.Attribute=hickory.core.node_type.call(null,"ATTRIBUTE");hickory.core.Comment=hickory.core.node_type.call(null,"COMMENT");hickory.core.Document=hickory.core.node_type.call(null,"DOCUMENT");
hickory.core.DocumentType=hickory.core.node_type.call(null,"DOCUMENT_TYPE");hickory.core.Element=hickory.core.node_type.call(null,"ELEMENT");hickory.core.Text=hickory.core.node_type.call(null,"TEXT");hickory.core.extend_type_with_seqable=function extend_type_with_seqable(t){t.prototype.cljs$core$ISeqable$=true;return t.prototype.cljs$core$ISeqable$_seq$arity$1=function(array){var array__$1=this;return cljs.core.array_seq.call(null,array__$1)}};hickory.core.extend_type_with_seqable.call(null,NodeList);
if(typeof NamedNodeMap!=="undefined")hickory.core.extend_type_with_seqable.call(null,NamedNodeMap);else;if(typeof MozNamedAttrMap!=="undefined")hickory.core.extend_type_with_seqable.call(null,MozNamedAttrMap);else;
hickory.core.format_doctype=function format_doctype(dt){var name=dt["name"];var publicId=dt["publicId"];var systemId=dt["systemId"];if(!cljs.core.empty_QMARK_.call(null,publicId))return goog.string.format('\x3c!DOCTYPE %s PUBLIC "%s" "%s"\x3e',name,publicId,systemId);else return[cljs.core.str("\x3c!DOCTYPE "),cljs.core.str(name),cljs.core.str("\x3e")].join("")};hickory.core.HiccupRepresentable["object"]=true;
hickory.core.as_hiccup["object"]=function(this$){var pred__20074=cljs.core._EQ_;var expr__20075=this$["nodeType"];if(cljs.core.truth_(pred__20074.call(null,hickory.core.Attribute,expr__20075)))return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[hickory.utils.lower_case_keyword.call(null,this$["name"]),this$["value"]],null);else if(cljs.core.truth_(pred__20074.call(null,hickory.core.Comment,expr__20075)))return[cljs.core.str("\x3c!--"),cljs.core.str(this$["data"]),
cljs.core.str("--\x3e")].join("");else if(cljs.core.truth_(pred__20074.call(null,hickory.core.Document,expr__20075)))return cljs.core.map.call(null,hickory.core.as_hiccup,this$["childNodes"]);else if(cljs.core.truth_(pred__20074.call(null,hickory.core.DocumentType,expr__20075)))return hickory.core.format_doctype.call(null,this$);else if(cljs.core.truth_(pred__20074.call(null,hickory.core.Element,expr__20075))){var tag=hickory.utils.lower_case_keyword.call(null,this$["tagName"]);return cljs.core.into.call(null,
cljs.core.PersistentVector.EMPTY,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[tag,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.map.call(null,hickory.core.as_hiccup,this$["attributes"]))],null),cljs.core.truth_(hickory.utils.unescapable_content.call(null,tag))?cljs.core.map.call(null,function(tag,pred__20074,expr__20075){return function(p1__20073_SHARP_){return p1__20073_SHARP_["wholeText"]}}(tag,pred__20074,expr__20075),
this$["childNodes"]):cljs.core.map.call(null,hickory.core.as_hiccup,this$["childNodes"])))}else if(cljs.core.truth_(pred__20074.call(null,hickory.core.Text,expr__20075)))return hickory.utils.html_escape.call(null,this$["wholeText"]);else throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(expr__20075)].join(""));};hickory.core.HickoryRepresentable["object"]=true;
hickory.core.as_hickory["object"]=function(this$){var pred__20077=cljs.core._EQ_;var expr__20078=this$["nodeType"];if(cljs.core.truth_(pred__20077.call(null,hickory.core.Attribute,expr__20078)))return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[hickory.utils.lower_case_keyword.call(null,this$["name"]),this$["value"]],null);else if(cljs.core.truth_(pred__20077.call(null,hickory.core.Comment,expr__20078)))return new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,
"type","type",1017479852),new cljs.core.Keyword(null,"comment","comment",1964302801),new cljs.core.Keyword(null,"content","content",1965434859),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[this$["data"]],null)],null);else if(cljs.core.truth_(pred__20077.call(null,hickory.core.Document,expr__20078)))return new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"type","type",1017479852),new cljs.core.Keyword(null,"document","document",1875625101),new cljs.core.Keyword(null,
"content","content",1965434859),cljs.core.not_empty.call(null,cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.map.call(null,hickory.core.as_hickory,this$["childNodes"])))],null);else if(cljs.core.truth_(pred__20077.call(null,hickory.core.DocumentType,expr__20078)))return new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"type","type",1017479852),new cljs.core.Keyword(null,"document-type","document-type",2553302046),new cljs.core.Keyword(null,"attrs","attrs",1107056660),
new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"name","name",1017277949),this$["name"],new cljs.core.Keyword(null,"publicid","publicid",2307505334),this$["publicId"],new cljs.core.Keyword(null,"systemid","systemid",2989990652),this$["systemId"]],null)],null);else if(cljs.core.truth_(pred__20077.call(null,hickory.core.Element,expr__20078)))return new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"type","type",1017479852),new cljs.core.Keyword(null,"element","element",
3646034542),new cljs.core.Keyword(null,"attrs","attrs",1107056660),cljs.core.not_empty.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.map.call(null,hickory.core.as_hickory,this$["attributes"]))),new cljs.core.Keyword(null,"tag","tag",1014018828),hickory.utils.lower_case_keyword.call(null,this$["tagName"]),new cljs.core.Keyword(null,"content","content",1965434859),cljs.core.not_empty.call(null,cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.map.call(null,
hickory.core.as_hickory,this$["childNodes"])))],null);else if(cljs.core.truth_(pred__20077.call(null,hickory.core.Text,expr__20078)))return this$["wholeText"];else throw new Error([cljs.core.str("No matching clause: "),cljs.core.str(expr__20078)].join(""));};
hickory.core.extract_doctype=function extract_doctype(s){var temp__4126__auto__=cljs.core.second.call(null,function(){var or__3478__auto__=cljs.core.re_find.call(null,/<!DOCTYPE ([^>]*)>/,s);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return cljs.core.re_find.call(null,/<!doctype ([^>]*)>/,s)}());if(cljs.core.truth_(temp__4126__auto__)){var doctype=temp__4126__auto__;return cljs.core.re_find.call(null,/([^\s]*)(\s+PUBLIC\s+[\"]?([^\"]*)[\"]?\s+[\"]?([^\"]*)[\"]?)?/,doctype)}else return null};
hickory.core.remove_el=function remove_el(el){return el["parentNode"].removeChild(el)};hickory.core.parse_dom_with_domparser=function parse_dom_with_domparser(s){if(typeof DOMParser!=="undefined")return(new DOMParser).parseFromString(s,"text/html");else return null};
hickory.core.parse_dom_with_write=function parse_dom_with_write(s){var doc=document.implementation.createHTMLDocument("");var doctype_el=doc["doctype"];if(cljs.core.truth_(hickory.core.extract_doctype.call(null,s)));else hickory.core.remove_el.call(null,doctype_el);var temp__4126__auto___20080=cljs.core.first.call(null,doc["head"]["childNodes"]);if(cljs.core.truth_(temp__4126__auto___20080)){var title_el_20081=temp__4126__auto___20080;if(cljs.core.empty_QMARK_.call(null,title_el_20081["text"]))hickory.core.remove_el.call(null,
title_el_20081);else;}else;doc.write(s);return doc};hickory.core.parse=function parse(s){var or__3478__auto__=hickory.core.parse_dom_with_domparser.call(null,s);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return hickory.core.parse_dom_with_write.call(null,s)};hickory.core.parse_fragment=function parse_fragment(s){return hickory.core.parse.call(null,s)["body"]["childNodes"]};goog.provide("kioo.core");goog.require("cljs.core");goog.require("hickory.core");goog.require("kioo.util");goog.require("kioo.common");goog.require("kioo.common");goog.require("sablono.core");goog.require("sablono.core");goog.require("hickory.core");goog.require("hickory.core");goog.require("kioo.util");
kioo.core.value_component=function value_component(renderer){var react_component=React.createClass({"render":function(){var this$=this;var _STAR_component_STAR_20008=kioo.util._STAR_component_STAR_;try{kioo.util._STAR_component_STAR_=this$;return cljs.core.apply.call(null,renderer,this$.props["value"],this$.props["statics"])}finally{kioo.util._STAR_component_STAR_=_STAR_component_STAR_20008}},"shouldComponentUpdate":function(next_props,_){var this$=this;return cljs.core.not_EQ_.call(null,this$.props["value"],
next_props["value"])}});return function(react_component){return function(){var G__20009__delegate=function(value,static_args){return react_component.call(null,{"statics":static_args,"value":value})};var G__20009=function(value,var_args){var static_args=null;if(arguments.length>1)static_args=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return G__20009__delegate.call(this,value,static_args)};G__20009.cljs$lang$maxFixedArity=1;G__20009.cljs$lang$applyTo=function(arglist__20010){var value=
cljs.core.first(arglist__20010);var static_args=cljs.core.rest(arglist__20010);return G__20009__delegate(value,static_args)};G__20009.cljs$core$IFn$_invoke$arity$variadic=G__20009__delegate;return G__20009}()}(react_component)};
kioo.core.make_dom=function make_dom(node){if(cljs.core.map_QMARK_.call(null,node))return cljs.core.apply.call(null,(new cljs.core.Keyword(null,"sym","sym",1014018617)).cljs$core$IFn$_invoke$arity$1(node),cljs.core.clj__GT_js.call(null,(new cljs.core.Keyword(null,"attrs","attrs",1107056660)).cljs$core$IFn$_invoke$arity$1(node)),kioo.util.flatten_nodes.call(null,(new cljs.core.Keyword(null,"content","content",1965434859)).cljs$core$IFn$_invoke$arity$1(node)));else return node};
kioo.core.to_list=function to_list(vals){if(cljs.core.seq_QMARK_.call(null,vals))return vals;else return cljs.core._conj.call(null,cljs.core.List.EMPTY,vals)};
kioo.core.handle_wrapper=function handle_wrapper(dom_fn){return function(){var hw__delegate=function(node,body){var rnode=cljs.core.seq_QMARK_.call(null,node)?cljs.core.apply.call(null,hw,node):cljs.core.map_QMARK_.call(null,node)&&!cljs.core.empty_QMARK_.call(null,(new cljs.core.Keyword(null,"events","events",4017542283)).cljs$core$IFn$_invoke$arity$1(node))?function(){var revents=(new cljs.core.Keyword(null,"events","events",4017542283)).cljs$core$IFn$_invoke$arity$1(node);return kioo.util.WrapComponent.call(null,
cljs.core.clj__GT_js.call(null,cljs.core.assoc.call(null,revents,new cljs.core.Keyword(null,"wrappee","wrappee",2609412088),dom_fn.call(null,node))))}():new cljs.core.Keyword(null,"else","else",1017020587)?dom_fn.call(null,node):null;if(cljs.core.empty_QMARK_.call(null,body))return rnode;else return cljs.core.cons.call(null,rnode,kioo.core.to_list.call(null,cljs.core.apply.call(null,hw,body)))};var hw=function(node,var_args){var body=null;if(arguments.length>1)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,
1),0);return hw__delegate.call(this,node,body)};hw.cljs$lang$maxFixedArity=1;hw.cljs$lang$applyTo=function(arglist__20011){var node=cljs.core.first(arglist__20011);var body=cljs.core.rest(arglist__20011);return hw__delegate(node,body)};hw.cljs$core$IFn$_invoke$arity$variadic=hw__delegate;return hw}()};kioo.core.content=kioo.common.content;kioo.core.append=kioo.common.append;kioo.core.prepend=kioo.common.prepend;
kioo.core.after=function(){var after__delegate=function(body){return function(node){return cljs.core.cons.call(null,kioo.core.make_dom.call(null,node),body)}};var after=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return after__delegate.call(this,body)};after.cljs$lang$maxFixedArity=0;after.cljs$lang$applyTo=function(arglist__20012){var body=cljs.core.seq(arglist__20012);return after__delegate(body)};after.cljs$core$IFn$_invoke$arity$variadic=
after__delegate;return after}();
kioo.core.before=function(){var before__delegate=function(body){return function(node){return kioo.util.flatten_nodes.call(null,cljs.core.concat.call(null,body,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[kioo.core.make_dom.call(null,node)],null)))}};var before=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return before__delegate.call(this,body)};before.cljs$lang$maxFixedArity=0;before.cljs$lang$applyTo=
function(arglist__20013){var body=cljs.core.seq(arglist__20013);return before__delegate(body)};before.cljs$core$IFn$_invoke$arity$variadic=before__delegate;return before}();kioo.core.substitute=kioo.common.substitute;kioo.core.set_attr=kioo.common.set_attr;kioo.core.remove_attr=kioo.common.remove_attr;kioo.core.do__GT_=kioo.common.do__GT_;kioo.core.set_style=kioo.common.set_style;kioo.core.remove_style=kioo.common.remove_style;kioo.core.set_class=kioo.common.set_class;kioo.core.add_class=kioo.common.add_class;
kioo.core.remove_class=kioo.common.remove_class;
kioo.core.wrap=function wrap(tag,attrs){return function(node){return new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"tag","tag",1014018828),tag,new cljs.core.Keyword(null,"sym","sym",1014018617),React.DOM[cljs.core.name.call(null,tag)],new cljs.core.Keyword(null,"attrs","attrs",1107056660),kioo.util.convert_attrs.call(null,attrs),new cljs.core.Keyword(null,"content","content",1965434859),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[kioo.core.make_dom.call(null,
node)],null)],null)}};kioo.core.unwrap=kioo.common.unwrap;kioo.core.html=function html(content){return sablono.interpreter.interpret.call(null,content)};
kioo.core.html_content=function html_content(content){return function(node){var children=cljs.core.map.call(null,function(p1__20014_SHARP_){return sablono.interpreter.interpret.call(null,hickory.core.as_hiccup.call(null,p1__20014_SHARP_))},hickory.core.parse_fragment.call(null,content));return cljs.core.assoc.call(null,node,new cljs.core.Keyword(null,"content","content",1965434859),children)}};
kioo.core.listen_react_events=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,6,["onRender",null,"onUpdate",null,"onWillMount",null,"onMount",null,"onWillUpdate",null,"onWillReceiveProps",null],null),null);
kioo.core.listen=function(){var listen__delegate=function(events_PLUS_fns){var pairs=cljs.core.map.call(null,function(p__20023){var vec__20024=p__20023;var k=cljs.core.nth.call(null,vec__20024,0,null);var v=cljs.core.nth.call(null,vec__20024,1,null);return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[kioo.util.camel_case.call(null,k),v],null)},cljs.core.partition.call(null,2,events_PLUS_fns));var vec__20022=cljs.core.reduce.call(null,function(pairs){return function(p__20025,
p__20026){var vec__20027=p__20025;var r=cljs.core.nth.call(null,vec__20027,0,null);var s=cljs.core.nth.call(null,vec__20027,1,null);var vec__20028=p__20026;var k=cljs.core.nth.call(null,vec__20028,0,null);var v=cljs.core.nth.call(null,vec__20028,1,null);if(cljs.core.truth_(kioo.core.listen_react_events.call(null,k)))return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.assoc.call(null,r,k,v),s],null);else return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[r,cljs.core.assoc.call(null,s,k,v)],null)}}(pairs),cljs.core.PersistentVector.EMPTY,pairs);var rev=cljs.core.nth.call(null,vec__20022,0,null);var sev=cljs.core.nth.call(null,vec__20022,1,null);return function(pairs,vec__20022,rev,sev){return function(node){return cljs.core.assoc.call(null,node,new cljs.core.Keyword(null,"attrs","attrs",1107056660),cljs.core.merge.call(null,(new cljs.core.Keyword(null,"attrs","attrs",1107056660)).cljs$core$IFn$_invoke$arity$1(node),sev),new cljs.core.Keyword(null,
"events","events",4017542283),cljs.core.merge.call(null,(new cljs.core.Keyword(null,"events","events",4017542283)).cljs$core$IFn$_invoke$arity$1(node),rev))}}(pairs,vec__20022,rev,sev)};var listen=function(var_args){var events_PLUS_fns=null;if(arguments.length>0)events_PLUS_fns=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return listen__delegate.call(this,events_PLUS_fns)};listen.cljs$lang$maxFixedArity=0;listen.cljs$lang$applyTo=function(arglist__20029){var events_PLUS_fns=cljs.core.seq(arglist__20029);
return listen__delegate(events_PLUS_fns)};listen.cljs$core$IFn$_invoke$arity$variadic=listen__delegate;return listen}();kioo.core.lifecycle_events=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,9,["willMount",null,"willUpdate",null,"willReceiveProps",null,"initState",null,"willUnmount",null,"defaultProps",null,"shouldUpdate",null,"didMount",null,"didUpdate",null],null),null);
kioo.core.lifecycle=function lifecycle(events_fns){return function(node){return cljs.core.assoc.call(null,node,new cljs.core.Keyword(null,"events","events",4017542283),cljs.core.merge.call(null,(new cljs.core.Keyword(null,"events","events",4017542283)).cljs$core$IFn$_invoke$arity$1(node),cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,function(){var iter__4195__auto__=function iter__20038(s__20039){return new cljs.core.LazySeq(null,function(){var s__20039__$1=s__20039;while(true){var temp__4126__auto__=
cljs.core.seq.call(null,s__20039__$1);if(temp__4126__auto__){var s__20039__$2=temp__4126__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__20039__$2)){var c__4193__auto__=cljs.core.chunk_first.call(null,s__20039__$2);var size__4194__auto__=cljs.core.count.call(null,c__4193__auto__);var b__20041=cljs.core.chunk_buffer.call(null,size__4194__auto__);if(function(){var i__20040=0;while(true){if(i__20040<size__4194__auto__){var vec__20044=cljs.core._nth.call(null,c__4193__auto__,i__20040);var k=cljs.core.nth.call(null,
vec__20044,0,null);var v=cljs.core.nth.call(null,vec__20044,1,null);cljs.core.chunk_append.call(null,b__20041,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[kioo.util.camel_case.call(null,k),v],null));var G__20046=i__20040+1;i__20040=G__20046;continue}else return true;break}}())return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__20041),iter__20038.call(null,cljs.core.chunk_rest.call(null,s__20039__$2)));else return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,
b__20041),null)}else{var vec__20045=cljs.core.first.call(null,s__20039__$2);var k=cljs.core.nth.call(null,vec__20045,0,null);var v=cljs.core.nth.call(null,vec__20045,1,null);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[kioo.util.camel_case.call(null,k),v],null),iter__20038.call(null,cljs.core.rest.call(null,s__20039__$2)))}}else return null;break}},null,null)};return iter__4195__auto__.call(null,events_fns)}())))}};
kioo.core.render=function render(component,node){return React.renderComponent(component,node)};goog.provide("goog.Thenable");goog.Thenable=function(){};goog.Thenable.prototype.then=function(opt_onFulfilled,opt_onRejected,opt_context){};goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable";goog.Thenable.addImplementation=function(ctor){goog.exportProperty(ctor.prototype,"then",ctor.prototype.then);if(COMPILED)ctor.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=true;else ctor.prototype.$goog_Thenable=true};
goog.Thenable.isImplementedBy=function(object){if(!object)return false;try{if(COMPILED)return!!object[goog.Thenable.IMPLEMENTED_BY_PROP];return!!object.$goog_Thenable}catch(e){return false}};goog.provide("goog.debug.EntryPointMonitor");goog.provide("goog.debug.entryPointRegistry");goog.require("goog.asserts");goog.debug.EntryPointMonitor=function(){};goog.debug.EntryPointMonitor.prototype.wrap;goog.debug.EntryPointMonitor.prototype.unwrap;goog.debug.entryPointRegistry.refList_=[];goog.debug.entryPointRegistry.monitors_=[];goog.debug.entryPointRegistry.monitorsMayExist_=false;
goog.debug.entryPointRegistry.register=function(callback){goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=callback;if(goog.debug.entryPointRegistry.monitorsMayExist_){var monitors=goog.debug.entryPointRegistry.monitors_;for(var i=0;i<monitors.length;i++)callback(goog.bind(monitors[i].wrap,monitors[i]))}};
goog.debug.entryPointRegistry.monitorAll=function(monitor){goog.debug.entryPointRegistry.monitorsMayExist_=true;var transformer=goog.bind(monitor.wrap,monitor);for(var i=0;i<goog.debug.entryPointRegistry.refList_.length;i++)goog.debug.entryPointRegistry.refList_[i](transformer);goog.debug.entryPointRegistry.monitors_.push(monitor)};
goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(monitor){var monitors=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(monitor==monitors[monitors.length-1],"Only the most recent monitor can be unwrapped.");var transformer=goog.bind(monitor.unwrap,monitor);for(var i=0;i<goog.debug.entryPointRegistry.refList_.length;i++)goog.debug.entryPointRegistry.refList_[i](transformer);monitors.length--};goog.provide("goog.async.nextTick");goog.require("goog.debug.entryPointRegistry");goog.require("goog.functions");goog.async.nextTick=function(callback,opt_context){var cb=callback;if(opt_context)cb=goog.bind(callback,opt_context);cb=goog.async.nextTick.wrapCallback_(cb);if(goog.isFunction(goog.global.setImmediate)){goog.global.setImmediate(cb);return}if(!goog.async.nextTick.setImmediate_)goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_();goog.async.nextTick.setImmediate_(cb)};
goog.async.nextTick.setImmediate_;
goog.async.nextTick.getSetImmediateEmulator_=function(){var Channel=goog.global["MessageChannel"];if(typeof Channel==="undefined"&&(typeof window!=="undefined"&&(window.postMessage&&window.addEventListener)))Channel=function(){var iframe=document.createElement("iframe");iframe.style.display="none";iframe.src="";document.documentElement.appendChild(iframe);var win=iframe.contentWindow;var doc=win.document;doc.open();doc.write("");doc.close();var message="callImmediate"+Math.random();var origin=win.location.protocol+
"//"+win.location.host;var onmessage=goog.bind(function(e){if(e.origin!=origin&&e.data!=message)return;this["port1"].onmessage()},this);win.addEventListener("message",onmessage,false);this["port1"]={};this["port2"]={postMessage:function(){win.postMessage(message,origin)}}};if(typeof Channel!=="undefined"){var channel=new Channel;var head={};var tail=head;channel["port1"].onmessage=function(){head=head.next;var cb=head.cb;head.cb=null;cb()};return function(cb){tail.next={cb:cb};tail=tail.next;channel["port2"].postMessage(0)}}if(typeof document!==
"undefined"&&"onreadystatechange"in document.createElement("script"))return function(cb){var script=document.createElement("script");script.onreadystatechange=function(){script.onreadystatechange=null;script.parentNode.removeChild(script);script=null;cb();cb=null};document.documentElement.appendChild(script)};return function(cb){goog.global.setTimeout(cb,0)}};goog.async.nextTick.wrapCallback_=goog.functions.identity;
goog.debug.entryPointRegistry.register(function(transformer){goog.async.nextTick.wrapCallback_=transformer});goog.provide("goog.testing.watchers");goog.testing.watchers.resetWatchers_=[];goog.testing.watchers.signalClockReset=function(){var watchers=goog.testing.watchers.resetWatchers_;for(var i=0;i<watchers.length;i++)goog.testing.watchers.resetWatchers_[i]()};goog.testing.watchers.watchClockReset=function(fn){goog.testing.watchers.resetWatchers_.push(fn)};goog.provide("goog.async.run");goog.provide("goog.async.throwException");goog.require("goog.async.nextTick");goog.require("goog.testing.watchers");goog.async.throwException=function(exception){goog.async.nextTick(function(){throw exception;})};goog.async.run=function(callback,opt_context){if(!goog.async.run.workQueueScheduled_){goog.async.nextTick(goog.async.run.processWorkQueue);goog.async.run.workQueueScheduled_=true}goog.async.run.workQueue_.push(new goog.async.run.WorkItem_(callback,opt_context))};
goog.async.run.workQueueScheduled_=false;goog.async.run.workQueue_=[];if(goog.DEBUG){goog.async.run.resetQueue_=function(){goog.async.run.workQueueScheduled_=false;goog.async.run.workQueue_=[]};goog.testing.watchers.watchClockReset(goog.async.run.resetQueue_)}
goog.async.run.processWorkQueue=function(){while(goog.async.run.workQueue_.length){var workItems=goog.async.run.workQueue_;goog.async.run.workQueue_=[];for(var i=0;i<workItems.length;i++){var workItem=workItems[i];try{workItem.fn.call(workItem.scope)}catch(e){goog.async.throwException(e)}}}goog.async.run.workQueueScheduled_=false};goog.async.run.WorkItem_=function(fn,scope){this.fn=fn;this.scope=scope};goog.provide("goog.promise.Resolver");goog.promise.Resolver=function(){};goog.promise.Resolver.prototype.promise;goog.promise.Resolver.prototype.resolve;goog.promise.Resolver.prototype.reject;goog.provide("goog.Promise");goog.require("goog.Thenable");goog.require("goog.asserts");goog.require("goog.async.run");goog.require("goog.async.throwException");goog.require("goog.debug.Error");goog.require("goog.promise.Resolver");
goog.Promise=function(resolver,opt_context){this.state_=goog.Promise.State_.PENDING;this.result_=undefined;this.parent_=null;this.callbackEntries_=null;this.executing_=false;if(goog.Promise.UNHANDLED_REJECTION_DELAY>0)this.unhandledRejectionId_=0;else if(goog.Promise.UNHANDLED_REJECTION_DELAY==0)this.hadUnhandledRejection_=false;if(goog.Promise.LONG_STACK_TRACES){this.stack_=[];this.addStackTrace_(new Error("created"));this.currentStep_=0}try{var self=this;resolver.call(opt_context,function(value){self.resolve_(goog.Promise.State_.FULFILLED,
value)},function(reason){self.resolve_(goog.Promise.State_.REJECTED,reason)})}catch(e){this.resolve_(goog.Promise.State_.REJECTED,e)}};goog.define("goog.Promise.LONG_STACK_TRACES",goog.DEBUG);goog.define("goog.Promise.UNHANDLED_REJECTION_DELAY",0);goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3};goog.Promise.CallbackEntry_;goog.Promise.resolve=function(opt_value){return new goog.Promise(function(resolve,reject){resolve(opt_value)})};
goog.Promise.reject=function(opt_reason){return new goog.Promise(function(resolve,reject){reject(opt_reason)})};goog.Promise.race=function(promises){return new goog.Promise(function(resolve,reject){if(!promises.length)resolve(undefined);for(var i=0,promise;promise=promises[i];i++)promise.then(resolve,reject)})};
goog.Promise.all=function(promises){return new goog.Promise(function(resolve,reject){var toFulfill=promises.length;var values=[];if(!toFulfill){resolve(values);return}var onFulfill=function(index,value){toFulfill--;values[index]=value;if(toFulfill==0)resolve(values)};var onReject=function(reason){reject(reason)};for(var i=0,promise;promise=promises[i];i++)promise.then(goog.partial(onFulfill,i),onReject)})};
goog.Promise.firstFulfilled=function(promises){return new goog.Promise(function(resolve,reject){var toReject=promises.length;var reasons=[];if(!toReject){resolve(undefined);return}var onFulfill=function(value){resolve(value)};var onReject=function(index,reason){toReject--;reasons[index]=reason;if(toReject==0)reject(reasons)};for(var i=0,promise;promise=promises[i];i++)promise.then(onFulfill,goog.partial(onReject,i))})};
goog.Promise.withResolver=function(){var resolve,reject;var promise=new goog.Promise(function(rs,rj){resolve=rs;reject=rj});return new goog.Promise.Resolver_(promise,resolve,reject)};goog.Promise.prototype.then=function(opt_onFulfilled,opt_onRejected,opt_context){if(goog.Promise.LONG_STACK_TRACES)this.addStackTrace_(new Error("then"));return this.addChildPromise_(goog.isFunction(opt_onFulfilled)?opt_onFulfilled:null,goog.isFunction(opt_onRejected)?opt_onRejected:null,opt_context)};goog.Thenable.addImplementation(goog.Promise);
goog.Promise.prototype.thenAlways=function(onResolved,opt_context){if(goog.Promise.LONG_STACK_TRACES)this.addStackTrace_(new Error("thenAlways"));var callback=function(){try{onResolved.call(opt_context)}catch(err){goog.Promise.handleRejection_.call(null,err)}};this.addCallbackEntry_({child:null,onRejected:callback,onFulfilled:callback});return this};
goog.Promise.prototype.thenCatch=function(onRejected,opt_context){if(goog.Promise.LONG_STACK_TRACES)this.addStackTrace_(new Error("thenCatch"));return this.addChildPromise_(null,onRejected,opt_context)};goog.Promise.prototype.cancel=function(opt_message){if(this.state_==goog.Promise.State_.PENDING)goog.async.run(function(){var err=new goog.Promise.CancellationError(opt_message);this.cancelInternal_(err)},this)};
goog.Promise.prototype.cancelInternal_=function(err){if(this.state_==goog.Promise.State_.PENDING)if(this.parent_)this.parent_.cancelChild_(this,err);else this.resolve_(goog.Promise.State_.REJECTED,err)};
goog.Promise.prototype.cancelChild_=function(childPromise,err){if(!this.callbackEntries_)return;var childCount=0;var childIndex=-1;for(var i=0,entry;entry=this.callbackEntries_[i];i++){var child=entry.child;if(child){childCount++;if(child==childPromise)childIndex=i;if(childIndex>=0&&childCount>1)break}}if(childIndex>=0)if(this.state_==goog.Promise.State_.PENDING&&childCount==1)this.cancelInternal_(err);else{var callbackEntry=this.callbackEntries_.splice(childIndex,1)[0];this.executeCallback_(callbackEntry,
goog.Promise.State_.REJECTED,err)}};goog.Promise.prototype.addCallbackEntry_=function(callbackEntry){if((!this.callbackEntries_||!this.callbackEntries_.length)&&(this.state_==goog.Promise.State_.FULFILLED||this.state_==goog.Promise.State_.REJECTED))this.scheduleCallbacks_();if(!this.callbackEntries_)this.callbackEntries_=[];this.callbackEntries_.push(callbackEntry)};
goog.Promise.prototype.addChildPromise_=function(onFulfilled,onRejected,opt_context){var callbackEntry={child:null,onFulfilled:null,onRejected:null};callbackEntry.child=new goog.Promise(function(resolve,reject){callbackEntry.onFulfilled=onFulfilled?function(value){try{var result=onFulfilled.call(opt_context,value);resolve(result)}catch(err){reject(err)}}:resolve;callbackEntry.onRejected=onRejected?function(reason){try{var result=onRejected.call(opt_context,reason);if(!goog.isDef(result)&&reason instanceof
goog.Promise.CancellationError)reject(reason);else resolve(result)}catch(err){reject(err)}}:reject});callbackEntry.child.parent_=this;this.addCallbackEntry_((callbackEntry));return callbackEntry.child};goog.Promise.prototype.unblockAndFulfill_=function(value){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED);this.state_=goog.Promise.State_.PENDING;this.resolve_(goog.Promise.State_.FULFILLED,value)};
goog.Promise.prototype.unblockAndReject_=function(reason){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED);this.state_=goog.Promise.State_.PENDING;this.resolve_(goog.Promise.State_.REJECTED,reason)};
goog.Promise.prototype.resolve_=function(state,x){if(this.state_!=goog.Promise.State_.PENDING)return;if(this==x){state=goog.Promise.State_.REJECTED;x=new TypeError("Promise cannot resolve to itself")}else if(goog.Thenable.isImplementedBy(x)){x=(x);this.state_=goog.Promise.State_.BLOCKED;x.then(this.unblockAndFulfill_,this.unblockAndReject_,this);return}else if(goog.isObject(x))try{var then=x["then"];if(goog.isFunction(then)){this.tryThen_(x,then);return}}catch(e){state=goog.Promise.State_.REJECTED;
x=e}this.result_=x;this.state_=state;this.scheduleCallbacks_();if(state==goog.Promise.State_.REJECTED&&!(x instanceof goog.Promise.CancellationError))goog.Promise.addUnhandledRejection_(this,x)};
goog.Promise.prototype.tryThen_=function(thenable,then){this.state_=goog.Promise.State_.BLOCKED;var promise=this;var called=false;var resolve=function(value){if(!called){called=true;promise.unblockAndFulfill_(value)}};var reject=function(reason){if(!called){called=true;promise.unblockAndReject_(reason)}};try{then.call(thenable,resolve,reject)}catch(e){reject(e)}};goog.Promise.prototype.scheduleCallbacks_=function(){if(!this.executing_){this.executing_=true;goog.async.run(this.executeCallbacks_,this)}};
goog.Promise.prototype.executeCallbacks_=function(){while(this.callbackEntries_&&this.callbackEntries_.length){var entries=this.callbackEntries_;this.callbackEntries_=[];for(var i=0;i<entries.length;i++){if(goog.Promise.LONG_STACK_TRACES)this.currentStep_++;this.executeCallback_(entries[i],this.state_,this.result_)}}this.executing_=false};
goog.Promise.prototype.executeCallback_=function(callbackEntry,state,result){if(state==goog.Promise.State_.FULFILLED)callbackEntry.onFulfilled(result);else{this.removeUnhandledRejection_();callbackEntry.onRejected(result)}};goog.Promise.prototype.addStackTrace_=function(err){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(err.stack)){var trace=err.stack.split("\n",4)[3];var message=err.message;message+=Array(11-message.length).join(" ");this.stack_.push(message+trace)}};
goog.Promise.prototype.appendLongStack_=function(err){if(goog.Promise.LONG_STACK_TRACES&&(err&&(goog.isString(err.stack)&&this.stack_.length))){var longTrace=["Promise trace:"];for(var promise=this;promise;promise=promise.parent_){for(var i=this.currentStep_;i>=0;i--)longTrace.push(promise.stack_[i]);longTrace.push("Value: "+"["+(promise.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] "+"\x3c"+String(promise.result_)+"\x3e")}err.stack+="\n\n"+longTrace.join("\n")}};
goog.Promise.prototype.removeUnhandledRejection_=function(){if(goog.Promise.UNHANDLED_REJECTION_DELAY>0)for(var p=this;p&&p.unhandledRejectionId_;p=p.parent_){goog.global.clearTimeout(p.unhandledRejectionId_);p.unhandledRejectionId_=0}else if(goog.Promise.UNHANDLED_REJECTION_DELAY==0)for(var p=this;p&&p.hadUnhandledRejection_;p=p.parent_)p.hadUnhandledRejection_=false};
goog.Promise.addUnhandledRejection_=function(promise,reason){if(goog.Promise.UNHANDLED_REJECTION_DELAY>0)promise.unhandledRejectionId_=goog.global.setTimeout(function(){promise.appendLongStack_(reason);goog.Promise.handleRejection_.call(null,reason)},goog.Promise.UNHANDLED_REJECTION_DELAY);else if(goog.Promise.UNHANDLED_REJECTION_DELAY==0){promise.hadUnhandledRejection_=true;goog.async.run(function(){if(promise.hadUnhandledRejection_){promise.appendLongStack_(reason);goog.Promise.handleRejection_.call(null,
reason)}})}};goog.Promise.handleRejection_=goog.async.throwException;goog.Promise.setUnhandledRejectionHandler=function(handler){goog.Promise.handleRejection_=handler};goog.Promise.CancellationError=function(opt_message){goog.Promise.CancellationError.base(this,"constructor",opt_message)};goog.inherits(goog.Promise.CancellationError,goog.debug.Error);goog.Promise.CancellationError.prototype.name="cancel";
goog.Promise.Resolver_=function(promise,resolve,reject){this.promise=promise;this.resolve=resolve;this.reject=reject};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
goog.provide("goog.async.Deferred");goog.provide("goog.async.Deferred.AlreadyCalledError");goog.provide("goog.async.Deferred.CanceledError");goog.require("goog.Promise");goog.require("goog.Thenable");goog.require("goog.array");goog.require("goog.asserts");goog.require("goog.debug.Error");
goog.async.Deferred=function(opt_onCancelFunction,opt_defaultScope){this.sequence_=[];this.onCancelFunction_=opt_onCancelFunction;this.defaultScope_=opt_defaultScope||null;this.fired_=false;this.hadError_=false;this.result_=undefined;this.blocked_=false;this.blocking_=false;this.silentlyCanceled_=false;this.unhandledErrorId_=0;this.parent_=null;this.branches_=0;if(goog.async.Deferred.LONG_STACK_TRACES){this.constructorStack_=null;if(Error.captureStackTrace){var target={stack:""};Error.captureStackTrace(target,
goog.async.Deferred);if(typeof target.stack=="string")this.constructorStack_=target.stack.replace(/^[^\n]*\n/,"")}}};goog.define("goog.async.Deferred.STRICT_ERRORS",false);goog.define("goog.async.Deferred.LONG_STACK_TRACES",goog.DEBUG);
goog.async.Deferred.prototype.cancel=function(opt_deepCancel){if(!this.hasFired()){if(this.parent_){var parent=this.parent_;delete this.parent_;if(opt_deepCancel)parent.cancel(opt_deepCancel);else parent.branchCancel_()}if(this.onCancelFunction_)this.onCancelFunction_.call(this.defaultScope_,this);else this.silentlyCanceled_=true;if(!this.hasFired())this.errback(new goog.async.Deferred.CanceledError(this))}else if(this.result_ instanceof goog.async.Deferred)this.result_.cancel()};
goog.async.Deferred.prototype.branchCancel_=function(){this.branches_--;if(this.branches_<=0)this.cancel()};goog.async.Deferred.prototype.continue_=function(isSuccess,res){this.blocked_=false;this.updateResult_(isSuccess,res)};goog.async.Deferred.prototype.updateResult_=function(isSuccess,res){this.fired_=true;this.result_=res;this.hadError_=!isSuccess;this.fire_()};
goog.async.Deferred.prototype.check_=function(){if(this.hasFired()){if(!this.silentlyCanceled_)throw new goog.async.Deferred.AlreadyCalledError(this);this.silentlyCanceled_=false}};goog.async.Deferred.prototype.callback=function(opt_result){this.check_();this.assertNotDeferred_(opt_result);this.updateResult_(true,opt_result)};goog.async.Deferred.prototype.errback=function(opt_result){this.check_();this.assertNotDeferred_(opt_result);this.makeStackTraceLong_(opt_result);this.updateResult_(false,opt_result)};
goog.async.Deferred.prototype.makeStackTraceLong_=function(error){if(!goog.async.Deferred.LONG_STACK_TRACES)return;if(this.constructorStack_&&(goog.isObject(error)&&(error.stack&&/^[^\n]+(\n   [^\n]+)+/.test(error.stack))))error.stack=error.stack+"\nDEFERRED OPERATION:\n"+this.constructorStack_};goog.async.Deferred.prototype.assertNotDeferred_=function(obj){goog.asserts.assert(!(obj instanceof goog.async.Deferred),"An execution sequence may not be initiated with a blocking Deferred.")};
goog.async.Deferred.prototype.addCallback=function(cb,opt_scope){return this.addCallbacks(cb,null,opt_scope)};goog.async.Deferred.prototype.addErrback=function(eb,opt_scope){return this.addCallbacks(null,eb,opt_scope)};goog.async.Deferred.prototype.addBoth=function(f,opt_scope){return this.addCallbacks(f,f,opt_scope)};
goog.async.Deferred.prototype.addCallbacks=function(cb,eb,opt_scope){goog.asserts.assert(!this.blocking_,"Blocking Deferreds can not be re-used");this.sequence_.push([cb,eb,opt_scope]);if(this.hasFired())this.fire_();return this};
goog.async.Deferred.prototype.then=function(opt_onFulfilled,opt_onRejected,opt_context){var resolve,reject;var promise=new goog.Promise(function(res,rej){resolve=res;reject=rej});this.addCallbacks(resolve,function(reason){if(reason instanceof goog.async.Deferred.CanceledError)promise.cancel();else reject(reason)});return promise.then(opt_onFulfilled,opt_onRejected,opt_context)};goog.Thenable.addImplementation(goog.async.Deferred);
goog.async.Deferred.prototype.chainDeferred=function(otherDeferred){this.addCallbacks(otherDeferred.callback,otherDeferred.errback,otherDeferred);return this};goog.async.Deferred.prototype.awaitDeferred=function(otherDeferred){return this.addCallback(goog.bind(otherDeferred.branch,otherDeferred))};goog.async.Deferred.prototype.branch=function(opt_propagateCancel){var d=new goog.async.Deferred;this.chainDeferred(d);if(opt_propagateCancel){d.parent_=this;this.branches_++}return d};
goog.async.Deferred.prototype.hasFired=function(){return this.fired_};goog.async.Deferred.prototype.isError=function(res){return res instanceof Error};goog.async.Deferred.prototype.hasErrback_=function(){return goog.array.some(this.sequence_,function(sequenceRow){return goog.isFunction(sequenceRow[1])})};
goog.async.Deferred.prototype.fire_=function(){if(this.unhandledErrorId_&&(this.hasFired()&&this.hasErrback_())){goog.async.Deferred.unscheduleError_(this.unhandledErrorId_);this.unhandledErrorId_=0}if(this.parent_){this.parent_.branches_--;delete this.parent_}var res=this.result_;var unhandledException=false;var isNewlyBlocked=false;while(this.sequence_.length&&!this.blocked_){var sequenceEntry=this.sequence_.shift();var callback=sequenceEntry[0];var errback=sequenceEntry[1];var scope=sequenceEntry[2];
var f=this.hadError_?errback:callback;if(f)try{var ret=f.call(scope||this.defaultScope_,res);if(goog.isDef(ret)){this.hadError_=this.hadError_&&(ret==res||this.isError(ret));this.result_=res=ret}if(goog.Thenable.isImplementedBy(res)){isNewlyBlocked=true;this.blocked_=true}}catch(ex){res=ex;this.hadError_=true;this.makeStackTraceLong_(res);if(!this.hasErrback_())unhandledException=true}}this.result_=res;if(isNewlyBlocked){var onCallback=goog.bind(this.continue_,this,true);var onErrback=goog.bind(this.continue_,
this,false);if(res instanceof goog.async.Deferred){res.addCallbacks(onCallback,onErrback);res.blocking_=true}else res.then(onCallback,onErrback)}else if(goog.async.Deferred.STRICT_ERRORS&&(this.isError(res)&&!(res instanceof goog.async.Deferred.CanceledError))){this.hadError_=true;unhandledException=true}if(unhandledException)this.unhandledErrorId_=goog.async.Deferred.scheduleError_(res)};goog.async.Deferred.succeed=function(opt_result){var d=new goog.async.Deferred;d.callback(opt_result);return d};
goog.async.Deferred.fromPromise=function(promise){var d=new goog.async.Deferred;d.callback();d.addCallback(function(){return promise});return d};goog.async.Deferred.fail=function(res){var d=new goog.async.Deferred;d.errback(res);return d};goog.async.Deferred.canceled=function(){var d=new goog.async.Deferred;d.cancel();return d};
goog.async.Deferred.when=function(value,callback,opt_scope){if(value instanceof goog.async.Deferred)return value.branch(true).addCallback(callback,opt_scope);else return goog.async.Deferred.succeed(value).addCallback(callback,opt_scope)};goog.async.Deferred.AlreadyCalledError=function(deferred){goog.debug.Error.call(this);this.deferred=deferred};goog.inherits(goog.async.Deferred.AlreadyCalledError,goog.debug.Error);goog.async.Deferred.AlreadyCalledError.prototype.message="Deferred has already fired";
goog.async.Deferred.AlreadyCalledError.prototype.name="AlreadyCalledError";goog.async.Deferred.CanceledError=function(deferred){goog.debug.Error.call(this);this.deferred=deferred};goog.inherits(goog.async.Deferred.CanceledError,goog.debug.Error);goog.async.Deferred.CanceledError.prototype.message="Deferred was canceled";goog.async.Deferred.CanceledError.prototype.name="CanceledError";
goog.async.Deferred.Error_=function(error){this.id_=goog.global.setTimeout(goog.bind(this.throwError,this),0);this.error_=error};goog.async.Deferred.Error_.prototype.throwError=function(){goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_],"Cannot throw an error that is not scheduled.");delete goog.async.Deferred.errorMap_[this.id_];throw this.error_;};goog.async.Deferred.Error_.prototype.resetTimer=function(){goog.global.clearTimeout(this.id_)};goog.async.Deferred.errorMap_={};
goog.async.Deferred.scheduleError_=function(error){var deferredError=new goog.async.Deferred.Error_(error);goog.async.Deferred.errorMap_[deferredError.id_]=deferredError;return deferredError.id_};goog.async.Deferred.unscheduleError_=function(id){var error=goog.async.Deferred.errorMap_[id];if(error){error.resetTimer();delete goog.async.Deferred.errorMap_[id]}};
goog.async.Deferred.assertNoErrors=function(){var map=goog.async.Deferred.errorMap_;for(var key in map){var error=map[key];error.resetTimer();error.throwError()}};goog.provide("goog.net.jsloader");goog.provide("goog.net.jsloader.Error");goog.provide("goog.net.jsloader.ErrorCode");goog.provide("goog.net.jsloader.Options");goog.require("goog.array");goog.require("goog.async.Deferred");goog.require("goog.debug.Error");goog.require("goog.dom");goog.require("goog.dom.TagName");goog.net.jsloader.GLOBAL_VERIFY_OBJS_="closure_verification";goog.net.jsloader.DEFAULT_TIMEOUT=5E3;goog.net.jsloader.Options;goog.net.jsloader.scriptsToLoad_=[];
goog.net.jsloader.loadMany=function(uris,opt_options){if(!uris.length)return;var isAnotherModuleLoading=goog.net.jsloader.scriptsToLoad_.length;goog.array.extend(goog.net.jsloader.scriptsToLoad_,uris);if(isAnotherModuleLoading)return;uris=goog.net.jsloader.scriptsToLoad_;var popAndLoadNextScript=function(){var uri=uris.shift();var deferred=goog.net.jsloader.load(uri,opt_options);if(uris.length)deferred.addBoth(popAndLoadNextScript)};popAndLoadNextScript()};
goog.net.jsloader.load=function(uri,opt_options){var options=opt_options||{};var doc=options.document||document;var script=goog.dom.createElement(goog.dom.TagName.SCRIPT);var request={script_:script,timeout_:undefined};var deferred=new goog.async.Deferred(goog.net.jsloader.cancel_,request);var timeout=null;var timeoutDuration=goog.isDefAndNotNull(options.timeout)?options.timeout:goog.net.jsloader.DEFAULT_TIMEOUT;if(timeoutDuration>0){timeout=window.setTimeout(function(){goog.net.jsloader.cleanup_(script,
true);deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT,"Timeout reached for loading script "+uri))},timeoutDuration);request.timeout_=timeout}script.onload=script.onreadystatechange=function(){if(!script.readyState||(script.readyState=="loaded"||script.readyState=="complete")){var removeScriptNode=options.cleanupWhenDone||false;goog.net.jsloader.cleanup_(script,removeScriptNode,timeout);deferred.callback(null)}};script.onerror=function(){goog.net.jsloader.cleanup_(script,
true,timeout);deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR,"Error while loading script "+uri))};goog.dom.setProperties(script,{"type":"text/javascript","charset":"UTF-8","src":uri});var scriptParent=goog.net.jsloader.getScriptParentElement_(doc);scriptParent.appendChild(script);return deferred};
goog.net.jsloader.loadAndVerify=function(uri,verificationObjName,options){if(!goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_])goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]={};var verifyObjs=goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_];if(goog.isDef(verifyObjs[verificationObjName]))return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS,"Verification object "+verificationObjName+" already defined."));var sendDeferred=goog.net.jsloader.load(uri,
options);var deferred=new goog.async.Deferred(goog.bind(sendDeferred.cancel,sendDeferred));sendDeferred.addCallback(function(){var result=verifyObjs[verificationObjName];if(goog.isDef(result)){deferred.callback(result);delete verifyObjs[verificationObjName]}else deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR,"Script "+uri+" loaded, but verification object "+verificationObjName+" was not defined."))});sendDeferred.addErrback(function(error){if(goog.isDef(verifyObjs[verificationObjName]))delete verifyObjs[verificationObjName];
deferred.errback(error)});return deferred};goog.net.jsloader.getScriptParentElement_=function(doc){var headElements=doc.getElementsByTagName(goog.dom.TagName.HEAD);if(!headElements||goog.array.isEmpty(headElements))return doc.documentElement;else return headElements[0]};goog.net.jsloader.cancel_=function(){var request=this;if(request&&request.script_){var scriptNode=request.script_;if(scriptNode&&scriptNode.tagName=="SCRIPT")goog.net.jsloader.cleanup_(scriptNode,true,request.timeout_)}};
goog.net.jsloader.cleanup_=function(scriptNode,removeScriptNode,opt_timeout){if(goog.isDefAndNotNull(opt_timeout))goog.global.clearTimeout(opt_timeout);scriptNode.onload=goog.nullFunction;scriptNode.onerror=goog.nullFunction;scriptNode.onreadystatechange=goog.nullFunction;if(removeScriptNode)window.setTimeout(function(){goog.dom.removeNode(scriptNode)},0)};goog.net.jsloader.ErrorCode={LOAD_ERROR:0,TIMEOUT:1,VERIFY_ERROR:2,VERIFY_OBJECT_ALREADY_EXISTS:3};
goog.net.jsloader.Error=function(code,opt_message){var msg="Jsloader error (code #"+code+")";if(opt_message)msg+=": "+opt_message;goog.net.jsloader.Error.base(this,"constructor",msg);this.code=code};goog.inherits(goog.net.jsloader.Error,goog.debug.Error);goog.provide("cljs.core.async.impl.protocols");goog.require("cljs.core");cljs.core.async.impl.protocols.MAX_QUEUE_SIZE=1024;cljs.core.async.impl.protocols.ReadPort=function(){var obj23397={};return obj23397}();
cljs.core.async.impl.protocols.take_BANG_=function take_BANG_(port,fn1_handler){if(function(){var and__3466__auto__=port;if(and__3466__auto__)return port.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2;else return and__3466__auto__}())return port.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2(port,fn1_handler);else{var x__4105__auto__=port==null?null:port;return function(){var or__3478__auto__=cljs.core.async.impl.protocols.take_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;
else{var or__3478__auto____$1=cljs.core.async.impl.protocols.take_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"ReadPort.take!",port);}}().call(null,port,fn1_handler)}};cljs.core.async.impl.protocols.WritePort=function(){var obj23399={};return obj23399}();
cljs.core.async.impl.protocols.put_BANG_=function put_BANG_(port,val,fn1_handler){if(function(){var and__3466__auto__=port;if(and__3466__auto__)return port.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3;else return and__3466__auto__}())return port.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3(port,val,fn1_handler);else{var x__4105__auto__=port==null?null:port;return function(){var or__3478__auto__=cljs.core.async.impl.protocols.put_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;
else{var or__3478__auto____$1=cljs.core.async.impl.protocols.put_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"WritePort.put!",port);}}().call(null,port,val,fn1_handler)}};cljs.core.async.impl.protocols.Channel=function(){var obj23401={};return obj23401}();
cljs.core.async.impl.protocols.close_BANG_=function close_BANG_(chan){if(function(){var and__3466__auto__=chan;if(and__3466__auto__)return chan.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1;else return and__3466__auto__}())return chan.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1(chan);else{var x__4105__auto__=chan==null?null:chan;return function(){var or__3478__auto__=cljs.core.async.impl.protocols.close_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;
else{var or__3478__auto____$1=cljs.core.async.impl.protocols.close_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Channel.close!",chan);}}().call(null,chan)}};
cljs.core.async.impl.protocols.closed_QMARK_=function closed_QMARK_(chan){if(function(){var and__3466__auto__=chan;if(and__3466__auto__)return chan.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1;else return and__3466__auto__}())return chan.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1(chan);else{var x__4105__auto__=chan==null?null:chan;return function(){var or__3478__auto__=cljs.core.async.impl.protocols.closed_QMARK_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;
else{var or__3478__auto____$1=cljs.core.async.impl.protocols.closed_QMARK_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Channel.closed?",chan);}}().call(null,chan)}};cljs.core.async.impl.protocols.Handler=function(){var obj23403={};return obj23403}();
cljs.core.async.impl.protocols.active_QMARK_=function active_QMARK_(h){if(function(){var and__3466__auto__=h;if(and__3466__auto__)return h.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1;else return and__3466__auto__}())return h.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1(h);else{var x__4105__auto__=h==null?null:h;return function(){var or__3478__auto__=cljs.core.async.impl.protocols.active_QMARK_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;
else{var or__3478__auto____$1=cljs.core.async.impl.protocols.active_QMARK_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Handler.active?",h);}}().call(null,h)}};
cljs.core.async.impl.protocols.commit=function commit(h){if(function(){var and__3466__auto__=h;if(and__3466__auto__)return h.cljs$core$async$impl$protocols$Handler$commit$arity$1;else return and__3466__auto__}())return h.cljs$core$async$impl$protocols$Handler$commit$arity$1(h);else{var x__4105__auto__=h==null?null:h;return function(){var or__3478__auto__=cljs.core.async.impl.protocols.commit[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.impl.protocols.commit["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Handler.commit",h);}}().call(null,h)}};cljs.core.async.impl.protocols.Buffer=function(){var obj23405={};return obj23405}();
cljs.core.async.impl.protocols.full_QMARK_=function full_QMARK_(b){if(function(){var and__3466__auto__=b;if(and__3466__auto__)return b.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1;else return and__3466__auto__}())return b.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1(b);else{var x__4105__auto__=b==null?null:b;return function(){var or__3478__auto__=cljs.core.async.impl.protocols.full_QMARK_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core.async.impl.protocols.full_QMARK_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Buffer.full?",b);}}().call(null,b)}};
cljs.core.async.impl.protocols.remove_BANG_=function remove_BANG_(b){if(function(){var and__3466__auto__=b;if(and__3466__auto__)return b.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1;else return and__3466__auto__}())return b.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1(b);else{var x__4105__auto__=b==null?null:b;return function(){var or__3478__auto__=cljs.core.async.impl.protocols.remove_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core.async.impl.protocols.remove_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Buffer.remove!",b);}}().call(null,b)}};
cljs.core.async.impl.protocols.add_BANG_=function add_BANG_(b,itm){if(function(){var and__3466__auto__=b;if(and__3466__auto__)return b.cljs$core$async$impl$protocols$Buffer$add_BANG_$arity$2;else return and__3466__auto__}())return b.cljs$core$async$impl$protocols$Buffer$add_BANG_$arity$2(b,itm);else{var x__4105__auto__=b==null?null:b;return function(){var or__3478__auto__=cljs.core.async.impl.protocols.add_BANG_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core.async.impl.protocols.add_BANG_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Buffer.add!",b);}}().call(null,b,itm)}};cljs.core.async.impl.protocols.UnblockingBuffer=function(){var obj23407={};return obj23407}();goog.provide("cljs.core.async.impl.buffers");goog.require("cljs.core");goog.require("cljs.core.async.impl.protocols");goog.require("cljs.core.async.impl.protocols");cljs.core.async.impl.buffers.acopy=function acopy(src,src_start,dest,dest_start,len){var cnt=0;while(true){if(cnt<len){dest[dest_start+cnt]=src[src_start+cnt];var G__23408=cnt+1;cnt=G__23408;continue}else return null;break}};
cljs.core.async.impl.buffers.RingBuffer=function(head,tail,length,arr){this.head=head;this.tail=tail;this.length=length;this.arr=arr};cljs.core.async.impl.buffers.RingBuffer.cljs$lang$type=true;cljs.core.async.impl.buffers.RingBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/RingBuffer";cljs.core.async.impl.buffers.RingBuffer.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async.impl.buffers/RingBuffer")};
cljs.core.async.impl.buffers.RingBuffer.prototype.pop=function(){var self__=this;var _=this;if(self__.length===0)return null;else{var x=self__.arr[self__.tail];self__.arr[self__.tail]=null;self__.tail=(self__.tail+1)%self__.arr.length;self__.length=self__.length-1;return x}};cljs.core.async.impl.buffers.RingBuffer.prototype.unshift=function(x){var self__=this;var _=this;self__.arr[self__.head]=x;self__.head=(self__.head+1)%self__.arr.length;self__.length=self__.length+1;return null};
cljs.core.async.impl.buffers.RingBuffer.prototype.unbounded_unshift=function(x){var self__=this;var this$=this;if(self__.length+1===self__.arr.length)this$.resize();else;return this$.unshift(x)};
cljs.core.async.impl.buffers.RingBuffer.prototype.resize=function(){var self__=this;var _=this;var new_arr_size=self__.arr.length*2;var new_arr=new Array(new_arr_size);if(self__.tail<self__.head){cljs.core.async.impl.buffers.acopy.call(null,self__.arr,self__.tail,new_arr,0,self__.length);self__.tail=0;self__.head=self__.length;return self__.arr=new_arr}else if(self__.tail>self__.head){cljs.core.async.impl.buffers.acopy.call(null,self__.arr,self__.tail,new_arr,0,self__.arr.length-self__.tail);cljs.core.async.impl.buffers.acopy.call(null,
self__.arr,0,new_arr,self__.arr.length-self__.tail,self__.head);self__.tail=0;self__.head=self__.length;return self__.arr=new_arr}else if(self__.tail===self__.head){self__.tail=0;self__.head=0;return self__.arr=new_arr}else return null};
cljs.core.async.impl.buffers.RingBuffer.prototype.cleanup=function(keep_QMARK_){var self__=this;var this$=this;var n__4326__auto__=self__.length;var x=0;while(true){if(x<n__4326__auto__){var v_23409=this$.pop();if(keep_QMARK_.call(null,v_23409))this$.unshift(v_23409);else;var G__23410=x+1;x=G__23410;continue}else return null;break}};cljs.core.async.impl.buffers.__GT_RingBuffer=function __GT_RingBuffer(head,tail,length,arr){return new cljs.core.async.impl.buffers.RingBuffer(head,tail,length,arr)};
cljs.core.async.impl.buffers.ring_buffer=function ring_buffer(n){if(n>0);else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Can't create a ring buffer of size 0"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"\x3e","\x3e",-1640531465,null),new cljs.core.Symbol(null,"n","n",-1640531417,null),0)))].join(""));return new cljs.core.async.impl.buffers.RingBuffer(0,0,0,new Array(n))};
cljs.core.async.impl.buffers.FixedBuffer=function(buf,n){this.buf=buf;this.n=n;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=2};cljs.core.async.impl.buffers.FixedBuffer.cljs$lang$type=true;cljs.core.async.impl.buffers.FixedBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/FixedBuffer";
cljs.core.async.impl.buffers.FixedBuffer.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async.impl.buffers/FixedBuffer")};cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.length};cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$=true;
cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.length===self__.n};cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.pop()};
cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$add_BANG_$arity$2=function(this$,itm){var self__=this;var this$__$1=this;if(cljs.core.not.call(null,cljs.core.async.impl.protocols.full_QMARK_.call(null,this$__$1)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Can't add to a full buffer"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"not","not",-1640422260,null),cljs.core.list(new cljs.core.Symbol("impl",
"full?","impl/full?",-1337857039,null),new cljs.core.Symbol(null,"this","this",-1636972457,null)))))].join(""));return self__.buf.unshift(itm)};cljs.core.async.impl.buffers.__GT_FixedBuffer=function __GT_FixedBuffer(buf,n){return new cljs.core.async.impl.buffers.FixedBuffer(buf,n)};cljs.core.async.impl.buffers.fixed_buffer=function fixed_buffer(n){return new cljs.core.async.impl.buffers.FixedBuffer(cljs.core.async.impl.buffers.ring_buffer.call(null,n),n)};
cljs.core.async.impl.buffers.DroppingBuffer=function(buf,n){this.buf=buf;this.n=n;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=2};cljs.core.async.impl.buffers.DroppingBuffer.cljs$lang$type=true;cljs.core.async.impl.buffers.DroppingBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/DroppingBuffer";
cljs.core.async.impl.buffers.DroppingBuffer.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async.impl.buffers/DroppingBuffer")};cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.length};cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$=true;
cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1=function(this$){var self__=this;var this$__$1=this;return false};cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.pop()};
cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$add_BANG_$arity$2=function(this$,itm){var self__=this;var this$__$1=this;if(self__.buf.length===self__.n)return null;else return self__.buf.unshift(itm)};cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$UnblockingBuffer$=true;cljs.core.async.impl.buffers.__GT_DroppingBuffer=function __GT_DroppingBuffer(buf,n){return new cljs.core.async.impl.buffers.DroppingBuffer(buf,n)};
cljs.core.async.impl.buffers.dropping_buffer=function dropping_buffer(n){return new cljs.core.async.impl.buffers.DroppingBuffer(cljs.core.async.impl.buffers.ring_buffer.call(null,n),n)};cljs.core.async.impl.buffers.SlidingBuffer=function(buf,n){this.buf=buf;this.n=n;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=2};cljs.core.async.impl.buffers.SlidingBuffer.cljs$lang$type=true;cljs.core.async.impl.buffers.SlidingBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/SlidingBuffer";
cljs.core.async.impl.buffers.SlidingBuffer.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async.impl.buffers/SlidingBuffer")};cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.length};cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$=true;
cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1=function(this$){var self__=this;var this$__$1=this;return false};cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;return self__.buf.pop()};
cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$add_BANG_$arity$2=function(this$,itm){var self__=this;var this$__$1=this;if(self__.buf.length===self__.n)cljs.core.async.impl.protocols.remove_BANG_.call(null,this$__$1);else;return self__.buf.unshift(itm)};cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$UnblockingBuffer$=true;
cljs.core.async.impl.buffers.__GT_SlidingBuffer=function __GT_SlidingBuffer(buf,n){return new cljs.core.async.impl.buffers.SlidingBuffer(buf,n)};cljs.core.async.impl.buffers.sliding_buffer=function sliding_buffer(n){return new cljs.core.async.impl.buffers.SlidingBuffer(cljs.core.async.impl.buffers.ring_buffer.call(null,n),n)};goog.provide("cljs.core.async.impl.dispatch");goog.require("cljs.core");goog.require("cljs.core.async.impl.buffers");goog.require("cljs.core.async.impl.buffers");cljs.core.async.impl.dispatch.message_channel=null;cljs.core.async.impl.dispatch.tasks=cljs.core.async.impl.buffers.ring_buffer.call(null,32);cljs.core.async.impl.dispatch.running_QMARK_=false;cljs.core.async.impl.dispatch.queued_QMARK_=false;cljs.core.async.impl.dispatch.TASK_BATCH_SIZE=1024;
cljs.core.async.impl.dispatch.process_messages=function process_messages(){cljs.core.async.impl.dispatch.running_QMARK_=true;cljs.core.async.impl.dispatch.queued_QMARK_=false;var count_23411=0;while(true){var m_23412=cljs.core.async.impl.dispatch.tasks.pop();if(m_23412==null);else{m_23412.call(null);if(count_23411<cljs.core.async.impl.dispatch.TASK_BATCH_SIZE){var G__23413=count_23411+1;count_23411=G__23413;continue}else;}break}cljs.core.async.impl.dispatch.running_QMARK_=false;if(cljs.core.async.impl.dispatch.tasks.length>
0)return cljs.core.async.impl.dispatch.queue_dispatcher.call(null);else return null};if(typeof MessageChannel!=="undefined"){cljs.core.async.impl.dispatch.message_channel=new MessageChannel;cljs.core.async.impl.dispatch.message_channel.port1.onmessage=function(msg){return cljs.core.async.impl.dispatch.process_messages.call(null)}}else;
cljs.core.async.impl.dispatch.queue_dispatcher=function queue_dispatcher(){if(cljs.core.truth_(function(){var and__3466__auto__=cljs.core.async.impl.dispatch.queued_QMARK_;if(and__3466__auto__)return cljs.core.async.impl.dispatch.running_QMARK_;else return and__3466__auto__}()))return null;else{cljs.core.async.impl.dispatch.queued_QMARK_=true;if(typeof MessageChannel!=="undefined")return cljs.core.async.impl.dispatch.message_channel.port2.postMessage(0);else if(typeof setImmediate!=="undefined")return setImmediate(cljs.core.async.impl.dispatch.process_messages);
else if(new cljs.core.Keyword(null,"else","else",1017020587))return setTimeout(cljs.core.async.impl.dispatch.process_messages,0);else return null}};cljs.core.async.impl.dispatch.run=function run(f){cljs.core.async.impl.dispatch.tasks.unbounded_unshift(f);return cljs.core.async.impl.dispatch.queue_dispatcher.call(null)};cljs.core.async.impl.dispatch.queue_delay=function queue_delay(f,delay){return setTimeout(f,delay)};goog.provide("cljs.core.async.impl.channels");goog.require("cljs.core");goog.require("cljs.core.async.impl.buffers");goog.require("cljs.core.async.impl.buffers");goog.require("cljs.core.async.impl.dispatch");goog.require("cljs.core.async.impl.dispatch");goog.require("cljs.core.async.impl.protocols");goog.require("cljs.core.async.impl.protocols");
cljs.core.async.impl.channels.box=function box(val){if(typeof cljs.core.async.impl.channels.t23417!=="undefined");else{cljs.core.async.impl.channels.t23417=function(val,box,meta23418){this.val=val;this.box=box;this.meta23418=meta23418;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=425984};cljs.core.async.impl.channels.t23417.cljs$lang$type=true;cljs.core.async.impl.channels.t23417.cljs$lang$ctorStr="cljs.core.async.impl.channels/t23417";cljs.core.async.impl.channels.t23417.cljs$lang$ctorPrWriter=
function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async.impl.channels/t23417")};cljs.core.async.impl.channels.t23417.prototype.cljs$core$IDeref$_deref$arity$1=function(_){var self__=this;var ___$1=this;return self__.val};cljs.core.async.impl.channels.t23417.prototype.cljs$core$IMeta$_meta$arity$1=function(_23419){var self__=this;var _23419__$1=this;return self__.meta23418};cljs.core.async.impl.channels.t23417.prototype.cljs$core$IWithMeta$_with_meta$arity$2=
function(_23419,meta23418__$1){var self__=this;var _23419__$1=this;return new cljs.core.async.impl.channels.t23417(self__.val,self__.box,meta23418__$1)};cljs.core.async.impl.channels.__GT_t23417=function __GT_t23417(val__$1,box__$1,meta23418){return new cljs.core.async.impl.channels.t23417(val__$1,box__$1,meta23418)}}return new cljs.core.async.impl.channels.t23417(val,box,null)};cljs.core.async.impl.channels.PutBox=function(handler,val){this.handler=handler;this.val=val};
cljs.core.async.impl.channels.PutBox.cljs$lang$type=true;cljs.core.async.impl.channels.PutBox.cljs$lang$ctorStr="cljs.core.async.impl.channels/PutBox";cljs.core.async.impl.channels.PutBox.cljs$lang$ctorPrWriter=function(this__4048__auto__,writer__4049__auto__,opts__4050__auto__){return cljs.core._write.call(null,writer__4049__auto__,"cljs.core.async.impl.channels/PutBox")};
cljs.core.async.impl.channels.__GT_PutBox=function __GT_PutBox(handler,val){return new cljs.core.async.impl.channels.PutBox(handler,val)};cljs.core.async.impl.channels.put_active_QMARK_=function put_active_QMARK_(box){return cljs.core.async.impl.protocols.active_QMARK_.call(null,box.handler)};cljs.core.async.impl.channels.MAX_DIRTY=64;
cljs.core.async.impl.channels.ManyToManyChannel=function(takes,dirty_takes,puts,dirty_puts,buf,closed){this.takes=takes;this.dirty_takes=dirty_takes;this.puts=puts;this.dirty_puts=dirty_puts;this.buf=buf;this.closed=closed};cljs.core.async.impl.channels.ManyToManyChannel.cljs$lang$type=true;cljs.core.async.impl.channels.ManyToManyChannel.cljs$lang$ctorStr="cljs.core.async.impl.channels/ManyToManyChannel";
cljs.core.async.impl.channels.ManyToManyChannel.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async.impl.channels/ManyToManyChannel")};cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$Channel$=true;
cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return self__.closed};
cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=function(this$){var self__=this;var this$__$1=this;if(self__.closed)return null;else{self__.closed=true;while(true){var taker_23420=self__.takes.pop();if(taker_23420==null);else{if(cljs.core.async.impl.protocols.active_QMARK_.call(null,taker_23420)){var take_cb_23421=cljs.core.async.impl.protocols.commit.call(null,taker_23420);cljs.core.async.impl.dispatch.run.call(null,function(take_cb_23421,
taker_23420,this$__$1){return function(){return take_cb_23421.call(null,null)}}(take_cb_23421,taker_23420,this$__$1))}else;continue}break}return null}};cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$ReadPort$=true;
cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=function(this$,handler){var self__=this;var this$__$1=this;if(!cljs.core.async.impl.protocols.active_QMARK_.call(null,handler))return null;else if(!(self__.buf==null)&&cljs.core.count.call(null,self__.buf)>0){var _=cljs.core.async.impl.protocols.commit.call(null,handler);return cljs.core.async.impl.channels.box.call(null,cljs.core.async.impl.protocols.remove_BANG_.call(null,self__.buf))}else while(true){var putter=
self__.puts.pop();if(!(putter==null)){var put_handler=putter.handler;var val=putter.val;if(cljs.core.async.impl.protocols.active_QMARK_.call(null,put_handler)){var put_cb=cljs.core.async.impl.protocols.commit.call(null,put_handler);var _=cljs.core.async.impl.protocols.commit.call(null,handler);cljs.core.async.impl.dispatch.run.call(null,function(put_cb,_,put_handler,val,putter,this$__$1){return function(){return put_cb.call(null,true)}}(put_cb,_,put_handler,val,putter,this$__$1));return cljs.core.async.impl.channels.box.call(null,
val)}else continue}else if(self__.closed){var _=cljs.core.async.impl.protocols.commit.call(null,handler);return cljs.core.async.impl.channels.box.call(null,null)}else{if(self__.dirty_takes>cljs.core.async.impl.channels.MAX_DIRTY){self__.dirty_takes=0;self__.takes.cleanup(cljs.core.async.impl.protocols.active_QMARK_)}else self__.dirty_takes=self__.dirty_takes+1;if(self__.takes.length<cljs.core.async.impl.protocols.MAX_QUEUE_SIZE);else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str([cljs.core.str("No more than "),
cljs.core.str(cljs.core.async.impl.protocols.MAX_QUEUE_SIZE),cljs.core.str(" pending takes are allowed on a single channel.")].join("")),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"\x3c","\x3c",-1640531467,null),cljs.core.list(new cljs.core.Symbol(null,".-length",".-length",1395928862,null),new cljs.core.Symbol(null,"takes","takes",-1530407291,null)),new cljs.core.Symbol("impl","MAX-QUEUE-SIZE","impl/MAX-QUEUE-SIZE",-1989946393,null))))].join(""));
self__.takes.unbounded_unshift(handler);return null}break}};cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$WritePort$=true;
cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=function(this$,val,handler){var self__=this;var this$__$1=this;if(!(val==null));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("Can't put nil in on a channel"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"not","not",-1640422260,null),cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",-1637150201,null),
new cljs.core.Symbol(null,"val","val",-1640415014,null)))))].join(""));var closed__$1=self__.closed;if(closed__$1||!cljs.core.async.impl.protocols.active_QMARK_.call(null,handler))return cljs.core.async.impl.channels.box.call(null,!closed__$1);else while(true){var taker=self__.takes.pop();if(!(taker==null))if(cljs.core.async.impl.protocols.active_QMARK_.call(null,taker)){var take_cb=cljs.core.async.impl.protocols.commit.call(null,taker);var _=cljs.core.async.impl.protocols.commit.call(null,handler);
cljs.core.async.impl.dispatch.run.call(null,function(take_cb,_,taker,closed__$1,this$__$1){return function(){return take_cb.call(null,val)}}(take_cb,_,taker,closed__$1,this$__$1));return cljs.core.async.impl.channels.box.call(null,true)}else continue;else if(!(self__.buf==null||cljs.core.async.impl.protocols.full_QMARK_.call(null,self__.buf))){var _=cljs.core.async.impl.protocols.commit.call(null,handler);cljs.core.async.impl.protocols.add_BANG_.call(null,self__.buf,val);return cljs.core.async.impl.channels.box.call(null,
true)}else{if(self__.dirty_puts>cljs.core.async.impl.channels.MAX_DIRTY){self__.dirty_puts=0;self__.puts.cleanup(cljs.core.async.impl.channels.put_active_QMARK_)}else self__.dirty_puts=self__.dirty_puts+1;if(self__.puts.length<cljs.core.async.impl.protocols.MAX_QUEUE_SIZE);else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str([cljs.core.str("No more than "),cljs.core.str(cljs.core.async.impl.protocols.MAX_QUEUE_SIZE),cljs.core.str(" pending puts are allowed on a single channel."),cljs.core.str(" Consider using a windowed buffer.")].join("")),
cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.list(new cljs.core.Symbol(null,"\x3c","\x3c",-1640531467,null),cljs.core.list(new cljs.core.Symbol(null,".-length",".-length",1395928862,null),new cljs.core.Symbol(null,"puts","puts",-1637078787,null)),new cljs.core.Symbol("impl","MAX-QUEUE-SIZE","impl/MAX-QUEUE-SIZE",-1989946393,null))))].join(""));self__.puts.unbounded_unshift(new cljs.core.async.impl.channels.PutBox(handler,val));return null}break}};
cljs.core.async.impl.channels.__GT_ManyToManyChannel=function __GT_ManyToManyChannel(takes,dirty_takes,puts,dirty_puts,buf,closed){return new cljs.core.async.impl.channels.ManyToManyChannel(takes,dirty_takes,puts,dirty_puts,buf,closed)};cljs.core.async.impl.channels.chan=function chan(buf){return new cljs.core.async.impl.channels.ManyToManyChannel(cljs.core.async.impl.buffers.ring_buffer.call(null,32),0,cljs.core.async.impl.buffers.ring_buffer.call(null,32),0,buf,false)};goog.provide("cljs.core.async.impl.ioc_helpers");goog.require("cljs.core");goog.require("cljs.core.async.impl.protocols");goog.require("cljs.core.async.impl.protocols");cljs.core.async.impl.ioc_helpers.FN_IDX=0;cljs.core.async.impl.ioc_helpers.STATE_IDX=1;cljs.core.async.impl.ioc_helpers.VALUE_IDX=2;cljs.core.async.impl.ioc_helpers.BINDINGS_IDX=3;cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES=4;cljs.core.async.impl.ioc_helpers.CURRENT_EXCEPTION=5;
cljs.core.async.impl.ioc_helpers.USER_START_IDX=6;cljs.core.async.impl.ioc_helpers.aset_object=function aset_object(arr,idx,o){return arr[idx][o]};cljs.core.async.impl.ioc_helpers.aget_object=function aget_object(arr,idx){return arr[idx]};cljs.core.async.impl.ioc_helpers.finished_QMARK_=function finished_QMARK_(state_array){return cljs.core.keyword_identical_QMARK_.call(null,state_array[cljs.core.async.impl.ioc_helpers.STATE_IDX],new cljs.core.Keyword(null,"finished","finished",4635210724))};
cljs.core.async.impl.ioc_helpers.fn_handler=function fn_handler(f){if(typeof cljs.core.async.impl.ioc_helpers.t23346!=="undefined");else{cljs.core.async.impl.ioc_helpers.t23346=function(f,fn_handler,meta23347){this.f=f;this.fn_handler=fn_handler;this.meta23347=meta23347;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393216};cljs.core.async.impl.ioc_helpers.t23346.cljs$lang$type=true;cljs.core.async.impl.ioc_helpers.t23346.cljs$lang$ctorStr="cljs.core.async.impl.ioc-helpers/t23346";
cljs.core.async.impl.ioc_helpers.t23346.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async.impl.ioc-helpers/t23346")};cljs.core.async.impl.ioc_helpers.t23346.prototype.cljs$core$async$impl$protocols$Handler$=true;cljs.core.async.impl.ioc_helpers.t23346.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return true};cljs.core.async.impl.ioc_helpers.t23346.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=
function(_){var self__=this;var ___$1=this;return self__.f};cljs.core.async.impl.ioc_helpers.t23346.prototype.cljs$core$IMeta$_meta$arity$1=function(_23348){var self__=this;var _23348__$1=this;return self__.meta23347};cljs.core.async.impl.ioc_helpers.t23346.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_23348,meta23347__$1){var self__=this;var _23348__$1=this;return new cljs.core.async.impl.ioc_helpers.t23346(self__.f,self__.fn_handler,meta23347__$1)};cljs.core.async.impl.ioc_helpers.__GT_t23346=
function __GT_t23346(f__$1,fn_handler__$1,meta23347){return new cljs.core.async.impl.ioc_helpers.t23346(f__$1,fn_handler__$1,meta23347)}}return new cljs.core.async.impl.ioc_helpers.t23346(f,fn_handler,null)};cljs.core.async.impl.ioc_helpers.run_state_machine=function run_state_machine(state){return cljs.core.async.impl.ioc_helpers.aget_object.call(null,state,cljs.core.async.impl.ioc_helpers.FN_IDX).call(null,state)};
cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped=function run_state_machine_wrapped(state){try{return cljs.core.async.impl.ioc_helpers.run_state_machine.call(null,state)}catch(e23350){if(e23350 instanceof Object){var ex=e23350;cljs.core.async.impl.protocols.close_BANG_.call(null,cljs.core.async.impl.ioc_helpers.aget_object.call(null,state,cljs.core.async.impl.ioc_helpers.USER_START_IDX));throw ex;}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e23350;else return null}};
cljs.core.async.impl.ioc_helpers.take_BANG_=function take_BANG_(state,blk,c){var temp__4124__auto__=cljs.core.async.impl.protocols.take_BANG_.call(null,c,cljs.core.async.impl.ioc_helpers.fn_handler.call(null,function(x){var statearr_23353_23355=state;statearr_23353_23355[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=x;statearr_23353_23355[cljs.core.async.impl.ioc_helpers.STATE_IDX]=blk;return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state)}));if(cljs.core.truth_(temp__4124__auto__)){var cb=
temp__4124__auto__;var statearr_23354_23356=state;statearr_23354_23356[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=cljs.core.deref.call(null,cb);statearr_23354_23356[cljs.core.async.impl.ioc_helpers.STATE_IDX]=blk;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null};
cljs.core.async.impl.ioc_helpers.put_BANG_=function put_BANG_(state,blk,c,val){var temp__4124__auto__=cljs.core.async.impl.protocols.put_BANG_.call(null,c,val,cljs.core.async.impl.ioc_helpers.fn_handler.call(null,function(ret_val){var statearr_23359_23361=state;statearr_23359_23361[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=ret_val;statearr_23359_23361[cljs.core.async.impl.ioc_helpers.STATE_IDX]=blk;return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state)}));if(cljs.core.truth_(temp__4124__auto__)){var cb=
temp__4124__auto__;var statearr_23360_23362=state;statearr_23360_23362[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=cljs.core.deref.call(null,cb);statearr_23360_23362[cljs.core.async.impl.ioc_helpers.STATE_IDX]=blk;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null};
cljs.core.async.impl.ioc_helpers.ioc_alts_BANG_=function(){var ioc_alts_BANG___delegate=function(state,cont_block,ports,p__23363){var map__23368=p__23363;var map__23368__$1=cljs.core.seq_QMARK_.call(null,map__23368)?cljs.core.apply.call(null,cljs.core.hash_map,map__23368):map__23368;var opts=map__23368__$1;var statearr_23369_23372=state;statearr_23369_23372[cljs.core.async.impl.ioc_helpers.STATE_IDX]=cont_block;var temp__4126__auto__=cljs.core.async.do_alts.call(null,function(map__23368,map__23368__$1,
opts){return function(val){var statearr_23370_23373=state;statearr_23370_23373[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=val;return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state)}}(map__23368,map__23368__$1,opts),ports,opts);if(cljs.core.truth_(temp__4126__auto__)){var cb=temp__4126__auto__;var statearr_23371_23374=state;statearr_23371_23374[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=cljs.core.deref.call(null,cb);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null};
var ioc_alts_BANG_=function(state,cont_block,ports,var_args){var p__23363=null;if(arguments.length>3)p__23363=cljs.core.array_seq(Array.prototype.slice.call(arguments,3),0);return ioc_alts_BANG___delegate.call(this,state,cont_block,ports,p__23363)};ioc_alts_BANG_.cljs$lang$maxFixedArity=3;ioc_alts_BANG_.cljs$lang$applyTo=function(arglist__23375){var state=cljs.core.first(arglist__23375);arglist__23375=cljs.core.next(arglist__23375);var cont_block=cljs.core.first(arglist__23375);arglist__23375=cljs.core.next(arglist__23375);
var ports=cljs.core.first(arglist__23375);var p__23363=cljs.core.rest(arglist__23375);return ioc_alts_BANG___delegate(state,cont_block,ports,p__23363)};ioc_alts_BANG_.cljs$core$IFn$_invoke$arity$variadic=ioc_alts_BANG___delegate;return ioc_alts_BANG_}();
cljs.core.async.impl.ioc_helpers.return_chan=function return_chan(state,value){var c=state[cljs.core.async.impl.ioc_helpers.USER_START_IDX];if(value==null);else cljs.core.async.impl.protocols.put_BANG_.call(null,c,value,cljs.core.async.impl.ioc_helpers.fn_handler.call(null,function(c){return function(){return null}}(c)));cljs.core.async.impl.protocols.close_BANG_.call(null,c);return c};
cljs.core.async.impl.ioc_helpers.ExceptionFrame=function(catch_block,catch_exception,finally_block,continue_block,prev,__meta,__extmap){this.catch_block=catch_block;this.catch_exception=catch_exception;this.finally_block=finally_block;this.continue_block=continue_block;this.prev=prev;this.__meta=__meta;this.__extmap=__extmap;this.cljs$lang$protocol_mask$partition0$=2229667594;this.cljs$lang$protocol_mask$partition1$=8192;if(arguments.length>5){this.__meta=__meta;this.__extmap=__extmap}else{this.__meta=
null;this.__extmap=null}};cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ILookup$_lookup$arity$2=function(this__4064__auto__,k__4065__auto__){var self__=this;var this__4064__auto____$1=this;return cljs.core._lookup.call(null,this__4064__auto____$1,k__4065__auto__,null)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ILookup$_lookup$arity$3=function(this__4066__auto__,k23377,else__4067__auto__){var self__=this;var this__4066__auto____$1=this;if(cljs.core.keyword_identical_QMARK_.call(null,k23377,new cljs.core.Keyword(null,"catch-block","catch-block",2343862893)))return self__.catch_block;else if(cljs.core.keyword_identical_QMARK_.call(null,k23377,new cljs.core.Keyword(null,"catch-exception","catch-exception",1686480687)))return self__.catch_exception;
else if(cljs.core.keyword_identical_QMARK_.call(null,k23377,new cljs.core.Keyword(null,"finally-block","finally-block",2846533429)))return self__.finally_block;else if(cljs.core.keyword_identical_QMARK_.call(null,k23377,new cljs.core.Keyword(null,"continue-block","continue-block",1486987097)))return self__.continue_block;else if(cljs.core.keyword_identical_QMARK_.call(null,k23377,new cljs.core.Keyword(null,"prev","prev",1017353637)))return self__.prev;else if(new cljs.core.Keyword(null,"else","else",
1017020587))return cljs.core.get.call(null,self__.__extmap,k23377,else__4067__auto__);else return null};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(this__4078__auto__,writer__4079__auto__,opts__4080__auto__){var self__=this;var this__4078__auto____$1=this;var pr_pair__4081__auto__=function(this__4078__auto____$1){return function(keyval__4082__auto__){return cljs.core.pr_sequential_writer.call(null,writer__4079__auto__,cljs.core.pr_writer,""," ","",opts__4080__auto__,keyval__4082__auto__)}}(this__4078__auto____$1);return cljs.core.pr_sequential_writer.call(null,
writer__4079__auto__,pr_pair__4081__auto__,"#cljs.core.async.impl.ioc-helpers.ExceptionFrame{",", ","}",opts__4080__auto__,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"catch-block","catch-block",2343862893),self__.catch_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,
"catch-exception","catch-exception",1686480687),self__.catch_exception],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"finally-block","finally-block",2846533429),self__.finally_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"continue-block","continue-block",1486987097),self__.continue_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,
[new cljs.core.Keyword(null,"prev","prev",1017353637),self__.prev],null)],null),self__.__extmap))};cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IMeta$_meta$arity$1=function(this__4062__auto__){var self__=this;var this__4062__auto____$1=this;return self__.__meta};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ICloneable$_clone$arity$1=function(this__4058__auto__){var self__=this;var this__4058__auto____$1=this;return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,self__.continue_block,self__.prev,self__.__meta,self__.__extmap,self__.__hash)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ICounted$_count$arity$1=function(this__4068__auto__){var self__=this;var this__4068__auto____$1=this;return 5+cljs.core.count.call(null,self__.__extmap)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IHash$_hash$arity$1=function(this__4059__auto__){var self__=this;var this__4059__auto____$1=this;var h__3889__auto__=self__.__hash;if(!(h__3889__auto__==null))return h__3889__auto__;else{var h__3889__auto____$1=cljs.core.hash_imap.call(null,this__4059__auto____$1);self__.__hash=h__3889__auto____$1;return h__3889__auto____$1}};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IEquiv$_equiv$arity$2=function(this__4060__auto__,other__4061__auto__){var self__=this;var this__4060__auto____$1=this;if(cljs.core.truth_(function(){var and__3466__auto__=other__4061__auto__;if(cljs.core.truth_(and__3466__auto__))return this__4060__auto____$1.constructor===other__4061__auto__.constructor&&cljs.core.equiv_map.call(null,this__4060__auto____$1,other__4061__auto__);else return and__3466__auto__}()))return true;else return false};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IMap$_dissoc$arity$2=function(this__4073__auto__,k__4074__auto__){var self__=this;var this__4073__auto____$1=this;if(cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"finally-block","finally-block",2846533429),null,new cljs.core.Keyword(null,"catch-block","catch-block",2343862893),null,new cljs.core.Keyword(null,"catch-exception","catch-exception",
1686480687),null,new cljs.core.Keyword(null,"prev","prev",1017353637),null,new cljs.core.Keyword(null,"continue-block","continue-block",1486987097),null],null),null),k__4074__auto__))return cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this__4073__auto____$1),self__.__meta),k__4074__auto__);else return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,self__.continue_block,
self__.prev,self__.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,self__.__extmap,k__4074__auto__)),null)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IAssociative$_assoc$arity$3=function(this__4071__auto__,k__4072__auto__,G__23376){var self__=this;var this__4071__auto____$1=this;var pred__23379=cljs.core.keyword_identical_QMARK_;var expr__23380=k__4072__auto__;if(cljs.core.truth_(pred__23379.call(null,new cljs.core.Keyword(null,"catch-block","catch-block",2343862893),expr__23380)))return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(G__23376,self__.catch_exception,self__.finally_block,
self__.continue_block,self__.prev,self__.__meta,self__.__extmap,null);else if(cljs.core.truth_(pred__23379.call(null,new cljs.core.Keyword(null,"catch-exception","catch-exception",1686480687),expr__23380)))return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,G__23376,self__.finally_block,self__.continue_block,self__.prev,self__.__meta,self__.__extmap,null);else if(cljs.core.truth_(pred__23379.call(null,new cljs.core.Keyword(null,"finally-block","finally-block",2846533429),
expr__23380)))return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,G__23376,self__.continue_block,self__.prev,self__.__meta,self__.__extmap,null);else if(cljs.core.truth_(pred__23379.call(null,new cljs.core.Keyword(null,"continue-block","continue-block",1486987097),expr__23380)))return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,G__23376,self__.prev,self__.__meta,self__.__extmap,
null);else if(cljs.core.truth_(pred__23379.call(null,new cljs.core.Keyword(null,"prev","prev",1017353637),expr__23380)))return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,self__.continue_block,G__23376,self__.__meta,self__.__extmap,null);else return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,self__.continue_block,self__.prev,self__.__meta,cljs.core.assoc.call(null,
self__.__extmap,k__4072__auto__,G__23376),null)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ISeqable$_seq$arity$1=function(this__4076__auto__){var self__=this;var this__4076__auto____$1=this;return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"catch-block","catch-block",2343862893),self__.catch_block],null),new cljs.core.PersistentVector(null,
2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"catch-exception","catch-exception",1686480687),self__.catch_exception],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"finally-block","finally-block",2846533429),self__.finally_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"continue-block","continue-block",1486987097),self__.continue_block],
null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"prev","prev",1017353637),self__.prev],null)],null),self__.__extmap))};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(this__4063__auto__,G__23376){var self__=this;var this__4063__auto____$1=this;return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(self__.catch_block,self__.catch_exception,self__.finally_block,self__.continue_block,self__.prev,G__23376,self__.__extmap,self__.__hash)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ICollection$_conj$arity$2=function(this__4069__auto__,entry__4070__auto__){var self__=this;var this__4069__auto____$1=this;if(cljs.core.vector_QMARK_.call(null,entry__4070__auto__))return cljs.core._assoc.call(null,this__4069__auto____$1,cljs.core._nth.call(null,entry__4070__auto__,0),cljs.core._nth.call(null,entry__4070__auto__,1));else return cljs.core.reduce.call(null,cljs.core._conj,this__4069__auto____$1,entry__4070__auto__)};
cljs.core.async.impl.ioc_helpers.ExceptionFrame.cljs$lang$type=true;cljs.core.async.impl.ioc_helpers.ExceptionFrame.cljs$lang$ctorPrSeq=function(this__4098__auto__){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"cljs.core.async.impl.ioc-helpers/ExceptionFrame")};cljs.core.async.impl.ioc_helpers.ExceptionFrame.cljs$lang$ctorPrWriter=function(this__4098__auto__,writer__4099__auto__){return cljs.core._write.call(null,writer__4099__auto__,"cljs.core.async.impl.ioc-helpers/ExceptionFrame")};
cljs.core.async.impl.ioc_helpers.__GT_ExceptionFrame=function __GT_ExceptionFrame(catch_block,catch_exception,finally_block,continue_block,prev){return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(catch_block,catch_exception,finally_block,continue_block,prev)};
cljs.core.async.impl.ioc_helpers.map__GT_ExceptionFrame=function map__GT_ExceptionFrame(G__23378){return new cljs.core.async.impl.ioc_helpers.ExceptionFrame((new cljs.core.Keyword(null,"catch-block","catch-block",2343862893)).cljs$core$IFn$_invoke$arity$1(G__23378),(new cljs.core.Keyword(null,"catch-exception","catch-exception",1686480687)).cljs$core$IFn$_invoke$arity$1(G__23378),(new cljs.core.Keyword(null,"finally-block","finally-block",2846533429)).cljs$core$IFn$_invoke$arity$1(G__23378),(new cljs.core.Keyword(null,
"continue-block","continue-block",1486987097)).cljs$core$IFn$_invoke$arity$1(G__23378),(new cljs.core.Keyword(null,"prev","prev",1017353637)).cljs$core$IFn$_invoke$arity$1(G__23378),null,cljs.core.dissoc.call(null,G__23378,new cljs.core.Keyword(null,"catch-block","catch-block",2343862893),new cljs.core.Keyword(null,"catch-exception","catch-exception",1686480687),new cljs.core.Keyword(null,"finally-block","finally-block",2846533429),new cljs.core.Keyword(null,"continue-block","continue-block",1486987097),
new cljs.core.Keyword(null,"prev","prev",1017353637)))};
cljs.core.async.impl.ioc_helpers.add_exception_frame=function add_exception_frame(state,catch_block,catch_exception,finally_block,continue_block){var statearr_23383=state;statearr_23383[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=cljs.core.async.impl.ioc_helpers.__GT_ExceptionFrame.call(null,catch_block,catch_exception,finally_block,continue_block,cljs.core.async.impl.ioc_helpers.aget_object.call(null,state,cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES));return statearr_23383};
cljs.core.async.impl.ioc_helpers.process_exception=function process_exception(state){while(true){var exception_frame=cljs.core.async.impl.ioc_helpers.aget_object.call(null,state,cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES);var catch_block=(new cljs.core.Keyword(null,"catch-block","catch-block",2343862893)).cljs$core$IFn$_invoke$arity$1(exception_frame);var catch_exception=(new cljs.core.Keyword(null,"catch-exception","catch-exception",1686480687)).cljs$core$IFn$_invoke$arity$1(exception_frame);
var exception=cljs.core.async.impl.ioc_helpers.aget_object.call(null,state,cljs.core.async.impl.ioc_helpers.CURRENT_EXCEPTION);if(cljs.core.truth_(function(){var and__3466__auto__=exception;if(cljs.core.truth_(and__3466__auto__))return cljs.core.not.call(null,exception_frame);else return and__3466__auto__}()))throw exception;else if(cljs.core.truth_(function(){var and__3466__auto__=exception;if(cljs.core.truth_(and__3466__auto__)){var and__3466__auto____$1=catch_block;if(cljs.core.truth_(and__3466__auto____$1))return exception instanceof
catch_exception;else return and__3466__auto____$1}else return and__3466__auto__}())){var statearr_23389=state;statearr_23389[cljs.core.async.impl.ioc_helpers.STATE_IDX]=catch_block;statearr_23389[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=exception;statearr_23389[cljs.core.async.impl.ioc_helpers.CURRENT_EXCEPTION]=null;statearr_23389[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=cljs.core.assoc.call(null,exception_frame,new cljs.core.Keyword(null,"catch-block","catch-block",2343862893),null,
new cljs.core.Keyword(null,"catch-exception","catch-exception",1686480687),null);return statearr_23389}else if(cljs.core.truth_(function(){var and__3466__auto__=exception;if(cljs.core.truth_(and__3466__auto__))return cljs.core.not.call(null,catch_block)&&cljs.core.not.call(null,(new cljs.core.Keyword(null,"finally-block","finally-block",2846533429)).cljs$core$IFn$_invoke$arity$1(exception_frame));else return and__3466__auto__}())){var statearr_23390_23394=state;statearr_23390_23394[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=
(new cljs.core.Keyword(null,"prev","prev",1017353637)).cljs$core$IFn$_invoke$arity$1(exception_frame);var G__23395=state;state=G__23395;continue}else if(cljs.core.truth_(function(){var and__3466__auto__=exception;if(cljs.core.truth_(and__3466__auto__)){var and__3466__auto____$1=cljs.core.not.call(null,catch_block);if(and__3466__auto____$1)return(new cljs.core.Keyword(null,"finally-block","finally-block",2846533429)).cljs$core$IFn$_invoke$arity$1(exception_frame);else return and__3466__auto____$1}else return and__3466__auto__}())){var statearr_23391=
state;statearr_23391[cljs.core.async.impl.ioc_helpers.STATE_IDX]=(new cljs.core.Keyword(null,"finally-block","finally-block",2846533429)).cljs$core$IFn$_invoke$arity$1(exception_frame);statearr_23391[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=cljs.core.assoc.call(null,exception_frame,new cljs.core.Keyword(null,"finally-block","finally-block",2846533429),null);return statearr_23391}else if(cljs.core.truth_(function(){var and__3466__auto__=cljs.core.not.call(null,exception);if(and__3466__auto__)return(new cljs.core.Keyword(null,
"finally-block","finally-block",2846533429)).cljs$core$IFn$_invoke$arity$1(exception_frame);else return and__3466__auto__}())){var statearr_23392=state;statearr_23392[cljs.core.async.impl.ioc_helpers.STATE_IDX]=(new cljs.core.Keyword(null,"finally-block","finally-block",2846533429)).cljs$core$IFn$_invoke$arity$1(exception_frame);statearr_23392[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=cljs.core.assoc.call(null,exception_frame,new cljs.core.Keyword(null,"finally-block","finally-block",2846533429),
null);return statearr_23392}else if(cljs.core.not.call(null,exception)&&cljs.core.not.call(null,(new cljs.core.Keyword(null,"finally-block","finally-block",2846533429)).cljs$core$IFn$_invoke$arity$1(exception_frame))){var statearr_23393=state;statearr_23393[cljs.core.async.impl.ioc_helpers.STATE_IDX]=(new cljs.core.Keyword(null,"continue-block","continue-block",1486987097)).cljs$core$IFn$_invoke$arity$1(exception_frame);statearr_23393[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=(new cljs.core.Keyword(null,
"prev","prev",1017353637)).cljs$core$IFn$_invoke$arity$1(exception_frame);return statearr_23393}else if(new cljs.core.Keyword(null,"else","else",1017020587))if(false)return null;else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("No matching clause"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,false))].join(""));else return null;break}};goog.provide("cljs.core.async.impl.timers");goog.require("cljs.core");goog.require("cljs.core.async.impl.dispatch");goog.require("cljs.core.async.impl.dispatch");goog.require("cljs.core.async.impl.channels");goog.require("cljs.core.async.impl.channels");goog.require("cljs.core.async.impl.protocols");goog.require("cljs.core.async.impl.protocols");cljs.core.async.impl.timers.MAX_LEVEL=15;cljs.core.async.impl.timers.P=1/2;
cljs.core.async.impl.timers.random_level=function(){var random_level=null;var random_level__0=function(){return random_level.call(null,0)};var random_level__1=function(level){while(true){if(Math.random()<cljs.core.async.impl.timers.P&&level<cljs.core.async.impl.timers.MAX_LEVEL){var G__23319=level+1;level=G__23319;continue}else return level;break}};random_level=function(level){switch(arguments.length){case 0:return random_level__0.call(this);case 1:return random_level__1.call(this,level)}throw new Error("Invalid arity: "+
arguments.length);};random_level.cljs$core$IFn$_invoke$arity$0=random_level__0;random_level.cljs$core$IFn$_invoke$arity$1=random_level__1;return random_level}();cljs.core.async.impl.timers.SkipListNode=function(key,val,forward){this.key=key;this.val=val;this.forward=forward;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=2155872256};cljs.core.async.impl.timers.SkipListNode.cljs$lang$type=true;cljs.core.async.impl.timers.SkipListNode.cljs$lang$ctorStr="cljs.core.async.impl.timers/SkipListNode";
cljs.core.async.impl.timers.SkipListNode.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async.impl.timers/SkipListNode")};cljs.core.async.impl.timers.SkipListNode.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var self__=this;var coll__$1=this;return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,"["," ","]",opts,coll__$1)};
cljs.core.async.impl.timers.SkipListNode.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,self__.val),self__.key)};cljs.core.async.impl.timers.__GT_SkipListNode=function __GT_SkipListNode(key,val,forward){return new cljs.core.async.impl.timers.SkipListNode(key,val,forward)};
cljs.core.async.impl.timers.skip_list_node=function(){var skip_list_node=null;var skip_list_node__1=function(level){return skip_list_node.call(null,null,null,level)};var skip_list_node__3=function(k,v,level){var arr=new Array(level+1);var i_23320=0;while(true){if(i_23320<arr.length){arr[i_23320]=null;var G__23321=i_23320+1;i_23320=G__23321;continue}else;break}return new cljs.core.async.impl.timers.SkipListNode(k,v,arr)};skip_list_node=function(k,v,level){switch(arguments.length){case 1:return skip_list_node__1.call(this,
k);case 3:return skip_list_node__3.call(this,k,v,level)}throw new Error("Invalid arity: "+arguments.length);};skip_list_node.cljs$core$IFn$_invoke$arity$1=skip_list_node__1;skip_list_node.cljs$core$IFn$_invoke$arity$3=skip_list_node__3;return skip_list_node}();
cljs.core.async.impl.timers.least_greater_node=function(){var least_greater_node=null;var least_greater_node__3=function(x,k,level){return least_greater_node.call(null,x,k,level,null)};var least_greater_node__4=function(x,k,level,update){while(true){if(!(level<0)){var x__$1=function(){var x__$1=x;while(true){var temp__4124__auto__=x__$1.forward[level];if(cljs.core.truth_(temp__4124__auto__)){var x_SINGLEQUOTE_=temp__4124__auto__;if(x_SINGLEQUOTE_.key<k){var G__23322=x_SINGLEQUOTE_;x__$1=G__23322;
continue}else return x__$1}else return x__$1;break}}();if(update==null);else update[level]=x__$1;var G__23323=x__$1;var G__23324=k;var G__23325=level-1;var G__23326=update;x=G__23323;k=G__23324;level=G__23325;update=G__23326;continue}else return x;break}};least_greater_node=function(x,k,level,update){switch(arguments.length){case 3:return least_greater_node__3.call(this,x,k,level);case 4:return least_greater_node__4.call(this,x,k,level,update)}throw new Error("Invalid arity: "+arguments.length);};
least_greater_node.cljs$core$IFn$_invoke$arity$3=least_greater_node__3;least_greater_node.cljs$core$IFn$_invoke$arity$4=least_greater_node__4;return least_greater_node}();cljs.core.async.impl.timers.SkipList=function(header,level){this.header=header;this.level=level;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=2155872256};cljs.core.async.impl.timers.SkipList.cljs$lang$type=true;cljs.core.async.impl.timers.SkipList.cljs$lang$ctorStr="cljs.core.async.impl.timers/SkipList";
cljs.core.async.impl.timers.SkipList.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async.impl.timers/SkipList")};
cljs.core.async.impl.timers.SkipList.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(coll,writer,opts){var self__=this;var coll__$1=this;var pr_pair=function(coll__$1){return function(keyval){return cljs.core.pr_sequential_writer.call(null,writer,cljs.core.pr_writer,""," ","",opts,keyval)}}(coll__$1);return cljs.core.pr_sequential_writer.call(null,writer,pr_pair,"{",", ","}",opts,coll__$1)};
cljs.core.async.impl.timers.SkipList.prototype.cljs$core$ISeqable$_seq$arity$1=function(coll){var self__=this;var coll__$1=this;var iter=function(coll__$1){return function iter(node){return new cljs.core.LazySeq(null,function(coll__$1){return function(){if(node==null)return null;else return cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[node.key,node.val],null),iter.call(null,node.forward[0]))}}(coll__$1),null,null)}}(coll__$1);return iter.call(null,
self__.header.forward[0])};
cljs.core.async.impl.timers.SkipList.prototype.put=function(k,v){var self__=this;var coll=this;var update=new Array(cljs.core.async.impl.timers.MAX_LEVEL);var x=cljs.core.async.impl.timers.least_greater_node.call(null,self__.header,k,self__.level,update);var x__$1=x.forward[0];if(!(x__$1==null)&&x__$1.key===k)return x__$1.val=v;else{var new_level=cljs.core.async.impl.timers.random_level.call(null);if(new_level>self__.level){var i_23327=self__.level+1;while(true){if(i_23327<=new_level+1){update[i_23327]=
self__.header;var G__23328=i_23327+1;i_23327=G__23328;continue}else;break}self__.level=new_level}else;var x__$2=cljs.core.async.impl.timers.skip_list_node.call(null,k,v,new Array(new_level));var i=0;while(true){if(i<=self__.level){var links=update[i].forward;x__$2.forward[i]=links[i];return links[i]=x__$2}else return null;break}}};
cljs.core.async.impl.timers.SkipList.prototype.remove=function(k){var self__=this;var coll=this;var update=new Array(cljs.core.async.impl.timers.MAX_LEVEL);var x=cljs.core.async.impl.timers.least_greater_node.call(null,self__.header,k,self__.level,update);var x__$1=x.forward[0];if(!(x__$1==null)&&x__$1.key===k){var i_23329=0;while(true){if(i_23329<=self__.level){var links_23330=update[i_23329].forward;if(links_23330[i_23329]===x__$1){links_23330[i_23329]=x__$1.forward[i_23329];var G__23331=i_23329+
1;i_23329=G__23331;continue}else{var G__23332=i_23329+1;i_23329=G__23332;continue}}else;break}while(true){if(self__.level>0&&self__.header.forward[self__.level]==null){self__.level=self__.level-1;continue}else return null;break}}else return null};
cljs.core.async.impl.timers.SkipList.prototype.ceilingEntry=function(k){var self__=this;var coll=this;var x=self__.header;var level__$1=self__.level;while(true){if(!(level__$1<0)){var nx=function(){var x__$1=x;while(true){var x_SINGLEQUOTE_=x__$1.forward[level__$1];if(x_SINGLEQUOTE_==null)return null;else if(x_SINGLEQUOTE_.key>=k)return x_SINGLEQUOTE_;else{var G__23333=x_SINGLEQUOTE_;x__$1=G__23333;continue}break}}();if(!(nx==null)){var G__23334=nx;var G__23335=level__$1-1;x=G__23334;level__$1=G__23335;
continue}else{var G__23336=x;var G__23337=level__$1-1;x=G__23336;level__$1=G__23337;continue}}else if(x===self__.header)return null;else return x;break}};
cljs.core.async.impl.timers.SkipList.prototype.floorEntry=function(k){var self__=this;var coll=this;var x=self__.header;var level__$1=self__.level;while(true){if(!(level__$1<0)){var nx=function(){var x__$1=x;while(true){var x_SINGLEQUOTE_=x__$1.forward[level__$1];if(!(x_SINGLEQUOTE_==null))if(x_SINGLEQUOTE_.key>k)return x__$1;else{var G__23338=x_SINGLEQUOTE_;x__$1=G__23338;continue}else if(level__$1===0)return x__$1;else return null;break}}();if(cljs.core.truth_(nx)){var G__23339=nx;var G__23340=
level__$1-1;x=G__23339;level__$1=G__23340;continue}else{var G__23341=x;var G__23342=level__$1-1;x=G__23341;level__$1=G__23342;continue}}else if(x===self__.header)return null;else return x;break}};cljs.core.async.impl.timers.__GT_SkipList=function __GT_SkipList(header,level){return new cljs.core.async.impl.timers.SkipList(header,level)};
cljs.core.async.impl.timers.skip_list=function skip_list(){return new cljs.core.async.impl.timers.SkipList(cljs.core.async.impl.timers.skip_list_node.call(null,0),0)};cljs.core.async.impl.timers.timeouts_map=cljs.core.async.impl.timers.skip_list.call(null);cljs.core.async.impl.timers.TIMEOUT_RESOLUTION_MS=10;
cljs.core.async.impl.timers.timeout=function timeout(msecs){var timeout__$1=(new Date).valueOf()+msecs;var me=cljs.core.async.impl.timers.timeouts_map.ceilingEntry(timeout__$1);var or__3478__auto__=cljs.core.truth_(function(){var and__3466__auto__=me;if(cljs.core.truth_(and__3466__auto__))return me.key<timeout__$1+cljs.core.async.impl.timers.TIMEOUT_RESOLUTION_MS;else return and__3466__auto__}())?me.val:null;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else{var timeout_channel=cljs.core.async.impl.channels.chan.call(null,
null);cljs.core.async.impl.timers.timeouts_map.put(timeout__$1,timeout_channel);cljs.core.async.impl.dispatch.queue_delay.call(null,function(timeout_channel,or__3478__auto__,timeout__$1,me){return function(){cljs.core.async.impl.timers.timeouts_map.remove(timeout__$1);return cljs.core.async.impl.protocols.close_BANG_.call(null,timeout_channel)}}(timeout_channel,or__3478__auto__,timeout__$1,me),msecs);return timeout_channel}};goog.provide("cljs.core.async");goog.require("cljs.core");goog.require("cljs.core.async.impl.channels");goog.require("cljs.core.async.impl.dispatch");goog.require("cljs.core.async.impl.ioc_helpers");goog.require("cljs.core.async.impl.protocols");goog.require("cljs.core.async.impl.channels");goog.require("cljs.core.async.impl.buffers");goog.require("cljs.core.async.impl.protocols");goog.require("cljs.core.async.impl.timers");goog.require("cljs.core.async.impl.dispatch");goog.require("cljs.core.async.impl.ioc_helpers");
goog.require("cljs.core.async.impl.buffers");goog.require("cljs.core.async.impl.timers");
cljs.core.async.fn_handler=function fn_handler(f){if(typeof cljs.core.async.t20690!=="undefined");else{cljs.core.async.t20690=function(f,fn_handler,meta20691){this.f=f;this.fn_handler=fn_handler;this.meta20691=meta20691;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393216};cljs.core.async.t20690.cljs$lang$type=true;cljs.core.async.t20690.cljs$lang$ctorStr="cljs.core.async/t20690";cljs.core.async.t20690.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,
opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async/t20690")};cljs.core.async.t20690.prototype.cljs$core$async$impl$protocols$Handler$=true;cljs.core.async.t20690.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return true};cljs.core.async.t20690.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=function(_){var self__=this;var ___$1=this;return self__.f};cljs.core.async.t20690.prototype.cljs$core$IMeta$_meta$arity$1=
function(_20692){var self__=this;var _20692__$1=this;return self__.meta20691};cljs.core.async.t20690.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_20692,meta20691__$1){var self__=this;var _20692__$1=this;return new cljs.core.async.t20690(self__.f,self__.fn_handler,meta20691__$1)};cljs.core.async.__GT_t20690=function __GT_t20690(f__$1,fn_handler__$1,meta20691){return new cljs.core.async.t20690(f__$1,fn_handler__$1,meta20691)}}return new cljs.core.async.t20690(f,fn_handler,null)};
cljs.core.async.buffer=function buffer(n){return cljs.core.async.impl.buffers.fixed_buffer.call(null,n)};cljs.core.async.dropping_buffer=function dropping_buffer(n){return cljs.core.async.impl.buffers.dropping_buffer.call(null,n)};cljs.core.async.sliding_buffer=function sliding_buffer(n){return cljs.core.async.impl.buffers.sliding_buffer.call(null,n)};
cljs.core.async.unblocking_buffer_QMARK_=function unblocking_buffer_QMARK_(buff){var G__20694=buff;if(G__20694){var bit__4128__auto__=null;if(cljs.core.truth_(function(){var or__3478__auto__=bit__4128__auto__;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return G__20694.cljs$core$async$impl$protocols$UnblockingBuffer$}()))return true;else if(!G__20694.cljs$lang$protocol_mask$partition$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.async.impl.protocols.UnblockingBuffer,
G__20694);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.async.impl.protocols.UnblockingBuffer,G__20694)};
cljs.core.async.chan=function(){var chan=null;var chan__0=function(){return chan.call(null,null)};var chan__1=function(buf_or_n){var buf_or_n__$1=cljs.core._EQ_.call(null,buf_or_n,0)?null:buf_or_n;return cljs.core.async.impl.channels.chan.call(null,typeof buf_or_n__$1==="number"?cljs.core.async.buffer.call(null,buf_or_n__$1):buf_or_n__$1)};chan=function(buf_or_n){switch(arguments.length){case 0:return chan__0.call(this);case 1:return chan__1.call(this,buf_or_n)}throw new Error("Invalid arity: "+arguments.length);
};chan.cljs$core$IFn$_invoke$arity$0=chan__0;chan.cljs$core$IFn$_invoke$arity$1=chan__1;return chan}();cljs.core.async.timeout=function timeout(msecs){return cljs.core.async.impl.timers.timeout.call(null,msecs)};cljs.core.async._LT__BANG_=function _LT__BANG_(port){if(null)return null;else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("\x3c! used not in (go ...) block"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,null))].join(""));};
cljs.core.async.take_BANG_=function(){var take_BANG_=null;var take_BANG___2=function(port,fn1){return take_BANG_.call(null,port,fn1,true)};var take_BANG___3=function(port,fn1,on_caller_QMARK_){var ret=cljs.core.async.impl.protocols.take_BANG_.call(null,port,cljs.core.async.fn_handler.call(null,fn1));if(cljs.core.truth_(ret)){var val_20695=cljs.core.deref.call(null,ret);if(cljs.core.truth_(on_caller_QMARK_))fn1.call(null,val_20695);else cljs.core.async.impl.dispatch.run.call(null,function(val_20695,
ret){return function(){return fn1.call(null,val_20695)}}(val_20695,ret))}else;return null};take_BANG_=function(port,fn1,on_caller_QMARK_){switch(arguments.length){case 2:return take_BANG___2.call(this,port,fn1);case 3:return take_BANG___3.call(this,port,fn1,on_caller_QMARK_)}throw new Error("Invalid arity: "+arguments.length);};take_BANG_.cljs$core$IFn$_invoke$arity$2=take_BANG___2;take_BANG_.cljs$core$IFn$_invoke$arity$3=take_BANG___3;return take_BANG_}();cljs.core.async.nop=function nop(_){return null};
cljs.core.async.fhnop=cljs.core.async.fn_handler.call(null,cljs.core.async.nop);cljs.core.async._GT__BANG_=function _GT__BANG_(port,val){if(null)return null;else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("\x3e! used not in (go ...) block"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,null))].join(""));};
cljs.core.async.put_BANG_=function(){var put_BANG_=null;var put_BANG___2=function(port,val){var temp__4124__auto__=cljs.core.async.impl.protocols.put_BANG_.call(null,port,val,cljs.core.async.fhnop);if(cljs.core.truth_(temp__4124__auto__)){var ret=temp__4124__auto__;return cljs.core.deref.call(null,ret)}else return true};var put_BANG___3=function(port,val,fn1){return put_BANG_.call(null,port,val,fn1,true)};var put_BANG___4=function(port,val,fn1,on_caller_QMARK_){var temp__4124__auto__=cljs.core.async.impl.protocols.put_BANG_.call(null,
port,val,cljs.core.async.fn_handler.call(null,fn1));if(cljs.core.truth_(temp__4124__auto__)){var retb=temp__4124__auto__;var ret=cljs.core.deref.call(null,retb);if(cljs.core.truth_(on_caller_QMARK_))fn1.call(null,ret);else cljs.core.async.impl.dispatch.run.call(null,function(ret,retb,temp__4124__auto__){return function(){return fn1.call(null,ret)}}(ret,retb,temp__4124__auto__));return ret}else return true};put_BANG_=function(port,val,fn1,on_caller_QMARK_){switch(arguments.length){case 2:return put_BANG___2.call(this,
port,val);case 3:return put_BANG___3.call(this,port,val,fn1);case 4:return put_BANG___4.call(this,port,val,fn1,on_caller_QMARK_)}throw new Error("Invalid arity: "+arguments.length);};put_BANG_.cljs$core$IFn$_invoke$arity$2=put_BANG___2;put_BANG_.cljs$core$IFn$_invoke$arity$3=put_BANG___3;put_BANG_.cljs$core$IFn$_invoke$arity$4=put_BANG___4;return put_BANG_}();cljs.core.async.close_BANG_=function close_BANG_(port){return cljs.core.async.impl.protocols.close_BANG_.call(null,port)};
cljs.core.async.random_array=function random_array(n){var a=new Array(n);var n__4326__auto___20696=n;var x_20697=0;while(true){if(x_20697<n__4326__auto___20696){a[x_20697]=0;var G__20698=x_20697+1;x_20697=G__20698;continue}else;break}var i=1;while(true){if(cljs.core._EQ_.call(null,i,n))return a;else{var j=cljs.core.rand_int.call(null,i);a[i]=a[j];a[j]=i;var G__20699=i+1;i=G__20699;continue}break}};
cljs.core.async.alt_flag=function alt_flag(){var flag=cljs.core.atom.call(null,true);if(typeof cljs.core.async.t20703!=="undefined");else{cljs.core.async.t20703=function(flag,alt_flag,meta20704){this.flag=flag;this.alt_flag=alt_flag;this.meta20704=meta20704;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393216};cljs.core.async.t20703.cljs$lang$type=true;cljs.core.async.t20703.cljs$lang$ctorStr="cljs.core.async/t20703";cljs.core.async.t20703.cljs$lang$ctorPrWriter=
function(flag){return function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async/t20703")}}(flag);cljs.core.async.t20703.prototype.cljs$core$async$impl$protocols$Handler$=true;cljs.core.async.t20703.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(flag){return function(_){var self__=this;var ___$1=this;return cljs.core.deref.call(null,self__.flag)}}(flag);cljs.core.async.t20703.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=
function(flag){return function(_){var self__=this;var ___$1=this;cljs.core.reset_BANG_.call(null,self__.flag,null);return true}}(flag);cljs.core.async.t20703.prototype.cljs$core$IMeta$_meta$arity$1=function(flag){return function(_20705){var self__=this;var _20705__$1=this;return self__.meta20704}}(flag);cljs.core.async.t20703.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(flag){return function(_20705,meta20704__$1){var self__=this;var _20705__$1=this;return new cljs.core.async.t20703(self__.flag,
self__.alt_flag,meta20704__$1)}}(flag);cljs.core.async.__GT_t20703=function(flag){return function __GT_t20703(flag__$1,alt_flag__$1,meta20704){return new cljs.core.async.t20703(flag__$1,alt_flag__$1,meta20704)}}(flag)}return new cljs.core.async.t20703(flag,alt_flag,null)};
cljs.core.async.alt_handler=function alt_handler(flag,cb){if(typeof cljs.core.async.t20709!=="undefined");else{cljs.core.async.t20709=function(cb,flag,alt_handler,meta20710){this.cb=cb;this.flag=flag;this.alt_handler=alt_handler;this.meta20710=meta20710;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393216};cljs.core.async.t20709.cljs$lang$type=true;cljs.core.async.t20709.cljs$lang$ctorStr="cljs.core.async/t20709";cljs.core.async.t20709.cljs$lang$ctorPrWriter=
function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async/t20709")};cljs.core.async.t20709.prototype.cljs$core$async$impl$protocols$Handler$=true;cljs.core.async.t20709.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.active_QMARK_.call(null,self__.flag)};cljs.core.async.t20709.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=
function(_){var self__=this;var ___$1=this;cljs.core.async.impl.protocols.commit.call(null,self__.flag);return self__.cb};cljs.core.async.t20709.prototype.cljs$core$IMeta$_meta$arity$1=function(_20711){var self__=this;var _20711__$1=this;return self__.meta20710};cljs.core.async.t20709.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_20711,meta20710__$1){var self__=this;var _20711__$1=this;return new cljs.core.async.t20709(self__.cb,self__.flag,self__.alt_handler,meta20710__$1)};cljs.core.async.__GT_t20709=
function __GT_t20709(cb__$1,flag__$1,alt_handler__$1,meta20710){return new cljs.core.async.t20709(cb__$1,flag__$1,alt_handler__$1,meta20710)}}return new cljs.core.async.t20709(cb,flag,alt_handler,null)};
cljs.core.async.do_alts=function do_alts(fret,ports,opts){var flag=cljs.core.async.alt_flag.call(null);var n=cljs.core.count.call(null,ports);var idxs=cljs.core.async.random_array.call(null,n);var priority=(new cljs.core.Keyword(null,"priority","priority",4143410454)).cljs$core$IFn$_invoke$arity$1(opts);var ret=function(){var i=0;while(true){if(i<n){var idx=cljs.core.truth_(priority)?i:idxs[i];var port=cljs.core.nth.call(null,ports,idx);var wport=cljs.core.vector_QMARK_.call(null,port)?port.call(null,
0):null;var vbox=cljs.core.truth_(wport)?function(){var val=port.call(null,1);return cljs.core.async.impl.protocols.put_BANG_.call(null,wport,val,cljs.core.async.alt_handler.call(null,flag,function(i,val,idx,port,wport,flag,n,idxs,priority){return function(p1__20712_SHARP_){return fret.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[p1__20712_SHARP_,wport],null))}}(i,val,idx,port,wport,flag,n,idxs,priority)))}():cljs.core.async.impl.protocols.take_BANG_.call(null,
port,cljs.core.async.alt_handler.call(null,flag,function(i,idx,port,wport,flag,n,idxs,priority){return function(p1__20713_SHARP_){return fret.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[p1__20713_SHARP_,port],null))}}(i,idx,port,wport,flag,n,idxs,priority)));if(cljs.core.truth_(vbox))return cljs.core.async.impl.channels.box.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.deref.call(null,vbox),function(){var or__3478__auto__=
wport;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return port}()],null));else{var G__20714=i+1;i=G__20714;continue}}else return null;break}}();var or__3478__auto__=ret;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else if(cljs.core.contains_QMARK_.call(null,opts,new cljs.core.Keyword(null,"default","default",2558708147))){var temp__4126__auto__=function(){var and__3466__auto__=cljs.core.async.impl.protocols.active_QMARK_.call(null,flag);if(cljs.core.truth_(and__3466__auto__))return cljs.core.async.impl.protocols.commit.call(null,
flag);else return and__3466__auto__}();if(cljs.core.truth_(temp__4126__auto__)){var got=temp__4126__auto__;return cljs.core.async.impl.channels.box.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[(new cljs.core.Keyword(null,"default","default",2558708147)).cljs$core$IFn$_invoke$arity$1(opts),new cljs.core.Keyword(null,"default","default",2558708147)],null))}else return null}else return null};
cljs.core.async.alts_BANG_=function(){var alts_BANG___delegate=function(ports,p__20715){var map__20717=p__20715;var map__20717__$1=cljs.core.seq_QMARK_.call(null,map__20717)?cljs.core.apply.call(null,cljs.core.hash_map,map__20717):map__20717;var opts=map__20717__$1;if(null)return null;else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str("alts! used not in (go ...) block"),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,null))].join(""));};var alts_BANG_=function(ports,
var_args){var p__20715=null;if(arguments.length>1)p__20715=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return alts_BANG___delegate.call(this,ports,p__20715)};alts_BANG_.cljs$lang$maxFixedArity=1;alts_BANG_.cljs$lang$applyTo=function(arglist__20718){var ports=cljs.core.first(arglist__20718);var p__20715=cljs.core.rest(arglist__20718);return alts_BANG___delegate(ports,p__20715)};alts_BANG_.cljs$core$IFn$_invoke$arity$variadic=alts_BANG___delegate;return alts_BANG_}();
cljs.core.async.map_LT_=function map_LT_(f,ch){if(typeof cljs.core.async.t20726!=="undefined");else{cljs.core.async.t20726=function(ch,f,map_LT_,meta20727){this.ch=ch;this.f=f;this.map_LT_=map_LT_;this.meta20727=meta20727;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393216};cljs.core.async.t20726.cljs$lang$type=true;cljs.core.async.t20726.cljs$lang$ctorStr="cljs.core.async/t20726";cljs.core.async.t20726.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,
opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async/t20726")};cljs.core.async.t20726.prototype.cljs$core$async$impl$protocols$WritePort$=true;cljs.core.async.t20726.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=function(_,val,fn1){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.put_BANG_.call(null,self__.ch,val,fn1)};cljs.core.async.t20726.prototype.cljs$core$async$impl$protocols$ReadPort$=true;cljs.core.async.t20726.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=
function(_,fn1){var self__=this;var ___$1=this;var ret=cljs.core.async.impl.protocols.take_BANG_.call(null,self__.ch,function(){if(typeof cljs.core.async.t20729!=="undefined");else{cljs.core.async.t20729=function(fn1,_,meta20727,ch,f,map_LT_,meta20730){this.fn1=fn1;this._=_;this.meta20727=meta20727;this.ch=ch;this.f=f;this.map_LT_=map_LT_;this.meta20730=meta20730;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393216};cljs.core.async.t20729.cljs$lang$type=true;
cljs.core.async.t20729.cljs$lang$ctorStr="cljs.core.async/t20729";cljs.core.async.t20729.cljs$lang$ctorPrWriter=function(___$1){return function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async/t20729")}}(___$1);cljs.core.async.t20729.prototype.cljs$core$async$impl$protocols$Handler$=true;cljs.core.async.t20729.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(___$1){return function(___$3){var self__=
this;var ___$4=this;return cljs.core.async.impl.protocols.active_QMARK_.call(null,self__.fn1)}}(___$1);cljs.core.async.t20729.prototype.cljs$core$async$impl$protocols$Handler$lock_id$arity$1=function(___$1){return function(___$3){var self__=this;var ___$4=this;return cljs.core.async.impl.protocols.lock_id.call(null,self__.fn1)}}(___$1);cljs.core.async.t20729.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=function(___$1){return function(___$3){var self__=this;var ___$4=this;var f1=
cljs.core.async.impl.protocols.commit.call(null,self__.fn1);return function(f1,___$4,___$1){return function(p1__20719_SHARP_){return f1.call(null,p1__20719_SHARP_==null?null:self__.f.call(null,p1__20719_SHARP_))}}(f1,___$4,___$1)}}(___$1);cljs.core.async.t20729.prototype.cljs$core$IMeta$_meta$arity$1=function(___$1){return function(_20731){var self__=this;var _20731__$1=this;return self__.meta20730}}(___$1);cljs.core.async.t20729.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(___$1){return function(_20731,
meta20730__$1){var self__=this;var _20731__$1=this;return new cljs.core.async.t20729(self__.fn1,self__._,self__.meta20727,self__.ch,self__.f,self__.map_LT_,meta20730__$1)}}(___$1);cljs.core.async.__GT_t20729=function(___$1){return function __GT_t20729(fn1__$1,___$2,meta20727__$1,ch__$2,f__$2,map_LT___$2,meta20730){return new cljs.core.async.t20729(fn1__$1,___$2,meta20727__$1,ch__$2,f__$2,map_LT___$2,meta20730)}}(___$1)}return new cljs.core.async.t20729(fn1,___$1,self__.meta20727,self__.ch,self__.f,
self__.map_LT_,null)}());if(cljs.core.truth_(function(){var and__3466__auto__=ret;if(cljs.core.truth_(and__3466__auto__))return!(cljs.core.deref.call(null,ret)==null);else return and__3466__auto__}()))return cljs.core.async.impl.channels.box.call(null,self__.f.call(null,cljs.core.deref.call(null,ret)));else return ret};cljs.core.async.t20726.prototype.cljs$core$async$impl$protocols$Channel$=true;cljs.core.async.t20726.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=function(_){var self__=
this;var ___$1=this;return cljs.core.async.impl.protocols.close_BANG_.call(null,self__.ch)};cljs.core.async.t20726.prototype.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.closed_QMARK_.call(null,self__.ch)};cljs.core.async.t20726.prototype.cljs$core$IMeta$_meta$arity$1=function(_20728){var self__=this;var _20728__$1=this;return self__.meta20727};cljs.core.async.t20726.prototype.cljs$core$IWithMeta$_with_meta$arity$2=
function(_20728,meta20727__$1){var self__=this;var _20728__$1=this;return new cljs.core.async.t20726(self__.ch,self__.f,self__.map_LT_,meta20727__$1)};cljs.core.async.__GT_t20726=function __GT_t20726(ch__$1,f__$1,map_LT___$1,meta20727){return new cljs.core.async.t20726(ch__$1,f__$1,map_LT___$1,meta20727)}}return new cljs.core.async.t20726(ch,f,map_LT_,null)};
cljs.core.async.map_GT_=function map_GT_(f,ch){if(typeof cljs.core.async.t20735!=="undefined");else{cljs.core.async.t20735=function(ch,f,map_GT_,meta20736){this.ch=ch;this.f=f;this.map_GT_=map_GT_;this.meta20736=meta20736;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393216};cljs.core.async.t20735.cljs$lang$type=true;cljs.core.async.t20735.cljs$lang$ctorStr="cljs.core.async/t20735";cljs.core.async.t20735.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,
opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async/t20735")};cljs.core.async.t20735.prototype.cljs$core$async$impl$protocols$WritePort$=true;cljs.core.async.t20735.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=function(_,val,fn1){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.put_BANG_.call(null,self__.ch,self__.f.call(null,val),fn1)};cljs.core.async.t20735.prototype.cljs$core$async$impl$protocols$ReadPort$=true;
cljs.core.async.t20735.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=function(_,fn1){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.take_BANG_.call(null,self__.ch,fn1)};cljs.core.async.t20735.prototype.cljs$core$async$impl$protocols$Channel$=true;cljs.core.async.t20735.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=function(_){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.close_BANG_.call(null,self__.ch)};cljs.core.async.t20735.prototype.cljs$core$IMeta$_meta$arity$1=
function(_20737){var self__=this;var _20737__$1=this;return self__.meta20736};cljs.core.async.t20735.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(_20737,meta20736__$1){var self__=this;var _20737__$1=this;return new cljs.core.async.t20735(self__.ch,self__.f,self__.map_GT_,meta20736__$1)};cljs.core.async.__GT_t20735=function __GT_t20735(ch__$1,f__$1,map_GT___$1,meta20736){return new cljs.core.async.t20735(ch__$1,f__$1,map_GT___$1,meta20736)}}return new cljs.core.async.t20735(ch,f,map_GT_,
null)};
cljs.core.async.filter_GT_=function filter_GT_(p,ch){if(typeof cljs.core.async.t20741!=="undefined");else{cljs.core.async.t20741=function(ch,p,filter_GT_,meta20742){this.ch=ch;this.p=p;this.filter_GT_=filter_GT_;this.meta20742=meta20742;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393216};cljs.core.async.t20741.cljs$lang$type=true;cljs.core.async.t20741.cljs$lang$ctorStr="cljs.core.async/t20741";cljs.core.async.t20741.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,
opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async/t20741")};cljs.core.async.t20741.prototype.cljs$core$async$impl$protocols$WritePort$=true;cljs.core.async.t20741.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=function(_,val,fn1){var self__=this;var ___$1=this;if(cljs.core.truth_(self__.p.call(null,val)))return cljs.core.async.impl.protocols.put_BANG_.call(null,self__.ch,val,fn1);else return cljs.core.async.impl.channels.box.call(null,
cljs.core.not.call(null,cljs.core.async.impl.protocols.closed_QMARK_.call(null,self__.ch)))};cljs.core.async.t20741.prototype.cljs$core$async$impl$protocols$ReadPort$=true;cljs.core.async.t20741.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=function(_,fn1){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.take_BANG_.call(null,self__.ch,fn1)};cljs.core.async.t20741.prototype.cljs$core$async$impl$protocols$Channel$=true;cljs.core.async.t20741.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=
function(_){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.close_BANG_.call(null,self__.ch)};cljs.core.async.t20741.prototype.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1=function(_){var self__=this;var ___$1=this;return cljs.core.async.impl.protocols.closed_QMARK_.call(null,self__.ch)};cljs.core.async.t20741.prototype.cljs$core$IMeta$_meta$arity$1=function(_20743){var self__=this;var _20743__$1=this;return self__.meta20742};cljs.core.async.t20741.prototype.cljs$core$IWithMeta$_with_meta$arity$2=
function(_20743,meta20742__$1){var self__=this;var _20743__$1=this;return new cljs.core.async.t20741(self__.ch,self__.p,self__.filter_GT_,meta20742__$1)};cljs.core.async.__GT_t20741=function __GT_t20741(ch__$1,p__$1,filter_GT___$1,meta20742){return new cljs.core.async.t20741(ch__$1,p__$1,filter_GT___$1,meta20742)}}return new cljs.core.async.t20741(ch,p,filter_GT_,null)};
cljs.core.async.remove_GT_=function remove_GT_(p,ch){return cljs.core.async.filter_GT_.call(null,cljs.core.complement.call(null,p),ch)};
cljs.core.async.filter_LT_=function(){var filter_LT_=null;var filter_LT___2=function(p,ch){return filter_LT_.call(null,p,ch,null)};var filter_LT___3=function(p,ch,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__8124__auto___20826=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto___20826,out){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto___20826,out){return function(state_20805){var state_val_20806=
state_20805[1];if(state_val_20806===7){var inst_20801=state_20805[2];var state_20805__$1=state_20805;var statearr_20807_20827=state_20805__$1;statearr_20807_20827[2]=inst_20801;statearr_20807_20827[1]=3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_20806===1){var state_20805__$1=state_20805;var statearr_20808_20828=state_20805__$1;statearr_20808_20828[2]=null;statearr_20808_20828[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_20806===
4){var inst_20787=state_20805[7];var inst_20787__$1=state_20805[2];var inst_20788=inst_20787__$1==null;var state_20805__$1=function(){var statearr_20809=state_20805;statearr_20809[7]=inst_20787__$1;return statearr_20809}();if(cljs.core.truth_(inst_20788)){var statearr_20810_20829=state_20805__$1;statearr_20810_20829[1]=5}else{var statearr_20811_20830=state_20805__$1;statearr_20811_20830[1]=6}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_20806===6){var inst_20787=
state_20805[7];var inst_20792=p.call(null,inst_20787);var state_20805__$1=state_20805;if(cljs.core.truth_(inst_20792)){var statearr_20812_20831=state_20805__$1;statearr_20812_20831[1]=8}else{var statearr_20813_20832=state_20805__$1;statearr_20813_20832[1]=9}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_20806===3){var inst_20803=state_20805[2];var state_20805__$1=state_20805;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_20805__$1,inst_20803)}else if(state_val_20806===
2){var state_20805__$1=state_20805;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_20805__$1,4,ch)}else if(state_val_20806===11){var inst_20795=state_20805[2];var state_20805__$1=state_20805;var statearr_20814_20833=state_20805__$1;statearr_20814_20833[2]=inst_20795;statearr_20814_20833[1]=10;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_20806===9){var state_20805__$1=state_20805;var statearr_20815_20834=state_20805__$1;statearr_20815_20834[2]=
null;statearr_20815_20834[1]=10;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_20806===5){var inst_20790=cljs.core.async.close_BANG_.call(null,out);var state_20805__$1=state_20805;var statearr_20816_20835=state_20805__$1;statearr_20816_20835[2]=inst_20790;statearr_20816_20835[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_20806===10){var inst_20798=state_20805[2];var state_20805__$1=function(){var statearr_20817=state_20805;statearr_20817[8]=
inst_20798;return statearr_20817}();var statearr_20818_20836=state_20805__$1;statearr_20818_20836[2]=null;statearr_20818_20836[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_20806===8){var inst_20787=state_20805[7];var state_20805__$1=state_20805;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_20805__$1,11,out,inst_20787)}else return null}}(c__8124__auto___20826,out);return function(switch__8060__auto__,c__8124__auto___20826,out){return function(){var state_machine__8061__auto__=
null;var state_machine__8061__auto____0=function(){var statearr_20822=[null,null,null,null,null,null,null,null,null];statearr_20822[0]=state_machine__8061__auto__;statearr_20822[1]=1;return statearr_20822};var state_machine__8061__auto____1=function(state_20805){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_20805);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur",
"recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e20823){if(e20823 instanceof Object){var ex__8064__auto__=e20823;var statearr_20824_20837=state_20805;statearr_20824_20837[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_20805);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e20823;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,
new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__20838=state_20805;state_20805=G__20838;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_20805){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_20805)}throw new Error("Invalid arity: "+arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=
state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto___20826,out)}();var state__8126__auto__=function(){var statearr_20825=f__8125__auto__.call(null);statearr_20825[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto___20826;return statearr_20825}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto___20826,out));return out};filter_LT_=function(p,ch,buf_or_n){switch(arguments.length){case 2:return filter_LT___2.call(this,
p,ch);case 3:return filter_LT___3.call(this,p,ch,buf_or_n)}throw new Error("Invalid arity: "+arguments.length);};filter_LT_.cljs$core$IFn$_invoke$arity$2=filter_LT___2;filter_LT_.cljs$core$IFn$_invoke$arity$3=filter_LT___3;return filter_LT_}();
cljs.core.async.remove_LT_=function(){var remove_LT_=null;var remove_LT___2=function(p,ch){return remove_LT_.call(null,p,ch,null)};var remove_LT___3=function(p,ch,buf_or_n){return cljs.core.async.filter_LT_.call(null,cljs.core.complement.call(null,p),ch,buf_or_n)};remove_LT_=function(p,ch,buf_or_n){switch(arguments.length){case 2:return remove_LT___2.call(this,p,ch);case 3:return remove_LT___3.call(this,p,ch,buf_or_n)}throw new Error("Invalid arity: "+arguments.length);};remove_LT_.cljs$core$IFn$_invoke$arity$2=
remove_LT___2;remove_LT_.cljs$core$IFn$_invoke$arity$3=remove_LT___3;return remove_LT_}();
cljs.core.async.mapcat_STAR_=function mapcat_STAR_(f,in$,out){var c__8124__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto__){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto__){return function(state_21004){var state_val_21005=state_21004[1];if(state_val_21005===7){var inst_21000=state_21004[2];var state_21004__$1=state_21004;var statearr_21006_21047=state_21004__$1;statearr_21006_21047[2]=
inst_21000;statearr_21006_21047[1]=3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===20){var inst_20970=state_21004[7];var inst_20981=state_21004[2];var inst_20982=cljs.core.next.call(null,inst_20970);var inst_20956=inst_20982;var inst_20957=null;var inst_20958=0;var inst_20959=0;var state_21004__$1=function(){var statearr_21007=state_21004;statearr_21007[8]=inst_20981;statearr_21007[9]=inst_20957;statearr_21007[10]=inst_20956;statearr_21007[11]=inst_20958;
statearr_21007[12]=inst_20959;return statearr_21007}();var statearr_21008_21048=state_21004__$1;statearr_21008_21048[2]=null;statearr_21008_21048[1]=8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===1){var state_21004__$1=state_21004;var statearr_21009_21049=state_21004__$1;statearr_21009_21049[2]=null;statearr_21009_21049[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===4){var inst_20945=state_21004[13];var inst_20945__$1=
state_21004[2];var inst_20946=inst_20945__$1==null;var state_21004__$1=function(){var statearr_21010=state_21004;statearr_21010[13]=inst_20945__$1;return statearr_21010}();if(cljs.core.truth_(inst_20946)){var statearr_21011_21050=state_21004__$1;statearr_21011_21050[1]=5}else{var statearr_21012_21051=state_21004__$1;statearr_21012_21051[1]=6}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===15){var state_21004__$1=state_21004;var statearr_21016_21052=state_21004__$1;
statearr_21016_21052[2]=null;statearr_21016_21052[1]=16;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===21){var state_21004__$1=state_21004;var statearr_21017_21053=state_21004__$1;statearr_21017_21053[2]=null;statearr_21017_21053[1]=23;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===13){var inst_20957=state_21004[9];var inst_20956=state_21004[10];var inst_20958=state_21004[11];var inst_20959=state_21004[12];var inst_20966=
state_21004[2];var inst_20967=inst_20959+1;var tmp21013=inst_20957;var tmp21014=inst_20956;var tmp21015=inst_20958;var inst_20956__$1=tmp21014;var inst_20957__$1=tmp21013;var inst_20958__$1=tmp21015;var inst_20959__$1=inst_20967;var state_21004__$1=function(){var statearr_21018=state_21004;statearr_21018[14]=inst_20966;statearr_21018[9]=inst_20957__$1;statearr_21018[10]=inst_20956__$1;statearr_21018[11]=inst_20958__$1;statearr_21018[12]=inst_20959__$1;return statearr_21018}();var statearr_21019_21054=
state_21004__$1;statearr_21019_21054[2]=null;statearr_21019_21054[1]=8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===22){var state_21004__$1=state_21004;var statearr_21020_21055=state_21004__$1;statearr_21020_21055[2]=null;statearr_21020_21055[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===6){var inst_20945=state_21004[13];var inst_20954=f.call(null,inst_20945);var inst_20955=cljs.core.seq.call(null,inst_20954);
var inst_20956=inst_20955;var inst_20957=null;var inst_20958=0;var inst_20959=0;var state_21004__$1=function(){var statearr_21021=state_21004;statearr_21021[9]=inst_20957;statearr_21021[10]=inst_20956;statearr_21021[11]=inst_20958;statearr_21021[12]=inst_20959;return statearr_21021}();var statearr_21022_21056=state_21004__$1;statearr_21022_21056[2]=null;statearr_21022_21056[1]=8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===17){var inst_20970=state_21004[7];
var inst_20974=cljs.core.chunk_first.call(null,inst_20970);var inst_20975=cljs.core.chunk_rest.call(null,inst_20970);var inst_20976=cljs.core.count.call(null,inst_20974);var inst_20956=inst_20975;var inst_20957=inst_20974;var inst_20958=inst_20976;var inst_20959=0;var state_21004__$1=function(){var statearr_21023=state_21004;statearr_21023[9]=inst_20957;statearr_21023[10]=inst_20956;statearr_21023[11]=inst_20958;statearr_21023[12]=inst_20959;return statearr_21023}();var statearr_21024_21057=state_21004__$1;
statearr_21024_21057[2]=null;statearr_21024_21057[1]=8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===3){var inst_21002=state_21004[2];var state_21004__$1=state_21004;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_21004__$1,inst_21002)}else if(state_val_21005===12){var inst_20990=state_21004[2];var state_21004__$1=state_21004;var statearr_21025_21058=state_21004__$1;statearr_21025_21058[2]=inst_20990;statearr_21025_21058[1]=9;return new cljs.core.Keyword(null,
"recur","recur",1122293407)}else if(state_val_21005===2){var state_21004__$1=state_21004;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_21004__$1,4,in$)}else if(state_val_21005===23){var inst_20998=state_21004[2];var state_21004__$1=state_21004;var statearr_21026_21059=state_21004__$1;statearr_21026_21059[2]=inst_20998;statearr_21026_21059[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===19){var inst_20985=state_21004[2];var state_21004__$1=
state_21004;var statearr_21027_21060=state_21004__$1;statearr_21027_21060[2]=inst_20985;statearr_21027_21060[1]=16;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===11){var inst_20956=state_21004[10];var inst_20970=state_21004[7];var inst_20970__$1=cljs.core.seq.call(null,inst_20956);var state_21004__$1=function(){var statearr_21028=state_21004;statearr_21028[7]=inst_20970__$1;return statearr_21028}();if(inst_20970__$1){var statearr_21029_21061=state_21004__$1;
statearr_21029_21061[1]=14}else{var statearr_21030_21062=state_21004__$1;statearr_21030_21062[1]=15}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===9){var inst_20992=state_21004[2];var inst_20993=cljs.core.async.impl.protocols.closed_QMARK_.call(null,out);var state_21004__$1=function(){var statearr_21031=state_21004;statearr_21031[15]=inst_20992;return statearr_21031}();if(cljs.core.truth_(inst_20993)){var statearr_21032_21063=state_21004__$1;statearr_21032_21063[1]=
21}else{var statearr_21033_21064=state_21004__$1;statearr_21033_21064[1]=22}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===5){var inst_20948=cljs.core.async.close_BANG_.call(null,out);var state_21004__$1=state_21004;var statearr_21034_21065=state_21004__$1;statearr_21034_21065[2]=inst_20948;statearr_21034_21065[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===14){var inst_20970=state_21004[7];var inst_20972=cljs.core.chunked_seq_QMARK_.call(null,
inst_20970);var state_21004__$1=state_21004;if(inst_20972){var statearr_21035_21066=state_21004__$1;statearr_21035_21066[1]=17}else{var statearr_21036_21067=state_21004__$1;statearr_21036_21067[1]=18}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21005===16){var inst_20988=state_21004[2];var state_21004__$1=state_21004;var statearr_21037_21068=state_21004__$1;statearr_21037_21068[2]=inst_20988;statearr_21037_21068[1]=12;return new cljs.core.Keyword(null,"recur","recur",
1122293407)}else if(state_val_21005===10){var inst_20957=state_21004[9];var inst_20959=state_21004[12];var inst_20964=cljs.core._nth.call(null,inst_20957,inst_20959);var state_21004__$1=state_21004;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_21004__$1,13,out,inst_20964)}else if(state_val_21005===18){var inst_20970=state_21004[7];var inst_20979=cljs.core.first.call(null,inst_20970);var state_21004__$1=state_21004;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_21004__$1,
20,out,inst_20979)}else if(state_val_21005===8){var inst_20958=state_21004[11];var inst_20959=state_21004[12];var inst_20961=inst_20959<inst_20958;var inst_20962=inst_20961;var state_21004__$1=state_21004;if(cljs.core.truth_(inst_20962)){var statearr_21038_21069=state_21004__$1;statearr_21038_21069[1]=10}else{var statearr_21039_21070=state_21004__$1;statearr_21039_21070[1]=11}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto__);return function(switch__8060__auto__,
c__8124__auto__){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_21043=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_21043[0]=state_machine__8061__auto__;statearr_21043[1]=1;return statearr_21043};var state_machine__8061__auto____1=function(state_21004){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_21004);
if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e21044){if(e21044 instanceof Object){var ex__8064__auto__=e21044;var statearr_21045_21071=state_21004;statearr_21045_21071[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_21004);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else",
"else",1017020587))throw e21044;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__21072=state_21004;state_21004=G__21072;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_21004){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_21004)}throw new Error("Invalid arity: "+
arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto__)}();var state__8126__auto__=function(){var statearr_21046=f__8125__auto__.call(null);statearr_21046[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto__;return statearr_21046}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__8126__auto__)}}(c__8124__auto__));return c__8124__auto__};
cljs.core.async.mapcat_LT_=function(){var mapcat_LT_=null;var mapcat_LT___2=function(f,in$){return mapcat_LT_.call(null,f,in$,null)};var mapcat_LT___3=function(f,in$,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);cljs.core.async.mapcat_STAR_.call(null,f,in$,out);return out};mapcat_LT_=function(f,in$,buf_or_n){switch(arguments.length){case 2:return mapcat_LT___2.call(this,f,in$);case 3:return mapcat_LT___3.call(this,f,in$,buf_or_n)}throw new Error("Invalid arity: "+arguments.length);};
mapcat_LT_.cljs$core$IFn$_invoke$arity$2=mapcat_LT___2;mapcat_LT_.cljs$core$IFn$_invoke$arity$3=mapcat_LT___3;return mapcat_LT_}();
cljs.core.async.mapcat_GT_=function(){var mapcat_GT_=null;var mapcat_GT___2=function(f,out){return mapcat_GT_.call(null,f,out,null)};var mapcat_GT___3=function(f,out,buf_or_n){var in$=cljs.core.async.chan.call(null,buf_or_n);cljs.core.async.mapcat_STAR_.call(null,f,in$,out);return in$};mapcat_GT_=function(f,out,buf_or_n){switch(arguments.length){case 2:return mapcat_GT___2.call(this,f,out);case 3:return mapcat_GT___3.call(this,f,out,buf_or_n)}throw new Error("Invalid arity: "+arguments.length);};
mapcat_GT_.cljs$core$IFn$_invoke$arity$2=mapcat_GT___2;mapcat_GT_.cljs$core$IFn$_invoke$arity$3=mapcat_GT___3;return mapcat_GT_}();
cljs.core.async.pipe=function(){var pipe=null;var pipe__2=function(from,to){return pipe.call(null,from,to,true)};var pipe__3=function(from,to,close_QMARK_){var c__8124__auto___21167=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto___21167){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto___21167){return function(state_21143){var state_val_21144=state_21143[1];if(state_val_21144===7){var inst_21139=
state_21143[2];var state_21143__$1=state_21143;var statearr_21145_21168=state_21143__$1;statearr_21145_21168[2]=inst_21139;statearr_21145_21168[1]=3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21144===1){var state_21143__$1=state_21143;var statearr_21146_21169=state_21143__$1;statearr_21146_21169[2]=null;statearr_21146_21169[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21144===4){var inst_21122=state_21143[7];var inst_21122__$1=
state_21143[2];var inst_21123=inst_21122__$1==null;var state_21143__$1=function(){var statearr_21147=state_21143;statearr_21147[7]=inst_21122__$1;return statearr_21147}();if(cljs.core.truth_(inst_21123)){var statearr_21148_21170=state_21143__$1;statearr_21148_21170[1]=5}else{var statearr_21149_21171=state_21143__$1;statearr_21149_21171[1]=6}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21144===13){var state_21143__$1=state_21143;var statearr_21150_21172=state_21143__$1;
statearr_21150_21172[2]=null;statearr_21150_21172[1]=14;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21144===6){var inst_21122=state_21143[7];var state_21143__$1=state_21143;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_21143__$1,11,to,inst_21122)}else if(state_val_21144===3){var inst_21141=state_21143[2];var state_21143__$1=state_21143;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_21143__$1,inst_21141)}else if(state_val_21144===
12){var state_21143__$1=state_21143;var statearr_21151_21173=state_21143__$1;statearr_21151_21173[2]=null;statearr_21151_21173[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21144===2){var state_21143__$1=state_21143;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_21143__$1,4,from)}else if(state_val_21144===11){var inst_21132=state_21143[2];var state_21143__$1=state_21143;if(cljs.core.truth_(inst_21132)){var statearr_21152_21174=state_21143__$1;
statearr_21152_21174[1]=12}else{var statearr_21153_21175=state_21143__$1;statearr_21153_21175[1]=13}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21144===9){var state_21143__$1=state_21143;var statearr_21154_21176=state_21143__$1;statearr_21154_21176[2]=null;statearr_21154_21176[1]=10;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21144===5){var state_21143__$1=state_21143;if(cljs.core.truth_(close_QMARK_)){var statearr_21155_21177=
state_21143__$1;statearr_21155_21177[1]=8}else{var statearr_21156_21178=state_21143__$1;statearr_21156_21178[1]=9}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21144===14){var inst_21137=state_21143[2];var state_21143__$1=state_21143;var statearr_21157_21179=state_21143__$1;statearr_21157_21179[2]=inst_21137;statearr_21157_21179[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21144===10){var inst_21129=state_21143[2];var state_21143__$1=
state_21143;var statearr_21158_21180=state_21143__$1;statearr_21158_21180[2]=inst_21129;statearr_21158_21180[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21144===8){var inst_21126=cljs.core.async.close_BANG_.call(null,to);var state_21143__$1=state_21143;var statearr_21159_21181=state_21143__$1;statearr_21159_21181[2]=inst_21126;statearr_21159_21181[1]=10;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto___21167);
return function(switch__8060__auto__,c__8124__auto___21167){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_21163=[null,null,null,null,null,null,null,null];statearr_21163[0]=state_machine__8061__auto__;statearr_21163[1]=1;return statearr_21163};var state_machine__8061__auto____1=function(state_21143){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_21143);
if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e21164){if(e21164 instanceof Object){var ex__8064__auto__=e21164;var statearr_21165_21182=state_21143;statearr_21165_21182[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_21143);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else",
"else",1017020587))throw e21164;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__21183=state_21143;state_21143=G__21183;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_21143){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_21143)}throw new Error("Invalid arity: "+
arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto___21167)}();var state__8126__auto__=function(){var statearr_21166=f__8125__auto__.call(null);statearr_21166[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto___21167;return statearr_21166}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__8126__auto__)}}(c__8124__auto___21167));return to};pipe=function(from,to,close_QMARK_){switch(arguments.length){case 2:return pipe__2.call(this,from,to);case 3:return pipe__3.call(this,from,to,close_QMARK_)}throw new Error("Invalid arity: "+arguments.length);};pipe.cljs$core$IFn$_invoke$arity$2=pipe__2;pipe.cljs$core$IFn$_invoke$arity$3=pipe__3;return pipe}();
cljs.core.async.split=function(){var split=null;var split__2=function(p,ch){return split.call(null,p,ch,null,null)};var split__4=function(p,ch,t_buf_or_n,f_buf_or_n){var tc=cljs.core.async.chan.call(null,t_buf_or_n);var fc=cljs.core.async.chan.call(null,f_buf_or_n);var c__8124__auto___21284=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto___21284,tc,fc){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto___21284,
tc,fc){return function(state_21259){var state_val_21260=state_21259[1];if(state_val_21260===7){var inst_21255=state_21259[2];var state_21259__$1=state_21259;var statearr_21261_21285=state_21259__$1;statearr_21261_21285[2]=inst_21255;statearr_21261_21285[1]=3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21260===1){var state_21259__$1=state_21259;var statearr_21262_21286=state_21259__$1;statearr_21262_21286[2]=null;statearr_21262_21286[1]=2;return new cljs.core.Keyword(null,
"recur","recur",1122293407)}else if(state_val_21260===4){var inst_21236=state_21259[7];var inst_21236__$1=state_21259[2];var inst_21237=inst_21236__$1==null;var state_21259__$1=function(){var statearr_21263=state_21259;statearr_21263[7]=inst_21236__$1;return statearr_21263}();if(cljs.core.truth_(inst_21237)){var statearr_21264_21287=state_21259__$1;statearr_21264_21287[1]=5}else{var statearr_21265_21288=state_21259__$1;statearr_21265_21288[1]=6}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21260===
13){var state_21259__$1=state_21259;var statearr_21266_21289=state_21259__$1;statearr_21266_21289[2]=null;statearr_21266_21289[1]=14;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21260===6){var inst_21236=state_21259[7];var inst_21242=p.call(null,inst_21236);var state_21259__$1=state_21259;if(cljs.core.truth_(inst_21242)){var statearr_21267_21290=state_21259__$1;statearr_21267_21290[1]=9}else{var statearr_21268_21291=state_21259__$1;statearr_21268_21291[1]=10}return new cljs.core.Keyword(null,
"recur","recur",1122293407)}else if(state_val_21260===3){var inst_21257=state_21259[2];var state_21259__$1=state_21259;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_21259__$1,inst_21257)}else if(state_val_21260===12){var state_21259__$1=state_21259;var statearr_21269_21292=state_21259__$1;statearr_21269_21292[2]=null;statearr_21269_21292[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21260===2){var state_21259__$1=state_21259;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_21259__$1,4,ch)}else if(state_val_21260===11){var inst_21236=state_21259[7];var inst_21246=state_21259[2];var state_21259__$1=state_21259;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_21259__$1,8,inst_21246,inst_21236)}else if(state_val_21260===9){var state_21259__$1=state_21259;var statearr_21270_21293=state_21259__$1;statearr_21270_21293[2]=tc;statearr_21270_21293[1]=11;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21260===5){var inst_21239=
cljs.core.async.close_BANG_.call(null,tc);var inst_21240=cljs.core.async.close_BANG_.call(null,fc);var state_21259__$1=function(){var statearr_21271=state_21259;statearr_21271[8]=inst_21239;return statearr_21271}();var statearr_21272_21294=state_21259__$1;statearr_21272_21294[2]=inst_21240;statearr_21272_21294[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21260===14){var inst_21253=state_21259[2];var state_21259__$1=state_21259;var statearr_21273_21295=state_21259__$1;
statearr_21273_21295[2]=inst_21253;statearr_21273_21295[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21260===10){var state_21259__$1=state_21259;var statearr_21274_21296=state_21259__$1;statearr_21274_21296[2]=fc;statearr_21274_21296[1]=11;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21260===8){var inst_21248=state_21259[2];var state_21259__$1=state_21259;if(cljs.core.truth_(inst_21248)){var statearr_21275_21297=state_21259__$1;
statearr_21275_21297[1]=12}else{var statearr_21276_21298=state_21259__$1;statearr_21276_21298[1]=13}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto___21284,tc,fc);return function(switch__8060__auto__,c__8124__auto___21284,tc,fc){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_21280=[null,null,null,null,null,null,null,null,null];statearr_21280[0]=state_machine__8061__auto__;statearr_21280[1]=
1;return statearr_21280};var state_machine__8061__auto____1=function(state_21259){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_21259);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e21281){if(e21281 instanceof Object){var ex__8064__auto__=e21281;var statearr_21282_21299=state_21259;statearr_21282_21299[5]=
ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_21259);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e21281;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__21300=state_21259;state_21259=G__21300;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=
function(state_21259){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_21259)}throw new Error("Invalid arity: "+arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto___21284,tc,fc)}();var state__8126__auto__=
function(){var statearr_21283=f__8125__auto__.call(null);statearr_21283[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto___21284;return statearr_21283}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto___21284,tc,fc));return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[tc,fc],null)};split=function(p,ch,t_buf_or_n,f_buf_or_n){switch(arguments.length){case 2:return split__2.call(this,p,ch);
case 4:return split__4.call(this,p,ch,t_buf_or_n,f_buf_or_n)}throw new Error("Invalid arity: "+arguments.length);};split.cljs$core$IFn$_invoke$arity$2=split__2;split.cljs$core$IFn$_invoke$arity$4=split__4;return split}();
cljs.core.async.reduce=function reduce(f,init,ch){var c__8124__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto__){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto__){return function(state_21347){var state_val_21348=state_21347[1];if(state_val_21348===7){var inst_21343=state_21347[2];var state_21347__$1=state_21347;var statearr_21349_21365=state_21347__$1;statearr_21349_21365[2]=inst_21343;statearr_21349_21365[1]=
3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21348===6){var inst_21336=state_21347[7];var inst_21333=state_21347[8];var inst_21340=f.call(null,inst_21333,inst_21336);var inst_21333__$1=inst_21340;var state_21347__$1=function(){var statearr_21350=state_21347;statearr_21350[8]=inst_21333__$1;return statearr_21350}();var statearr_21351_21366=state_21347__$1;statearr_21351_21366[2]=null;statearr_21351_21366[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21348===
5){var inst_21333=state_21347[8];var state_21347__$1=state_21347;var statearr_21352_21367=state_21347__$1;statearr_21352_21367[2]=inst_21333;statearr_21352_21367[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21348===4){var inst_21336=state_21347[7];var inst_21336__$1=state_21347[2];var inst_21337=inst_21336__$1==null;var state_21347__$1=function(){var statearr_21353=state_21347;statearr_21353[7]=inst_21336__$1;return statearr_21353}();if(cljs.core.truth_(inst_21337)){var statearr_21354_21368=
state_21347__$1;statearr_21354_21368[1]=5}else{var statearr_21355_21369=state_21347__$1;statearr_21355_21369[1]=6}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21348===3){var inst_21345=state_21347[2];var state_21347__$1=state_21347;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_21347__$1,inst_21345)}else if(state_val_21348===2){var state_21347__$1=state_21347;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_21347__$1,4,ch)}else if(state_val_21348===
1){var inst_21333=init;var state_21347__$1=function(){var statearr_21356=state_21347;statearr_21356[8]=inst_21333;return statearr_21356}();var statearr_21357_21370=state_21347__$1;statearr_21357_21370[2]=null;statearr_21357_21370[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto__);return function(switch__8060__auto__,c__8124__auto__){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_21361=
[null,null,null,null,null,null,null,null,null];statearr_21361[0]=state_machine__8061__auto__;statearr_21361[1]=1;return statearr_21361};var state_machine__8061__auto____1=function(state_21347){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_21347);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e21362){if(e21362 instanceof
Object){var ex__8064__auto__=e21362;var statearr_21363_21371=state_21347;statearr_21363_21371[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_21347);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e21362;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__21372=state_21347;state_21347=
G__21372;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_21347){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_21347)}throw new Error("Invalid arity: "+arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,
c__8124__auto__)}();var state__8126__auto__=function(){var statearr_21364=f__8125__auto__.call(null);statearr_21364[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto__;return statearr_21364}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto__));return c__8124__auto__};
cljs.core.async.onto_chan=function(){var onto_chan=null;var onto_chan__2=function(ch,coll){return onto_chan.call(null,ch,coll,true)};var onto_chan__3=function(ch,coll,close_QMARK_){var c__8124__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto__){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto__){return function(state_21446){var state_val_21447=state_21446[1];if(state_val_21447===7){var inst_21428=
state_21446[2];var state_21446__$1=state_21446;var statearr_21448_21471=state_21446__$1;statearr_21448_21471[2]=inst_21428;statearr_21448_21471[1]=6;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21447===1){var inst_21422=cljs.core.seq.call(null,coll);var inst_21423=inst_21422;var state_21446__$1=function(){var statearr_21449=state_21446;statearr_21449[7]=inst_21423;return statearr_21449}();var statearr_21450_21472=state_21446__$1;statearr_21450_21472[2]=null;statearr_21450_21472[1]=
2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21447===4){var inst_21423=state_21446[7];var inst_21426=cljs.core.first.call(null,inst_21423);var state_21446__$1=state_21446;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_21446__$1,7,ch,inst_21426)}else if(state_val_21447===13){var inst_21440=state_21446[2];var state_21446__$1=state_21446;var statearr_21451_21473=state_21446__$1;statearr_21451_21473[2]=inst_21440;statearr_21451_21473[1]=10;return new cljs.core.Keyword(null,
"recur","recur",1122293407)}else if(state_val_21447===6){var inst_21431=state_21446[2];var state_21446__$1=state_21446;if(cljs.core.truth_(inst_21431)){var statearr_21452_21474=state_21446__$1;statearr_21452_21474[1]=8}else{var statearr_21453_21475=state_21446__$1;statearr_21453_21475[1]=9}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21447===3){var inst_21444=state_21446[2];var state_21446__$1=state_21446;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,
state_21446__$1,inst_21444)}else if(state_val_21447===12){var state_21446__$1=state_21446;var statearr_21454_21476=state_21446__$1;statearr_21454_21476[2]=null;statearr_21454_21476[1]=13;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21447===2){var inst_21423=state_21446[7];var state_21446__$1=state_21446;if(cljs.core.truth_(inst_21423)){var statearr_21455_21477=state_21446__$1;statearr_21455_21477[1]=4}else{var statearr_21456_21478=state_21446__$1;statearr_21456_21478[1]=
5}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21447===11){var inst_21437=cljs.core.async.close_BANG_.call(null,ch);var state_21446__$1=state_21446;var statearr_21457_21479=state_21446__$1;statearr_21457_21479[2]=inst_21437;statearr_21457_21479[1]=13;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21447===9){var state_21446__$1=state_21446;if(cljs.core.truth_(close_QMARK_)){var statearr_21458_21480=state_21446__$1;statearr_21458_21480[1]=
11}else{var statearr_21459_21481=state_21446__$1;statearr_21459_21481[1]=12}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21447===5){var inst_21423=state_21446[7];var state_21446__$1=state_21446;var statearr_21460_21482=state_21446__$1;statearr_21460_21482[2]=inst_21423;statearr_21460_21482[1]=6;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21447===10){var inst_21442=state_21446[2];var state_21446__$1=state_21446;var statearr_21461_21483=
state_21446__$1;statearr_21461_21483[2]=inst_21442;statearr_21461_21483[1]=3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21447===8){var inst_21423=state_21446[7];var inst_21433=cljs.core.next.call(null,inst_21423);var inst_21423__$1=inst_21433;var state_21446__$1=function(){var statearr_21462=state_21446;statearr_21462[7]=inst_21423__$1;return statearr_21462}();var statearr_21463_21484=state_21446__$1;statearr_21463_21484[2]=null;statearr_21463_21484[1]=2;return new cljs.core.Keyword(null,
"recur","recur",1122293407)}else return null}}(c__8124__auto__);return function(switch__8060__auto__,c__8124__auto__){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_21467=[null,null,null,null,null,null,null,null];statearr_21467[0]=state_machine__8061__auto__;statearr_21467[1]=1;return statearr_21467};var state_machine__8061__auto____1=function(state_21446){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=
switch__8060__auto__.call(null,state_21446);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e21468){if(e21468 instanceof Object){var ex__8064__auto__=e21468;var statearr_21469_21485=state_21446;statearr_21469_21485[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_21446);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,
"else","else",1017020587))throw e21468;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__21486=state_21446;state_21446=G__21486;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_21446){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_21446)}throw new Error("Invalid arity: "+
arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto__)}();var state__8126__auto__=function(){var statearr_21470=f__8125__auto__.call(null);statearr_21470[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto__;return statearr_21470}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__8126__auto__)}}(c__8124__auto__));return c__8124__auto__};onto_chan=function(ch,coll,close_QMARK_){switch(arguments.length){case 2:return onto_chan__2.call(this,ch,coll);case 3:return onto_chan__3.call(this,ch,coll,close_QMARK_)}throw new Error("Invalid arity: "+arguments.length);};onto_chan.cljs$core$IFn$_invoke$arity$2=onto_chan__2;onto_chan.cljs$core$IFn$_invoke$arity$3=onto_chan__3;return onto_chan}();
cljs.core.async.to_chan=function to_chan(coll){var ch=cljs.core.async.chan.call(null,cljs.core.bounded_count.call(null,100,coll));cljs.core.async.onto_chan.call(null,ch,coll);return ch};cljs.core.async.Mux=function(){var obj21488={};return obj21488}();
cljs.core.async.muxch_STAR_=function muxch_STAR_(_){if(function(){var and__3466__auto__=_;if(and__3466__auto__)return _.cljs$core$async$Mux$muxch_STAR_$arity$1;else return and__3466__auto__}())return _.cljs$core$async$Mux$muxch_STAR_$arity$1(_);else{var x__4105__auto__=_==null?null:_;return function(){var or__3478__auto__=cljs.core.async.muxch_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.muxch_STAR_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"Mux.muxch*",_);}}().call(null,_)}};cljs.core.async.Mult=function(){var obj21490={};return obj21490}();
cljs.core.async.tap_STAR_=function tap_STAR_(m,ch,close_QMARK_){if(function(){var and__3466__auto__=m;if(and__3466__auto__)return m.cljs$core$async$Mult$tap_STAR_$arity$3;else return and__3466__auto__}())return m.cljs$core$async$Mult$tap_STAR_$arity$3(m,ch,close_QMARK_);else{var x__4105__auto__=m==null?null:m;return function(){var or__3478__auto__=cljs.core.async.tap_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.tap_STAR_["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Mult.tap*",m);}}().call(null,m,ch,close_QMARK_)}};
cljs.core.async.untap_STAR_=function untap_STAR_(m,ch){if(function(){var and__3466__auto__=m;if(and__3466__auto__)return m.cljs$core$async$Mult$untap_STAR_$arity$2;else return and__3466__auto__}())return m.cljs$core$async$Mult$untap_STAR_$arity$2(m,ch);else{var x__4105__auto__=m==null?null:m;return function(){var or__3478__auto__=cljs.core.async.untap_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.untap_STAR_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"Mult.untap*",m);}}().call(null,m,ch)}};
cljs.core.async.untap_all_STAR_=function untap_all_STAR_(m){if(function(){var and__3466__auto__=m;if(and__3466__auto__)return m.cljs$core$async$Mult$untap_all_STAR_$arity$1;else return and__3466__auto__}())return m.cljs$core$async$Mult$untap_all_STAR_$arity$1(m);else{var x__4105__auto__=m==null?null:m;return function(){var or__3478__auto__=cljs.core.async.untap_all_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.untap_all_STAR_["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Mult.untap-all*",m);}}().call(null,m)}};
cljs.core.async.mult=function mult(ch){var cs=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var m=function(){if(typeof cljs.core.async.t21712!=="undefined");else{cljs.core.async.t21712=function(cs,ch,mult,meta21713){this.cs=cs;this.ch=ch;this.mult=mult;this.meta21713=meta21713;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393216};cljs.core.async.t21712.cljs$lang$type=true;cljs.core.async.t21712.cljs$lang$ctorStr="cljs.core.async/t21712";cljs.core.async.t21712.cljs$lang$ctorPrWriter=
function(cs){return function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async/t21712")}}(cs);cljs.core.async.t21712.prototype.cljs$core$async$Mult$=true;cljs.core.async.t21712.prototype.cljs$core$async$Mult$tap_STAR_$arity$3=function(cs){return function(_,ch__$2,close_QMARK_){var self__=this;var ___$1=this;cljs.core.swap_BANG_.call(null,self__.cs,cljs.core.assoc,ch__$2,close_QMARK_);return null}}(cs);cljs.core.async.t21712.prototype.cljs$core$async$Mult$untap_STAR_$arity$2=
function(cs){return function(_,ch__$2){var self__=this;var ___$1=this;cljs.core.swap_BANG_.call(null,self__.cs,cljs.core.dissoc,ch__$2);return null}}(cs);cljs.core.async.t21712.prototype.cljs$core$async$Mult$untap_all_STAR_$arity$1=function(cs){return function(_){var self__=this;var ___$1=this;cljs.core.reset_BANG_.call(null,self__.cs,cljs.core.PersistentArrayMap.EMPTY);return null}}(cs);cljs.core.async.t21712.prototype.cljs$core$async$Mux$=true;cljs.core.async.t21712.prototype.cljs$core$async$Mux$muxch_STAR_$arity$1=
function(cs){return function(_){var self__=this;var ___$1=this;return self__.ch}}(cs);cljs.core.async.t21712.prototype.cljs$core$IMeta$_meta$arity$1=function(cs){return function(_21714){var self__=this;var _21714__$1=this;return self__.meta21713}}(cs);cljs.core.async.t21712.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(cs){return function(_21714,meta21713__$1){var self__=this;var _21714__$1=this;return new cljs.core.async.t21712(self__.cs,self__.ch,self__.mult,meta21713__$1)}}(cs);cljs.core.async.__GT_t21712=
function(cs){return function __GT_t21712(cs__$1,ch__$1,mult__$1,meta21713){return new cljs.core.async.t21712(cs__$1,ch__$1,mult__$1,meta21713)}}(cs)}return new cljs.core.async.t21712(cs,ch,mult,null)}();var dchan=cljs.core.async.chan.call(null,1);var dctr=cljs.core.atom.call(null,null);var done=function(cs,m,dchan,dctr){return function(_){if(cljs.core.swap_BANG_.call(null,dctr,cljs.core.dec)===0)return cljs.core.async.put_BANG_.call(null,dchan,true);else return null}}(cs,m,dchan,dctr);var c__8124__auto___21933=
cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto___21933,cs,m,dchan,dctr,done){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto___21933,cs,m,dchan,dctr,done){return function(state_21845){var state_val_21846=state_21845[1];if(state_val_21846===7){var inst_21841=state_21845[2];var state_21845__$1=state_21845;var statearr_21847_21934=state_21845__$1;statearr_21847_21934[2]=inst_21841;statearr_21847_21934[1]=
3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===20){var inst_21746=state_21845[7];var inst_21756=cljs.core.first.call(null,inst_21746);var inst_21757=cljs.core.nth.call(null,inst_21756,0,null);var inst_21758=cljs.core.nth.call(null,inst_21756,1,null);var state_21845__$1=function(){var statearr_21848=state_21845;statearr_21848[8]=inst_21757;return statearr_21848}();if(cljs.core.truth_(inst_21758)){var statearr_21849_21935=state_21845__$1;statearr_21849_21935[1]=
22}else{var statearr_21850_21936=state_21845__$1;statearr_21850_21936[1]=23}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===27){var inst_21717=state_21845[9];var inst_21793=state_21845[10];var inst_21788=state_21845[11];var inst_21786=state_21845[12];var inst_21793__$1=cljs.core._nth.call(null,inst_21786,inst_21788);var inst_21794=cljs.core.async.put_BANG_.call(null,inst_21793__$1,inst_21717,done);var state_21845__$1=function(){var statearr_21851=state_21845;
statearr_21851[10]=inst_21793__$1;return statearr_21851}();if(cljs.core.truth_(inst_21794)){var statearr_21852_21937=state_21845__$1;statearr_21852_21937[1]=30}else{var statearr_21853_21938=state_21845__$1;statearr_21853_21938[1]=31}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===1){var state_21845__$1=state_21845;var statearr_21854_21939=state_21845__$1;statearr_21854_21939[2]=null;statearr_21854_21939[1]=2;return new cljs.core.Keyword(null,"recur","recur",
1122293407)}else if(state_val_21846===24){var inst_21746=state_21845[7];var inst_21763=state_21845[2];var inst_21764=cljs.core.next.call(null,inst_21746);var inst_21726=inst_21764;var inst_21727=null;var inst_21728=0;var inst_21729=0;var state_21845__$1=function(){var statearr_21855=state_21845;statearr_21855[13]=inst_21726;statearr_21855[14]=inst_21763;statearr_21855[15]=inst_21729;statearr_21855[16]=inst_21728;statearr_21855[17]=inst_21727;return statearr_21855}();var statearr_21856_21940=state_21845__$1;
statearr_21856_21940[2]=null;statearr_21856_21940[1]=8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===39){var state_21845__$1=state_21845;var statearr_21860_21941=state_21845__$1;statearr_21860_21941[2]=null;statearr_21860_21941[1]=41;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===4){var inst_21717=state_21845[9];var inst_21717__$1=state_21845[2];var inst_21718=inst_21717__$1==null;var state_21845__$1=function(){var statearr_21861=
state_21845;statearr_21861[9]=inst_21717__$1;return statearr_21861}();if(cljs.core.truth_(inst_21718)){var statearr_21862_21942=state_21845__$1;statearr_21862_21942[1]=5}else{var statearr_21863_21943=state_21845__$1;statearr_21863_21943[1]=6}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===15){var inst_21726=state_21845[13];var inst_21729=state_21845[15];var inst_21728=state_21845[16];var inst_21727=state_21845[17];var inst_21742=state_21845[2];var inst_21743=
inst_21729+1;var tmp21857=inst_21726;var tmp21858=inst_21728;var tmp21859=inst_21727;var inst_21726__$1=tmp21857;var inst_21727__$1=tmp21859;var inst_21728__$1=tmp21858;var inst_21729__$1=inst_21743;var state_21845__$1=function(){var statearr_21864=state_21845;statearr_21864[13]=inst_21726__$1;statearr_21864[18]=inst_21742;statearr_21864[15]=inst_21729__$1;statearr_21864[16]=inst_21728__$1;statearr_21864[17]=inst_21727__$1;return statearr_21864}();var statearr_21865_21944=state_21845__$1;statearr_21865_21944[2]=
null;statearr_21865_21944[1]=8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===21){var inst_21767=state_21845[2];var state_21845__$1=state_21845;var statearr_21869_21945=state_21845__$1;statearr_21869_21945[2]=inst_21767;statearr_21869_21945[1]=18;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===31){var inst_21793=state_21845[10];var inst_21797=cljs.core.swap_BANG_.call(null,dctr,cljs.core.dec);var inst_21798=cljs.core.async.untap_STAR_.call(null,
m,inst_21793);var state_21845__$1=function(){var statearr_21870=state_21845;statearr_21870[19]=inst_21797;return statearr_21870}();var statearr_21871_21946=state_21845__$1;statearr_21871_21946[2]=inst_21798;statearr_21871_21946[1]=32;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===32){var inst_21788=state_21845[11];var inst_21787=state_21845[20];var inst_21786=state_21845[12];var inst_21785=state_21845[21];var inst_21800=state_21845[2];var inst_21801=inst_21788+
1;var tmp21866=inst_21787;var tmp21867=inst_21786;var tmp21868=inst_21785;var inst_21785__$1=tmp21868;var inst_21786__$1=tmp21867;var inst_21787__$1=tmp21866;var inst_21788__$1=inst_21801;var state_21845__$1=function(){var statearr_21872=state_21845;statearr_21872[11]=inst_21788__$1;statearr_21872[20]=inst_21787__$1;statearr_21872[22]=inst_21800;statearr_21872[12]=inst_21786__$1;statearr_21872[21]=inst_21785__$1;return statearr_21872}();var statearr_21873_21947=state_21845__$1;statearr_21873_21947[2]=
null;statearr_21873_21947[1]=25;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===40){var inst_21813=state_21845[23];var inst_21817=cljs.core.swap_BANG_.call(null,dctr,cljs.core.dec);var inst_21818=cljs.core.async.untap_STAR_.call(null,m,inst_21813);var state_21845__$1=function(){var statearr_21874=state_21845;statearr_21874[24]=inst_21817;return statearr_21874}();var statearr_21875_21948=state_21845__$1;statearr_21875_21948[2]=inst_21818;statearr_21875_21948[1]=
41;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===33){var inst_21804=state_21845[25];var inst_21806=cljs.core.chunked_seq_QMARK_.call(null,inst_21804);var state_21845__$1=state_21845;if(inst_21806){var statearr_21876_21949=state_21845__$1;statearr_21876_21949[1]=36}else{var statearr_21877_21950=state_21845__$1;statearr_21877_21950[1]=37}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===13){var inst_21736=state_21845[26];
var inst_21739=cljs.core.async.close_BANG_.call(null,inst_21736);var state_21845__$1=state_21845;var statearr_21878_21951=state_21845__$1;statearr_21878_21951[2]=inst_21739;statearr_21878_21951[1]=15;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===22){var inst_21757=state_21845[8];var inst_21760=cljs.core.async.close_BANG_.call(null,inst_21757);var state_21845__$1=state_21845;var statearr_21879_21952=state_21845__$1;statearr_21879_21952[2]=inst_21760;statearr_21879_21952[1]=
24;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===36){var inst_21804=state_21845[25];var inst_21808=cljs.core.chunk_first.call(null,inst_21804);var inst_21809=cljs.core.chunk_rest.call(null,inst_21804);var inst_21810=cljs.core.count.call(null,inst_21808);var inst_21785=inst_21809;var inst_21786=inst_21808;var inst_21787=inst_21810;var inst_21788=0;var state_21845__$1=function(){var statearr_21880=state_21845;statearr_21880[11]=inst_21788;statearr_21880[20]=
inst_21787;statearr_21880[12]=inst_21786;statearr_21880[21]=inst_21785;return statearr_21880}();var statearr_21881_21953=state_21845__$1;statearr_21881_21953[2]=null;statearr_21881_21953[1]=25;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===41){var inst_21804=state_21845[25];var inst_21820=state_21845[2];var inst_21821=cljs.core.next.call(null,inst_21804);var inst_21785=inst_21821;var inst_21786=null;var inst_21787=0;var inst_21788=0;var state_21845__$1=function(){var statearr_21882=
state_21845;statearr_21882[27]=inst_21820;statearr_21882[11]=inst_21788;statearr_21882[20]=inst_21787;statearr_21882[12]=inst_21786;statearr_21882[21]=inst_21785;return statearr_21882}();var statearr_21883_21954=state_21845__$1;statearr_21883_21954[2]=null;statearr_21883_21954[1]=25;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===43){var state_21845__$1=state_21845;var statearr_21884_21955=state_21845__$1;statearr_21884_21955[2]=null;statearr_21884_21955[1]=
44;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===29){var inst_21829=state_21845[2];var state_21845__$1=state_21845;var statearr_21885_21956=state_21845__$1;statearr_21885_21956[2]=inst_21829;statearr_21885_21956[1]=26;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===44){var inst_21838=state_21845[2];var state_21845__$1=function(){var statearr_21886=state_21845;statearr_21886[28]=inst_21838;return statearr_21886}();var statearr_21887_21957=
state_21845__$1;statearr_21887_21957[2]=null;statearr_21887_21957[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===6){var inst_21777=state_21845[29];var inst_21776=cljs.core.deref.call(null,cs);var inst_21777__$1=cljs.core.keys.call(null,inst_21776);var inst_21778=cljs.core.count.call(null,inst_21777__$1);var inst_21779=cljs.core.reset_BANG_.call(null,dctr,inst_21778);var inst_21784=cljs.core.seq.call(null,inst_21777__$1);var inst_21785=inst_21784;var inst_21786=
null;var inst_21787=0;var inst_21788=0;var state_21845__$1=function(){var statearr_21888=state_21845;statearr_21888[29]=inst_21777__$1;statearr_21888[11]=inst_21788;statearr_21888[20]=inst_21787;statearr_21888[12]=inst_21786;statearr_21888[30]=inst_21779;statearr_21888[21]=inst_21785;return statearr_21888}();var statearr_21889_21958=state_21845__$1;statearr_21889_21958[2]=null;statearr_21889_21958[1]=25;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===28){var inst_21785=
state_21845[21];var inst_21804=state_21845[25];var inst_21804__$1=cljs.core.seq.call(null,inst_21785);var state_21845__$1=function(){var statearr_21890=state_21845;statearr_21890[25]=inst_21804__$1;return statearr_21890}();if(inst_21804__$1){var statearr_21891_21959=state_21845__$1;statearr_21891_21959[1]=33}else{var statearr_21892_21960=state_21845__$1;statearr_21892_21960[1]=34}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===25){var inst_21788=state_21845[11];
var inst_21787=state_21845[20];var inst_21790=inst_21788<inst_21787;var inst_21791=inst_21790;var state_21845__$1=state_21845;if(cljs.core.truth_(inst_21791)){var statearr_21893_21961=state_21845__$1;statearr_21893_21961[1]=27}else{var statearr_21894_21962=state_21845__$1;statearr_21894_21962[1]=28}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===34){var state_21845__$1=state_21845;var statearr_21895_21963=state_21845__$1;statearr_21895_21963[2]=null;statearr_21895_21963[1]=
35;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===17){var state_21845__$1=state_21845;var statearr_21896_21964=state_21845__$1;statearr_21896_21964[2]=null;statearr_21896_21964[1]=18;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===3){var inst_21843=state_21845[2];var state_21845__$1=state_21845;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_21845__$1,inst_21843)}else if(state_val_21846===12){var inst_21772=
state_21845[2];var state_21845__$1=state_21845;var statearr_21897_21965=state_21845__$1;statearr_21897_21965[2]=inst_21772;statearr_21897_21965[1]=9;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===2){var state_21845__$1=state_21845;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_21845__$1,4,ch)}else if(state_val_21846===23){var state_21845__$1=state_21845;var statearr_21898_21966=state_21845__$1;statearr_21898_21966[2]=null;statearr_21898_21966[1]=
24;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===35){var inst_21827=state_21845[2];var state_21845__$1=state_21845;var statearr_21899_21967=state_21845__$1;statearr_21899_21967[2]=inst_21827;statearr_21899_21967[1]=29;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===19){var inst_21746=state_21845[7];var inst_21750=cljs.core.chunk_first.call(null,inst_21746);var inst_21751=cljs.core.chunk_rest.call(null,inst_21746);var inst_21752=
cljs.core.count.call(null,inst_21750);var inst_21726=inst_21751;var inst_21727=inst_21750;var inst_21728=inst_21752;var inst_21729=0;var state_21845__$1=function(){var statearr_21900=state_21845;statearr_21900[13]=inst_21726;statearr_21900[15]=inst_21729;statearr_21900[16]=inst_21728;statearr_21900[17]=inst_21727;return statearr_21900}();var statearr_21901_21968=state_21845__$1;statearr_21901_21968[2]=null;statearr_21901_21968[1]=8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===
11){var inst_21746=state_21845[7];var inst_21726=state_21845[13];var inst_21746__$1=cljs.core.seq.call(null,inst_21726);var state_21845__$1=function(){var statearr_21902=state_21845;statearr_21902[7]=inst_21746__$1;return statearr_21902}();if(inst_21746__$1){var statearr_21903_21969=state_21845__$1;statearr_21903_21969[1]=16}else{var statearr_21904_21970=state_21845__$1;statearr_21904_21970[1]=17}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===9){var inst_21774=
state_21845[2];var state_21845__$1=state_21845;var statearr_21905_21971=state_21845__$1;statearr_21905_21971[2]=inst_21774;statearr_21905_21971[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===5){var inst_21724=cljs.core.deref.call(null,cs);var inst_21725=cljs.core.seq.call(null,inst_21724);var inst_21726=inst_21725;var inst_21727=null;var inst_21728=0;var inst_21729=0;var state_21845__$1=function(){var statearr_21906=state_21845;statearr_21906[13]=inst_21726;
statearr_21906[15]=inst_21729;statearr_21906[16]=inst_21728;statearr_21906[17]=inst_21727;return statearr_21906}();var statearr_21907_21972=state_21845__$1;statearr_21907_21972[2]=null;statearr_21907_21972[1]=8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===14){var state_21845__$1=state_21845;var statearr_21908_21973=state_21845__$1;statearr_21908_21973[2]=null;statearr_21908_21973[1]=15;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===
45){var inst_21835=state_21845[2];var state_21845__$1=state_21845;var statearr_21909_21974=state_21845__$1;statearr_21909_21974[2]=inst_21835;statearr_21909_21974[1]=44;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===26){var inst_21777=state_21845[29];var inst_21831=state_21845[2];var inst_21832=cljs.core.seq.call(null,inst_21777);var state_21845__$1=function(){var statearr_21910=state_21845;statearr_21910[31]=inst_21831;return statearr_21910}();if(inst_21832){var statearr_21911_21975=
state_21845__$1;statearr_21911_21975[1]=42}else{var statearr_21912_21976=state_21845__$1;statearr_21912_21976[1]=43}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===16){var inst_21746=state_21845[7];var inst_21748=cljs.core.chunked_seq_QMARK_.call(null,inst_21746);var state_21845__$1=state_21845;if(inst_21748){var statearr_21913_21977=state_21845__$1;statearr_21913_21977[1]=19}else{var statearr_21914_21978=state_21845__$1;statearr_21914_21978[1]=20}return new cljs.core.Keyword(null,
"recur","recur",1122293407)}else if(state_val_21846===38){var inst_21824=state_21845[2];var state_21845__$1=state_21845;var statearr_21915_21979=state_21845__$1;statearr_21915_21979[2]=inst_21824;statearr_21915_21979[1]=35;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===30){var state_21845__$1=state_21845;var statearr_21916_21980=state_21845__$1;statearr_21916_21980[2]=null;statearr_21916_21980[1]=32;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===
10){var inst_21729=state_21845[15];var inst_21727=state_21845[17];var inst_21735=cljs.core._nth.call(null,inst_21727,inst_21729);var inst_21736=cljs.core.nth.call(null,inst_21735,0,null);var inst_21737=cljs.core.nth.call(null,inst_21735,1,null);var state_21845__$1=function(){var statearr_21917=state_21845;statearr_21917[26]=inst_21736;return statearr_21917}();if(cljs.core.truth_(inst_21737)){var statearr_21918_21981=state_21845__$1;statearr_21918_21981[1]=13}else{var statearr_21919_21982=state_21845__$1;
statearr_21919_21982[1]=14}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===18){var inst_21770=state_21845[2];var state_21845__$1=state_21845;var statearr_21920_21983=state_21845__$1;statearr_21920_21983[2]=inst_21770;statearr_21920_21983[1]=12;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===42){var state_21845__$1=state_21845;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_21845__$1,45,dchan)}else if(state_val_21846===
37){var inst_21717=state_21845[9];var inst_21813=state_21845[23];var inst_21804=state_21845[25];var inst_21813__$1=cljs.core.first.call(null,inst_21804);var inst_21814=cljs.core.async.put_BANG_.call(null,inst_21813__$1,inst_21717,done);var state_21845__$1=function(){var statearr_21921=state_21845;statearr_21921[23]=inst_21813__$1;return statearr_21921}();if(cljs.core.truth_(inst_21814)){var statearr_21922_21984=state_21845__$1;statearr_21922_21984[1]=39}else{var statearr_21923_21985=state_21845__$1;
statearr_21923_21985[1]=40}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_21846===8){var inst_21729=state_21845[15];var inst_21728=state_21845[16];var inst_21731=inst_21729<inst_21728;var inst_21732=inst_21731;var state_21845__$1=state_21845;if(cljs.core.truth_(inst_21732)){var statearr_21924_21986=state_21845__$1;statearr_21924_21986[1]=10}else{var statearr_21925_21987=state_21845__$1;statearr_21925_21987[1]=11}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto___21933,
cs,m,dchan,dctr,done);return function(switch__8060__auto__,c__8124__auto___21933,cs,m,dchan,dctr,done){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_21929=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_21929[0]=state_machine__8061__auto__;statearr_21929[1]=1;return statearr_21929};var state_machine__8061__auto____1=
function(state_21845){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_21845);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e21930){if(e21930 instanceof Object){var ex__8064__auto__=e21930;var statearr_21931_21988=state_21845;statearr_21931_21988[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,
state_21845);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e21930;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__21989=state_21845;state_21845=G__21989;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_21845){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);
case 1:return state_machine__8061__auto____1.call(this,state_21845)}throw new Error("Invalid arity: "+arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto___21933,cs,m,dchan,dctr,done)}();var state__8126__auto__=function(){var statearr_21932=f__8125__auto__.call(null);statearr_21932[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=
c__8124__auto___21933;return statearr_21932}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto___21933,cs,m,dchan,dctr,done));return m};
cljs.core.async.tap=function(){var tap=null;var tap__2=function(mult,ch){return tap.call(null,mult,ch,true)};var tap__3=function(mult,ch,close_QMARK_){cljs.core.async.tap_STAR_.call(null,mult,ch,close_QMARK_);return ch};tap=function(mult,ch,close_QMARK_){switch(arguments.length){case 2:return tap__2.call(this,mult,ch);case 3:return tap__3.call(this,mult,ch,close_QMARK_)}throw new Error("Invalid arity: "+arguments.length);};tap.cljs$core$IFn$_invoke$arity$2=tap__2;tap.cljs$core$IFn$_invoke$arity$3=
tap__3;return tap}();cljs.core.async.untap=function untap(mult,ch){return cljs.core.async.untap_STAR_.call(null,mult,ch)};cljs.core.async.untap_all=function untap_all(mult){return cljs.core.async.untap_all_STAR_.call(null,mult)};cljs.core.async.Mix=function(){var obj21991={};return obj21991}();
cljs.core.async.admix_STAR_=function admix_STAR_(m,ch){if(function(){var and__3466__auto__=m;if(and__3466__auto__)return m.cljs$core$async$Mix$admix_STAR_$arity$2;else return and__3466__auto__}())return m.cljs$core$async$Mix$admix_STAR_$arity$2(m,ch);else{var x__4105__auto__=m==null?null:m;return function(){var or__3478__auto__=cljs.core.async.admix_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.admix_STAR_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"Mix.admix*",m);}}().call(null,m,ch)}};
cljs.core.async.unmix_STAR_=function unmix_STAR_(m,ch){if(function(){var and__3466__auto__=m;if(and__3466__auto__)return m.cljs$core$async$Mix$unmix_STAR_$arity$2;else return and__3466__auto__}())return m.cljs$core$async$Mix$unmix_STAR_$arity$2(m,ch);else{var x__4105__auto__=m==null?null:m;return function(){var or__3478__auto__=cljs.core.async.unmix_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.unmix_STAR_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"Mix.unmix*",m);}}().call(null,m,ch)}};
cljs.core.async.unmix_all_STAR_=function unmix_all_STAR_(m){if(function(){var and__3466__auto__=m;if(and__3466__auto__)return m.cljs$core$async$Mix$unmix_all_STAR_$arity$1;else return and__3466__auto__}())return m.cljs$core$async$Mix$unmix_all_STAR_$arity$1(m);else{var x__4105__auto__=m==null?null:m;return function(){var or__3478__auto__=cljs.core.async.unmix_all_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.unmix_all_STAR_["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Mix.unmix-all*",m);}}().call(null,m)}};
cljs.core.async.toggle_STAR_=function toggle_STAR_(m,state_map){if(function(){var and__3466__auto__=m;if(and__3466__auto__)return m.cljs$core$async$Mix$toggle_STAR_$arity$2;else return and__3466__auto__}())return m.cljs$core$async$Mix$toggle_STAR_$arity$2(m,state_map);else{var x__4105__auto__=m==null?null:m;return function(){var or__3478__auto__=cljs.core.async.toggle_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.toggle_STAR_["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Mix.toggle*",m);}}().call(null,m,state_map)}};
cljs.core.async.solo_mode_STAR_=function solo_mode_STAR_(m,mode){if(function(){var and__3466__auto__=m;if(and__3466__auto__)return m.cljs$core$async$Mix$solo_mode_STAR_$arity$2;else return and__3466__auto__}())return m.cljs$core$async$Mix$solo_mode_STAR_$arity$2(m,mode);else{var x__4105__auto__=m==null?null:m;return function(){var or__3478__auto__=cljs.core.async.solo_mode_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.solo_mode_STAR_["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Mix.solo-mode*",m);}}().call(null,m,mode)}};
cljs.core.async.mix=function mix(out){var cs=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var solo_modes=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pause","pause",1120344424),null,new cljs.core.Keyword(null,"mute","mute",1017267595),null],null),null);var attrs=cljs.core.conj.call(null,solo_modes,new cljs.core.Keyword(null,"solo","solo",1017440337));var solo_mode=cljs.core.atom.call(null,new cljs.core.Keyword(null,"mute",
"mute",1017267595));var change=cljs.core.async.chan.call(null);var changed=function(cs,solo_modes,attrs,solo_mode,change){return function(){return cljs.core.async.put_BANG_.call(null,change,true)}}(cs,solo_modes,attrs,solo_mode,change);var pick=function(cs,solo_modes,attrs,solo_mode,change,changed){return function(attr,chs){return cljs.core.reduce_kv.call(null,function(cs,solo_modes,attrs,solo_mode,change,changed){return function(ret,c,v){if(cljs.core.truth_(attr.call(null,v)))return cljs.core.conj.call(null,
ret,c);else return ret}}(cs,solo_modes,attrs,solo_mode,change,changed),cljs.core.PersistentHashSet.EMPTY,chs)}}(cs,solo_modes,attrs,solo_mode,change,changed);var calc_state=function(cs,solo_modes,attrs,solo_mode,change,changed,pick){return function(){var chs=cljs.core.deref.call(null,cs);var mode=cljs.core.deref.call(null,solo_mode);var solos=pick.call(null,new cljs.core.Keyword(null,"solo","solo",1017440337),chs);var pauses=pick.call(null,new cljs.core.Keyword(null,"pause","pause",1120344424),chs);
return new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"solos","solos",1123523302),solos,new cljs.core.Keyword(null,"mutes","mutes",1118168300),pick.call(null,new cljs.core.Keyword(null,"mute","mute",1017267595),chs),new cljs.core.Keyword(null,"reads","reads",1122290959),cljs.core.conj.call(null,cljs.core._EQ_.call(null,mode,new cljs.core.Keyword(null,"pause","pause",1120344424))&&!cljs.core.empty_QMARK_.call(null,solos)?cljs.core.vec.call(null,solos):cljs.core.vec.call(null,cljs.core.remove.call(null,
pauses,cljs.core.keys.call(null,chs))),change)],null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick);var m=function(){if(typeof cljs.core.async.t22111!=="undefined");else{cljs.core.async.t22111=function(change,mix,solo_mode,pick,cs,calc_state,out,changed,solo_modes,attrs,meta22112){this.change=change;this.mix=mix;this.solo_mode=solo_mode;this.pick=pick;this.cs=cs;this.calc_state=calc_state;this.out=out;this.changed=changed;this.solo_modes=solo_modes;this.attrs=attrs;this.meta22112=meta22112;
this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393216};cljs.core.async.t22111.cljs$lang$type=true;cljs.core.async.t22111.cljs$lang$ctorStr="cljs.core.async/t22111";cljs.core.async.t22111.cljs$lang$ctorPrWriter=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.core.async/t22111")}}(cs,solo_modes,attrs,solo_mode,
change,changed,pick,calc_state);cljs.core.async.t22111.prototype.cljs$core$async$Mix$=true;cljs.core.async.t22111.prototype.cljs$core$async$Mix$admix_STAR_$arity$2=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_,ch){var self__=this;var ___$1=this;cljs.core.swap_BANG_.call(null,self__.cs,cljs.core.assoc,ch,cljs.core.PersistentArrayMap.EMPTY);return self__.changed.call(null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t22111.prototype.cljs$core$async$Mix$unmix_STAR_$arity$2=
function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_,ch){var self__=this;var ___$1=this;cljs.core.swap_BANG_.call(null,self__.cs,cljs.core.dissoc,ch);return self__.changed.call(null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t22111.prototype.cljs$core$async$Mix$unmix_all_STAR_$arity$1=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_){var self__=this;var ___$1=this;cljs.core.reset_BANG_.call(null,
self__.cs,cljs.core.PersistentArrayMap.EMPTY);return self__.changed.call(null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t22111.prototype.cljs$core$async$Mix$toggle_STAR_$arity$2=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_,state_map){var self__=this;var ___$1=this;cljs.core.swap_BANG_.call(null,self__.cs,cljs.core.partial.call(null,cljs.core.merge_with,cljs.core.merge),state_map);return self__.changed.call(null)}}(cs,
solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t22111.prototype.cljs$core$async$Mix$solo_mode_STAR_$arity$2=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_,mode){var self__=this;var ___$1=this;if(cljs.core.truth_(self__.solo_modes.call(null,mode)));else throw new Error([cljs.core.str("Assert failed: "),cljs.core.str([cljs.core.str("mode must be one of: "),cljs.core.str(self__.solo_modes)].join("")),cljs.core.str("\n"),cljs.core.str(cljs.core.pr_str.call(null,
cljs.core.list(new cljs.core.Symbol(null,"solo-modes","solo-modes",-1162732933,null),new cljs.core.Symbol(null,"mode","mode",-1637174436,null))))].join(""));cljs.core.reset_BANG_.call(null,self__.solo_mode,mode);return self__.changed.call(null)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t22111.prototype.cljs$core$async$Mux$=true;cljs.core.async.t22111.prototype.cljs$core$async$Mux$muxch_STAR_$arity$1=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_){var self__=
this;var ___$1=this;return self__.out}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t22111.prototype.cljs$core$IMeta$_meta$arity$1=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function(_22113){var self__=this;var _22113__$1=this;return self__.meta22112}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.t22111.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(cs,solo_modes,attrs,solo_mode,change,
changed,pick,calc_state){return function(_22113,meta22112__$1){var self__=this;var _22113__$1=this;return new cljs.core.async.t22111(self__.change,self__.mix,self__.solo_mode,self__.pick,self__.cs,self__.calc_state,self__.out,self__.changed,self__.solo_modes,self__.attrs,meta22112__$1)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state);cljs.core.async.__GT_t22111=function(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state){return function __GT_t22111(change__$1,mix__$1,solo_mode__$1,
pick__$1,cs__$1,calc_state__$1,out__$1,changed__$1,solo_modes__$1,attrs__$1,meta22112){return new cljs.core.async.t22111(change__$1,mix__$1,solo_mode__$1,pick__$1,cs__$1,calc_state__$1,out__$1,changed__$1,solo_modes__$1,attrs__$1,meta22112)}}(cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state)}return new cljs.core.async.t22111(change,mix,solo_mode,pick,cs,calc_state,out,changed,solo_modes,attrs,null)}();var c__8124__auto___22230=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,
function(c__8124__auto___22230,cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state,m){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto___22230,cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state,m){return function(state_22183){var state_val_22184=state_22183[1];if(state_val_22184===7){var inst_22127=state_22183[7];var inst_22132=cljs.core.apply.call(null,cljs.core.hash_map,inst_22127);var state_22183__$1=state_22183;var statearr_22185_22231=
state_22183__$1;statearr_22185_22231[2]=inst_22132;statearr_22185_22231[1]=9;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===20){var inst_22142=state_22183[8];var state_22183__$1=state_22183;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_22183__$1,23,out,inst_22142)}else if(state_val_22184===1){var inst_22117=state_22183[9];var inst_22117__$1=calc_state.call(null);var inst_22118=cljs.core.seq_QMARK_.call(null,inst_22117__$1);var state_22183__$1=
function(){var statearr_22186=state_22183;statearr_22186[9]=inst_22117__$1;return statearr_22186}();if(inst_22118){var statearr_22187_22232=state_22183__$1;statearr_22187_22232[1]=2}else{var statearr_22188_22233=state_22183__$1;statearr_22188_22233[1]=3}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===24){var inst_22135=state_22183[10];var inst_22127=inst_22135;var state_22183__$1=function(){var statearr_22189=state_22183;statearr_22189[7]=inst_22127;return statearr_22189}();
var statearr_22190_22234=state_22183__$1;statearr_22190_22234[2]=null;statearr_22190_22234[1]=5;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===4){var inst_22117=state_22183[9];var inst_22123=state_22183[2];var inst_22124=cljs.core.get.call(null,inst_22123,new cljs.core.Keyword(null,"reads","reads",1122290959));var inst_22125=cljs.core.get.call(null,inst_22123,new cljs.core.Keyword(null,"mutes","mutes",1118168300));var inst_22126=cljs.core.get.call(null,inst_22123,
new cljs.core.Keyword(null,"solos","solos",1123523302));var inst_22127=inst_22117;var state_22183__$1=function(){var statearr_22191=state_22183;statearr_22191[11]=inst_22124;statearr_22191[12]=inst_22125;statearr_22191[7]=inst_22127;statearr_22191[13]=inst_22126;return statearr_22191}();var statearr_22192_22235=state_22183__$1;statearr_22192_22235[2]=null;statearr_22192_22235[1]=5;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===15){var state_22183__$1=state_22183;
var statearr_22193_22236=state_22183__$1;statearr_22193_22236[2]=null;statearr_22193_22236[1]=16;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===21){var inst_22135=state_22183[10];var inst_22127=inst_22135;var state_22183__$1=function(){var statearr_22194=state_22183;statearr_22194[7]=inst_22127;return statearr_22194}();var statearr_22195_22237=state_22183__$1;statearr_22195_22237[2]=null;statearr_22195_22237[1]=5;return new cljs.core.Keyword(null,"recur","recur",
1122293407)}else if(state_val_22184===13){var inst_22179=state_22183[2];var state_22183__$1=state_22183;var statearr_22196_22238=state_22183__$1;statearr_22196_22238[2]=inst_22179;statearr_22196_22238[1]=6;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===22){var inst_22177=state_22183[2];var state_22183__$1=state_22183;var statearr_22197_22239=state_22183__$1;statearr_22197_22239[2]=inst_22177;statearr_22197_22239[1]=13;return new cljs.core.Keyword(null,"recur",
"recur",1122293407)}else if(state_val_22184===6){var inst_22181=state_22183[2];var state_22183__$1=state_22183;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_22183__$1,inst_22181)}else if(state_val_22184===25){var state_22183__$1=state_22183;var statearr_22198_22240=state_22183__$1;statearr_22198_22240[2]=null;statearr_22198_22240[1]=26;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===17){var inst_22157=state_22183[14];var state_22183__$1=
state_22183;var statearr_22199_22241=state_22183__$1;statearr_22199_22241[2]=inst_22157;statearr_22199_22241[1]=19;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===3){var inst_22117=state_22183[9];var state_22183__$1=state_22183;var statearr_22200_22242=state_22183__$1;statearr_22200_22242[2]=inst_22117;statearr_22200_22242[1]=4;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===12){var inst_22143=state_22183[15];var inst_22138=
state_22183[16];var inst_22157=state_22183[14];var inst_22157__$1=inst_22138.call(null,inst_22143);var state_22183__$1=function(){var statearr_22201=state_22183;statearr_22201[14]=inst_22157__$1;return statearr_22201}();if(cljs.core.truth_(inst_22157__$1)){var statearr_22202_22243=state_22183__$1;statearr_22202_22243[1]=17}else{var statearr_22203_22244=state_22183__$1;statearr_22203_22244[1]=18}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===2){var inst_22117=
state_22183[9];var inst_22120=cljs.core.apply.call(null,cljs.core.hash_map,inst_22117);var state_22183__$1=state_22183;var statearr_22204_22245=state_22183__$1;statearr_22204_22245[2]=inst_22120;statearr_22204_22245[1]=4;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===23){var inst_22168=state_22183[2];var state_22183__$1=state_22183;if(cljs.core.truth_(inst_22168)){var statearr_22205_22246=state_22183__$1;statearr_22205_22246[1]=24}else{var statearr_22206_22247=
state_22183__$1;statearr_22206_22247[1]=25}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===19){var inst_22165=state_22183[2];var state_22183__$1=state_22183;if(cljs.core.truth_(inst_22165)){var statearr_22207_22248=state_22183__$1;statearr_22207_22248[1]=20}else{var statearr_22208_22249=state_22183__$1;statearr_22208_22249[1]=21}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===11){var inst_22142=state_22183[8];var inst_22148=
inst_22142==null;var state_22183__$1=state_22183;if(cljs.core.truth_(inst_22148)){var statearr_22209_22250=state_22183__$1;statearr_22209_22250[1]=14}else{var statearr_22210_22251=state_22183__$1;statearr_22210_22251[1]=15}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===9){var inst_22135=state_22183[10];var inst_22135__$1=state_22183[2];var inst_22136=cljs.core.get.call(null,inst_22135__$1,new cljs.core.Keyword(null,"reads","reads",1122290959));var inst_22137=
cljs.core.get.call(null,inst_22135__$1,new cljs.core.Keyword(null,"mutes","mutes",1118168300));var inst_22138=cljs.core.get.call(null,inst_22135__$1,new cljs.core.Keyword(null,"solos","solos",1123523302));var state_22183__$1=function(){var statearr_22211=state_22183;statearr_22211[10]=inst_22135__$1;statearr_22211[16]=inst_22138;statearr_22211[17]=inst_22137;return statearr_22211}();return cljs.core.async.impl.ioc_helpers.ioc_alts_BANG_.call(null,state_22183__$1,10,inst_22136)}else if(state_val_22184===
5){var inst_22127=state_22183[7];var inst_22130=cljs.core.seq_QMARK_.call(null,inst_22127);var state_22183__$1=state_22183;if(inst_22130){var statearr_22212_22252=state_22183__$1;statearr_22212_22252[1]=7}else{var statearr_22213_22253=state_22183__$1;statearr_22213_22253[1]=8}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===14){var inst_22143=state_22183[15];var inst_22150=cljs.core.swap_BANG_.call(null,cs,cljs.core.dissoc,inst_22143);var state_22183__$1=state_22183;
var statearr_22214_22254=state_22183__$1;statearr_22214_22254[2]=inst_22150;statearr_22214_22254[1]=16;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===26){var inst_22173=state_22183[2];var state_22183__$1=state_22183;var statearr_22215_22255=state_22183__$1;statearr_22215_22255[2]=inst_22173;statearr_22215_22255[1]=22;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===16){var inst_22153=state_22183[2];var inst_22154=calc_state.call(null);
var inst_22127=inst_22154;var state_22183__$1=function(){var statearr_22216=state_22183;statearr_22216[7]=inst_22127;statearr_22216[18]=inst_22153;return statearr_22216}();var statearr_22217_22256=state_22183__$1;statearr_22217_22256[2]=null;statearr_22217_22256[1]=5;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===10){var inst_22143=state_22183[15];var inst_22142=state_22183[8];var inst_22141=state_22183[2];var inst_22142__$1=cljs.core.nth.call(null,inst_22141,
0,null);var inst_22143__$1=cljs.core.nth.call(null,inst_22141,1,null);var inst_22144=inst_22142__$1==null;var inst_22145=cljs.core._EQ_.call(null,inst_22143__$1,change);var inst_22146=inst_22144||inst_22145;var state_22183__$1=function(){var statearr_22218=state_22183;statearr_22218[15]=inst_22143__$1;statearr_22218[8]=inst_22142__$1;return statearr_22218}();if(cljs.core.truth_(inst_22146)){var statearr_22219_22257=state_22183__$1;statearr_22219_22257[1]=11}else{var statearr_22220_22258=state_22183__$1;
statearr_22220_22258[1]=12}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===18){var inst_22143=state_22183[15];var inst_22138=state_22183[16];var inst_22137=state_22183[17];var inst_22160=cljs.core.empty_QMARK_.call(null,inst_22138);var inst_22161=inst_22137.call(null,inst_22143);var inst_22162=cljs.core.not.call(null,inst_22161);var inst_22163=inst_22160&&inst_22162;var state_22183__$1=state_22183;var statearr_22221_22259=state_22183__$1;statearr_22221_22259[2]=
inst_22163;statearr_22221_22259[1]=19;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22184===8){var inst_22127=state_22183[7];var state_22183__$1=state_22183;var statearr_22222_22260=state_22183__$1;statearr_22222_22260[2]=inst_22127;statearr_22222_22260[1]=9;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto___22230,cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state,m);return function(switch__8060__auto__,c__8124__auto___22230,
cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state,m){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_22226=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_22226[0]=state_machine__8061__auto__;statearr_22226[1]=1;return statearr_22226};var state_machine__8061__auto____1=function(state_22183){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=
switch__8060__auto__.call(null,state_22183);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e22227){if(e22227 instanceof Object){var ex__8064__auto__=e22227;var statearr_22228_22261=state_22183;statearr_22228_22261[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_22183);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,
"else","else",1017020587))throw e22227;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__22262=state_22183;state_22183=G__22262;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_22183){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_22183)}throw new Error("Invalid arity: "+
arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto___22230,cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state,m)}();var state__8126__auto__=function(){var statearr_22229=f__8125__auto__.call(null);statearr_22229[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto___22230;
return statearr_22229}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto___22230,cs,solo_modes,attrs,solo_mode,change,changed,pick,calc_state,m));return m};cljs.core.async.admix=function admix(mix,ch){return cljs.core.async.admix_STAR_.call(null,mix,ch)};cljs.core.async.unmix=function unmix(mix,ch){return cljs.core.async.unmix_STAR_.call(null,mix,ch)};
cljs.core.async.unmix_all=function unmix_all(mix){return cljs.core.async.unmix_all_STAR_.call(null,mix)};cljs.core.async.toggle=function toggle(mix,state_map){return cljs.core.async.toggle_STAR_.call(null,mix,state_map)};cljs.core.async.solo_mode=function solo_mode(mix,mode){return cljs.core.async.solo_mode_STAR_.call(null,mix,mode)};cljs.core.async.Pub=function(){var obj22264={};return obj22264}();
cljs.core.async.sub_STAR_=function sub_STAR_(p,v,ch,close_QMARK_){if(function(){var and__3466__auto__=p;if(and__3466__auto__)return p.cljs$core$async$Pub$sub_STAR_$arity$4;else return and__3466__auto__}())return p.cljs$core$async$Pub$sub_STAR_$arity$4(p,v,ch,close_QMARK_);else{var x__4105__auto__=p==null?null:p;return function(){var or__3478__auto__=cljs.core.async.sub_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.sub_STAR_["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Pub.sub*",p);}}().call(null,p,v,ch,close_QMARK_)}};
cljs.core.async.unsub_STAR_=function unsub_STAR_(p,v,ch){if(function(){var and__3466__auto__=p;if(and__3466__auto__)return p.cljs$core$async$Pub$unsub_STAR_$arity$3;else return and__3466__auto__}())return p.cljs$core$async$Pub$unsub_STAR_$arity$3(p,v,ch);else{var x__4105__auto__=p==null?null:p;return function(){var or__3478__auto__=cljs.core.async.unsub_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.unsub_STAR_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;
else throw cljs.core.missing_protocol.call(null,"Pub.unsub*",p);}}().call(null,p,v,ch)}};
cljs.core.async.unsub_all_STAR_=function(){var unsub_all_STAR_=null;var unsub_all_STAR___1=function(p){if(function(){var and__3466__auto__=p;if(and__3466__auto__)return p.cljs$core$async$Pub$unsub_all_STAR_$arity$1;else return and__3466__auto__}())return p.cljs$core$async$Pub$unsub_all_STAR_$arity$1(p);else{var x__4105__auto__=p==null?null:p;return function(){var or__3478__auto__=cljs.core.async.unsub_all_STAR_[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=
cljs.core.async.unsub_all_STAR_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Pub.unsub-all*",p);}}().call(null,p)}};var unsub_all_STAR___2=function(p,v){if(function(){var and__3466__auto__=p;if(and__3466__auto__)return p.cljs$core$async$Pub$unsub_all_STAR_$arity$2;else return and__3466__auto__}())return p.cljs$core$async$Pub$unsub_all_STAR_$arity$2(p,v);else{var x__4105__auto__=p==null?null:p;return function(){var or__3478__auto__=cljs.core.async.unsub_all_STAR_[goog.typeOf(x__4105__auto__)];
if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.core.async.unsub_all_STAR_["_"];if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"Pub.unsub-all*",p);}}().call(null,p,v)}};unsub_all_STAR_=function(p,v){switch(arguments.length){case 1:return unsub_all_STAR___1.call(this,p);case 2:return unsub_all_STAR___2.call(this,p,v)}throw new Error("Invalid arity: "+arguments.length);};unsub_all_STAR_.cljs$core$IFn$_invoke$arity$1=
unsub_all_STAR___1;unsub_all_STAR_.cljs$core$IFn$_invoke$arity$2=unsub_all_STAR___2;return unsub_all_STAR_}();
cljs.core.async.pub=function(){var pub=null;var pub__2=function(ch,topic_fn){return pub.call(null,ch,topic_fn,cljs.core.constantly.call(null,null))};var pub__3=function(ch,topic_fn,buf_fn){var mults=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var ensure_mult=function(mults){return function(topic){var or__3478__auto__=cljs.core.get.call(null,cljs.core.deref.call(null,mults),topic);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return cljs.core.get.call(null,cljs.core.swap_BANG_.call(null,
mults,function(or__3478__auto__,mults){return function(p1__22265_SHARP_){if(cljs.core.truth_(p1__22265_SHARP_.call(null,topic)))return p1__22265_SHARP_;else return cljs.core.assoc.call(null,p1__22265_SHARP_,topic,cljs.core.async.mult.call(null,cljs.core.async.chan.call(null,buf_fn.call(null,topic))))}}(or__3478__auto__,mults)),topic)}}(mults);var p=function(){if(typeof cljs.core.async.t22380!=="undefined");else{cljs.core.async.t22380=function(ensure_mult,mults,buf_fn,topic_fn,ch,pub,meta22381){this.ensure_mult=
ensure_mult;this.mults=mults;this.buf_fn=buf_fn;this.topic_fn=topic_fn;this.ch=ch;this.pub=pub;this.meta22381=meta22381;this.cljs$lang$protocol_mask$partition1$=0;this.cljs$lang$protocol_mask$partition0$=393216};cljs.core.async.t22380.cljs$lang$type=true;cljs.core.async.t22380.cljs$lang$ctorStr="cljs.core.async/t22380";cljs.core.async.t22380.cljs$lang$ctorPrWriter=function(mults,ensure_mult){return function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,
writer__4046__auto__,"cljs.core.async/t22380")}}(mults,ensure_mult);cljs.core.async.t22380.prototype.cljs$core$async$Pub$=true;cljs.core.async.t22380.prototype.cljs$core$async$Pub$sub_STAR_$arity$4=function(mults,ensure_mult){return function(p,topic,ch__$2,close_QMARK_){var self__=this;var p__$1=this;var m=self__.ensure_mult.call(null,topic);return cljs.core.async.tap.call(null,m,ch__$2,close_QMARK_)}}(mults,ensure_mult);cljs.core.async.t22380.prototype.cljs$core$async$Pub$unsub_STAR_$arity$3=function(mults,
ensure_mult){return function(p,topic,ch__$2){var self__=this;var p__$1=this;var temp__4126__auto__=cljs.core.get.call(null,cljs.core.deref.call(null,self__.mults),topic);if(cljs.core.truth_(temp__4126__auto__)){var m=temp__4126__auto__;return cljs.core.async.untap.call(null,m,ch__$2)}else return null}}(mults,ensure_mult);cljs.core.async.t22380.prototype.cljs$core$async$Pub$unsub_all_STAR_$arity$1=function(mults,ensure_mult){return function(_){var self__=this;var ___$1=this;return cljs.core.reset_BANG_.call(null,
self__.mults,cljs.core.PersistentArrayMap.EMPTY)}}(mults,ensure_mult);cljs.core.async.t22380.prototype.cljs$core$async$Pub$unsub_all_STAR_$arity$2=function(mults,ensure_mult){return function(_,topic){var self__=this;var ___$1=this;return cljs.core.swap_BANG_.call(null,self__.mults,cljs.core.dissoc,topic)}}(mults,ensure_mult);cljs.core.async.t22380.prototype.cljs$core$async$Mux$=true;cljs.core.async.t22380.prototype.cljs$core$async$Mux$muxch_STAR_$arity$1=function(mults,ensure_mult){return function(_){var self__=
this;var ___$1=this;return self__.ch}}(mults,ensure_mult);cljs.core.async.t22380.prototype.cljs$core$IMeta$_meta$arity$1=function(mults,ensure_mult){return function(_22382){var self__=this;var _22382__$1=this;return self__.meta22381}}(mults,ensure_mult);cljs.core.async.t22380.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(mults,ensure_mult){return function(_22382,meta22381__$1){var self__=this;var _22382__$1=this;return new cljs.core.async.t22380(self__.ensure_mult,self__.mults,self__.buf_fn,
self__.topic_fn,self__.ch,self__.pub,meta22381__$1)}}(mults,ensure_mult);cljs.core.async.__GT_t22380=function(mults,ensure_mult){return function __GT_t22380(ensure_mult__$1,mults__$1,buf_fn__$1,topic_fn__$1,ch__$1,pub__$1,meta22381){return new cljs.core.async.t22380(ensure_mult__$1,mults__$1,buf_fn__$1,topic_fn__$1,ch__$1,pub__$1,meta22381)}}(mults,ensure_mult)}return new cljs.core.async.t22380(ensure_mult,mults,buf_fn,topic_fn,ch,pub,null)}();var c__8124__auto___22494=cljs.core.async.chan.call(null,
1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto___22494,mults,ensure_mult,p){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto___22494,mults,ensure_mult,p){return function(state_22450){var state_val_22451=state_22450[1];if(state_val_22451===7){var inst_22446=state_22450[2];var state_22450__$1=state_22450;var statearr_22452_22495=state_22450__$1;statearr_22452_22495[2]=inst_22446;statearr_22452_22495[1]=3;return new cljs.core.Keyword(null,
"recur","recur",1122293407)}else if(state_val_22451===20){var state_22450__$1=state_22450;var statearr_22453_22496=state_22450__$1;statearr_22453_22496[2]=null;statearr_22453_22496[1]=22;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===1){var state_22450__$1=state_22450;var statearr_22454_22497=state_22450__$1;statearr_22454_22497[2]=null;statearr_22454_22497[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===4){var inst_22385=
state_22450[7];var inst_22385__$1=state_22450[2];var inst_22386=inst_22385__$1==null;var state_22450__$1=function(){var statearr_22455=state_22450;statearr_22455[7]=inst_22385__$1;return statearr_22455}();if(cljs.core.truth_(inst_22386)){var statearr_22456_22498=state_22450__$1;statearr_22456_22498[1]=5}else{var statearr_22457_22499=state_22450__$1;statearr_22457_22499[1]=6}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===15){var inst_22427=state_22450[2];var state_22450__$1=
state_22450;var statearr_22458_22500=state_22450__$1;statearr_22458_22500[2]=inst_22427;statearr_22458_22500[1]=12;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===21){var inst_22433=state_22450[8];var inst_22441=cljs.core.swap_BANG_.call(null,mults,cljs.core.dissoc,inst_22433);var state_22450__$1=state_22450;var statearr_22459_22501=state_22450__$1;statearr_22459_22501[2]=inst_22441;statearr_22459_22501[1]=22;return new cljs.core.Keyword(null,"recur","recur",
1122293407)}else if(state_val_22451===13){var inst_22409=state_22450[9];var inst_22411=cljs.core.chunked_seq_QMARK_.call(null,inst_22409);var state_22450__$1=state_22450;if(inst_22411){var statearr_22460_22502=state_22450__$1;statearr_22460_22502[1]=16}else{var statearr_22461_22503=state_22450__$1;statearr_22461_22503[1]=17}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===22){var inst_22443=state_22450[2];var state_22450__$1=function(){var statearr_22462=state_22450;
statearr_22462[10]=inst_22443;return statearr_22462}();var statearr_22463_22504=state_22450__$1;statearr_22463_22504[2]=null;statearr_22463_22504[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===6){var inst_22385=state_22450[7];var inst_22433=state_22450[8];var inst_22433__$1=topic_fn.call(null,inst_22385);var inst_22434=cljs.core.deref.call(null,mults);var inst_22435=cljs.core.get.call(null,inst_22434,inst_22433__$1);var inst_22436=cljs.core.async.muxch_STAR_.call(null,
inst_22435);var state_22450__$1=function(){var statearr_22464=state_22450;statearr_22464[8]=inst_22433__$1;return statearr_22464}();return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_22450__$1,19,inst_22436,inst_22385)}else if(state_val_22451===17){var inst_22409=state_22450[9];var inst_22418=cljs.core.first.call(null,inst_22409);var inst_22419=cljs.core.async.muxch_STAR_.call(null,inst_22418);var inst_22420=cljs.core.async.close_BANG_.call(null,inst_22419);var inst_22421=cljs.core.next.call(null,
inst_22409);var inst_22395=inst_22421;var inst_22396=null;var inst_22397=0;var inst_22398=0;var state_22450__$1=function(){var statearr_22465=state_22450;statearr_22465[11]=inst_22396;statearr_22465[12]=inst_22398;statearr_22465[13]=inst_22397;statearr_22465[14]=inst_22395;statearr_22465[15]=inst_22420;return statearr_22465}();var statearr_22466_22505=state_22450__$1;statearr_22466_22505[2]=null;statearr_22466_22505[1]=8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===
3){var inst_22448=state_22450[2];var state_22450__$1=state_22450;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_22450__$1,inst_22448)}else if(state_val_22451===12){var inst_22429=state_22450[2];var state_22450__$1=state_22450;var statearr_22467_22506=state_22450__$1;statearr_22467_22506[2]=inst_22429;statearr_22467_22506[1]=9;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===2){var state_22450__$1=state_22450;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_22450__$1,4,ch)}else if(state_val_22451===19){var inst_22438=state_22450[2];var state_22450__$1=state_22450;if(cljs.core.truth_(inst_22438)){var statearr_22468_22507=state_22450__$1;statearr_22468_22507[1]=20}else{var statearr_22469_22508=state_22450__$1;statearr_22469_22508[1]=21}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===11){var inst_22395=state_22450[14];var inst_22409=state_22450[9];var inst_22409__$1=cljs.core.seq.call(null,inst_22395);var state_22450__$1=
function(){var statearr_22470=state_22450;statearr_22470[9]=inst_22409__$1;return statearr_22470}();if(inst_22409__$1){var statearr_22471_22509=state_22450__$1;statearr_22471_22509[1]=13}else{var statearr_22472_22510=state_22450__$1;statearr_22472_22510[1]=14}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===9){var inst_22431=state_22450[2];var state_22450__$1=state_22450;var statearr_22473_22511=state_22450__$1;statearr_22473_22511[2]=inst_22431;statearr_22473_22511[1]=
7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===5){var inst_22392=cljs.core.deref.call(null,mults);var inst_22393=cljs.core.vals.call(null,inst_22392);var inst_22394=cljs.core.seq.call(null,inst_22393);var inst_22395=inst_22394;var inst_22396=null;var inst_22397=0;var inst_22398=0;var state_22450__$1=function(){var statearr_22474=state_22450;statearr_22474[11]=inst_22396;statearr_22474[12]=inst_22398;statearr_22474[13]=inst_22397;statearr_22474[14]=inst_22395;
return statearr_22474}();var statearr_22475_22512=state_22450__$1;statearr_22475_22512[2]=null;statearr_22475_22512[1]=8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===14){var state_22450__$1=state_22450;var statearr_22479_22513=state_22450__$1;statearr_22479_22513[2]=null;statearr_22479_22513[1]=15;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===16){var inst_22409=state_22450[9];var inst_22413=cljs.core.chunk_first.call(null,
inst_22409);var inst_22414=cljs.core.chunk_rest.call(null,inst_22409);var inst_22415=cljs.core.count.call(null,inst_22413);var inst_22395=inst_22414;var inst_22396=inst_22413;var inst_22397=inst_22415;var inst_22398=0;var state_22450__$1=function(){var statearr_22480=state_22450;statearr_22480[11]=inst_22396;statearr_22480[12]=inst_22398;statearr_22480[13]=inst_22397;statearr_22480[14]=inst_22395;return statearr_22480}();var statearr_22481_22514=state_22450__$1;statearr_22481_22514[2]=null;statearr_22481_22514[1]=
8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===10){var inst_22396=state_22450[11];var inst_22398=state_22450[12];var inst_22397=state_22450[13];var inst_22395=state_22450[14];var inst_22403=cljs.core._nth.call(null,inst_22396,inst_22398);var inst_22404=cljs.core.async.muxch_STAR_.call(null,inst_22403);var inst_22405=cljs.core.async.close_BANG_.call(null,inst_22404);var inst_22406=inst_22398+1;var tmp22476=inst_22396;var tmp22477=inst_22397;var tmp22478=inst_22395;
var inst_22395__$1=tmp22478;var inst_22396__$1=tmp22476;var inst_22397__$1=tmp22477;var inst_22398__$1=inst_22406;var state_22450__$1=function(){var statearr_22482=state_22450;statearr_22482[11]=inst_22396__$1;statearr_22482[16]=inst_22405;statearr_22482[12]=inst_22398__$1;statearr_22482[13]=inst_22397__$1;statearr_22482[14]=inst_22395__$1;return statearr_22482}();var statearr_22483_22515=state_22450__$1;statearr_22483_22515[2]=null;statearr_22483_22515[1]=8;return new cljs.core.Keyword(null,"recur",
"recur",1122293407)}else if(state_val_22451===18){var inst_22424=state_22450[2];var state_22450__$1=state_22450;var statearr_22484_22516=state_22450__$1;statearr_22484_22516[2]=inst_22424;statearr_22484_22516[1]=15;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22451===8){var inst_22398=state_22450[12];var inst_22397=state_22450[13];var inst_22400=inst_22398<inst_22397;var inst_22401=inst_22400;var state_22450__$1=state_22450;if(cljs.core.truth_(inst_22401)){var statearr_22485_22517=
state_22450__$1;statearr_22485_22517[1]=10}else{var statearr_22486_22518=state_22450__$1;statearr_22486_22518[1]=11}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto___22494,mults,ensure_mult,p);return function(switch__8060__auto__,c__8124__auto___22494,mults,ensure_mult,p){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_22490=[null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null];statearr_22490[0]=state_machine__8061__auto__;statearr_22490[1]=1;return statearr_22490};var state_machine__8061__auto____1=function(state_22450){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_22450);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e22491){if(e22491 instanceof
Object){var ex__8064__auto__=e22491;var statearr_22492_22519=state_22450;statearr_22492_22519[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_22450);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e22491;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__22520=state_22450;state_22450=
G__22520;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_22450){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_22450)}throw new Error("Invalid arity: "+arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,
c__8124__auto___22494,mults,ensure_mult,p)}();var state__8126__auto__=function(){var statearr_22493=f__8125__auto__.call(null);statearr_22493[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto___22494;return statearr_22493}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto___22494,mults,ensure_mult,p));return p};pub=function(ch,topic_fn,buf_fn){switch(arguments.length){case 2:return pub__2.call(this,ch,topic_fn);case 3:return pub__3.call(this,
ch,topic_fn,buf_fn)}throw new Error("Invalid arity: "+arguments.length);};pub.cljs$core$IFn$_invoke$arity$2=pub__2;pub.cljs$core$IFn$_invoke$arity$3=pub__3;return pub}();
cljs.core.async.sub=function(){var sub=null;var sub__3=function(p,topic,ch){return sub.call(null,p,topic,ch,true)};var sub__4=function(p,topic,ch,close_QMARK_){return cljs.core.async.sub_STAR_.call(null,p,topic,ch,close_QMARK_)};sub=function(p,topic,ch,close_QMARK_){switch(arguments.length){case 3:return sub__3.call(this,p,topic,ch);case 4:return sub__4.call(this,p,topic,ch,close_QMARK_)}throw new Error("Invalid arity: "+arguments.length);};sub.cljs$core$IFn$_invoke$arity$3=sub__3;sub.cljs$core$IFn$_invoke$arity$4=
sub__4;return sub}();cljs.core.async.unsub=function unsub(p,topic,ch){return cljs.core.async.unsub_STAR_.call(null,p,topic,ch)};
cljs.core.async.unsub_all=function(){var unsub_all=null;var unsub_all__1=function(p){return cljs.core.async.unsub_all_STAR_.call(null,p)};var unsub_all__2=function(p,topic){return cljs.core.async.unsub_all_STAR_.call(null,p,topic)};unsub_all=function(p,topic){switch(arguments.length){case 1:return unsub_all__1.call(this,p);case 2:return unsub_all__2.call(this,p,topic)}throw new Error("Invalid arity: "+arguments.length);};unsub_all.cljs$core$IFn$_invoke$arity$1=unsub_all__1;unsub_all.cljs$core$IFn$_invoke$arity$2=
unsub_all__2;return unsub_all}();
cljs.core.async.map=function(){var map=null;var map__2=function(f,chs){return map.call(null,f,chs,null)};var map__3=function(f,chs,buf_or_n){var chs__$1=cljs.core.vec.call(null,chs);var out=cljs.core.async.chan.call(null,buf_or_n);var cnt=cljs.core.count.call(null,chs__$1);var rets=cljs.core.object_array.call(null,cnt);var dchan=cljs.core.async.chan.call(null,1);var dctr=cljs.core.atom.call(null,null);var done=cljs.core.mapv.call(null,function(chs__$1,out,cnt,rets,dchan,dctr){return function(i){return function(chs__$1,
out,cnt,rets,dchan,dctr){return function(ret){rets[i]=ret;if(cljs.core.swap_BANG_.call(null,dctr,cljs.core.dec)===0)return cljs.core.async.put_BANG_.call(null,dchan,rets.slice(0));else return null}}(chs__$1,out,cnt,rets,dchan,dctr)}}(chs__$1,out,cnt,rets,dchan,dctr),cljs.core.range.call(null,cnt));var c__8124__auto___22657=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto___22657,chs__$1,out,cnt,rets,dchan,dctr,done){return function(){var f__8125__auto__=
function(){var switch__8060__auto__=function(c__8124__auto___22657,chs__$1,out,cnt,rets,dchan,dctr,done){return function(state_22627){var state_val_22628=state_22627[1];if(state_val_22628===7){var state_22627__$1=state_22627;var statearr_22629_22658=state_22627__$1;statearr_22629_22658[2]=null;statearr_22629_22658[1]=8;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22628===1){var state_22627__$1=state_22627;var statearr_22630_22659=state_22627__$1;statearr_22630_22659[2]=
null;statearr_22630_22659[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22628===4){var inst_22591=state_22627[7];var inst_22593=inst_22591<cnt;var state_22627__$1=state_22627;if(cljs.core.truth_(inst_22593)){var statearr_22631_22660=state_22627__$1;statearr_22631_22660[1]=6}else{var statearr_22632_22661=state_22627__$1;statearr_22632_22661[1]=7}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22628===15){var inst_22623=state_22627[2];
var state_22627__$1=state_22627;var statearr_22633_22662=state_22627__$1;statearr_22633_22662[2]=inst_22623;statearr_22633_22662[1]=3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22628===13){var inst_22616=cljs.core.async.close_BANG_.call(null,out);var state_22627__$1=state_22627;var statearr_22634_22663=state_22627__$1;statearr_22634_22663[2]=inst_22616;statearr_22634_22663[1]=15;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22628===
6){var state_22627__$1=state_22627;var statearr_22635_22664=state_22627__$1;statearr_22635_22664[2]=null;statearr_22635_22664[1]=11;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22628===3){var inst_22625=state_22627[2];var state_22627__$1=state_22627;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_22627__$1,inst_22625)}else if(state_val_22628===12){var inst_22613=state_22627[8];var inst_22613__$1=state_22627[2];var inst_22614=cljs.core.some.call(null,
cljs.core.nil_QMARK_,inst_22613__$1);var state_22627__$1=function(){var statearr_22636=state_22627;statearr_22636[8]=inst_22613__$1;return statearr_22636}();if(cljs.core.truth_(inst_22614)){var statearr_22637_22665=state_22627__$1;statearr_22637_22665[1]=13}else{var statearr_22638_22666=state_22627__$1;statearr_22638_22666[1]=14}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22628===2){var inst_22590=cljs.core.reset_BANG_.call(null,dctr,cnt);var inst_22591=0;var state_22627__$1=
function(){var statearr_22639=state_22627;statearr_22639[9]=inst_22590;statearr_22639[7]=inst_22591;return statearr_22639}();var statearr_22640_22667=state_22627__$1;statearr_22640_22667[2]=null;statearr_22640_22667[1]=4;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22628===11){var inst_22591=state_22627[7];var _=cljs.core.async.impl.ioc_helpers.add_exception_frame.call(null,state_22627,10,Object,null,9);var inst_22600=chs__$1.call(null,inst_22591);var inst_22601=
done.call(null,inst_22591);var inst_22602=cljs.core.async.take_BANG_.call(null,inst_22600,inst_22601);var state_22627__$1=state_22627;var statearr_22641_22668=state_22627__$1;statearr_22641_22668[2]=inst_22602;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_22627__$1);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22628===9){var inst_22591=state_22627[7];var inst_22604=state_22627[2];var inst_22605=inst_22591+1;var inst_22591__$1=inst_22605;var state_22627__$1=
function(){var statearr_22642=state_22627;statearr_22642[10]=inst_22604;statearr_22642[7]=inst_22591__$1;return statearr_22642}();var statearr_22643_22669=state_22627__$1;statearr_22643_22669[2]=null;statearr_22643_22669[1]=4;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22628===5){var inst_22611=state_22627[2];var state_22627__$1=function(){var statearr_22644=state_22627;statearr_22644[11]=inst_22611;return statearr_22644}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_22627__$1,12,dchan)}else if(state_val_22628===14){var inst_22613=state_22627[8];var inst_22618=cljs.core.apply.call(null,f,inst_22613);var state_22627__$1=state_22627;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_22627__$1,16,out,inst_22618)}else if(state_val_22628===16){var inst_22620=state_22627[2];var state_22627__$1=function(){var statearr_22645=state_22627;statearr_22645[12]=inst_22620;return statearr_22645}();var statearr_22646_22670=state_22627__$1;statearr_22646_22670[2]=
null;statearr_22646_22670[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22628===10){var inst_22595=state_22627[2];var inst_22596=cljs.core.swap_BANG_.call(null,dctr,cljs.core.dec);var state_22627__$1=function(){var statearr_22647=state_22627;statearr_22647[13]=inst_22595;return statearr_22647}();var statearr_22648_22671=state_22627__$1;statearr_22648_22671[2]=inst_22596;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_22627__$1);return new cljs.core.Keyword(null,
"recur","recur",1122293407)}else if(state_val_22628===8){var inst_22609=state_22627[2];var state_22627__$1=state_22627;var statearr_22649_22672=state_22627__$1;statearr_22649_22672[2]=inst_22609;statearr_22649_22672[1]=5;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto___22657,chs__$1,out,cnt,rets,dchan,dctr,done);return function(switch__8060__auto__,c__8124__auto___22657,chs__$1,out,cnt,rets,dchan,dctr,done){return function(){var state_machine__8061__auto__=
null;var state_machine__8061__auto____0=function(){var statearr_22653=[null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_22653[0]=state_machine__8061__auto__;statearr_22653[1]=1;return statearr_22653};var state_machine__8061__auto____1=function(state_22627){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_22627);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,
"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e22654){if(e22654 instanceof Object){var ex__8064__auto__=e22654;var statearr_22655_22673=state_22627;statearr_22655_22673[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_22627);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e22654;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,
ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__22674=state_22627;state_22627=G__22674;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_22627){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_22627)}throw new Error("Invalid arity: "+arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;
state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto___22657,chs__$1,out,cnt,rets,dchan,dctr,done)}();var state__8126__auto__=function(){var statearr_22656=f__8125__auto__.call(null);statearr_22656[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto___22657;return statearr_22656}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto___22657,
chs__$1,out,cnt,rets,dchan,dctr,done));return out};map=function(f,chs,buf_or_n){switch(arguments.length){case 2:return map__2.call(this,f,chs);case 3:return map__3.call(this,f,chs,buf_or_n)}throw new Error("Invalid arity: "+arguments.length);};map.cljs$core$IFn$_invoke$arity$2=map__2;map.cljs$core$IFn$_invoke$arity$3=map__3;return map}();
cljs.core.async.merge=function(){var merge=null;var merge__1=function(chs){return merge.call(null,chs,null)};var merge__2=function(chs,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__8124__auto___22782=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto___22782,out){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto___22782,out){return function(state_22758){var state_val_22759=state_22758[1];
if(state_val_22759===7){var inst_22738=state_22758[7];var inst_22737=state_22758[8];var inst_22737__$1=state_22758[2];var inst_22738__$1=cljs.core.nth.call(null,inst_22737__$1,0,null);var inst_22739=cljs.core.nth.call(null,inst_22737__$1,1,null);var inst_22740=inst_22738__$1==null;var state_22758__$1=function(){var statearr_22760=state_22758;statearr_22760[9]=inst_22739;statearr_22760[7]=inst_22738__$1;statearr_22760[8]=inst_22737__$1;return statearr_22760}();if(cljs.core.truth_(inst_22740)){var statearr_22761_22783=
state_22758__$1;statearr_22761_22783[1]=8}else{var statearr_22762_22784=state_22758__$1;statearr_22762_22784[1]=9}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22759===1){var inst_22729=cljs.core.vec.call(null,chs);var inst_22730=inst_22729;var state_22758__$1=function(){var statearr_22763=state_22758;statearr_22763[10]=inst_22730;return statearr_22763}();var statearr_22764_22785=state_22758__$1;statearr_22764_22785[2]=null;statearr_22764_22785[1]=2;return new cljs.core.Keyword(null,
"recur","recur",1122293407)}else if(state_val_22759===4){var inst_22730=state_22758[10];var state_22758__$1=state_22758;return cljs.core.async.impl.ioc_helpers.ioc_alts_BANG_.call(null,state_22758__$1,7,inst_22730)}else if(state_val_22759===6){var inst_22754=state_22758[2];var state_22758__$1=state_22758;var statearr_22765_22786=state_22758__$1;statearr_22765_22786[2]=inst_22754;statearr_22765_22786[1]=3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22759===3){var inst_22756=
state_22758[2];var state_22758__$1=state_22758;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_22758__$1,inst_22756)}else if(state_val_22759===2){var inst_22730=state_22758[10];var inst_22732=cljs.core.count.call(null,inst_22730);var inst_22733=inst_22732>0;var state_22758__$1=state_22758;if(cljs.core.truth_(inst_22733)){var statearr_22767_22787=state_22758__$1;statearr_22767_22787[1]=4}else{var statearr_22768_22788=state_22758__$1;statearr_22768_22788[1]=5}return new cljs.core.Keyword(null,
"recur","recur",1122293407)}else if(state_val_22759===11){var inst_22730=state_22758[10];var inst_22747=state_22758[2];var tmp22766=inst_22730;var inst_22730__$1=tmp22766;var state_22758__$1=function(){var statearr_22769=state_22758;statearr_22769[11]=inst_22747;statearr_22769[10]=inst_22730__$1;return statearr_22769}();var statearr_22770_22789=state_22758__$1;statearr_22770_22789[2]=null;statearr_22770_22789[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22759===
9){var inst_22738=state_22758[7];var state_22758__$1=state_22758;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_22758__$1,11,out,inst_22738)}else if(state_val_22759===5){var inst_22752=cljs.core.async.close_BANG_.call(null,out);var state_22758__$1=state_22758;var statearr_22771_22790=state_22758__$1;statearr_22771_22790[2]=inst_22752;statearr_22771_22790[1]=6;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22759===10){var inst_22750=state_22758[2];
var state_22758__$1=state_22758;var statearr_22772_22791=state_22758__$1;statearr_22772_22791[2]=inst_22750;statearr_22772_22791[1]=6;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22759===8){var inst_22739=state_22758[9];var inst_22730=state_22758[10];var inst_22738=state_22758[7];var inst_22737=state_22758[8];var inst_22742=function(){var c=inst_22739;var v=inst_22738;var vec__22735=inst_22737;var cs=inst_22730;return function(c,v,vec__22735,cs,inst_22739,inst_22730,
inst_22738,inst_22737,state_val_22759,c__8124__auto___22782,out){return function(p1__22675_SHARP_){return cljs.core.not_EQ_.call(null,c,p1__22675_SHARP_)}}(c,v,vec__22735,cs,inst_22739,inst_22730,inst_22738,inst_22737,state_val_22759,c__8124__auto___22782,out)}();var inst_22743=cljs.core.filterv.call(null,inst_22742,inst_22730);var inst_22730__$1=inst_22743;var state_22758__$1=function(){var statearr_22773=state_22758;statearr_22773[10]=inst_22730__$1;return statearr_22773}();var statearr_22774_22792=
state_22758__$1;statearr_22774_22792[2]=null;statearr_22774_22792[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto___22782,out);return function(switch__8060__auto__,c__8124__auto___22782,out){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_22778=[null,null,null,null,null,null,null,null,null,null,null,null];statearr_22778[0]=state_machine__8061__auto__;statearr_22778[1]=1;return statearr_22778};
var state_machine__8061__auto____1=function(state_22758){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_22758);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e22779){if(e22779 instanceof Object){var ex__8064__auto__=e22779;var statearr_22780_22793=state_22758;statearr_22780_22793[5]=ex__8064__auto__;
cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_22758);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e22779;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__22794=state_22758;state_22758=G__22794;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_22758){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);
case 1:return state_machine__8061__auto____1.call(this,state_22758)}throw new Error("Invalid arity: "+arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto___22782,out)}();var state__8126__auto__=function(){var statearr_22781=f__8125__auto__.call(null);statearr_22781[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=
c__8124__auto___22782;return statearr_22781}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto___22782,out));return out};merge=function(chs,buf_or_n){switch(arguments.length){case 1:return merge__1.call(this,chs);case 2:return merge__2.call(this,chs,buf_or_n)}throw new Error("Invalid arity: "+arguments.length);};merge.cljs$core$IFn$_invoke$arity$1=merge__1;merge.cljs$core$IFn$_invoke$arity$2=merge__2;return merge}();
cljs.core.async.into=function into(coll,ch){return cljs.core.async.reduce.call(null,cljs.core.conj,coll,ch)};
cljs.core.async.take=function(){var take=null;var take__2=function(n,ch){return take.call(null,n,ch,null)};var take__3=function(n,ch,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__8124__auto___22887=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto___22887,out){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto___22887,out){return function(state_22864){var state_val_22865=state_22864[1];
if(state_val_22865===7){var inst_22846=state_22864[7];var inst_22846__$1=state_22864[2];var inst_22847=inst_22846__$1==null;var inst_22848=cljs.core.not.call(null,inst_22847);var state_22864__$1=function(){var statearr_22866=state_22864;statearr_22866[7]=inst_22846__$1;return statearr_22866}();if(inst_22848){var statearr_22867_22888=state_22864__$1;statearr_22867_22888[1]=8}else{var statearr_22868_22889=state_22864__$1;statearr_22868_22889[1]=9}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22865===
1){var inst_22841=0;var state_22864__$1=function(){var statearr_22869=state_22864;statearr_22869[8]=inst_22841;return statearr_22869}();var statearr_22870_22890=state_22864__$1;statearr_22870_22890[2]=null;statearr_22870_22890[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22865===4){var state_22864__$1=state_22864;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_22864__$1,7,ch)}else if(state_val_22865===6){var inst_22859=state_22864[2];var state_22864__$1=
state_22864;var statearr_22871_22891=state_22864__$1;statearr_22871_22891[2]=inst_22859;statearr_22871_22891[1]=3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22865===3){var inst_22861=state_22864[2];var inst_22862=cljs.core.async.close_BANG_.call(null,out);var state_22864__$1=function(){var statearr_22872=state_22864;statearr_22872[9]=inst_22861;return statearr_22872}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_22864__$1,inst_22862)}else if(state_val_22865===
2){var inst_22841=state_22864[8];var inst_22843=inst_22841<n;var state_22864__$1=state_22864;if(cljs.core.truth_(inst_22843)){var statearr_22873_22892=state_22864__$1;statearr_22873_22892[1]=4}else{var statearr_22874_22893=state_22864__$1;statearr_22874_22893[1]=5}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22865===11){var inst_22841=state_22864[8];var inst_22851=state_22864[2];var inst_22852=inst_22841+1;var inst_22841__$1=inst_22852;var state_22864__$1=function(){var statearr_22875=
state_22864;statearr_22875[10]=inst_22851;statearr_22875[8]=inst_22841__$1;return statearr_22875}();var statearr_22876_22894=state_22864__$1;statearr_22876_22894[2]=null;statearr_22876_22894[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22865===9){var state_22864__$1=state_22864;var statearr_22877_22895=state_22864__$1;statearr_22877_22895[2]=null;statearr_22877_22895[1]=10;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22865===
5){var state_22864__$1=state_22864;var statearr_22878_22896=state_22864__$1;statearr_22878_22896[2]=null;statearr_22878_22896[1]=6;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22865===10){var inst_22856=state_22864[2];var state_22864__$1=state_22864;var statearr_22879_22897=state_22864__$1;statearr_22879_22897[2]=inst_22856;statearr_22879_22897[1]=6;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22865===8){var inst_22846=state_22864[7];
var state_22864__$1=state_22864;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_22864__$1,11,out,inst_22846)}else return null}}(c__8124__auto___22887,out);return function(switch__8060__auto__,c__8124__auto___22887,out){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_22883=[null,null,null,null,null,null,null,null,null,null,null];statearr_22883[0]=state_machine__8061__auto__;statearr_22883[1]=1;return statearr_22883};
var state_machine__8061__auto____1=function(state_22864){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_22864);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e22884){if(e22884 instanceof Object){var ex__8064__auto__=e22884;var statearr_22885_22898=state_22864;statearr_22885_22898[5]=ex__8064__auto__;
cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_22864);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e22884;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__22899=state_22864;state_22864=G__22899;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_22864){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);
case 1:return state_machine__8061__auto____1.call(this,state_22864)}throw new Error("Invalid arity: "+arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto___22887,out)}();var state__8126__auto__=function(){var statearr_22886=f__8125__auto__.call(null);statearr_22886[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=
c__8124__auto___22887;return statearr_22886}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto___22887,out));return out};take=function(n,ch,buf_or_n){switch(arguments.length){case 2:return take__2.call(this,n,ch);case 3:return take__3.call(this,n,ch,buf_or_n)}throw new Error("Invalid arity: "+arguments.length);};take.cljs$core$IFn$_invoke$arity$2=take__2;take.cljs$core$IFn$_invoke$arity$3=take__3;return take}();
cljs.core.async.unique=function(){var unique=null;var unique__1=function(ch){return unique.call(null,ch,null)};var unique__2=function(ch,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__8124__auto___22996=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto___22996,out){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto___22996,out){return function(state_22971){var state_val_22972=state_22971[1];
if(state_val_22972===7){var inst_22966=state_22971[2];var state_22971__$1=state_22971;var statearr_22973_22997=state_22971__$1;statearr_22973_22997[2]=inst_22966;statearr_22973_22997[1]=3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22972===1){var inst_22948=null;var state_22971__$1=function(){var statearr_22974=state_22971;statearr_22974[7]=inst_22948;return statearr_22974}();var statearr_22975_22998=state_22971__$1;statearr_22975_22998[2]=null;statearr_22975_22998[1]=
2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22972===4){var inst_22951=state_22971[8];var inst_22951__$1=state_22971[2];var inst_22952=inst_22951__$1==null;var inst_22953=cljs.core.not.call(null,inst_22952);var state_22971__$1=function(){var statearr_22976=state_22971;statearr_22976[8]=inst_22951__$1;return statearr_22976}();if(inst_22953){var statearr_22977_22999=state_22971__$1;statearr_22977_22999[1]=5}else{var statearr_22978_23000=state_22971__$1;statearr_22978_23000[1]=
6}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22972===6){var state_22971__$1=state_22971;var statearr_22979_23001=state_22971__$1;statearr_22979_23001[2]=null;statearr_22979_23001[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22972===3){var inst_22968=state_22971[2];var inst_22969=cljs.core.async.close_BANG_.call(null,out);var state_22971__$1=function(){var statearr_22980=state_22971;statearr_22980[9]=inst_22968;return statearr_22980}();
return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_22971__$1,inst_22969)}else if(state_val_22972===2){var state_22971__$1=state_22971;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_22971__$1,4,ch)}else if(state_val_22972===11){var inst_22951=state_22971[8];var inst_22960=state_22971[2];var inst_22948=inst_22951;var state_22971__$1=function(){var statearr_22981=state_22971;statearr_22981[7]=inst_22948;statearr_22981[10]=inst_22960;return statearr_22981}();var statearr_22982_23002=
state_22971__$1;statearr_22982_23002[2]=null;statearr_22982_23002[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22972===9){var inst_22951=state_22971[8];var state_22971__$1=state_22971;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_22971__$1,11,out,inst_22951)}else if(state_val_22972===5){var inst_22948=state_22971[7];var inst_22951=state_22971[8];var inst_22955=cljs.core._EQ_.call(null,inst_22951,inst_22948);var state_22971__$1=state_22971;
if(inst_22955){var statearr_22984_23003=state_22971__$1;statearr_22984_23003[1]=8}else{var statearr_22985_23004=state_22971__$1;statearr_22985_23004[1]=9}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22972===10){var inst_22963=state_22971[2];var state_22971__$1=state_22971;var statearr_22986_23005=state_22971__$1;statearr_22986_23005[2]=inst_22963;statearr_22986_23005[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_22972===8){var inst_22948=
state_22971[7];var tmp22983=inst_22948;var inst_22948__$1=tmp22983;var state_22971__$1=function(){var statearr_22987=state_22971;statearr_22987[7]=inst_22948__$1;return statearr_22987}();var statearr_22988_23006=state_22971__$1;statearr_22988_23006[2]=null;statearr_22988_23006[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto___22996,out);return function(switch__8060__auto__,c__8124__auto___22996,out){return function(){var state_machine__8061__auto__=
null;var state_machine__8061__auto____0=function(){var statearr_22992=[null,null,null,null,null,null,null,null,null,null,null];statearr_22992[0]=state_machine__8061__auto__;statearr_22992[1]=1;return statearr_22992};var state_machine__8061__auto____1=function(state_22971){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_22971);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,
"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e22993){if(e22993 instanceof Object){var ex__8064__auto__=e22993;var statearr_22994_23007=state_22971;statearr_22994_23007[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_22971);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e22993;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,
ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__23008=state_22971;state_22971=G__23008;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_22971){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_22971)}throw new Error("Invalid arity: "+arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;
state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto___22996,out)}();var state__8126__auto__=function(){var statearr_22995=f__8125__auto__.call(null);statearr_22995[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto___22996;return statearr_22995}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto___22996,out));return out};
unique=function(ch,buf_or_n){switch(arguments.length){case 1:return unique__1.call(this,ch);case 2:return unique__2.call(this,ch,buf_or_n)}throw new Error("Invalid arity: "+arguments.length);};unique.cljs$core$IFn$_invoke$arity$1=unique__1;unique.cljs$core$IFn$_invoke$arity$2=unique__2;return unique}();
cljs.core.async.partition=function(){var partition=null;var partition__2=function(n,ch){return partition.call(null,n,ch,null)};var partition__3=function(n,ch,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__8124__auto___23143=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto___23143,out){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto___23143,out){return function(state_23113){var state_val_23114=
state_23113[1];if(state_val_23114===7){var inst_23109=state_23113[2];var state_23113__$1=state_23113;var statearr_23115_23144=state_23113__$1;statearr_23115_23144[2]=inst_23109;statearr_23115_23144[1]=3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23114===1){var inst_23076=new Array(n);var inst_23077=inst_23076;var inst_23078=0;var state_23113__$1=function(){var statearr_23116=state_23113;statearr_23116[7]=inst_23078;statearr_23116[8]=inst_23077;return statearr_23116}();
var statearr_23117_23145=state_23113__$1;statearr_23117_23145[2]=null;statearr_23117_23145[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23114===4){var inst_23081=state_23113[9];var inst_23081__$1=state_23113[2];var inst_23082=inst_23081__$1==null;var inst_23083=cljs.core.not.call(null,inst_23082);var state_23113__$1=function(){var statearr_23118=state_23113;statearr_23118[9]=inst_23081__$1;return statearr_23118}();if(inst_23083){var statearr_23119_23146=state_23113__$1;
statearr_23119_23146[1]=5}else{var statearr_23120_23147=state_23113__$1;statearr_23120_23147[1]=6}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23114===15){var inst_23103=state_23113[2];var state_23113__$1=state_23113;var statearr_23121_23148=state_23113__$1;statearr_23121_23148[2]=inst_23103;statearr_23121_23148[1]=14;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23114===13){var state_23113__$1=state_23113;var statearr_23122_23149=
state_23113__$1;statearr_23122_23149[2]=null;statearr_23122_23149[1]=14;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23114===6){var inst_23078=state_23113[7];var inst_23099=inst_23078>0;var state_23113__$1=state_23113;if(cljs.core.truth_(inst_23099)){var statearr_23123_23150=state_23113__$1;statearr_23123_23150[1]=12}else{var statearr_23124_23151=state_23113__$1;statearr_23124_23151[1]=13}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23114===
3){var inst_23111=state_23113[2];var state_23113__$1=state_23113;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_23113__$1,inst_23111)}else if(state_val_23114===12){var inst_23077=state_23113[8];var inst_23101=cljs.core.vec.call(null,inst_23077);var state_23113__$1=state_23113;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_23113__$1,15,out,inst_23101)}else if(state_val_23114===2){var state_23113__$1=state_23113;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,
state_23113__$1,4,ch)}else if(state_val_23114===11){var inst_23093=state_23113[2];var inst_23094=new Array(n);var inst_23077=inst_23094;var inst_23078=0;var state_23113__$1=function(){var statearr_23125=state_23113;statearr_23125[7]=inst_23078;statearr_23125[10]=inst_23093;statearr_23125[8]=inst_23077;return statearr_23125}();var statearr_23126_23152=state_23113__$1;statearr_23126_23152[2]=null;statearr_23126_23152[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23114===
9){var inst_23077=state_23113[8];var inst_23091=cljs.core.vec.call(null,inst_23077);var state_23113__$1=state_23113;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_23113__$1,11,out,inst_23091)}else if(state_val_23114===5){var inst_23081=state_23113[9];var inst_23086=state_23113[11];var inst_23078=state_23113[7];var inst_23077=state_23113[8];var inst_23085=inst_23077[inst_23078]=inst_23081;var inst_23086__$1=inst_23078+1;var inst_23087=inst_23086__$1<n;var state_23113__$1=function(){var statearr_23127=
state_23113;statearr_23127[11]=inst_23086__$1;statearr_23127[12]=inst_23085;return statearr_23127}();if(cljs.core.truth_(inst_23087)){var statearr_23128_23153=state_23113__$1;statearr_23128_23153[1]=8}else{var statearr_23129_23154=state_23113__$1;statearr_23129_23154[1]=9}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23114===14){var inst_23106=state_23113[2];var inst_23107=cljs.core.async.close_BANG_.call(null,out);var state_23113__$1=function(){var statearr_23131=
state_23113;statearr_23131[13]=inst_23106;return statearr_23131}();var statearr_23132_23155=state_23113__$1;statearr_23132_23155[2]=inst_23107;statearr_23132_23155[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23114===10){var inst_23097=state_23113[2];var state_23113__$1=state_23113;var statearr_23133_23156=state_23113__$1;statearr_23133_23156[2]=inst_23097;statearr_23133_23156[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23114===
8){var inst_23086=state_23113[11];var inst_23077=state_23113[8];var tmp23130=inst_23077;var inst_23077__$1=tmp23130;var inst_23078=inst_23086;var state_23113__$1=function(){var statearr_23134=state_23113;statearr_23134[7]=inst_23078;statearr_23134[8]=inst_23077__$1;return statearr_23134}();var statearr_23135_23157=state_23113__$1;statearr_23135_23157[2]=null;statearr_23135_23157[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto___23143,out);return function(switch__8060__auto__,
c__8124__auto___23143,out){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_23139=[null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_23139[0]=state_machine__8061__auto__;statearr_23139[1]=1;return statearr_23139};var state_machine__8061__auto____1=function(state_23113){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_23113);
if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e23140){if(e23140 instanceof Object){var ex__8064__auto__=e23140;var statearr_23141_23158=state_23113;statearr_23141_23158[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_23113);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else",
"else",1017020587))throw e23140;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__23159=state_23113;state_23113=G__23159;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_23113){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_23113)}throw new Error("Invalid arity: "+
arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto___23143,out)}();var state__8126__auto__=function(){var statearr_23142=f__8125__auto__.call(null);statearr_23142[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto___23143;return statearr_23142}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__8126__auto__)}}(c__8124__auto___23143,out));return out};partition=function(n,ch,buf_or_n){switch(arguments.length){case 2:return partition__2.call(this,n,ch);case 3:return partition__3.call(this,n,ch,buf_or_n)}throw new Error("Invalid arity: "+arguments.length);};partition.cljs$core$IFn$_invoke$arity$2=partition__2;partition.cljs$core$IFn$_invoke$arity$3=partition__3;return partition}();
cljs.core.async.partition_by=function(){var partition_by=null;var partition_by__2=function(f,ch){return partition_by.call(null,f,ch,null)};var partition_by__3=function(f,ch,buf_or_n){var out=cljs.core.async.chan.call(null,buf_or_n);var c__8124__auto___23302=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto___23302,out){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto___23302,out){return function(state_23272){var state_val_23273=
state_23272[1];if(state_val_23273===7){var inst_23268=state_23272[2];var state_23272__$1=state_23272;var statearr_23274_23303=state_23272__$1;statearr_23274_23303[2]=inst_23268;statearr_23274_23303[1]=3;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23273===1){var inst_23231=[];var inst_23232=inst_23231;var inst_23233=new cljs.core.Keyword("cljs.core.async","nothing","cljs.core.async/nothing",4382193538);var state_23272__$1=function(){var statearr_23275=state_23272;
statearr_23275[7]=inst_23232;statearr_23275[8]=inst_23233;return statearr_23275}();var statearr_23276_23304=state_23272__$1;statearr_23276_23304[2]=null;statearr_23276_23304[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23273===4){var inst_23236=state_23272[9];var inst_23236__$1=state_23272[2];var inst_23237=inst_23236__$1==null;var inst_23238=cljs.core.not.call(null,inst_23237);var state_23272__$1=function(){var statearr_23277=state_23272;statearr_23277[9]=
inst_23236__$1;return statearr_23277}();if(inst_23238){var statearr_23278_23305=state_23272__$1;statearr_23278_23305[1]=5}else{var statearr_23279_23306=state_23272__$1;statearr_23279_23306[1]=6}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23273===15){var inst_23262=state_23272[2];var state_23272__$1=state_23272;var statearr_23280_23307=state_23272__$1;statearr_23280_23307[2]=inst_23262;statearr_23280_23307[1]=14;return new cljs.core.Keyword(null,"recur","recur",
1122293407)}else if(state_val_23273===13){var state_23272__$1=state_23272;var statearr_23281_23308=state_23272__$1;statearr_23281_23308[2]=null;statearr_23281_23308[1]=14;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23273===6){var inst_23232=state_23272[7];var inst_23257=inst_23232.length;var inst_23258=inst_23257>0;var state_23272__$1=state_23272;if(cljs.core.truth_(inst_23258)){var statearr_23282_23309=state_23272__$1;statearr_23282_23309[1]=12}else{var statearr_23283_23310=
state_23272__$1;statearr_23283_23310[1]=13}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23273===3){var inst_23270=state_23272[2];var state_23272__$1=state_23272;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_23272__$1,inst_23270)}else if(state_val_23273===12){var inst_23232=state_23272[7];var inst_23260=cljs.core.vec.call(null,inst_23232);var state_23272__$1=state_23272;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_23272__$1,
15,out,inst_23260)}else if(state_val_23273===2){var state_23272__$1=state_23272;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_23272__$1,4,ch)}else if(state_val_23273===11){var inst_23236=state_23272[9];var inst_23240=state_23272[10];var inst_23250=state_23272[2];var inst_23251=[];var inst_23252=inst_23251.push(inst_23236);var inst_23232=inst_23251;var inst_23233=inst_23240;var state_23272__$1=function(){var statearr_23284=state_23272;statearr_23284[7]=inst_23232;statearr_23284[11]=
inst_23252;statearr_23284[12]=inst_23250;statearr_23284[8]=inst_23233;return statearr_23284}();var statearr_23285_23311=state_23272__$1;statearr_23285_23311[2]=null;statearr_23285_23311[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23273===9){var inst_23232=state_23272[7];var inst_23248=cljs.core.vec.call(null,inst_23232);var state_23272__$1=state_23272;return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,state_23272__$1,11,out,inst_23248)}else if(state_val_23273===
5){var inst_23236=state_23272[9];var inst_23240=state_23272[10];var inst_23233=state_23272[8];var inst_23240__$1=f.call(null,inst_23236);var inst_23241=cljs.core._EQ_.call(null,inst_23240__$1,inst_23233);var inst_23242=cljs.core.keyword_identical_QMARK_.call(null,inst_23233,new cljs.core.Keyword("cljs.core.async","nothing","cljs.core.async/nothing",4382193538));var inst_23243=inst_23241||inst_23242;var state_23272__$1=function(){var statearr_23286=state_23272;statearr_23286[10]=inst_23240__$1;return statearr_23286}();
if(cljs.core.truth_(inst_23243)){var statearr_23287_23312=state_23272__$1;statearr_23287_23312[1]=8}else{var statearr_23288_23313=state_23272__$1;statearr_23288_23313[1]=9}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23273===14){var inst_23265=state_23272[2];var inst_23266=cljs.core.async.close_BANG_.call(null,out);var state_23272__$1=function(){var statearr_23290=state_23272;statearr_23290[13]=inst_23265;return statearr_23290}();var statearr_23291_23314=state_23272__$1;
statearr_23291_23314[2]=inst_23266;statearr_23291_23314[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23273===10){var inst_23255=state_23272[2];var state_23272__$1=state_23272;var statearr_23292_23315=state_23272__$1;statearr_23292_23315[2]=inst_23255;statearr_23292_23315[1]=7;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_23273===8){var inst_23232=state_23272[7];var inst_23236=state_23272[9];var inst_23240=state_23272[10];var inst_23245=
inst_23232.push(inst_23236);var tmp23289=inst_23232;var inst_23232__$1=tmp23289;var inst_23233=inst_23240;var state_23272__$1=function(){var statearr_23293=state_23272;statearr_23293[7]=inst_23232__$1;statearr_23293[14]=inst_23245;statearr_23293[8]=inst_23233;return statearr_23293}();var statearr_23294_23316=state_23272__$1;statearr_23294_23316[2]=null;statearr_23294_23316[1]=2;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else return null}}(c__8124__auto___23302,out);return function(switch__8060__auto__,
c__8124__auto___23302,out){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_23298=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];statearr_23298[0]=state_machine__8061__auto__;statearr_23298[1]=1;return statearr_23298};var state_machine__8061__auto____1=function(state_23272){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_23272);
if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e23299){if(e23299 instanceof Object){var ex__8064__auto__=e23299;var statearr_23300_23317=state_23272;statearr_23300_23317[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_23272);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else",
"else",1017020587))throw e23299;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__23318=state_23272;state_23272=G__23318;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_23272){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_23272)}throw new Error("Invalid arity: "+
arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto___23302,out)}();var state__8126__auto__=function(){var statearr_23301=f__8125__auto__.call(null);statearr_23301[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto___23302;return statearr_23301}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,
state__8126__auto__)}}(c__8124__auto___23302,out));return out};partition_by=function(f,ch,buf_or_n){switch(arguments.length){case 2:return partition_by__2.call(this,f,ch);case 3:return partition_by__3.call(this,f,ch,buf_or_n)}throw new Error("Invalid arity: "+arguments.length);};partition_by.cljs$core$IFn$_invoke$arity$2=partition_by__2;partition_by.cljs$core$IFn$_invoke$arity$3=partition_by__3;return partition_by}();goog.provide("cljs.reader");goog.require("cljs.core");goog.require("goog.string");goog.require("goog.string");cljs.reader.PushbackReader=function(){var obj20585={};return obj20585}();
cljs.reader.read_char=function read_char(reader){if(function(){var and__3466__auto__=reader;if(and__3466__auto__)return reader.cljs$reader$PushbackReader$read_char$arity$1;else return and__3466__auto__}())return reader.cljs$reader$PushbackReader$read_char$arity$1(reader);else{var x__4105__auto__=reader==null?null:reader;return function(){var or__3478__auto__=cljs.reader.read_char[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.reader.read_char["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"PushbackReader.read-char",reader);}}().call(null,reader)}};
cljs.reader.unread=function unread(reader,ch){if(function(){var and__3466__auto__=reader;if(and__3466__auto__)return reader.cljs$reader$PushbackReader$unread$arity$2;else return and__3466__auto__}())return reader.cljs$reader$PushbackReader$unread$arity$2(reader,ch);else{var x__4105__auto__=reader==null?null:reader;return function(){var or__3478__auto__=cljs.reader.unread[goog.typeOf(x__4105__auto__)];if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.reader.unread["_"];
if(or__3478__auto____$1)return or__3478__auto____$1;else throw cljs.core.missing_protocol.call(null,"PushbackReader.unread",reader);}}().call(null,reader,ch)}};cljs.reader.StringPushbackReader=function(s,buffer,idx){this.s=s;this.buffer=buffer;this.idx=idx};cljs.reader.StringPushbackReader.cljs$lang$type=true;cljs.reader.StringPushbackReader.cljs$lang$ctorStr="cljs.reader/StringPushbackReader";
cljs.reader.StringPushbackReader.cljs$lang$ctorPrWriter=function(this__4045__auto__,writer__4046__auto__,opt__4047__auto__){return cljs.core._write.call(null,writer__4046__auto__,"cljs.reader/StringPushbackReader")};cljs.reader.StringPushbackReader.prototype.cljs$reader$PushbackReader$=true;cljs.reader.StringPushbackReader.prototype.cljs$reader$PushbackReader$read_char$arity$1=function(reader){var self__=this;var reader__$1=this;if(self__.buffer.length===0){self__.idx=self__.idx+1;return self__.s[self__.idx]}else return self__.buffer.pop()};
cljs.reader.StringPushbackReader.prototype.cljs$reader$PushbackReader$unread$arity$2=function(reader,ch){var self__=this;var reader__$1=this;return self__.buffer.push(ch)};cljs.reader.__GT_StringPushbackReader=function __GT_StringPushbackReader(s,buffer,idx){return new cljs.reader.StringPushbackReader(s,buffer,idx)};cljs.reader.push_back_reader=function push_back_reader(s){return new cljs.reader.StringPushbackReader(s,[],-1)};
cljs.reader.whitespace_QMARK_=function whitespace_QMARK_(ch){var or__3478__auto__=goog.string.isBreakingWhitespace(ch);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return","===ch};cljs.reader.numeric_QMARK_=function numeric_QMARK_(ch){return goog.string.isNumeric(ch)};cljs.reader.comment_prefix_QMARK_=function comment_prefix_QMARK_(ch){return";"===ch};
cljs.reader.number_literal_QMARK_=function number_literal_QMARK_(reader,initch){return cljs.reader.numeric_QMARK_.call(null,initch)||("+"===initch||"-"===initch)&&cljs.reader.numeric_QMARK_.call(null,function(){var next_ch=cljs.reader.read_char.call(null,reader);cljs.reader.unread.call(null,reader,next_ch);return next_ch}())};
cljs.reader.reader_error=function(){var reader_error__delegate=function(rdr,msg){throw new Error(cljs.core.apply.call(null,cljs.core.str,msg));};var reader_error=function(rdr,var_args){var msg=null;if(arguments.length>1)msg=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return reader_error__delegate.call(this,rdr,msg)};reader_error.cljs$lang$maxFixedArity=1;reader_error.cljs$lang$applyTo=function(arglist__20586){var rdr=cljs.core.first(arglist__20586);var msg=cljs.core.rest(arglist__20586);
return reader_error__delegate(rdr,msg)};reader_error.cljs$core$IFn$_invoke$arity$variadic=reader_error__delegate;return reader_error}();cljs.reader.macro_terminating_QMARK_=function macro_terminating_QMARK_(ch){var and__3466__auto__=!(ch==="#");if(and__3466__auto__){var and__3466__auto____$1=!(ch==="'");if(and__3466__auto____$1){var and__3466__auto____$2=!(ch===":");if(and__3466__auto____$2)return cljs.reader.macros.call(null,ch);else return and__3466__auto____$2}else return and__3466__auto____$1}else return and__3466__auto__};
cljs.reader.read_token=function read_token(rdr,initch){var sb=new goog.string.StringBuffer(initch);var ch=cljs.reader.read_char.call(null,rdr);while(true){if(ch==null||(cljs.reader.whitespace_QMARK_.call(null,ch)||cljs.reader.macro_terminating_QMARK_.call(null,ch))){cljs.reader.unread.call(null,rdr,ch);return sb.toString()}else{var G__20587=function(){sb.append(ch);return sb}();var G__20588=cljs.reader.read_char.call(null,rdr);sb=G__20587;ch=G__20588;continue}break}};
cljs.reader.skip_line=function skip_line(reader,_){while(true){var ch=cljs.reader.read_char.call(null,reader);if(ch==="\n"||(ch==="\r"||ch==null))return reader;else continue;break}};cljs.reader.int_pattern=cljs.core.re_pattern.call(null,"([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?");cljs.reader.ratio_pattern=cljs.core.re_pattern.call(null,"([-+]?[0-9]+)/([0-9]+)");cljs.reader.float_pattern=cljs.core.re_pattern.call(null,"([-+]?[0-9]+(\\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?");
cljs.reader.symbol_pattern=cljs.core.re_pattern.call(null,"[:]?([^0-9/].*/)?([^0-9/][^/]*)");cljs.reader.re_find_STAR_=function re_find_STAR_(re,s){var matches=re.exec(s);if(matches==null)return null;else if(matches.length===1)return matches[0];else return matches};
cljs.reader.match_int=function match_int(s){var groups=cljs.reader.re_find_STAR_.call(null,cljs.reader.int_pattern,s);var group3=groups[2];if(!(group3==null||group3.length<1))return 0;else{var negate="-"===groups[1]?-1:1;var a=cljs.core.truth_(groups[3])?[groups[3],10]:cljs.core.truth_(groups[4])?[groups[4],16]:cljs.core.truth_(groups[5])?[groups[5],8]:cljs.core.truth_(groups[7])?[groups[7],parseInt(groups[7])]:new cljs.core.Keyword(null,"default","default",2558708147)?[null,null]:null;var n=a[0];
var radix=a[1];if(n==null)return null;else return negate*parseInt(n,radix)}};cljs.reader.match_ratio=function match_ratio(s){var groups=cljs.reader.re_find_STAR_.call(null,cljs.reader.ratio_pattern,s);var numinator=groups[1];var denominator=groups[2];return parseInt(numinator,10)/parseInt(denominator,10)};cljs.reader.match_float=function match_float(s){return parseFloat(s)};
cljs.reader.re_matches_STAR_=function re_matches_STAR_(re,s){var matches=re.exec(s);if(!(matches==null)&&matches[0]===s)if(matches.length===1)return matches[0];else return matches;else return null};
cljs.reader.match_number=function match_number(s){if(cljs.core.truth_(cljs.reader.re_matches_STAR_.call(null,cljs.reader.int_pattern,s)))return cljs.reader.match_int.call(null,s);else if(cljs.core.truth_(cljs.reader.re_matches_STAR_.call(null,cljs.reader.ratio_pattern,s)))return cljs.reader.match_ratio.call(null,s);else if(cljs.core.truth_(cljs.reader.re_matches_STAR_.call(null,cljs.reader.float_pattern,s)))return cljs.reader.match_float.call(null,s);else return null};
cljs.reader.escape_char_map=function escape_char_map(c){if(c==="t")return"\t";else if(c==="r")return"\r";else if(c==="n")return"\n";else if(c==="\\")return"\\";else if(c==='"')return'"';else if(c==="b")return"\b";else if(c==="f")return"\f";else if(new cljs.core.Keyword(null,"else","else",1017020587))return null;else return null};cljs.reader.read_2_chars=function read_2_chars(reader){return(new goog.string.StringBuffer(cljs.reader.read_char.call(null,reader),cljs.reader.read_char.call(null,reader))).toString()};
cljs.reader.read_4_chars=function read_4_chars(reader){return(new goog.string.StringBuffer(cljs.reader.read_char.call(null,reader),cljs.reader.read_char.call(null,reader),cljs.reader.read_char.call(null,reader),cljs.reader.read_char.call(null,reader))).toString()};cljs.reader.unicode_2_pattern=cljs.core.re_pattern.call(null,"[0-9A-Fa-f]{2}");cljs.reader.unicode_4_pattern=cljs.core.re_pattern.call(null,"[0-9A-Fa-f]{4}");
cljs.reader.validate_unicode_escape=function validate_unicode_escape(unicode_pattern,reader,escape_char,unicode_str){if(cljs.core.truth_(cljs.core.re_matches.call(null,unicode_pattern,unicode_str)))return unicode_str;else return cljs.reader.reader_error.call(null,reader,"Unexpected unicode escape \\",escape_char,unicode_str)};cljs.reader.make_unicode_char=function make_unicode_char(code_str){var code=parseInt(code_str,16);return String.fromCharCode(code)};
cljs.reader.escape_char=function escape_char(buffer,reader){var ch=cljs.reader.read_char.call(null,reader);var mapresult=cljs.reader.escape_char_map.call(null,ch);if(cljs.core.truth_(mapresult))return mapresult;else if(ch==="x")return cljs.reader.make_unicode_char.call(null,cljs.reader.validate_unicode_escape.call(null,cljs.reader.unicode_2_pattern,reader,ch,cljs.reader.read_2_chars.call(null,reader)));else if(ch==="u")return cljs.reader.make_unicode_char.call(null,cljs.reader.validate_unicode_escape.call(null,
cljs.reader.unicode_4_pattern,reader,ch,cljs.reader.read_4_chars.call(null,reader)));else if(cljs.reader.numeric_QMARK_.call(null,ch))return String.fromCharCode(ch);else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.reader.reader_error.call(null,reader,"Unexpected unicode escape \\",ch);else return null};
cljs.reader.read_past=function read_past(pred,rdr){var ch=cljs.reader.read_char.call(null,rdr);while(true){if(cljs.core.truth_(pred.call(null,ch))){var G__20589=cljs.reader.read_char.call(null,rdr);ch=G__20589;continue}else return ch;break}};
cljs.reader.read_delimited_list=function read_delimited_list(delim,rdr,recursive_QMARK_){var a=cljs.core.transient$.call(null,cljs.core.PersistentVector.EMPTY);while(true){var ch=cljs.reader.read_past.call(null,cljs.reader.whitespace_QMARK_,rdr);if(cljs.core.truth_(ch));else cljs.reader.reader_error.call(null,rdr,"EOF while reading");if(delim===ch)return cljs.core.persistent_BANG_.call(null,a);else{var temp__4124__auto__=cljs.reader.macros.call(null,ch);if(cljs.core.truth_(temp__4124__auto__)){var macrofn=
temp__4124__auto__;var mret=macrofn.call(null,rdr,ch);var G__20590=mret===rdr?a:cljs.core.conj_BANG_.call(null,a,mret);a=G__20590;continue}else{cljs.reader.unread.call(null,rdr,ch);var o=cljs.reader.read.call(null,rdr,true,null,recursive_QMARK_);var G__20591=o===rdr?a:cljs.core.conj_BANG_.call(null,a,o);a=G__20591;continue}}break}};cljs.reader.not_implemented=function not_implemented(rdr,ch){return cljs.reader.reader_error.call(null,rdr,"Reader for ",ch," not implemented yet")};
cljs.reader.read_dispatch=function read_dispatch(rdr,_){var ch=cljs.reader.read_char.call(null,rdr);var dm=cljs.reader.dispatch_macros.call(null,ch);if(cljs.core.truth_(dm))return dm.call(null,rdr,_);else{var temp__4124__auto__=cljs.reader.maybe_read_tagged_type.call(null,rdr,ch);if(cljs.core.truth_(temp__4124__auto__)){var obj=temp__4124__auto__;return obj}else return cljs.reader.reader_error.call(null,rdr,"No dispatch macro for ",ch)}};
cljs.reader.read_unmatched_delimiter=function read_unmatched_delimiter(rdr,ch){return cljs.reader.reader_error.call(null,rdr,"Unmached delimiter ",ch)};cljs.reader.read_list=function read_list(rdr,_){return cljs.core.apply.call(null,cljs.core.list,cljs.reader.read_delimited_list.call(null,")",rdr,true))};cljs.reader.read_comment=cljs.reader.skip_line;cljs.reader.read_vector=function read_vector(rdr,_){return cljs.reader.read_delimited_list.call(null,"]",rdr,true)};
cljs.reader.read_map=function read_map(rdr,_){var l=cljs.reader.read_delimited_list.call(null,"}",rdr,true);if(cljs.core.odd_QMARK_.call(null,cljs.core.count.call(null,l)))cljs.reader.reader_error.call(null,rdr,"Map literal must contain an even number of forms");else;return cljs.core.apply.call(null,cljs.core.hash_map,l)};
cljs.reader.read_number=function read_number(reader,initch){var buffer=new goog.string.StringBuffer(initch);var ch=cljs.reader.read_char.call(null,reader);while(true){if(cljs.core.truth_(function(){var or__3478__auto__=ch==null;if(or__3478__auto__)return or__3478__auto__;else{var or__3478__auto____$1=cljs.reader.whitespace_QMARK_.call(null,ch);if(or__3478__auto____$1)return or__3478__auto____$1;else return cljs.reader.macros.call(null,ch)}}())){cljs.reader.unread.call(null,reader,ch);var s=buffer.toString();
var or__3478__auto__=cljs.reader.match_number.call(null,s);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return cljs.reader.reader_error.call(null,reader,"Invalid number format [",s,"]")}else{var G__20592=function(){buffer.append(ch);return buffer}();var G__20593=cljs.reader.read_char.call(null,reader);buffer=G__20592;ch=G__20593;continue}break}};
cljs.reader.read_string_STAR_=function read_string_STAR_(reader,_){var buffer=new goog.string.StringBuffer;var ch=cljs.reader.read_char.call(null,reader);while(true){if(ch==null)return cljs.reader.reader_error.call(null,reader,"EOF while reading");else if("\\"===ch){var G__20594=function(){buffer.append(cljs.reader.escape_char.call(null,buffer,reader));return buffer}();var G__20595=cljs.reader.read_char.call(null,reader);buffer=G__20594;ch=G__20595;continue}else if('"'===ch)return buffer.toString();
else if(new cljs.core.Keyword(null,"default","default",2558708147)){var G__20596=function(){buffer.append(ch);return buffer}();var G__20597=cljs.reader.read_char.call(null,reader);buffer=G__20596;ch=G__20597;continue}else return null;break}};cljs.reader.special_symbols=function special_symbols(t,not_found){if(t==="nil")return null;else if(t==="true")return true;else if(t==="false")return false;else if(new cljs.core.Keyword(null,"else","else",1017020587))return not_found;else return null};
cljs.reader.read_symbol=function read_symbol(reader,initch){var token=cljs.reader.read_token.call(null,reader,initch);if(cljs.core.truth_(goog.string.contains(token,"/")))return cljs.core.symbol.call(null,cljs.core.subs.call(null,token,0,token.indexOf("/")),cljs.core.subs.call(null,token,token.indexOf("/")+1,token.length));else return cljs.reader.special_symbols.call(null,token,cljs.core.symbol.call(null,token))};
cljs.reader.read_keyword=function read_keyword(reader,initch){var token=cljs.reader.read_token.call(null,reader,cljs.reader.read_char.call(null,reader));var a=cljs.reader.re_matches_STAR_.call(null,cljs.reader.symbol_pattern,token);var token__$1=a[0];var ns=a[1];var name=a[2];if(!(void 0===ns)&&ns.substring(ns.length-2,ns.length)===":/"||(name[name.length-1]===":"||!(token__$1.indexOf("::",1)===-1)))return cljs.reader.reader_error.call(null,reader,"Invalid token: ",token__$1);else if(!(ns==null)&&
ns.length>0)return cljs.core.keyword.call(null,ns.substring(0,ns.indexOf("/")),name);else return cljs.core.keyword.call(null,token__$1)};
cljs.reader.desugar_meta=function desugar_meta(f){if(f instanceof cljs.core.Symbol)return new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",1014018828),f],null);else if(typeof f==="string")return new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",1014018828),f],null);else if(f instanceof cljs.core.Keyword)return new cljs.core.PersistentArrayMap.fromArray([f,true],true,false);else if(new cljs.core.Keyword(null,"else","else",1017020587))return f;
else return null};cljs.reader.wrapping_reader=function wrapping_reader(sym){return function(rdr,_){return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,cljs.reader.read.call(null,rdr,true,null,true)),sym)}};cljs.reader.throwing_reader=function throwing_reader(msg){return function(rdr,_){return cljs.reader.reader_error.call(null,rdr,msg)}};
cljs.reader.read_meta=function read_meta(rdr,_){var m=cljs.reader.desugar_meta.call(null,cljs.reader.read.call(null,rdr,true,null,true));if(cljs.core.map_QMARK_.call(null,m));else cljs.reader.reader_error.call(null,rdr,"Metadata must be Symbol,Keyword,String or Map");var o=cljs.reader.read.call(null,rdr,true,null,true);if(function(){var G__20599=o;if(G__20599){var bit__4128__auto__=G__20599.cljs$lang$protocol_mask$partition0$&262144;if(bit__4128__auto__||G__20599.cljs$core$IWithMeta$)return true;
else if(!G__20599.cljs$lang$protocol_mask$partition0$)return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IWithMeta,G__20599);else return false}else return cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IWithMeta,G__20599)}())return cljs.core.with_meta.call(null,o,cljs.core.merge.call(null,cljs.core.meta.call(null,o),m));else return cljs.reader.reader_error.call(null,rdr,"Metadata can only be applied to IWithMetas")};
cljs.reader.read_set=function read_set(rdr,_){return cljs.core.set.call(null,cljs.reader.read_delimited_list.call(null,"}",rdr,true))};cljs.reader.read_regex=function read_regex(rdr,ch){return cljs.core.re_pattern.call(null,cljs.reader.read_string_STAR_.call(null,rdr,ch))};cljs.reader.read_discard=function read_discard(rdr,_){cljs.reader.read.call(null,rdr,true,null,true);return rdr};
cljs.reader.macros=function macros(c){if(c==='"')return cljs.reader.read_string_STAR_;else if(c===":")return cljs.reader.read_keyword;else if(c===";")return cljs.reader.read_comment;else if(c==="'")return cljs.reader.wrapping_reader.call(null,new cljs.core.Symbol(null,"quote","quote",-1532577739,null));else if(c==="@")return cljs.reader.wrapping_reader.call(null,new cljs.core.Symbol(null,"deref","deref",-1545057749,null));else if(c==="^")return cljs.reader.read_meta;else if(c==="`")return cljs.reader.not_implemented;
else if(c==="~")return cljs.reader.not_implemented;else if(c==="(")return cljs.reader.read_list;else if(c===")")return cljs.reader.read_unmatched_delimiter;else if(c==="[")return cljs.reader.read_vector;else if(c==="]")return cljs.reader.read_unmatched_delimiter;else if(c==="{")return cljs.reader.read_map;else if(c==="}")return cljs.reader.read_unmatched_delimiter;else if(c==="\\")return cljs.reader.read_char;else if(c==="#")return cljs.reader.read_dispatch;else if(new cljs.core.Keyword(null,"else",
"else",1017020587))return null;else return null};cljs.reader.dispatch_macros=function dispatch_macros(s){if(s==="{")return cljs.reader.read_set;else if(s==="\x3c")return cljs.reader.throwing_reader.call(null,"Unreadable form");else if(s==='"')return cljs.reader.read_regex;else if(s==="!")return cljs.reader.read_comment;else if(s==="_")return cljs.reader.read_discard;else if(new cljs.core.Keyword(null,"else","else",1017020587))return null;else return null};
cljs.reader.read=function read(reader,eof_is_error,sentinel,is_recursive){while(true){var ch=cljs.reader.read_char.call(null,reader);if(ch==null)if(cljs.core.truth_(eof_is_error))return cljs.reader.reader_error.call(null,reader,"EOF while reading");else return sentinel;else if(cljs.reader.whitespace_QMARK_.call(null,ch)){var G__20600=reader;var G__20601=eof_is_error;var G__20602=sentinel;var G__20603=is_recursive;reader=G__20600;eof_is_error=G__20601;sentinel=G__20602;is_recursive=G__20603;continue}else if(cljs.reader.comment_prefix_QMARK_.call(null,
ch)){var G__20604=cljs.reader.read_comment.call(null,reader,ch);var G__20605=eof_is_error;var G__20606=sentinel;var G__20607=is_recursive;reader=G__20604;eof_is_error=G__20605;sentinel=G__20606;is_recursive=G__20607;continue}else if(new cljs.core.Keyword(null,"else","else",1017020587)){var f=cljs.reader.macros.call(null,ch);var res=cljs.core.truth_(f)?f.call(null,reader,ch):cljs.reader.number_literal_QMARK_.call(null,reader,ch)?cljs.reader.read_number.call(null,reader,ch):new cljs.core.Keyword(null,
"else","else",1017020587)?cljs.reader.read_symbol.call(null,reader,ch):null;if(res===reader){var G__20608=reader;var G__20609=eof_is_error;var G__20610=sentinel;var G__20611=is_recursive;reader=G__20608;eof_is_error=G__20609;sentinel=G__20610;is_recursive=G__20611;continue}else return res}else return null;break}};cljs.reader.read_string=function read_string(s){var r=cljs.reader.push_back_reader.call(null,s);return cljs.reader.read.call(null,r,true,null,false)};
cljs.reader.zero_fill_right_and_truncate=function zero_fill_right_and_truncate(s,width){if(cljs.core._EQ_.call(null,width,cljs.core.count.call(null,s)))return s;else if(width<cljs.core.count.call(null,s))return cljs.core.subs.call(null,s,0,width);else if(new cljs.core.Keyword(null,"else","else",1017020587)){var b=new goog.string.StringBuffer(s);while(true){if(b.getLength()<width){var G__20612=b.append("0");b=G__20612;continue}else return b.toString();break}}else return null};
cljs.reader.divisible_QMARK_=function divisible_QMARK_(num,div){return cljs.core.mod.call(null,num,div)===0};cljs.reader.indivisible_QMARK_=function indivisible_QMARK_(num,div){return!cljs.reader.divisible_QMARK_.call(null,num,div)};cljs.reader.leap_year_QMARK_=function leap_year_QMARK_(year){return cljs.reader.divisible_QMARK_.call(null,year,4)&&(cljs.reader.indivisible_QMARK_.call(null,year,100)||cljs.reader.divisible_QMARK_.call(null,year,400))};
cljs.reader.days_in_month=function(){var dim_norm=new cljs.core.PersistentVector(null,13,5,cljs.core.PersistentVector.EMPTY_NODE,[null,31,28,31,30,31,30,31,31,30,31,30,31],null);var dim_leap=new cljs.core.PersistentVector(null,13,5,cljs.core.PersistentVector.EMPTY_NODE,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(dim_norm,dim_leap){return function(month,leap_year_QMARK_){return cljs.core.get.call(null,cljs.core.truth_(leap_year_QMARK_)?dim_leap:dim_norm,month)}}(dim_norm,dim_leap)}();
cljs.reader.timestamp_regex=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;cljs.reader.parse_int=function parse_int(s){var n=parseInt(s,10);if(cljs.core.not.call(null,isNaN(n)))return n;else return null};
cljs.reader.check=function check(low,n,high,msg){if(low<=n&&n<=high);else cljs.reader.reader_error.call(null,null,[cljs.core.str(msg),cljs.core.str(" Failed:  "),cljs.core.str(low),cljs.core.str("\x3c\x3d"),cljs.core.str(n),cljs.core.str("\x3c\x3d"),cljs.core.str(high)].join(""));return n};
cljs.reader.parse_and_validate_timestamp=function parse_and_validate_timestamp(s){var vec__20614=cljs.core.re_matches.call(null,cljs.reader.timestamp_regex,s);var _=cljs.core.nth.call(null,vec__20614,0,null);var years=cljs.core.nth.call(null,vec__20614,1,null);var months=cljs.core.nth.call(null,vec__20614,2,null);var days=cljs.core.nth.call(null,vec__20614,3,null);var hours=cljs.core.nth.call(null,vec__20614,4,null);var minutes=cljs.core.nth.call(null,vec__20614,5,null);var seconds=cljs.core.nth.call(null,
vec__20614,6,null);var fraction=cljs.core.nth.call(null,vec__20614,7,null);var offset_sign=cljs.core.nth.call(null,vec__20614,8,null);var offset_hours=cljs.core.nth.call(null,vec__20614,9,null);var offset_minutes=cljs.core.nth.call(null,vec__20614,10,null);var v=vec__20614;if(cljs.core.not.call(null,v))return cljs.reader.reader_error.call(null,null,[cljs.core.str("Unrecognized date/time syntax: "),cljs.core.str(s)].join(""));else{var years__$1=cljs.reader.parse_int.call(null,years);var months__$1=
function(){var or__3478__auto__=cljs.reader.parse_int.call(null,months);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return 1}();var days__$1=function(){var or__3478__auto__=cljs.reader.parse_int.call(null,days);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return 1}();var hours__$1=function(){var or__3478__auto__=cljs.reader.parse_int.call(null,hours);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return 0}();var minutes__$1=function(){var or__3478__auto__=
cljs.reader.parse_int.call(null,minutes);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return 0}();var seconds__$1=function(){var or__3478__auto__=cljs.reader.parse_int.call(null,seconds);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return 0}();var fraction__$1=function(){var or__3478__auto__=cljs.reader.parse_int.call(null,cljs.reader.zero_fill_right_and_truncate.call(null,fraction,3));if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return 0}();
var offset_sign__$1=cljs.core._EQ_.call(null,offset_sign,"-")?-1:1;var offset_hours__$1=function(){var or__3478__auto__=cljs.reader.parse_int.call(null,offset_hours);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return 0}();var offset_minutes__$1=function(){var or__3478__auto__=cljs.reader.parse_int.call(null,offset_minutes);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return 0}();var offset=offset_sign__$1*(offset_hours__$1*60+offset_minutes__$1);return new cljs.core.PersistentVector(null,
8,5,cljs.core.PersistentVector.EMPTY_NODE,[years__$1,cljs.reader.check.call(null,1,months__$1,12,"timestamp month field must be in range 1..12"),cljs.reader.check.call(null,1,days__$1,cljs.reader.days_in_month.call(null,months__$1,cljs.reader.leap_year_QMARK_.call(null,years__$1)),"timestamp day field must be in range 1..last day in month"),cljs.reader.check.call(null,0,hours__$1,23,"timestamp hour field must be in range 0..23"),cljs.reader.check.call(null,0,minutes__$1,59,"timestamp minute field must be in range 0..59"),
cljs.reader.check.call(null,0,seconds__$1,cljs.core._EQ_.call(null,minutes__$1,59)?60:59,"timestamp second field must be in range 0..60"),cljs.reader.check.call(null,0,fraction__$1,999,"timestamp millisecond field must be in range 0..999"),offset],null)}};
cljs.reader.parse_timestamp=function parse_timestamp(ts){var temp__4124__auto__=cljs.reader.parse_and_validate_timestamp.call(null,ts);if(cljs.core.truth_(temp__4124__auto__)){var vec__20616=temp__4124__auto__;var years=cljs.core.nth.call(null,vec__20616,0,null);var months=cljs.core.nth.call(null,vec__20616,1,null);var days=cljs.core.nth.call(null,vec__20616,2,null);var hours=cljs.core.nth.call(null,vec__20616,3,null);var minutes=cljs.core.nth.call(null,vec__20616,4,null);var seconds=cljs.core.nth.call(null,
vec__20616,5,null);var ms=cljs.core.nth.call(null,vec__20616,6,null);var offset=cljs.core.nth.call(null,vec__20616,7,null);return new Date(Date.UTC(years,months-1,days,hours,minutes,seconds,ms)-offset*60*1E3)}else return cljs.reader.reader_error.call(null,null,[cljs.core.str("Unrecognized date/time syntax: "),cljs.core.str(ts)].join(""))};
cljs.reader.read_date=function read_date(s){if(typeof s==="string")return cljs.reader.parse_timestamp.call(null,s);else return cljs.reader.reader_error.call(null,null,"Instance literal expects a string for its timestamp.")};cljs.reader.read_queue=function read_queue(elems){if(cljs.core.vector_QMARK_.call(null,elems))return cljs.core.into.call(null,cljs.core.PersistentQueue.EMPTY,elems);else return cljs.reader.reader_error.call(null,null,"Queue literal expects a vector for its elements.")};
cljs.reader.read_js=function read_js(form){if(cljs.core.vector_QMARK_.call(null,form)){var arr=[];var seq__20629_20641=cljs.core.seq.call(null,form);var chunk__20630_20642=null;var count__20631_20643=0;var i__20632_20644=0;while(true){if(i__20632_20644<count__20631_20643){var x_20645=cljs.core._nth.call(null,chunk__20630_20642,i__20632_20644);arr.push(x_20645);var G__20646=seq__20629_20641;var G__20647=chunk__20630_20642;var G__20648=count__20631_20643;var G__20649=i__20632_20644+1;seq__20629_20641=
G__20646;chunk__20630_20642=G__20647;count__20631_20643=G__20648;i__20632_20644=G__20649;continue}else{var temp__4126__auto___20650=cljs.core.seq.call(null,seq__20629_20641);if(temp__4126__auto___20650){var seq__20629_20651__$1=temp__4126__auto___20650;if(cljs.core.chunked_seq_QMARK_.call(null,seq__20629_20651__$1)){var c__4226__auto___20652=cljs.core.chunk_first.call(null,seq__20629_20651__$1);var G__20653=cljs.core.chunk_rest.call(null,seq__20629_20651__$1);var G__20654=c__4226__auto___20652;var G__20655=
cljs.core.count.call(null,c__4226__auto___20652);var G__20656=0;seq__20629_20641=G__20653;chunk__20630_20642=G__20654;count__20631_20643=G__20655;i__20632_20644=G__20656;continue}else{var x_20657=cljs.core.first.call(null,seq__20629_20651__$1);arr.push(x_20657);var G__20658=cljs.core.next.call(null,seq__20629_20651__$1);var G__20659=null;var G__20660=0;var G__20661=0;seq__20629_20641=G__20658;chunk__20630_20642=G__20659;count__20631_20643=G__20660;i__20632_20644=G__20661;continue}}else;}break}return arr}else if(cljs.core.map_QMARK_.call(null,
form)){var obj=function(){var obj20634={};return obj20634}();var seq__20635_20662=cljs.core.seq.call(null,form);var chunk__20636_20663=null;var count__20637_20664=0;var i__20638_20665=0;while(true){if(i__20638_20665<count__20637_20664){var vec__20639_20666=cljs.core._nth.call(null,chunk__20636_20663,i__20638_20665);var k_20667=cljs.core.nth.call(null,vec__20639_20666,0,null);var v_20668=cljs.core.nth.call(null,vec__20639_20666,1,null);obj[cljs.core.name.call(null,k_20667)]=v_20668;var G__20669=seq__20635_20662;
var G__20670=chunk__20636_20663;var G__20671=count__20637_20664;var G__20672=i__20638_20665+1;seq__20635_20662=G__20669;chunk__20636_20663=G__20670;count__20637_20664=G__20671;i__20638_20665=G__20672;continue}else{var temp__4126__auto___20673=cljs.core.seq.call(null,seq__20635_20662);if(temp__4126__auto___20673){var seq__20635_20674__$1=temp__4126__auto___20673;if(cljs.core.chunked_seq_QMARK_.call(null,seq__20635_20674__$1)){var c__4226__auto___20675=cljs.core.chunk_first.call(null,seq__20635_20674__$1);
var G__20676=cljs.core.chunk_rest.call(null,seq__20635_20674__$1);var G__20677=c__4226__auto___20675;var G__20678=cljs.core.count.call(null,c__4226__auto___20675);var G__20679=0;seq__20635_20662=G__20676;chunk__20636_20663=G__20677;count__20637_20664=G__20678;i__20638_20665=G__20679;continue}else{var vec__20640_20680=cljs.core.first.call(null,seq__20635_20674__$1);var k_20681=cljs.core.nth.call(null,vec__20640_20680,0,null);var v_20682=cljs.core.nth.call(null,vec__20640_20680,1,null);obj[cljs.core.name.call(null,
k_20681)]=v_20682;var G__20683=cljs.core.next.call(null,seq__20635_20674__$1);var G__20684=null;var G__20685=0;var G__20686=0;seq__20635_20662=G__20683;chunk__20636_20663=G__20684;count__20637_20664=G__20685;i__20638_20665=G__20686;continue}}else;}break}return obj}else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.reader.reader_error.call(null,null,[cljs.core.str("JS literal expects a vector or map containing "),cljs.core.str("only string or unqualified keyword keys")].join(""));
else return null};cljs.reader.read_uuid=function read_uuid(uuid){if(typeof uuid==="string")return new cljs.core.UUID(uuid);else return cljs.reader.reader_error.call(null,null,"UUID literal expects a string as its representation.")};cljs.reader._STAR_tag_table_STAR_=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,4,["inst",cljs.reader.read_date,"uuid",cljs.reader.read_uuid,"queue",cljs.reader.read_queue,"js",cljs.reader.read_js],null));
cljs.reader._STAR_default_data_reader_fn_STAR_=cljs.core.atom.call(null,null);
cljs.reader.maybe_read_tagged_type=function maybe_read_tagged_type(rdr,initch){var tag=cljs.reader.read_symbol.call(null,rdr,initch);var pfn=cljs.core.get.call(null,cljs.core.deref.call(null,cljs.reader._STAR_tag_table_STAR_),[cljs.core.str(tag)].join(""));var dfn=cljs.core.deref.call(null,cljs.reader._STAR_default_data_reader_fn_STAR_);if(cljs.core.truth_(pfn))return pfn.call(null,cljs.reader.read.call(null,rdr,true,null,false));else if(cljs.core.truth_(dfn))return dfn.call(null,tag,cljs.reader.read.call(null,
rdr,true,null,false));else if(new cljs.core.Keyword(null,"else","else",1017020587))return cljs.reader.reader_error.call(null,rdr,"Could not find tag parser for ",[cljs.core.str(tag)].join("")," in ",cljs.core.pr_str.call(null,cljs.core.keys.call(null,cljs.core.deref.call(null,cljs.reader._STAR_tag_table_STAR_))));else return null};
cljs.reader.register_tag_parser_BANG_=function register_tag_parser_BANG_(tag,f){var tag__$1=[cljs.core.str(tag)].join("");var old_parser=cljs.core.get.call(null,cljs.core.deref.call(null,cljs.reader._STAR_tag_table_STAR_),tag__$1);cljs.core.swap_BANG_.call(null,cljs.reader._STAR_tag_table_STAR_,cljs.core.assoc,tag__$1,f);return old_parser};
cljs.reader.deregister_tag_parser_BANG_=function deregister_tag_parser_BANG_(tag){var tag__$1=[cljs.core.str(tag)].join("");var old_parser=cljs.core.get.call(null,cljs.core.deref.call(null,cljs.reader._STAR_tag_table_STAR_),tag__$1);cljs.core.swap_BANG_.call(null,cljs.reader._STAR_tag_table_STAR_,cljs.core.dissoc,tag__$1);return old_parser};
cljs.reader.register_default_tag_parser_BANG_=function register_default_tag_parser_BANG_(f){var old_parser=cljs.core.deref.call(null,cljs.reader._STAR_default_data_reader_fn_STAR_);cljs.core.swap_BANG_.call(null,cljs.reader._STAR_default_data_reader_fn_STAR_,function(old_parser){return function(_){return f}}(old_parser));return old_parser};
cljs.reader.deregister_default_tag_parser_BANG_=function deregister_default_tag_parser_BANG_(){var old_parser=cljs.core.deref.call(null,cljs.reader._STAR_default_data_reader_fn_STAR_);cljs.core.swap_BANG_.call(null,cljs.reader._STAR_default_data_reader_fn_STAR_,function(old_parser){return function(_){return null}}(old_parser));return old_parser};goog.provide("figwheel.client");goog.require("cljs.core");goog.require("cljs.reader");goog.require("cljs.core.async");goog.require("clojure.string");goog.require("clojure.string");goog.require("cljs.core.async");goog.require("cljs.core.async");goog.require("cljs.reader");goog.require("goog.net.jsloader");goog.require("goog.net.jsloader");
figwheel.client.log=function(){var log__delegate=function(p__20324,args){var map__20326=p__20324;var map__20326__$1=cljs.core.seq_QMARK_.call(null,map__20326)?cljs.core.apply.call(null,cljs.core.hash_map,map__20326):map__20326;var debug=cljs.core.get.call(null,map__20326__$1,new cljs.core.Keyword(null,"debug","debug",1109363141));if(cljs.core.truth_(debug))return console.log(cljs.core.to_array.call(null,args));else return null};var log=function(p__20324,var_args){var args=null;if(arguments.length>
1)args=cljs.core.array_seq(Array.prototype.slice.call(arguments,1),0);return log__delegate.call(this,p__20324,args)};log.cljs$lang$maxFixedArity=1;log.cljs$lang$applyTo=function(arglist__20327){var p__20324=cljs.core.first(arglist__20327);var args=cljs.core.rest(arglist__20327);return log__delegate(p__20324,args)};log.cljs$core$IFn$_invoke$arity$variadic=log__delegate;return log}();
figwheel.client.reload_host=function reload_host(p__20328){var map__20330=p__20328;var map__20330__$1=cljs.core.seq_QMARK_.call(null,map__20330)?cljs.core.apply.call(null,cljs.core.hash_map,map__20330):map__20330;var websocket_url=cljs.core.get.call(null,map__20330__$1,new cljs.core.Keyword(null,"websocket-url","websocket-url",633671131));return cljs.core.first.call(null,clojure.string.split.call(null,clojure.string.replace_first.call(null,clojure.string.replace_first.call(null,websocket_url,/^ws:/,
""),/^\/\//,""),/\//))};figwheel.client.add_cache_buster=function add_cache_buster(url){return[cljs.core.str(url),cljs.core.str("?rel\x3d"),cljs.core.str((new Date).getTime())].join("")};
figwheel.client.js_reload=function js_reload(p__20331,callback){var map__20333=p__20331;var map__20333__$1=cljs.core.seq_QMARK_.call(null,map__20333)?cljs.core.apply.call(null,cljs.core.hash_map,map__20333):map__20333;var msg=map__20333__$1;var dependency_file=cljs.core.get.call(null,map__20333__$1,new cljs.core.Keyword(null,"dependency-file","dependency-file",2750516784));var namespace=cljs.core.get.call(null,map__20333__$1,new cljs.core.Keyword(null,"namespace","namespace",2266122445));var request_url=
cljs.core.get.call(null,map__20333__$1,new cljs.core.Keyword(null,"request-url","request-url",2162835619));if(cljs.core.truth_(function(){var or__3478__auto__=dependency_file;if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return goog.isProvided_(namespace)}()))return goog.net.jsloader.load(figwheel.client.add_cache_buster.call(null,request_url)).addCallback(function(map__20333,map__20333__$1,msg,dependency_file,namespace,request_url){return function(){return cljs.core.apply.call(null,
callback,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[msg],null))}}(map__20333,map__20333__$1,msg,dependency_file,namespace,request_url));else return cljs.core.apply.call(null,callback,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[msg],null))};
figwheel.client.reload_js_file=function reload_js_file(file_msg){var out=cljs.core.async.chan.call(null);figwheel.client.js_reload.call(null,file_msg,function(out){return function(url){cljs.core.async.put_BANG_.call(null,out,url);return cljs.core.async.close_BANG_.call(null,out)}}(out));return out};
figwheel.client.load_all_js_files=function load_all_js_files(files){return cljs.core.async.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.async.filter_LT_.call(null,cljs.core.identity,cljs.core.async.merge.call(null,cljs.core.mapv.call(null,figwheel.client.reload_js_file,files))))};
figwheel.client.add_request_url=function add_request_url(p__20334,p__20335){var map__20338=p__20334;var map__20338__$1=cljs.core.seq_QMARK_.call(null,map__20338)?cljs.core.apply.call(null,cljs.core.hash_map,map__20338):map__20338;var opts=map__20338__$1;var url_rewriter=cljs.core.get.call(null,map__20338__$1,new cljs.core.Keyword(null,"url-rewriter","url-rewriter",538861174));var map__20339=p__20335;var map__20339__$1=cljs.core.seq_QMARK_.call(null,map__20339)?cljs.core.apply.call(null,cljs.core.hash_map,
map__20339):map__20339;var d=map__20339__$1;var file=cljs.core.get.call(null,map__20339__$1,new cljs.core.Keyword(null,"file","file",1017047278));return cljs.core.assoc.call(null,d,new cljs.core.Keyword(null,"request-url","request-url",2162835619),url_rewriter.call(null,[cljs.core.str("//"),cljs.core.str(figwheel.client.reload_host.call(null,opts)),cljs.core.str(file)].join("")))};
figwheel.client.add_request_urls=function add_request_urls(opts,files){return cljs.core.map.call(null,cljs.core.partial.call(null,figwheel.client.add_request_url,opts),files)};
figwheel.client.reload_js_files=function reload_js_files(p__20340,p__20341){var map__20382=p__20340;var map__20382__$1=cljs.core.seq_QMARK_.call(null,map__20382)?cljs.core.apply.call(null,cljs.core.hash_map,map__20382):map__20382;var opts=map__20382__$1;var on_jsload=cljs.core.get.call(null,map__20382__$1,new cljs.core.Keyword(null,"on-jsload","on-jsload",817745103));var before_jsload=cljs.core.get.call(null,map__20382__$1,new cljs.core.Keyword(null,"before-jsload","before-jsload",3705046831));var map__20383=
p__20341;var map__20383__$1=cljs.core.seq_QMARK_.call(null,map__20383)?cljs.core.apply.call(null,cljs.core.hash_map,map__20383):map__20383;var files=cljs.core.get.call(null,map__20383__$1,new cljs.core.Keyword(null,"files","files",1111338473));var c__8124__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto__,map__20382,map__20382__$1,opts,on_jsload,before_jsload,map__20383,map__20383__$1,files){return function(){var f__8125__auto__=function(){var switch__8060__auto__=
function(c__8124__auto__,map__20382,map__20382__$1,opts,on_jsload,before_jsload,map__20383,map__20383__$1,files){return function(state_20405){var state_val_20406=state_20405[1];if(state_val_20406===6){var inst_20388=state_20405[7];var inst_20397=state_20405[2];var inst_20398=[inst_20388];var inst_20399=new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,inst_20398,null);var inst_20400=cljs.core.apply.call(null,on_jsload,inst_20399);var state_20405__$1=function(){var statearr_20407=
state_20405;statearr_20407[8]=inst_20397;return statearr_20407}();var statearr_20408_20422=state_20405__$1;statearr_20408_20422[2]=inst_20400;statearr_20408_20422[1]=5;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_20406===5){var inst_20403=state_20405[2];var state_20405__$1=state_20405;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_20405__$1,inst_20403)}else if(state_val_20406===4){var state_20405__$1=state_20405;var statearr_20409_20423=state_20405__$1;
statearr_20409_20423[2]=null;statearr_20409_20423[1]=5;return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_20406===3){var inst_20388=state_20405[7];var inst_20391=console.debug("Figwheel: loaded these files");var inst_20392=cljs.core.map.call(null,new cljs.core.Keyword(null,"file","file",1017047278),inst_20388);var inst_20393=cljs.core.prn_str.call(null,inst_20392);var inst_20394=console.log(inst_20393);var inst_20395=cljs.core.async.timeout.call(null,10);var state_20405__$1=
function(){var statearr_20410=state_20405;statearr_20410[9]=inst_20394;statearr_20410[10]=inst_20391;return statearr_20410}();return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_20405__$1,6,inst_20395)}else if(state_val_20406===2){var inst_20388=state_20405[7];var inst_20388__$1=state_20405[2];var inst_20389=cljs.core.not_empty.call(null,inst_20388__$1);var state_20405__$1=function(){var statearr_20411=state_20405;statearr_20411[7]=inst_20388__$1;return statearr_20411}();if(cljs.core.truth_(inst_20389)){var statearr_20412_20424=
state_20405__$1;statearr_20412_20424[1]=3}else{var statearr_20413_20425=state_20405__$1;statearr_20413_20425[1]=4}return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(state_val_20406===1){var inst_20384=before_jsload.call(null,files);var inst_20385=figwheel.client.add_request_urls.call(null,opts,files);var inst_20386=figwheel.client.load_all_js_files.call(null,inst_20385);var state_20405__$1=function(){var statearr_20414=state_20405;statearr_20414[11]=inst_20384;return statearr_20414}();
return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_20405__$1,2,inst_20386)}else return null}}(c__8124__auto__,map__20382,map__20382__$1,opts,on_jsload,before_jsload,map__20383,map__20383__$1,files);return function(switch__8060__auto__,c__8124__auto__,map__20382,map__20382__$1,opts,on_jsload,before_jsload,map__20383,map__20383__$1,files){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_20418=[null,null,null,null,null,
null,null,null,null,null,null,null];statearr_20418[0]=state_machine__8061__auto__;statearr_20418[1]=1;return statearr_20418};var state_machine__8061__auto____1=function(state_20405){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_20405);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e20419){if(e20419 instanceof
Object){var ex__8064__auto__=e20419;var statearr_20420_20426=state_20405;statearr_20420_20426[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_20405);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e20419;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__20427=state_20405;state_20405=
G__20427;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_20405){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_20405)}throw new Error("Invalid arity: "+arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,
c__8124__auto__,map__20382,map__20382__$1,opts,on_jsload,before_jsload,map__20383,map__20383__$1,files)}();var state__8126__auto__=function(){var statearr_20421=f__8125__auto__.call(null);statearr_20421[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto__;return statearr_20421}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto__,map__20382,map__20382__$1,opts,on_jsload,before_jsload,map__20383,map__20383__$1,files));return c__8124__auto__};
figwheel.client.current_links=function current_links(){return Array.prototype.slice.call(document.getElementsByTagName("link"))};
figwheel.client.truncate_url=function truncate_url(url){return clojure.string.replace_first.call(null,clojure.string.replace_first.call(null,clojure.string.replace_first.call(null,clojure.string.replace_first.call(null,clojure.string.replace_first.call(null,cljs.core.first.call(null,clojure.string.split.call(null,url,/\?/)),[cljs.core.str(location.protocol),cljs.core.str("//")].join(""),""),"http://",""),"https://",""),/^\/\//,""),/[^\\/]*/,"")};
figwheel.client.matches_file_QMARK_=function matches_file_QMARK_(p__20428,link_href){var map__20430=p__20428;var map__20430__$1=cljs.core.seq_QMARK_.call(null,map__20430)?cljs.core.apply.call(null,cljs.core.hash_map,map__20430):map__20430;var request_url=cljs.core.get.call(null,map__20430__$1,new cljs.core.Keyword(null,"request-url","request-url",2162835619));var file=cljs.core.get.call(null,map__20430__$1,new cljs.core.Keyword(null,"file","file",1017047278));var trunc_href=figwheel.client.truncate_url.call(null,
link_href);return cljs.core._EQ_.call(null,file,trunc_href)||cljs.core._EQ_.call(null,figwheel.client.truncate_url.call(null,request_url),trunc_href)};figwheel.client.get_correct_link=function get_correct_link(f_data){return cljs.core.some.call(null,function(l){if(figwheel.client.matches_file_QMARK_.call(null,f_data,l.href))return l;else return null},figwheel.client.current_links.call(null))};
figwheel.client.clone_link=function clone_link(link,url){var clone=document.createElement("link");clone.rel="stylesheet";clone.media=link.media;clone.disabled=link.disabled;clone.href=figwheel.client.add_cache_buster.call(null,url);return clone};figwheel.client.create_link=function create_link(url){var link=document.createElement("link");link.rel="stylesheet";link.href=figwheel.client.add_cache_buster.call(null,url);return link};
figwheel.client.add_link_to_doc=function(){var add_link_to_doc=null;var add_link_to_doc__1=function(new_link){return document.getElementsByTagName("head")[0].appendChild(new_link)};var add_link_to_doc__2=function(orig_link,klone){var parent=orig_link.parentNode;if(cljs.core._EQ_.call(null,orig_link,parent.lastChild))parent.appendChild(klone);else parent.insertBefore(klone,orig_link.nextSibling);var c__8124__auto__=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto__,
parent){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto__,parent){return function(state_20451){var state_val_20452=state_20451[1];if(state_val_20452===2){var inst_20448=state_20451[2];var inst_20449=parent.removeChild(orig_link);var state_20451__$1=function(){var statearr_20453=state_20451;statearr_20453[7]=inst_20448;return statearr_20453}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_20451__$1,inst_20449)}else if(state_val_20452===
1){var inst_20446=cljs.core.async.timeout.call(null,200);var state_20451__$1=state_20451;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_20451__$1,2,inst_20446)}else return null}}(c__8124__auto__,parent);return function(switch__8060__auto__,c__8124__auto__,parent){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_20457=[null,null,null,null,null,null,null,null];statearr_20457[0]=state_machine__8061__auto__;statearr_20457[1]=
1;return statearr_20457};var state_machine__8061__auto____1=function(state_20451){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=switch__8060__auto__.call(null,state_20451);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e20458){if(e20458 instanceof Object){var ex__8064__auto__=e20458;var statearr_20459_20461=state_20451;statearr_20459_20461[5]=
ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_20451);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,"else","else",1017020587))throw e20458;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__20462=state_20451;state_20451=G__20462;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=
function(state_20451){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_20451)}throw new Error("Invalid arity: "+arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto__,parent)}();var state__8126__auto__=
function(){var statearr_20460=f__8125__auto__.call(null);statearr_20460[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto__;return statearr_20460}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto__,parent));return c__8124__auto__};add_link_to_doc=function(orig_link,klone){switch(arguments.length){case 1:return add_link_to_doc__1.call(this,orig_link);case 2:return add_link_to_doc__2.call(this,orig_link,klone)}throw new Error("Invalid arity: "+
arguments.length);};add_link_to_doc.cljs$core$IFn$_invoke$arity$1=add_link_to_doc__1;add_link_to_doc.cljs$core$IFn$_invoke$arity$2=add_link_to_doc__2;return add_link_to_doc}();
figwheel.client.reload_css_file=function reload_css_file(p__20463){var map__20465=p__20463;var map__20465__$1=cljs.core.seq_QMARK_.call(null,map__20465)?cljs.core.apply.call(null,cljs.core.hash_map,map__20465):map__20465;var f_data=map__20465__$1;var request_url=cljs.core.get.call(null,map__20465__$1,new cljs.core.Keyword(null,"request-url","request-url",2162835619));var file=cljs.core.get.call(null,map__20465__$1,new cljs.core.Keyword(null,"file","file",1017047278));var temp__4124__auto__=figwheel.client.get_correct_link.call(null,
f_data);if(cljs.core.truth_(temp__4124__auto__)){var link=temp__4124__auto__;return figwheel.client.add_link_to_doc.call(null,link,figwheel.client.clone_link.call(null,link,request_url))}else return figwheel.client.add_link_to_doc.call(null,figwheel.client.create_link.call(null,request_url))};
figwheel.client.reload_css_files=function reload_css_files(p__20466,files_msg){var map__20488=p__20466;var map__20488__$1=cljs.core.seq_QMARK_.call(null,map__20488)?cljs.core.apply.call(null,cljs.core.hash_map,map__20488):map__20488;var opts=map__20488__$1;var on_cssload=cljs.core.get.call(null,map__20488__$1,new cljs.core.Keyword(null,"on-cssload","on-cssload",1611735789));var seq__20489_20509=cljs.core.seq.call(null,figwheel.client.add_request_urls.call(null,opts,(new cljs.core.Keyword(null,"files",
"files",1111338473)).cljs$core$IFn$_invoke$arity$1(files_msg)));var chunk__20490_20510=null;var count__20491_20511=0;var i__20492_20512=0;while(true){if(i__20492_20512<count__20491_20511){var f_20513=cljs.core._nth.call(null,chunk__20490_20510,i__20492_20512);figwheel.client.reload_css_file.call(null,f_20513);var G__20514=seq__20489_20509;var G__20515=chunk__20490_20510;var G__20516=count__20491_20511;var G__20517=i__20492_20512+1;seq__20489_20509=G__20514;chunk__20490_20510=G__20515;count__20491_20511=
G__20516;i__20492_20512=G__20517;continue}else{var temp__4126__auto___20518=cljs.core.seq.call(null,seq__20489_20509);if(temp__4126__auto___20518){var seq__20489_20519__$1=temp__4126__auto___20518;if(cljs.core.chunked_seq_QMARK_.call(null,seq__20489_20519__$1)){var c__4226__auto___20520=cljs.core.chunk_first.call(null,seq__20489_20519__$1);var G__20521=cljs.core.chunk_rest.call(null,seq__20489_20519__$1);var G__20522=c__4226__auto___20520;var G__20523=cljs.core.count.call(null,c__4226__auto___20520);
var G__20524=0;seq__20489_20509=G__20521;chunk__20490_20510=G__20522;count__20491_20511=G__20523;i__20492_20512=G__20524;continue}else{var f_20525=cljs.core.first.call(null,seq__20489_20519__$1);figwheel.client.reload_css_file.call(null,f_20525);var G__20526=cljs.core.next.call(null,seq__20489_20519__$1);var G__20527=null;var G__20528=0;var G__20529=0;seq__20489_20509=G__20526;chunk__20490_20510=G__20527;count__20491_20511=G__20528;i__20492_20512=G__20529;continue}}else;}break}var c__8124__auto__=
cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(c__8124__auto__,map__20488,map__20488__$1,opts,on_cssload){return function(){var f__8125__auto__=function(){var switch__8060__auto__=function(c__8124__auto__,map__20488,map__20488__$1,opts,on_cssload){return function(state_20499){var state_val_20500=state_20499[1];if(state_val_20500===2){var inst_20495=state_20499[2];var inst_20496=(new cljs.core.Keyword(null,"files","files",1111338473)).cljs$core$IFn$_invoke$arity$1(files_msg);
var inst_20497=on_cssload.call(null,inst_20496);var state_20499__$1=function(){var statearr_20501=state_20499;statearr_20501[7]=inst_20495;return statearr_20501}();return cljs.core.async.impl.ioc_helpers.return_chan.call(null,state_20499__$1,inst_20497)}else if(state_val_20500===1){var inst_20493=cljs.core.async.timeout.call(null,100);var state_20499__$1=state_20499;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,state_20499__$1,2,inst_20493)}else return null}}(c__8124__auto__,map__20488,
map__20488__$1,opts,on_cssload);return function(switch__8060__auto__,c__8124__auto__,map__20488,map__20488__$1,opts,on_cssload){return function(){var state_machine__8061__auto__=null;var state_machine__8061__auto____0=function(){var statearr_20505=[null,null,null,null,null,null,null,null];statearr_20505[0]=state_machine__8061__auto__;statearr_20505[1]=1;return statearr_20505};var state_machine__8061__auto____1=function(state_20499){while(true){var ret_value__8062__auto__=function(){try{while(true){var result__8063__auto__=
switch__8060__auto__.call(null,state_20499);if(cljs.core.keyword_identical_QMARK_.call(null,result__8063__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407)))continue;else return result__8063__auto__;break}}catch(e20506){if(e20506 instanceof Object){var ex__8064__auto__=e20506;var statearr_20507_20530=state_20499;statearr_20507_20530[5]=ex__8064__auto__;cljs.core.async.impl.ioc_helpers.process_exception.call(null,state_20499);return new cljs.core.Keyword(null,"recur","recur",1122293407)}else if(new cljs.core.Keyword(null,
"else","else",1017020587))throw e20506;else return null}}();if(cljs.core.keyword_identical_QMARK_.call(null,ret_value__8062__auto__,new cljs.core.Keyword(null,"recur","recur",1122293407))){var G__20531=state_20499;state_20499=G__20531;continue}else return ret_value__8062__auto__;break}};state_machine__8061__auto__=function(state_20499){switch(arguments.length){case 0:return state_machine__8061__auto____0.call(this);case 1:return state_machine__8061__auto____1.call(this,state_20499)}throw new Error("Invalid arity: "+
arguments.length);};state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$0=state_machine__8061__auto____0;state_machine__8061__auto__.cljs$core$IFn$_invoke$arity$1=state_machine__8061__auto____1;return state_machine__8061__auto__}()}(switch__8060__auto__,c__8124__auto__,map__20488,map__20488__$1,opts,on_cssload)}();var state__8126__auto__=function(){var statearr_20508=f__8125__auto__.call(null);statearr_20508[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c__8124__auto__;return statearr_20508}();
return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,state__8126__auto__)}}(c__8124__auto__,map__20488,map__20488__$1,opts,on_cssload));return c__8124__auto__};figwheel.client.compile_failed=function compile_failed(fail_msg,compile_fail_callback){return compile_fail_callback.call(null,cljs.core.dissoc.call(null,fail_msg,new cljs.core.Keyword(null,"msg-name","msg-name",3979112649)))};
figwheel.client.figwheel_closure_import_script=function figwheel_closure_import_script(src){if(cljs.core.truth_(goog.inHtmlDocument_())){goog.net.jsloader.load(figwheel.client.add_cache_buster.call(null,src));return true}else return false};figwheel.client.patch_goog_base=function patch_goog_base(){goog.provide=goog.exportPath_;return goog.global.CLOSURE_IMPORT_SCRIPT=figwheel.client.figwheel_closure_import_script};
figwheel.client.watch_and_reload_STAR_=function watch_and_reload_STAR_(p__20532){var map__20537=p__20532;var map__20537__$1=cljs.core.seq_QMARK_.call(null,map__20537)?cljs.core.apply.call(null,cljs.core.hash_map,map__20537):map__20537;var opts=map__20537__$1;var on_compile_fail=cljs.core.get.call(null,map__20537__$1,new cljs.core.Keyword(null,"on-compile-fail","on-compile-fail",846779160));var jsload_callback=cljs.core.get.call(null,map__20537__$1,new cljs.core.Keyword(null,"jsload-callback","jsload-callback",
3126035989));var websocket_url=cljs.core.get.call(null,map__20537__$1,new cljs.core.Keyword(null,"websocket-url","websocket-url",633671131));var retry_count=cljs.core.get.call(null,map__20537__$1,new cljs.core.Keyword(null,"retry-count","retry-count",2949373212));console.debug("Figwheel: trying to open cljs reload socket");var socket=new WebSocket(websocket_url);socket.onmessage=function(socket,map__20537,map__20537__$1,opts,on_compile_fail,jsload_callback,websocket_url,retry_count){return function(msg_str){var msg=
cljs.reader.read_string.call(null,msg_str.data);var pred__20538=cljs.core._EQ_;var expr__20539=(new cljs.core.Keyword(null,"msg-name","msg-name",3979112649)).cljs$core$IFn$_invoke$arity$1(msg);if(cljs.core.truth_(pred__20538.call(null,new cljs.core.Keyword(null,"files-changed","files-changed",2807270608),expr__20539)))return figwheel.client.reload_js_files.call(null,opts,msg);else if(cljs.core.truth_(pred__20538.call(null,new cljs.core.Keyword(null,"css-files-changed","css-files-changed",1058553478),
expr__20539)))return figwheel.client.reload_css_files.call(null,opts,msg);else if(cljs.core.truth_(pred__20538.call(null,new cljs.core.Keyword(null,"compile-failed","compile-failed",630802569),expr__20539)))return figwheel.client.compile_failed.call(null,msg,on_compile_fail);else return null}}(socket,map__20537,map__20537__$1,opts,on_compile_fail,jsload_callback,websocket_url,retry_count);socket.onopen=function(socket,map__20537,map__20537__$1,opts,on_compile_fail,jsload_callback,websocket_url,retry_count){return function(x){figwheel.client.patch_goog_base.call(null);
return console.debug("Figwheel: socket connection established")}}(socket,map__20537,map__20537__$1,opts,on_compile_fail,jsload_callback,websocket_url,retry_count);socket.onclose=function(socket,map__20537,map__20537__$1,opts,on_compile_fail,jsload_callback,websocket_url,retry_count){return function(x){figwheel.client.log.call(null,opts,"Figwheel: socket closed or failed to open");if(retry_count>0)return window.setTimeout(function(socket,map__20537,map__20537__$1,opts,on_compile_fail,jsload_callback,
websocket_url,retry_count){return function(){return watch_and_reload_STAR_.call(null,cljs.core.assoc.call(null,opts,new cljs.core.Keyword(null,"retry-count","retry-count",2949373212),retry_count-1))}}(socket,map__20537,map__20537__$1,opts,on_compile_fail,jsload_callback,websocket_url,retry_count),2E3);else return null}}(socket,map__20537,map__20537__$1,opts,on_compile_fail,jsload_callback,websocket_url,retry_count);return socket.onerror=function(socket,map__20537,map__20537__$1,opts,on_compile_fail,
jsload_callback,websocket_url,retry_count){return function(x){return figwheel.client.log.call(null,opts,"Figwheel: socket error ")}}(socket,map__20537,map__20537__$1,opts,on_compile_fail,jsload_callback,websocket_url,retry_count)};figwheel.client.default_on_jsload=function default_on_jsload(url){return document.querySelector("body").dispatchEvent(new CustomEvent("figwheel.js-reload",function(){var obj20544={"detail":url};return obj20544}()))};
figwheel.client.get_essential_messages=function get_essential_messages(ed){if(cljs.core.truth_(ed))return cljs.core.cons.call(null,cljs.core.select_keys.call(null,ed,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"message","message",1968829305),new cljs.core.Keyword(null,"class","class",1108647146)],null)),get_essential_messages.call(null,(new cljs.core.Keyword(null,"cause","cause",1108338651)).cljs$core$IFn$_invoke$arity$1(ed)));else return null};
figwheel.client.error_msg_format=function error_msg_format(p__20545){var map__20547=p__20545;var map__20547__$1=cljs.core.seq_QMARK_.call(null,map__20547)?cljs.core.apply.call(null,cljs.core.hash_map,map__20547):map__20547;var class$=cljs.core.get.call(null,map__20547__$1,new cljs.core.Keyword(null,"class","class",1108647146));var message=cljs.core.get.call(null,map__20547__$1,new cljs.core.Keyword(null,"message","message",1968829305));return[cljs.core.str(class$),cljs.core.str(" : "),cljs.core.str(message)].join("")};
figwheel.client.format_messages=cljs.core.comp.call(null,cljs.core.partial.call(null,cljs.core.map,figwheel.client.error_msg_format),figwheel.client.get_essential_messages);
figwheel.client.default_on_compile_fail=function default_on_compile_fail(p__20548){var map__20554=p__20548;var map__20554__$1=cljs.core.seq_QMARK_.call(null,map__20554)?cljs.core.apply.call(null,cljs.core.hash_map,map__20554):map__20554;var ed=map__20554__$1;var exception_data=cljs.core.get.call(null,map__20554__$1,new cljs.core.Keyword(null,"exception-data","exception-data",922291674));var formatted_exception=cljs.core.get.call(null,map__20554__$1,new cljs.core.Keyword(null,"formatted-exception",
"formatted-exception",1408867312));console.debug("Figwheel: Compile Exception");var seq__20555_20559=cljs.core.seq.call(null,figwheel.client.format_messages.call(null,exception_data));var chunk__20556_20560=null;var count__20557_20561=0;var i__20558_20562=0;while(true){if(i__20558_20562<count__20557_20561){var msg_20563=cljs.core._nth.call(null,chunk__20556_20560,i__20558_20562);console.log(msg_20563);var G__20564=seq__20555_20559;var G__20565=chunk__20556_20560;var G__20566=count__20557_20561;var G__20567=
i__20558_20562+1;seq__20555_20559=G__20564;chunk__20556_20560=G__20565;count__20557_20561=G__20566;i__20558_20562=G__20567;continue}else{var temp__4126__auto___20568=cljs.core.seq.call(null,seq__20555_20559);if(temp__4126__auto___20568){var seq__20555_20569__$1=temp__4126__auto___20568;if(cljs.core.chunked_seq_QMARK_.call(null,seq__20555_20569__$1)){var c__4226__auto___20570=cljs.core.chunk_first.call(null,seq__20555_20569__$1);var G__20571=cljs.core.chunk_rest.call(null,seq__20555_20569__$1);var G__20572=
c__4226__auto___20570;var G__20573=cljs.core.count.call(null,c__4226__auto___20570);var G__20574=0;seq__20555_20559=G__20571;chunk__20556_20560=G__20572;count__20557_20561=G__20573;i__20558_20562=G__20574;continue}else{var msg_20575=cljs.core.first.call(null,seq__20555_20569__$1);console.log(msg_20575);var G__20576=cljs.core.next.call(null,seq__20555_20569__$1);var G__20577=null;var G__20578=0;var G__20579=0;seq__20555_20559=G__20576;chunk__20556_20560=G__20577;count__20557_20561=G__20578;i__20558_20562=
G__20579;continue}}else;}break}return ed};figwheel.client.default_before_load=function default_before_load(files){console.debug("Figwheel: loading files");return files};figwheel.client.default_on_cssload=function default_on_cssload(files){console.debug("Figwheel: loaded CSS files");console.log(cljs.core.prn_str.call(null,cljs.core.map.call(null,new cljs.core.Keyword(null,"file","file",1017047278),files)));return files};
figwheel.client.watch_and_reload_with_opts=function watch_and_reload_with_opts(opts){if(cljs.core.truth_(figwheel.client.hasOwnProperty("watch_and_reload_singleton")))return null;else figwheel.client.watch_and_reload_singleton=figwheel.client.watch_and_reload_STAR_.call(null,cljs.core.merge.call(null,new cljs.core.PersistentArrayMap(null,8,[new cljs.core.Keyword(null,"retry-count","retry-count",2949373212),100,new cljs.core.Keyword(null,"jsload-callback","jsload-callback",3126035989),figwheel.client.default_on_jsload,
new cljs.core.Keyword(null,"on-jsload","on-jsload",817745103),function(){var or__3478__auto__=(new cljs.core.Keyword(null,"jsload-callback","jsload-callback",3126035989)).cljs$core$IFn$_invoke$arity$1(opts);if(cljs.core.truth_(or__3478__auto__))return or__3478__auto__;else return figwheel.client.default_on_jsload}(),new cljs.core.Keyword(null,"on-cssload","on-cssload",1611735789),figwheel.client.default_on_cssload,new cljs.core.Keyword(null,"before-jsload","before-jsload",3705046831),figwheel.client.default_before_load,
new cljs.core.Keyword(null,"on-compile-fail","on-compile-fail",846779160),figwheel.client.default_on_compile_fail,new cljs.core.Keyword(null,"url-rewriter","url-rewriter",538861174),cljs.core.identity,new cljs.core.Keyword(null,"websocket-url","websocket-url",633671131),[cljs.core.str("ws://"),cljs.core.str(location.host),cljs.core.str("/figwheel-ws")].join("")],null),opts))};
figwheel.client.watch_and_reload=function(){var watch_and_reload__delegate=function(p__20580){var map__20582=p__20580;var map__20582__$1=cljs.core.seq_QMARK_.call(null,map__20582)?cljs.core.apply.call(null,cljs.core.hash_map,map__20582):map__20582;var opts=map__20582__$1;return figwheel.client.watch_and_reload_with_opts.call(null,opts)};var watch_and_reload=function(var_args){var p__20580=null;if(arguments.length>0)p__20580=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return watch_and_reload__delegate.call(this,
p__20580)};watch_and_reload.cljs$lang$maxFixedArity=0;watch_and_reload.cljs$lang$applyTo=function(arglist__20583){var p__20580=cljs.core.seq(arglist__20583);return watch_and_reload__delegate(p__20580)};watch_and_reload.cljs$core$IFn$_invoke$arity$variadic=watch_and_reload__delegate;return watch_and_reload}();goog.provide("kioo.reagent");goog.require("cljs.core");goog.require("kioo.util");goog.require("reagent.impl.template");goog.require("reagent.impl.template");goog.require("kioo.util");goog.require("kioo.util");goog.require("kioo.core");goog.require("kioo.core");
kioo.reagent.make_dom=function make_dom(node){var rnode=cljs.core.map_QMARK_.call(null,node)?function(){var c=(new cljs.core.Keyword(null,"content","content",1965434859)).cljs$core$IFn$_invoke$arity$1(node);if(cljs.core.vector_QMARK_.call(null,c))return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[(new cljs.core.Keyword(null,"tag","tag",1014018828)).cljs$core$IFn$_invoke$arity$1(node),(new cljs.core.Keyword(null,"attrs","attrs",1107056660)).cljs$core$IFn$_invoke$arity$1(node),
reagent.impl.template.as_component.call(null,c)],null);else if(cljs.core.seq_QMARK_.call(null,c))return cljs.core.reduce.call(null,function(c){return function(p1__23422_SHARP_,p2__23423_SHARP_){return cljs.core.conj.call(null,p1__23422_SHARP_,reagent.impl.template.as_component.call(null,p2__23423_SHARP_))}}(c),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[(new cljs.core.Keyword(null,"tag","tag",1014018828)).cljs$core$IFn$_invoke$arity$1(node),(new cljs.core.Keyword(null,
"attrs","attrs",1107056660)).cljs$core$IFn$_invoke$arity$1(node)],null),c);else if(new cljs.core.Keyword(null,"else","else",1017020587))return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[(new cljs.core.Keyword(null,"tag","tag",1014018828)).cljs$core$IFn$_invoke$arity$1(node),(new cljs.core.Keyword(null,"attrs","attrs",1107056660)).cljs$core$IFn$_invoke$arity$1(node),c],null);else return null}():node;return reagent.impl.template.as_component.call(null,rnode)};
kioo.reagent.content=kioo.core.content;kioo.reagent.append=kioo.core.append;kioo.reagent.prepend=kioo.core.prepend;
kioo.reagent.after=function(){var after__delegate=function(body){return function(node){return cljs.core.conj.call(null,body,node)}};var after=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return after__delegate.call(this,body)};after.cljs$lang$maxFixedArity=0;after.cljs$lang$applyTo=function(arglist__23424){var body=cljs.core.seq(arglist__23424);return after__delegate(body)};after.cljs$core$IFn$_invoke$arity$variadic=after__delegate;
return after}();
kioo.reagent.before=function(){var before__delegate=function(body){return function(node){return cljs.core.reduce.call(null,function(p1__23425_SHARP_,p2__23426_SHARP_){return cljs.core.conj.call(null,p1__23425_SHARP_,p2__23426_SHARP_)},cljs.core._conj.call(null,cljs.core.List.EMPTY,node),body)}};var before=function(var_args){var body=null;if(arguments.length>0)body=cljs.core.array_seq(Array.prototype.slice.call(arguments,0),0);return before__delegate.call(this,body)};before.cljs$lang$maxFixedArity=0;
before.cljs$lang$applyTo=function(arglist__23427){var body=cljs.core.seq(arglist__23427);return before__delegate(body)};before.cljs$core$IFn$_invoke$arity$variadic=before__delegate;return before}();kioo.reagent.substitute=kioo.core.substitute;kioo.reagent.set_attr=kioo.core.set_attr;kioo.reagent.remove_attr=kioo.core.remove_attr;kioo.reagent.do__GT_=kioo.core.do__GT_;kioo.reagent.set_style=kioo.core.set_style;kioo.reagent.remove_style=kioo.core.remove_style;kioo.reagent.set_class=kioo.core.set_class;
kioo.reagent.add_class=kioo.core.add_class;kioo.reagent.remove_class=kioo.core.remove_class;kioo.reagent.wrap=function wrap(tag,attrs){return function(node){return new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"tag","tag",1014018828),tag,new cljs.core.Keyword(null,"attrs","attrs",1107056660),attrs,new cljs.core.Keyword(null,"content","content",1965434859),kioo.reagent.make_dom.call(null,node)],null)}};kioo.reagent.unwrap=kioo.core.unwrap;kioo.reagent.html=kioo.core.html;
kioo.reagent.html_content=kioo.core.html_content;kioo.reagent.listen=kioo.core.listen;kioo.reagent.lifecycle=kioo.core.lifecycle;goog.provide("booker.core");goog.require("cljs.core");goog.require("kioo.core");goog.require("reagent.core");goog.require("reagent.core");goog.require("reagent.core");goog.require("kioo.reagent");goog.require("kioo.reagent");goog.require("kioo.core");goog.require("figwheel.client");goog.require("figwheel.client");cljs.core.enable_console_print_BANG_.call(null);booker.core.kerlog=function kerlog(thing){console.log(cljs.core.clj__GT_js.call(null,thing));return thing};
booker.core.register_component_if_present=function register_component_if_present(component_fn,el_id){var temp__4124__auto__=document.getElementById(el_id);if(cljs.core.truth_(temp__4124__auto__)){var el=temp__4124__auto__;return reagent.core.render_component.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[component_fn],null),el)}else return null};
booker.core.cities=new cljs.core.PersistentVector(null,12,5,cljs.core.PersistentVector.EMPTY_NODE,["New York","Istanbul","Kuala Lumpur","Bangkok","Krakow","Vienna","Paris","Milan","Rome","Bratislava","Wroclaw","Vancouver"],null);
booker.core.city_rotate=function city_rotate(){var city_name=reagent.core.atom.call(null,"Vancouver");return function(city_name){return function(){setTimeout(function(city_name){return function(){return cljs.core.swap_BANG_.call(null,city_name,function(city_name){return function(){return cljs.core.rand_nth.call(null,booker.core.cities)}}(city_name))}}(city_name),5E3);return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"span","span",1017440956),
cljs.core.deref.call(null,city_name)],null)}}(city_name)};booker.core.register_component_if_present.call(null,booker.core.city_rotate,"city-name");
booker.core.city_select=function city_select(input_name){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"select","select",4402849902),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"name","name",1017277949),input_name],null),cljs.core.map.call(null,function(city){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"option","option",4298734567),new cljs.core.PersistentArrayMap(null,
1,[new cljs.core.Keyword(null,"value","value",1125876963),city],null),city],null)},booker.core.cities)],null)};
booker.core.splash_inputs=function splash_inputs(){var ch18780=kioo.util.flatten_nodes.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.apply.call(null,React.DOM.div,cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"style","style",1123684643),null,new cljs.core.Keyword(null,"id","id",1013907597),"inputs"],null)),kioo.util.flatten_nodes.call(null,kioo.util.flatten_nodes.call(null,new cljs.core.PersistentVector(null,
3,5,cljs.core.PersistentVector.EMPTY_NODE,["\n            ",kioo.core.handle_wrapper.call(null,kioo.reagent.make_dom).call(null,kioo.reagent.set_attr.call(null,"action","/search").call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"tag","tag",1014018828),new cljs.core.Keyword(null,"form","form",1017053238),new cljs.core.Keyword(null,"attrs","attrs",1107056660),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"style","style",1123684643),null],null),new cljs.core.Keyword(null,
"content","content",1965434859),kioo.util.flatten_nodes.call(null,new cljs.core.PersistentVector(null,7,5,cljs.core.PersistentVector.EMPTY_NODE,["\n              ",cljs.core.apply.call(null,React.DOM.div,cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"style","style",1123684643),null,new cljs.core.Keyword(null,"className","className",1004015509),"six columns"],null)),kioo.util.flatten_nodes.call(null,kioo.util.flatten_nodes.call(null,new cljs.core.PersistentVector(null,
5,5,cljs.core.PersistentVector.EMPTY_NODE,["\n                ",cljs.core.apply.call(null,React.DOM.label,cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"style","style",1123684643),null],null)),kioo.util.flatten_nodes.call(null,kioo.util.flatten_nodes.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,["I'm going to"],null)))),"\n                ",kioo.core.handle_wrapper.call(null,kioo.reagent.make_dom).call(null,
kioo.reagent.substitute.call(null,booker.core.city_select.call(null,"destination")).call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"tag","tag",1014018828),new cljs.core.Keyword(null,"select","select",4402849902),new cljs.core.Keyword(null,"attrs","attrs",1107056660),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"style","style",1123684643),null,new cljs.core.Keyword(null,"className","className",1004015509),"destination",new cljs.core.Keyword(null,
"name","name",1017277949),"destination"],null),new cljs.core.Keyword(null,"content","content",1965434859),kioo.util.flatten_nodes.call(null,cljs.core.PersistentVector.EMPTY)],null))),"\n              "],null)))),"\n              ",cljs.core.apply.call(null,React.DOM.div,cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"style","style",1123684643),null,new cljs.core.Keyword(null,"className","className",1004015509),"six columns"],null)),kioo.util.flatten_nodes.call(null,
kioo.util.flatten_nodes.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,["\n                ",cljs.core.apply.call(null,React.DOM.label,cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"style","style",1123684643),null],null)),kioo.util.flatten_nodes.call(null,kioo.util.flatten_nodes.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,["on"],null)))),"\n                ",cljs.core.apply.call(null,
React.DOM.input,cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"style","style",1123684643),null,new cljs.core.Keyword(null,"className","className",1004015509),"date",new cljs.core.Keyword(null,"name","name",1017277949),"date",new cljs.core.Keyword(null,"type","type",1017479852),"date"],null)),kioo.util.flatten_nodes.call(null,kioo.util.flatten_nodes.call(null,cljs.core.PersistentVector.EMPTY))),"\n              "],null)))),"\n              ",cljs.core.apply.call(null,
React.DOM.div,cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"style","style",1123684643),null,new cljs.core.Keyword(null,"className","className",1004015509),"four columns btn"],null)),kioo.util.flatten_nodes.call(null,kioo.util.flatten_nodes.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,["\n                ",cljs.core.apply.call(null,React.DOM.button,cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null,
3,[new cljs.core.Keyword(null,"style","style",1123684643),null,new cljs.core.Keyword(null,"className","className",1004015509),"button submit",new cljs.core.Keyword(null,"href","href",1017115293),"#"],null)),kioo.util.flatten_nodes.call(null,kioo.util.flatten_nodes.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,["Meet Someone New"],null)))),"\n              "],null)))),"\n            "],null))],null))),"\n          "],null))))],null));if(cljs.core._EQ_.call(null,
1,cljs.core.count.call(null,ch18780)))return cljs.core.first.call(null,ch18780);else return cljs.core.apply.call(null,React.DOM.span,null,ch18780)};booker.core.register_component_if_present.call(null,booker.core.splash_inputs,"inputs-row");booker.core.init_datepicker=function init_datepicker(el){el.setAttribute("type","text");return new Pikaday(function(){var obj18784={"field":el,"format":"YYYY-MM-DD"};return obj18784}())};
booker.core.els_by_tag=function els_by_tag(tag){var els=document.getElementsByTagName("input");return cljs.core.map.call(null,function(els){return function(p1__18785_SHARP_){return els.item(p1__18785_SHARP_)}}(els),cljs.core.range.call(null,els.length))};cljs.core.doall.call(null,cljs.core.map.call(null,booker.core.init_datepicker,cljs.core.filter.call(null,function(p1__18786_SHARP_){return cljs.core._EQ_.call(null,p1__18786_SHARP_.getAttribute("type"),"date")},booker.core.els_by_tag.call(null,"input"))));